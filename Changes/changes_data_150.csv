id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpython-zunclient~master~If79590fd1f390ad44aa96041240a09b3646f11bd,openstack/python-zunclient,master,If79590fd1f390ad44aa96041240a09b3646f11bd,remove unicode from code,MERGED,2021-01-03 08:29:53.000000000,2021-08-29 06:52:25.000000000,2021-08-29 06:50:21.000000000,"[{'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-03 08:29:53.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/bbc32db6f4816edaa76f3ff742e6bee01e5d76fe', 'message': 'remove unicode from code\n\nChange-Id: If79590fd1f390ad44aa96041240a09b3646f11bd\n'}]",0,769028,bbc32db6f4816edaa76f3ff742e6bee01e5d76fe,9,4,1,30384,,,0,"remove unicode from code

Change-Id: If79590fd1f390ad44aa96041240a09b3646f11bd
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/28/769028/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,bbc32db6f4816edaa76f3ff742e6bee01e5d76fe,,"copyright = '2016, OpenStack Foundation' ('index', 'GlanceReleaseNotes.tex', 'Glance Release Notes Documentation', 'Glance Developers', 'manual'), ('index', 'glancereleasenotes', 'Glance Release Notes Documentation', ['Glance Developers'], 1) ('index', 'GlanceReleaseNotes', 'Glance Release Notes Documentation', 'Glance Developers', 'GlanceReleaseNotes',","copyright = u'2016, OpenStack Foundation' ('index', 'GlanceReleaseNotes.tex', u'Glance Release Notes Documentation', u'Glance Developers', 'manual'), ('index', 'glancereleasenotes', u'Glance Release Notes Documentation', [u'Glance Developers'], 1) ('index', 'GlanceReleaseNotes', u'Glance Release Notes Documentation', u'Glance Developers', 'GlanceReleaseNotes',",10,10
openstack%2Fneutron~master~Icb507681578dbb50128aaf017bd598d98c26a6d4,openstack/neutron,master,Icb507681578dbb50128aaf017bd598d98c26a6d4,Use more pythonic approach,MERGED,2021-08-26 01:04:33.000000000,2021-08-29 03:58:46.000000000,2021-08-26 16:09:54.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 01:04:33.000000000', 'files': ['neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/701214481ff1df13b188d7826b44a1c8b51227ea', 'message': 'Use more pythonic approach\n\nSome functional and unit tests uses range and len built-in functions to iterate\nover items. Those can be replaced by enumerate which makes the code more\nreadable.\n\nChange-Id: Icb507681578dbb50128aaf017bd598d98c26a6d4\n'}]",0,806065,701214481ff1df13b188d7826b44a1c8b51227ea,11,4,1,8726,,,0,"Use more pythonic approach

Some functional and unit tests uses range and len built-in functions to iterate
over items. Those can be replaced by enumerate which makes the code more
readable.

Change-Id: Icb507681578dbb50128aaf017bd598d98c26a6d4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/806065/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py']",3,701214481ff1df13b188d7826b44a1c8b51227ea,," for i, ns in enumerate(self.ns): priv_ip_lib.create_netns(ns) self.addCleanup(self._remove_ns, ns) ip_wrapper = ip_lib.IPWrapper(ns) ip_device = ip_lib.IPDevice(self.device[i], ns) ip_device_vxlan = ip_lib.IPDevice(self.device_vxlan[i], ns)"," for i in range(len(self.ns)): priv_ip_lib.create_netns(self.ns[i]) self.addCleanup(self._remove_ns, self.ns[i]) ip_wrapper = ip_lib.IPWrapper(self.ns[i]) ip_device = ip_lib.IPDevice(self.device[i], self.ns[i]) ip_device_vxlan = ip_lib.IPDevice(self.device_vxlan[i], self.ns[i])",10,10
openstack%2Fcinder~master~I7164d700ef56a29e5d4f707fd2340e621bd6f351,openstack/cinder,master,I7164d700ef56a29e5d4f707fd2340e621bd6f351,Fix notifications of migration temp volume,MERGED,2021-04-15 10:03:07.000000000,2021-08-29 03:21:19.000000000,2021-08-26 21:58:07.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-04-15 10:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e9f2302a5f6be931ff730ef126798eef87b70d4', 'message': 'Fix notifications of migration temp volume\n\nVolume usage notifications in Cinder during Cinder volume migrations are\nincorrect.\n\nPart of a volume migration is creating a new volume on the destination\nbackend and during this process Cinder will issue volume usage\nnotifications ""create.start"" and ""create.end"" even though this is not a\nuser volume creation and is inconsistent with other temporary volume and\nsnapshot creation cases.\n\nAlso one of the latest steps during the volume creation is to delete one\nof the 2 volumes (the source or the destination) and in that case Cinder\nwill only issue a ""delete.end"" notification without its corresponding\n""delete.start"".\n\nSince temporary volumes (for backups or migrations) are not counted\ntowards quota usage they should also not issue volume usage\nnotifications.\n\nThis patch makes sure that we don\'t do notifications when creating or\ndeleting temporary migration volumes.\n\nIn both cases it checks the migration_status field to see if it starts\nwith \'target:\'.  For creation the migration_status is set in\n_migrate_volume_generic method before making the RPC call, so the data\nwill be there from the start, before the manager flow starts.\n\nCloses-Bug: #1922920\nChange-Id: I7164d700ef56a29e5d4f707fd2340e621bd6f351\n'}, {'number': 2, 'created': '2021-04-15 19:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b97bd1a0808beedc431883c8f7b152b5582e7ed6', 'message': 'Fix notifications of migration temp volume\n\nVolume usage notifications in Cinder during Cinder volume migrations are\nincorrect.\n\nPart of a volume migration is creating a new volume on the destination\nbackend and during this process Cinder will issue volume usage\nnotifications ""create.start"" and ""create.end"" even though this is not a\nuser volume creation and is inconsistent with other temporary volume and\nsnapshot creation cases.\n\nAlso one of the latest steps during the volume creation is to delete one\nof the 2 volumes (the source or the destination) and in that case Cinder\nwill only issue a ""delete.end"" notification without its corresponding\n""delete.start"".\n\nSince temporary volumes (for backups or migrations) are not counted\ntowards quota usage they should also not issue volume usage\nnotifications.\n\nThis patch makes sure that we don\'t do notifications when creating or\ndeleting temporary migration volumes.\n\nIn both cases it checks the migration_status field to see if it starts\nwith \'target:\'.  For creation the migration_status is set in\n_migrate_volume_generic method before making the RPC call, so the data\nwill be there from the start, before the manager flow starts.\n\nCloses-Bug: #1922920\nChange-Id: I7164d700ef56a29e5d4f707fd2340e621bd6f351\n'}, {'number': 3, 'created': '2021-05-10 16:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b89d360549eef9f3412034b401e7cb79a58aa82c', 'message': 'Fix notifications of migration temp volume\n\nVolume usage notifications in Cinder during Cinder volume migrations are\nincorrect.\n\nPart of a volume migration is creating a new volume on the destination\nbackend and during this process Cinder will issue volume usage\nnotifications ""create.start"" and ""create.end"" even though this is not a\nuser volume creation and is inconsistent with other temporary volume and\nsnapshot creation cases.\n\nAlso one of the latest steps during the volume creation is to delete one\nof the 2 volumes (the source or the destination) and in that case Cinder\nwill only issue a ""delete.end"" notification without its corresponding\n""delete.start"".\n\nSince temporary volumes (for backups or migrations) are not counted\ntowards quota usage they should also not issue volume usage\nnotifications.\n\nThis patch makes sure that we don\'t do notifications when creating or\ndeleting temporary migration volumes.\n\nIn both cases it checks the migration_status field to see if it starts\nwith \'target:\'.  For creation the migration_status is set in\n_migrate_volume_generic method before making the RPC call, so the data\nwill be there from the start, before the manager flow starts.\n\nCloses-Bug: #1922920\nChange-Id: I7164d700ef56a29e5d4f707fd2340e621bd6f351\n'}, {'number': 4, 'created': '2021-05-13 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9785c391f2542b74dab29f15747906c74ff6d766', 'message': 'Fix notifications of migration temp volume\n\nVolume usage notifications in Cinder during Cinder volume migrations are\nincorrect.\n\nPart of a volume migration is creating a new volume on the destination\nbackend and during this process Cinder will issue volume usage\nnotifications ""create.start"" and ""create.end"" even though this is not a\nuser volume creation and is inconsistent with other temporary volume and\nsnapshot creation cases.\n\nAlso one of the latest steps during the volume creation is to delete one\nof the 2 volumes (the source or the destination) and in that case Cinder\nwill only issue a ""delete.end"" notification without its corresponding\n""delete.start"".\n\nSince temporary volumes (for backups or migrations) are not counted\ntowards quota usage they should also not issue volume usage\nnotifications.\n\nThis patch makes sure that we don\'t do notifications when creating or\ndeleting temporary migration volumes.\n\nIn both cases it checks the migration_status field to see if it starts\nwith \'target:\'.  For creation the migration_status is set in\n_migrate_volume_generic method before making the RPC call, so the data\nwill be there from the start, before the manager flow starts.\n\nCloses-Bug: #1922920\nChange-Id: I7164d700ef56a29e5d4f707fd2340e621bd6f351\n'}, {'number': 5, 'created': '2021-05-20 15:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6d143705adeef665660162a9f074626baf4c11a', 'message': 'Fix notifications of migration temp volume\n\nVolume usage notifications in Cinder during Cinder volume migrations are\nincorrect.\n\nPart of a volume migration is creating a new volume on the destination\nbackend and during this process Cinder will issue volume usage\nnotifications ""create.start"" and ""create.end"" even though this is not a\nuser volume creation and is inconsistent with other temporary volume and\nsnapshot creation cases.\n\nAlso one of the latest steps during the volume creation is to delete one\nof the 2 volumes (the source or the destination) and in that case Cinder\nwill only issue a ""delete.end"" notification without its corresponding\n""delete.start"".\n\nSince temporary volumes (for backups or migrations) are not counted\ntowards quota usage they should also not issue volume usage\nnotifications.\n\nThis patch makes sure that we don\'t do notifications when creating or\ndeleting temporary migration volumes.\n\nIn both cases it checks the migration_status field to see if it starts\nwith \'target:\'.  For creation the migration_status is set in\n_migrate_volume_generic method before making the RPC call, so the data\nwill be there from the start, before the manager flow starts.\n\nCloses-Bug: #1922920\nChange-Id: I7164d700ef56a29e5d4f707fd2340e621bd6f351\n'}, {'number': 6, 'created': '2021-05-25 14:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5051f242ad743b7da5ad36852b43cd0844d4d3c4', 'message': 'Fix notifications of migration temp volume\n\nVolume usage notifications in Cinder during Cinder volume migrations are\nincorrect.\n\nPart of a volume migration is creating a new volume on the destination\nbackend and during this process Cinder will issue volume usage\nnotifications ""create.start"" and ""create.end"" even though this is not a\nuser volume creation and is inconsistent with other temporary volume and\nsnapshot creation cases.\n\nAlso one of the latest steps during the volume creation is to delete one\nof the 2 volumes (the source or the destination) and in that case Cinder\nwill only issue a ""delete.end"" notification without its corresponding\n""delete.start"".\n\nSince temporary volumes (for backups or migrations) are not counted\ntowards quota usage they should also not issue volume usage\nnotifications.\n\nThis patch makes sure that we don\'t do notifications when creating or\ndeleting temporary migration volumes.\n\nIn both cases it checks the migration_status field to see if it starts\nwith \'target:\'.  For creation the migration_status is set in\n_migrate_volume_generic method before making the RPC call, so the data\nwill be there from the start, before the manager flow starts.\n\nCloses-Bug: #1922920\nChange-Id: I7164d700ef56a29e5d4f707fd2340e621bd6f351\n'}, {'number': 7, 'created': '2021-05-31 10:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/14602cc1151fe1fe417f28549d8758b448e21e18', 'message': 'Fix notifications of migration temp volume\n\nVolume usage notifications in Cinder during Cinder volume migrations are\nincorrect.\n\nPart of a volume migration is creating a new volume on the destination\nbackend and during this process Cinder will issue volume usage\nnotifications ""create.start"" and ""create.end"" even though this is not a\nuser volume creation and is inconsistent with other temporary volume and\nsnapshot creation cases.\n\nAlso one of the latest steps during the volume creation is to delete one\nof the 2 volumes (the source or the destination) and in that case Cinder\nwill only issue a ""delete.end"" notification without its corresponding\n""delete.start"".\n\nSince temporary volumes (for backups or migrations) are not counted\ntowards quota usage they should also not issue volume usage\nnotifications.\n\nThis patch makes sure that we don\'t do notifications when creating or\ndeleting temporary migration volumes.\n\nIn both cases it checks the migration_status field to see if it starts\nwith \'target:\'.  For creation the migration_status is set in\n_migrate_volume_generic method before making the RPC call, so the data\nwill be there from the start, before the manager flow starts.\n\nCloses-Bug: #1922920\nChange-Id: I7164d700ef56a29e5d4f707fd2340e621bd6f351\n'}, {'number': 8, 'created': '2021-08-25 16:16:32.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/objects/volume.py', 'cinder/tests/unit/objects/test_volume.py', 'releasenotes/notes/volume-migrate-create-delete-notification-f567cae5522852ec.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/28d9bca7d612ba263dce116525064842c99186fa', 'message': 'Fix notifications of migration temp volume\n\nVolume usage notifications in Cinder during Cinder volume migrations are\nincorrect.\n\nPart of a volume migration is creating a new volume on the destination\nbackend and during this process Cinder will issue volume usage\nnotifications ""create.start"" and ""create.end"" even though this is not a\nuser volume creation and is inconsistent with other temporary volume and\nsnapshot creation cases.\n\nAlso one of the latest steps during the volume creation is to delete one\nof the 2 volumes (the source or the destination) and in that case Cinder\nwill only issue a ""delete.end"" notification without its corresponding\n""delete.start"".\n\nSince temporary volumes (for backups or migrations) are not counted\ntowards quota usage they should also not issue volume usage\nnotifications.\n\nThis patch makes sure that we don\'t do notifications when creating or\ndeleting temporary migration volumes.\n\nIn both cases it checks the migration_status field to see if it starts\nwith \'target:\'.  For creation the migration_status is set in\n_migrate_volume_generic method before making the RPC call, so the data\nwill be there from the start, before the manager flow starts.\n\nCloses-Bug: #1922920\nChange-Id: I7164d700ef56a29e5d4f707fd2340e621bd6f351\n'}]",0,786383,28d9bca7d612ba263dce116525064842c99186fa,134,3,8,9535,,,0,"Fix notifications of migration temp volume

Volume usage notifications in Cinder during Cinder volume migrations are
incorrect.

Part of a volume migration is creating a new volume on the destination
backend and during this process Cinder will issue volume usage
notifications ""create.start"" and ""create.end"" even though this is not a
user volume creation and is inconsistent with other temporary volume and
snapshot creation cases.

Also one of the latest steps during the volume creation is to delete one
of the 2 volumes (the source or the destination) and in that case Cinder
will only issue a ""delete.end"" notification without its corresponding
""delete.start"".

Since temporary volumes (for backups or migrations) are not counted
towards quota usage they should also not issue volume usage
notifications.

This patch makes sure that we don't do notifications when creating or
deleting temporary migration volumes.

In both cases it checks the migration_status field to see if it starts
with 'target:'.  For creation the migration_status is set in
_migrate_volume_generic method before making the RPC call, so the data
will be there from the start, before the manager flow starts.

Closes-Bug: #1922920
Change-Id: I7164d700ef56a29e5d4f707fd2340e621bd6f351
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/786383/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/objects/volume.py', 'cinder/tests/unit/objects/test_volume.py', 'releasenotes/notes/volume-migrate-create-delete-notification-f567cae5522852ec.yaml']",7,8e9f2302a5f6be931ff730ef126798eef87b70d4,off-book,--- - | `Bug #1922920 <https://bugs.launchpad.net/cinder/+bug/1922920>`_: Don't do volume usage notifications for migration temporary volumes. ,,168,28
openstack%2Frequirements~master~I8fae53c07c3e02452325077eb452b00536c86e1e,openstack/requirements,master,I8fae53c07c3e02452325077eb452b00536c86e1e,update constraint for cliff to new release 3.9.0,MERGED,2021-08-25 08:25:29.000000000,2021-08-29 01:36:24.000000000,2021-08-29 01:34:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-25 08:25:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/40fa4ca5b8e1ebe49b41b942273ac53c9f0ac739', 'message': 'update constraint for cliff to new release 3.9.0\n\nmeta: version: 3.9.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I044ea7a8cd9de0e6b467a8c1c751555cb4961569\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I8fae53c07c3e02452325077eb452b00536c86e1e\n'}]",0,805966,40fa4ca5b8e1ebe49b41b942273ac53c9f0ac739,54,3,1,11131,,,0,"update constraint for cliff to new release 3.9.0

meta: version: 3.9.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I044ea7a8cd9de0e6b467a8c1c751555cb4961569
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I8fae53c07c3e02452325077eb452b00536c86e1e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/805966/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,40fa4ca5b8e1ebe49b41b942273ac53c9f0ac739,new-release,cliff===3.9.0,cliff===3.8.0,1,1
openstack%2Frequirements~master~I6c8f15c67c4ac7a55877a11f10f0a02f90653e65,openstack/requirements,master,I6c8f15c67c4ac7a55877a11f10f0a02f90653e65,update constraint for neutron-lib to new release 2.15.0,MERGED,2021-08-27 14:32:48.000000000,2021-08-29 00:18:15.000000000,2021-08-29 00:16:47.000000000,"[{'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-27 14:32:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/15ccf27e47a671f7d3ec749bd26050f11f7d48dc', 'message': 'update constraint for neutron-lib to new release 2.15.0\n\nmeta: version: 2.15.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Lajos Katona <katonalala@gmail.com>\nmeta: release:Change-Id: I69b610614abcf0f9f25a0caacc2415ae7d3e12c5\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I6c8f15c67c4ac7a55877a11f10f0a02f90653e65\n'}]",0,806416,15ccf27e47a671f7d3ec749bd26050f11f7d48dc,31,4,1,11131,,,0,"update constraint for neutron-lib to new release 2.15.0

meta: version: 2.15.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Lajos Katona <katonalala@gmail.com>
meta: release:Change-Id: I69b610614abcf0f9f25a0caacc2415ae7d3e12c5
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I6c8f15c67c4ac7a55877a11f10f0a02f90653e65
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/806416/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,15ccf27e47a671f7d3ec749bd26050f11f7d48dc,new-release,neutron-lib===2.15.0,neutron-lib===2.14.0,1,1
openstack%2Frequirements~master~I81d0082a9d33bf5cb3e5e79b6b863f155eff2997,openstack/requirements,master,I81d0082a9d33bf5cb3e5e79b6b863f155eff2997,update constraint for oslo.messaging to new release 12.9.1,MERGED,2021-08-26 15:51:12.000000000,2021-08-29 00:13:38.000000000,2021-08-29 00:12:22.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 15:51:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5e0cf202f7d47d1a7c5839c3375f6cf35ef2a920', 'message': 'update constraint for oslo.messaging to new release 12.9.1\n\nmeta: version: 12.9.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ic4256e444489b060b31fa5b7f3542a8044ed6958\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I81d0082a9d33bf5cb3e5e79b6b863f155eff2997\n'}]",0,806233,5e0cf202f7d47d1a7c5839c3375f6cf35ef2a920,25,3,1,11131,,,0,"update constraint for oslo.messaging to new release 12.9.1

meta: version: 12.9.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ic4256e444489b060b31fa5b7f3542a8044ed6958
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I81d0082a9d33bf5cb3e5e79b6b863f155eff2997
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/806233/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5e0cf202f7d47d1a7c5839c3375f6cf35ef2a920,new-release,oslo.messaging===12.9.1,oslo.messaging===12.9.0,1,1
openstack%2Fwhitebox-tempest-plugin~master~I9f23d447a3e0a141af9a1a7bf0bf78669553db2f,openstack/whitebox-tempest-plugin,master,I9f23d447a3e0a141af9a1a7bf0bf78669553db2f,Create NUMA helper mixin class,MERGED,2021-08-20 20:20:11.000000000,2021-08-28 23:36:20.000000000,2021-08-28 23:36:20.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-20 20:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/2b132a35e465a341f4ed2b2479f4a17b04006e1f', 'message': ""Create NUMA helper mixin class\n\nWe have helpers to get various NUMA-y (yes, we're abusing that term)\ninformation about instances in various places. Start a mixin class to\ncontain them all. For now just stick get_pinning_as_set() in there.\n\nChange-Id: I9f23d447a3e0a141af9a1a7bf0bf78669553db2f\n""}, {'number': 2, 'created': '2021-08-20 22:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/1611dcef3973fcc17f5535b320be5ae40f82b092', 'message': ""Create NUMA helper mixin class\n\nWe have helpers to get various NUMA-y (yes, we're abusing that term)\ninformation about instances in various places. Start a mixin class to\ncontain them all. For now just stick get_pinning_as_set() in there.\n\nChange-Id: I9f23d447a3e0a141af9a1a7bf0bf78669553db2f\n""}, {'number': 3, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c9994339e583b44c4f477ce597cdde512220b952', 'message': ""Create NUMA helper mixin class\n\nWe have helpers to get various NUMA-y (yes, we're abusing that term)\ninformation about instances in various places. Start a mixin class to\ncontain them all. For now just stick get_pinning_as_set() in there.\n\nChange-Id: I9f23d447a3e0a141af9a1a7bf0bf78669553db2f\n""}, {'number': 4, 'created': '2021-08-25 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6d56e6c2ffd35628ba38df732db6dd2a0d7baf66', 'message': ""Create NUMA helper mixin class\n\nWe have helpers to get various NUMA-y (yes, we're abusing that term)\ninformation about instances in various places. Start a mixin class to\ncontain them all. For now just stick get_pinning_as_set() in there.\n\nChange-Id: I9f23d447a3e0a141af9a1a7bf0bf78669553db2f\n""}, {'number': 5, 'created': '2021-08-27 22:38:09.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/api/compute/numa_helper.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/7431d4e96214b53cd5ff9cd3c25cf6f2ccb435fd', 'message': ""Create NUMA helper mixin class\n\nWe have helpers to get various NUMA-y (yes, we're abusing that term)\ninformation about instances in various places. Start a mixin class to\ncontain them all. For now just stick get_pinning_as_set() in there.\n\nChange-Id: I9f23d447a3e0a141af9a1a7bf0bf78669553db2f\n""}]",0,805454,7431d4e96214b53cd5ff9cd3c25cf6f2ccb435fd,21,3,5,8864,,,0,"Create NUMA helper mixin class

We have helpers to get various NUMA-y (yes, we're abusing that term)
information about instances in various places. Start a mixin class to
contain them all. For now just stick get_pinning_as_set() in there.

Change-Id: I9f23d447a3e0a141af9a1a7bf0bf78669553db2f
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/54/805454/3 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/api/compute/numa_helper.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_live_migration.py']",5,2b132a35e465a341f4ed2b2479f4a17b04006e1f,interface_change_rx_queue,"from whitebox_tempest_plugin.api.compute import numa_helperclass LiveMigrationAndReboot(LiveMigrationBase, numa_helper.NUMAHelperMixin):",class LiveMigrationAndReboot(LiveMigrationBase):,37,12
openstack%2Fwhitebox-tempest-plugin~master~I4d95a0a404e938a6e603548f83cfe3d734f5c613,openstack/whitebox-tempest-plugin,master,I4d95a0a404e938a6e603548f83cfe3d734f5c613,Clean up .zuul.yaml,MERGED,2021-08-20 20:20:11.000000000,2021-08-28 23:17:44.000000000,2021-08-28 23:17:44.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-20 20:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/7b1c6bcd7982bfd65457dc5160d0291caff66bbb', 'message': 'Clean up .zuul.yaml\n\nRemove the multi-numa job definitions and nodeset, as we have nowhere\nto run them. Fix the indentation. Rename the jobs to\nwhitebox-devstack-multinode to stick to the\n<project>-<deployment>-<envionrment>-<feature> template, wich\n<feature> becoming necessary in future patches.\n\nChange-Id: I4d95a0a404e938a6e603548f83cfe3d734f5c613\n'}, {'number': 2, 'created': '2021-08-20 22:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e003902150713df96f0e244cb021f158e9a8588d', 'message': 'Clean up .zuul.yaml\n\nRemove the multi-numa job definitions and nodeset, as we have nowhere\nto run them. Fix the indentation. Rename the jobs to\nwhitebox-devstack-multinode to stick to the\n<project>-<deployment>-<envionrment>-<feature> template, wich\n<feature> becoming necessary in future patches.\n\nChange-Id: I4d95a0a404e938a6e603548f83cfe3d734f5c613\n'}, {'number': 3, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8f466bc0fb73251be9473bcb60a53e19686c3ef6', 'message': 'Clean up .zuul.yaml\n\nRemove the multi-numa job definitions and nodeset, as we have nowhere\nto run them. Fix the indentation. Rename the jobs to\nwhitebox-devstack-multinode to stick to the\n<project>-<deployment>-<envionrment>-<feature> template, wich\n<feature> becoming necessary in future patches.\n\nChange-Id: I4d95a0a404e938a6e603548f83cfe3d734f5c613\n'}, {'number': 4, 'created': '2021-08-25 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6ba56b8e1f7523164a2d649925878526a26204ca', 'message': 'Clean up .zuul.yaml\n\nRemove the multi-numa job definitions and nodeset, as we have nowhere\nto run them. Fix the indentation. Rename the jobs to\nwhitebox-devstack-multinode to stick to the\n<project>-<deployment>-<envionrment>-<feature> template, wich\n<feature> becoming necessary in future patches.\n\nChange-Id: I4d95a0a404e938a6e603548f83cfe3d734f5c613\n'}, {'number': 5, 'created': '2021-08-27 22:38:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a8097361dd169a874539ca3249677723336a33b7', 'message': 'Clean up .zuul.yaml\n\nRemove the multi-numa job definitions and nodeset, as we have nowhere\nto run them. Fix the indentation. Rename the jobs to\nwhitebox-devstack-multinode to stick to the\n<project>-<deployment>-<envionrment>-<feature> template, wich\n<feature> becoming necessary in future patches.\n\nChange-Id: I4d95a0a404e938a6e603548f83cfe3d734f5c613\n'}]",0,805453,a8097361dd169a874539ca3249677723336a33b7,23,3,5,8864,,,0,"Clean up .zuul.yaml

Remove the multi-numa job definitions and nodeset, as we have nowhere
to run them. Fix the indentation. Rename the jobs to
whitebox-devstack-multinode to stick to the
<project>-<deployment>-<envionrment>-<feature> template, wich
<feature> becoming necessary in future patches.

Change-Id: I4d95a0a404e938a6e603548f83cfe3d734f5c613
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/53/805453/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7b1c6bcd7982bfd65457dc5160d0291caff66bbb,interface_change_rx_queue," name: whitebox-devstack-multinode Runs the entire test suite on single-NUMA, non-SMT, nested virt VMs. required-projects: openstack/whitebox-tempest-plugin tox_envlist: all tempest_concurrency: 1 tempest_test_regex: ^whitebox_tempest_plugin\. devstack_plugins: whitebox-tempest-plugin: https://opendev.org/openstack/whitebox-tempest-plugin.git devstack_localrc: MAX_COMPUTE_NODES: 2 LIBVIRT_TYPE: kvm TEMPEST_PLUGINS: /opt/stack/whitebox-tempest-plugin WHITEBOX_PRIVKEY_PATH: /home/tempest/.ssh/id_rsa WHITEBOX_CPU_MODEL: kvm64 WHITEBOX_CPU_MODEL_EXTRA_FLAGS: vme,+ssse3,-mmx WHITEBOX_CPU_TOPOLOGY: ""0: [0,1,2,3,4,5,6,7]"" devstack_local_conf: post-config: $NOVA_CONF: libvirt: cpu_mode: custom cpu_models: kvm64 cpu_model_extra_flags: vme,+ssse3,-mmx virt_type: kvm rx_queue_size: 1024 group-vars: subnode: num_hugepages: 2048 devstack_localrc: LIBVIRT_TYPE: kvm tempest: num_hugepages: 512 jobs: - whitebox-devstack-multinode gate: jobs: - whitebox-devstack-multinode"," name: multi-numa-multinode nodes: - name: controller label: multi-numa-ubuntu-bionic - name: compute label: multi-numa-ubuntu-bionic groups: # Node where tests are executed and test results collected - name: tempest nodes: - controller # Nodes running the compute service - name: compute nodes: - controller - compute # Nodes that are not the controller - name: subnode nodes: - compute # Switch node for multinode networking setup - name: switch nodes: - controller # Peer nodes for multinode networking setup - name: peers nodes: - compute - nodeset: name: whitebox-multinode-devstack-base abstract: true Base devstack multinode job. required-projects: openstack/whitebox-tempest-plugin tox_envlist: all tempest_concurrency: 1 tempest_test_regex: ^whitebox_tempest_plugin\. devstack_plugins: whitebox-tempest-plugin: https://opendev.org/openstack/whitebox-tempest-plugin.git devstack_localrc: MAX_COMPUTE_NODES: 2 LIBVIRT_TYPE: kvm TEMPEST_PLUGINS: /opt/stack/whitebox-tempest-plugin WHITEBOX_PRIVKEY_PATH: /home/tempest/.ssh/id_rsa WHITEBOX_CPU_MODEL: kvm64 WHITEBOX_CPU_MODEL_EXTRA_FLAGS: vme,+ssse3,-mmx group-vars: subnode: num_hugepages: 2048 devstack_localrc: LIBVIRT_TYPE: kvm devstack_local_conf: post-config: $NOVA_CONF: libvirt: cpu_mode: custom cpu_models: kvm64 cpu_model_extra_flags: vme,+ssse3,-mmx virt_type: kvm rx_queue_size: 1024 tempest: num_hugepages: 512 - job: name: whitebox-multinode-devstack parent: whitebox-multinode-devstack-base nodeset: nested-virt-multinode description: | Runs the entire test suite on single-NUMA, non-SMT, nested virt VMs. Tests that need SMT and/or more than 1 NUMA node are skipped in the test code itself. vars: tempest_test_regex: ^whitebox_tempest_plugin\. devstack_localrc: WHITEBOX_CPU_TOPOLOGY: ""0: [0,1,2,3,4,5,6,7]"" - job: name: whitebox-multinode-multinuma-devstack parent: whitebox-multinode-devstack-base nodeset: multi-numa-multinode voting: true description: | Runs specific tests that need SMT and/or more than 1 NUMA node. Non-voting because there is currently only 1 provider of the `multi-numa` label, and it's not super reliable. vars: tempest_test_regex: ^whitebox_tempest_plugin\. devstack_localrc: SMT_HOSTS: ""{{ groups['compute'] | map('extract', hostvars, ['ansible_hostname']) | join(',') }}"" WHITEBOX_CPU_TOPOLOGY: ""0: [0,1,2,3], 1: [4,5,6,7]"" jobs: - whitebox-multinode-devstack gate: jobs: - whitebox-multinode-devstack",35,93
openstack%2Fwhitebox-tempest-plugin~master~I3054ee681275662835a29b2811d34fae2078da7d,openstack/whitebox-tempest-plugin,master,I3054ee681275662835a29b2811d34fae2078da7d,Use new config_all_computes() helper in file backed memory tests,MERGED,2021-08-25 01:43:45.000000000,2021-08-28 23:15:32.000000000,2021-08-28 23:15:32.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/06d897cc222861c6f640df573304d32393037d5c', 'message': 'Use new config_all_computes() helper in file backed memory tests\n\nReplace the explicit use of list_compute_hosts() and max_compute_nodes\nwith a new config_all_computes() helper, suitable for deployments with\nmore than 2 computes. Conver the file backed memory tests to use it,\nwith the eventual aim to remove explicit use of list_compute_hosts()\nand max_compute_nodes entirely.\n\nChange-Id: I3054ee681275662835a29b2811d34fae2078da7d\n'}, {'number': 2, 'created': '2021-08-25 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/87010eaa3711cc827d1e5be727c2a396857f7c89', 'message': 'Use new config_all_computes() helper in file backed memory tests\n\nReplace the explicit use of list_compute_hosts() and max_compute_nodes\nwith a new config_all_computes() helper, suitable for deployments with\nmore than 2 computes. Conver the file backed memory tests to use it,\nwith the eventual aim to remove explicit use of list_compute_hosts()\nand max_compute_nodes entirely.\n\nChange-Id: I3054ee681275662835a29b2811d34fae2078da7d\n'}, {'number': 3, 'created': '2021-08-27 22:38:09.000000000', 'files': ['whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_file_backed_memory.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/1532c496e745d355b8a2cc20d2f0040ed6eae4ad', 'message': 'Use new config_all_computes() helper in file backed memory tests\n\nReplace the explicit use of list_compute_hosts() and max_compute_nodes\nwith a new config_all_computes() helper, suitable for deployments with\nmore than 2 computes. Conver the file backed memory tests to use it,\nwith the eventual aim to remove explicit use of list_compute_hosts()\nand max_compute_nodes entirely.\n\nChange-Id: I3054ee681275662835a29b2811d34fae2078da7d\n'}]",0,805921,1532c496e745d355b8a2cc20d2f0040ed6eae4ad,21,3,3,8864,,,0,"Use new config_all_computes() helper in file backed memory tests

Replace the explicit use of list_compute_hosts() and max_compute_nodes
with a new config_all_computes() helper, suitable for deployments with
more than 2 computes. Conver the file backed memory tests to use it,
with the eventual aim to remove explicit use of list_compute_hosts()
and max_compute_nodes entirely.

Change-Id: I3054ee681275662835a29b2811d34fae2078da7d
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/21/805921/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_file_backed_memory.py']",2,06d897cc222861c6f640df573304d32393037d5c,interface_change_rx_queue," if CONF.compute.min_compute_nodes < 2: raise cls.skipException('Need at least 2 compute nodes.') with self.config_all_computes( ('libvirt', 'file_backed_memory', self.size), ('DEFAULT', 'ram_allocation_ratio', '1') with self.config_all_computes( ('libvirt', 'file_backed_memory', self.size), ('DEFAULT', 'ram_allocation_ratio', '1') server = self.create_test_server() dest = self.get_host_other_than(server['id']) dest_svc_mgr = clients.NovaServiceManager( dest, 'nova-compute', self.os_admin.services_client) with dest_svc_mgr.config_options( ('libvirt', 'file_backed_memory', self.size), ('DEFAULT', 'ram_allocation_ratio', '1') ): server['id'], host=dest)","from whitebox_tempest_plugin import utils as whitebox_utils if (CONF.compute.min_compute_nodes < 2 or CONF.whitebox.max_compute_nodes > 2): raise cls.skipException( ""Need exactly 2 compute nodes,"" ""skipping file backed memory tests."") host1, host2 = self.list_compute_hosts() host1_sm = clients.NovaServiceManager(host1, 'nova-compute', self.os_admin.services_client) host2_sm = clients.NovaServiceManager(host2, 'nova-compute', self.os_admin.services_client) with whitebox_utils.multicontext( host1_sm.config_options(('libvirt', 'file_backed_memory', self.size), ('DEFAULT', 'ram_allocation_ratio', '1')), host2_sm.config_options(('libvirt', 'file_backed_memory', self.size), ('DEFAULT', 'ram_allocation_ratio', '1')) host1, host2 = self.list_compute_hosts() host1_sm = clients.NovaServiceManager(host1, 'nova-compute', self.os_admin.services_client) host2_sm = clients.NovaServiceManager(host2, 'nova-compute', self.os_admin.services_client) with whitebox_utils.multicontext( host1_sm.config_options(('libvirt', 'file_backed_memory', self.size), ('DEFAULT', 'ram_allocation_ratio', '1')), host2_sm.config_options(('libvirt', 'file_backed_memory', self.size), ('DEFAULT', 'ram_allocation_ratio', '1')) server_1 = self.create_test_server() destination_host = self.get_host_other_than(server_1['id']) host1_sm = clients.NovaServiceManager(destination_host, 'nova-compute', self.os_admin.services_client) with host1_sm.config_options(('libvirt', 'file_backed_memory', self.size), ('DEFAULT', 'ram_allocation_ratio', '1')): server_1['id'], host=destination_host)",34,44
openstack%2Fwhitebox-tempest-plugin~master~If47a1a233af103c88587959af20be67391c63aa3,openstack/whitebox-tempest-plugin,master,If47a1a233af103c88587959af20be67391c63aa3,Remove resize_server() helper,MERGED,2021-08-19 20:30:12.000000000,2021-08-28 19:46:21.000000000,2021-08-28 19:46:21.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-19 20:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/466aa7884d7c838b8378587f8faa908c4eb8d0f7', 'message': 'Remove resize_server() helper\n\nThis only existed to return the resized server. This is not actually\nneeded anywhere in our code. Remove it and use the base tempest\nhelper.\n\nChange-Id: If47a1a233af103c88587959af20be67391c63aa3\n'}, {'number': 2, 'created': '2021-08-19 22:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ef2ff58b448f9b3869f14f26aa410b879289e29d', 'message': 'Remove resize_server() helper\n\nThis only existed to return the resized server. This is not actually\nneeded anywhere in our code. Remove it and use the base tempest\nhelper.\n\nChange-Id: If47a1a233af103c88587959af20be67391c63aa3\n'}, {'number': 3, 'created': '2021-08-20 00:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c30849d0084a23a183715f67768001553a4e82bf', 'message': 'Remove resize_server() helper\n\nThis only existed to return the resized server. This is not actually\nneeded anywhere in our code. Remove it and use the base tempest\nhelper.\n\nChange-Id: If47a1a233af103c88587959af20be67391c63aa3\n'}, {'number': 4, 'created': '2021-08-20 01:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ae8e5396d96d0a99ac918415d24bf44c1a5f4a82', 'message': 'Remove resize_server() helper\n\nThis only existed to return the resized server. This is not actually\nneeded anywhere in our code. Remove it and use the base tempest\nhelper.\n\nChange-Id: If47a1a233af103c88587959af20be67391c63aa3\n'}, {'number': 5, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ce004ce227793b433ac5262a30d603df2de6b4f9', 'message': 'Remove resize_server() helper\n\nThis only existed to return the resized server. This is not actually\nneeded anywhere in our code. Remove it and use the base tempest\nhelper.\n\nChange-Id: If47a1a233af103c88587959af20be67391c63aa3\n'}, {'number': 6, 'created': '2021-08-25 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0c754391fc1e7916e51f6b6e1b6f0f8e1a5a6540', 'message': 'Remove resize_server() helper\n\nThis only existed to return the resized server. This is not actually\nneeded anywhere in our code. Remove it and use the base tempest\nhelper.\n\nChange-Id: If47a1a233af103c88587959af20be67391c63aa3\n'}, {'number': 7, 'created': '2021-08-27 22:38:09.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_file_backed_memory.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4e5802f31aafc434162e1f0a70459e1f4699bfa8', 'message': 'Remove resize_server() helper\n\nThis only existed to return the resized server. This is not actually\nneeded anywhere in our code. Remove it and use the base tempest\nhelper.\n\nChange-Id: If47a1a233af103c88587959af20be67391c63aa3\n'}]",0,805299,4e5802f31aafc434162e1f0a70459e1f4699bfa8,31,3,7,8864,,,0,"Remove resize_server() helper

This only existed to return the resized server. This is not actually
needed anywhere in our code. Remove it and use the base tempest
helper.

Change-Id: If47a1a233af103c88587959af20be67391c63aa3
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/99/805299/5 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/compute/base.py', 'whitebox_tempest_plugin/compute/test_file_backed_memory.py']",3,466aa7884d7c838b8378587f8faa908c4eb8d0f7,interface_change_rx_queue," self.resize_server(server['id'], self.new_flavor['id'])"," server = self.resize_server( server['id'], self.new_flavor['id'])",3,12
openstack%2Fdesignate~master~Ia5c8a88d91b125542635efd4feca7a2c6f062601,openstack/designate,master,Ia5c8a88d91b125542635efd4feca7a2c6f062601,Updated middleware,ABANDONED,2021-06-14 02:44:25.000000000,2021-08-28 19:18:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-14 02:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9e7b774ad904156e444568559e7a67e107db0a82', 'message': 'Updated middleware\n\n- Cleaned up Middleware code.\n- Updated Middleware tests.\n\nChange-Id: Ia5c8a88d91b125542635efd4feca7a2c6f062601\n'}, {'number': 2, 'created': '2021-06-14 02:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ebb7bd17f8312a9d4f36f6886a367cb2d4112036', 'message': 'Updated middleware\n\n- Cleaned up Middleware code.\n- Updated Middleware tests.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/795906\n\nChange-Id: Ia5c8a88d91b125542635efd4feca7a2c6f062601\n'}, {'number': 3, 'created': '2021-06-14 02:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4b415a9186f55bc05c3850146338526e65773e4f', 'message': 'Updated middleware\n\n- Cleaned up Middleware code.\n- Updated Middleware tests.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/795906\n\nChange-Id: Ia5c8a88d91b125542635efd4feca7a2c6f062601\n'}, {'number': 4, 'created': '2021-06-19 01:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/48bdf24f23595932ffb7b5c6a8f6ba5d2bc315b6', 'message': 'Updated middleware\n\n- Cleaned up Middleware code.\n- Updated Middleware tests.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/795906\n\nChange-Id: Ia5c8a88d91b125542635efd4feca7a2c6f062601\n'}, {'number': 5, 'created': '2021-06-19 01:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5be7ed39bec43258e1a39c2880b2d908373c7f2b', 'message': 'Updated middleware\n\n- Cleaned up Middleware code.\n- Updated Middleware tests.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/795906\n\nChange-Id: Ia5c8a88d91b125542635efd4feca7a2c6f062601\n'}, {'number': 6, 'created': '2021-07-01 06:44:31.000000000', 'files': ['designate/tests/unit/api/test_middleware.py', 'designate/api/middleware.py', 'designate/context.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2fe9f3ac0b3bc2e4545573fafd4f83d3ec3de7cb', 'message': 'Updated middleware\n\n- Cleaned up Middleware code.\n- Updated Middleware tests.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/795906\n\nChange-Id: Ia5c8a88d91b125542635efd4feca7a2c6f062601\n'}]",2,796171,2fe9f3ac0b3bc2e4545573fafd4f83d3ec3de7cb,14,1,6,22623,,,0,"Updated middleware

- Cleaned up Middleware code.
- Updated Middleware tests.

Depends-On: https://review.opendev.org/c/openstack/designate/+/795906

Change-Id: Ia5c8a88d91b125542635efd4feca7a2c6f062601
",git fetch https://review.opendev.org/openstack/designate refs/changes/71/796171/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/api/test_middleware.py', 'designate/api/middleware.py', 'designate/context.py', 'devstack/settings']",4,9e7b774ad904156e444568559e7a67e107db0a82,update_context,"DESIGNATE_WSGI_MODE=${DESIGNATE_WSGI_MODE:-""uwsgi""}","DESIGNATE_WSGI_MODE=${DESIGNATE_WSGI_MODE:-""mod_wsgi""}",132,117
openstack%2Fdesignate~master~Ia5491fc97e431e5fce52091729738e6958f764e2,openstack/designate,master,Ia5491fc97e431e5fce52091729738e6958f764e2,Add missing [oslo_reports] options,MERGED,2021-08-18 03:18:29.000000000,2021-08-28 18:12:35.000000000,2021-08-28 18:11:03.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-08-18 03:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3c12f088cd41c8c5148ee7bd4df5c1e4c577b5c9', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nChange-Id: Ia5491fc97e431e5fce52091729738e6958f764e2\n'}, {'number': 2, 'created': '2021-08-21 08:27:52.000000000', 'files': ['etc/designate/designate-config-generator.conf'], 'web_link': 'https://opendev.org/openstack/designate/commit/d65faea1d540da4d0f600f5c969098eae53842cd', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nCloses-Bug: #1940733\nChange-Id: Ia5491fc97e431e5fce52091729738e6958f764e2\n'}]",0,804944,d65faea1d540da4d0f600f5c969098eae53842cd,10,3,2,9816,,,0,"Add missing [oslo_reports] options

The oslo.reports library provides some options under the [oslo_reports]
section. This change ensures these parameters are rendered by
the oslo-config-generator command.

Closes-Bug: #1940733
Change-Id: Ia5491fc97e431e5fce52091729738e6958f764e2
",git fetch https://review.opendev.org/openstack/designate refs/changes/44/804944/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/designate/designate-config-generator.conf'],1,3c12f088cd41c8c5148ee7bd4df5c1e4c577b5c9,bug/1940733,namespace = oslo.reports,,1,0
openstack%2Fos-net-config~stable%2Fvictoria~I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae,openstack/os-net-config,stable/victoria,I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae,allow vhost0 to pass list of members,MERGED,2021-08-24 13:49:59.000000000,2021-08-28 17:33:12.000000000,2021-08-28 17:31:50.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 13:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/80f6ea6ff30f541a74dc39931fdd8d94ea6da801', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n'}, {'number': 2, 'created': '2021-08-24 13:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/84ed96bfbe2929122f535a0a6c353617176d5687', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n'}, {'number': 3, 'created': '2021-08-26 11:18:53.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5e0cb3ef230845029ba39756ccfc422c25bd09f0', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n(cherry picked from commit 178564dccd07b9267b627b3969bde8d3a0045857)\n'}]",0,805821,5e0cb3ef230845029ba39756ccfc422c25bd09f0,18,3,3,18810,,,0,"allow vhost0 to pass list of members

- in case of L3MH Contrail feature for kernel mode
BIND_INT might be a list

Change-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae
(cherry picked from commit 178564dccd07b9267b627b3969bde8d3a0045857)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/21/805821/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,80f6ea6ff30f541a74dc39931fdd8d94ea6da801,," ifnames = "","".join([m.name for m in contrail_vrouter.members]) data += ""BIND_INT=%s\n"" % ifnames"," # Contrail vrouter will have the only member (of type interface, # vlan or linux_bond) ifname = contrail_vrouter.members[0].name data += ""BIND_INT=%s\n"" % ifname",25,4
openstack%2Frequirements~master~I5dbf3b4bb7ceecb0b678e9d566097678339b219d,openstack/requirements,master,I5dbf3b4bb7ceecb0b678e9d566097678339b219d,update constraint for oslo.privsep to new release 2.6.2,MERGED,2021-08-26 16:02:06.000000000,2021-08-28 17:16:26.000000000,2021-08-28 17:15:06.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 16:02:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e0e8504f57b188cd0bc7ea52a6f8d2c3b1d3dc9', 'message': 'update constraint for oslo.privsep to new release 2.6.2\n\nmeta: version: 2.6.2\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iff10cee7c7fef06b855f9c536b47aaacd1b4646b\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I5dbf3b4bb7ceecb0b678e9d566097678339b219d\n'}]",0,806238,1e0e8504f57b188cd0bc7ea52a6f8d2c3b1d3dc9,28,3,1,11131,,,0,"update constraint for oslo.privsep to new release 2.6.2

meta: version: 2.6.2
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iff10cee7c7fef06b855f9c536b47aaacd1b4646b
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I5dbf3b4bb7ceecb0b678e9d566097678339b219d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/806238/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1e0e8504f57b188cd0bc7ea52a6f8d2c3b1d3dc9,new-release,oslo.privsep===2.6.2,oslo.privsep===2.6.1,1,1
openstack%2Fceilometermiddleware~master~I8236a7c6c8063c5c5d548b51a49c323ad4c14629,openstack/ceilometermiddleware,master,I8236a7c6c8063c5c5d548b51a49c323ad4c14629,Replace the following items with Python 3 style code.,MERGED,2020-09-28 07:33:52.000000000,2021-08-28 17:03:40.000000000,2021-08-28 17:02:05.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-28 07:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/610ccee370ba3cd280a87957099c1ad98d21719c', 'message': 'Remove Six\nReplace the following items with Python 3 style code.\n\n- six.iteritems\n- six.moves.cStringIO\n\nChange-Id: I8236a7c6c8063c5c5d548b51a49c323ad4c14629\n'}, {'number': 2, 'created': '2020-09-28 08:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/49b75a7433e73527cb463010f936d9e0cba18da2', 'message': 'Remove Six\nReplace the following items with Python 3 style code.\n\n- six.iteritems\n- six.moves.cStringIO\n\nChange-Id: I8236a7c6c8063c5c5d548b51a49c323ad4c14629\n'}, {'number': 3, 'created': '2020-09-30 07:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/55f6264887b716be2b8649d96fc89d1a999c1e0f', 'message': 'Remove Six\n\nReplace the following items with Python 3 style code.\n\n- six.iteritems\n- six.moves.cStringIO\n\nChange-Id: I8236a7c6c8063c5c5d548b51a49c323ad4c14629\n'}, {'number': 4, 'created': '2020-12-01 03:20:00.000000000', 'files': ['ceilometermiddleware/swift.py', 'ceilometermiddleware/tests/test_swift.py'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/c5067f8097f303ffb86f5d537dbf491353d4a816', 'message': 'Replace the following items with Python 3 style code.\n\n- six.iteritems\n- six.moves.cStringIO\n\nChange-Id: I8236a7c6c8063c5c5d548b51a49c323ad4c14629\n'}]",2,754643,c5067f8097f303ffb86f5d537dbf491353d4a816,20,2,4,30092,,,0,"Replace the following items with Python 3 style code.

- six.iteritems
- six.moves.cStringIO

Change-Id: I8236a7c6c8063c5c5d548b51a49c323ad4c14629
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/43/754643/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometermiddleware/swift.py', 'ceilometermiddleware/tests/test_swift.py']",2,610ccee370ba3cd280a87957099c1ad98d21719c,bp/six-removal,"from io import StringIO environ['wsgi.input'] = StringIO('') for header, value in headers.items(): StringIO('some stuff')}) 'wsgi.input': StringIO('some other stuff')}) self.assertEqual(str(uni), @mock.patch('urllib.parse.quote') StringIO('some stuff'),","import six environ['wsgi.input'] = six.moves.cStringIO('') for header, value in six.iteritems(headers): six.moves.cStringIO('some stuff')}) 'wsgi.input': six.moves.cStringIO('some other stuff')}) self.assertEqual(six.text_type(uni), @mock.patch('six.moves.urllib.parse.quote') six.moves.cStringIO('some stuff'),",13,14
openstack%2Fwhitebox-tempest-plugin~master~I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c,openstack/whitebox-tempest-plugin,master,I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c,Remove reboot_server() helper,MERGED,2021-08-19 20:30:12.000000000,2021-08-28 15:38:22.000000000,2021-08-28 15:38:22.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-19 20:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/58aedd557cff505c0770a3bd8d1371a7d32d90ac', 'message': 'Remove reboot_server() helper\n\nThis patch depends on the tempest patch to add the helper, and removes\nits usage within whitebox.\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/805264\nChange-Id: I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c\n'}, {'number': 2, 'created': '2021-08-19 22:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9de80100bd0bf1b92f3fd0f92c6e049ed901a77a', 'message': 'Remove reboot_server() helper\n\nThis patch depends on the tempest patch to add the helper, and removes\nits usage within whitebox.\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/805264\nChange-Id: I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c\n'}, {'number': 3, 'created': '2021-08-20 00:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/206517de7880665562946736fbdfc6246100d94b', 'message': 'Remove reboot_server() helper\n\nThis patch depends on the tempest patch to add the helper, and removes\nits usage within whitebox.\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/805264\nChange-Id: I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c\n'}, {'number': 4, 'created': '2021-08-20 01:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/75f55e1decf20fc2721ba47290ec393bf45689b3', 'message': 'Remove reboot_server() helper\n\nThis patch depends on the tempest patch to add the helper, and removes\nits usage within whitebox.\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/805264\nChange-Id: I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c\n'}, {'number': 5, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5a2760a92eb68a8655d418b9d70b03f042aa1180', 'message': 'Remove reboot_server() helper\n\nThis patch depends on the tempest patch to add the helper, and removes\nits usage within whitebox.\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/805264\nChange-Id: I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c\n'}, {'number': 6, 'created': '2021-08-25 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b66d24f034e2eb055fdbdfaba1129a0a3b688a1f', 'message': 'Remove reboot_server() helper\n\nThis patch depends on the tempest patch to add the helper, and removes\nits usage within whitebox.\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/805264\nChange-Id: I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c\n'}, {'number': 7, 'created': '2021-08-27 22:38:09.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5864665e34ebc59d0182b4641329ebee741b3b6d', 'message': 'Remove reboot_server() helper\n\nThis patch depends on the tempest patch to add the helper, and removes\nits usage within whitebox.\n\nDepends-on: https://review.opendev.org/c/openstack/tempest/+/805264\nChange-Id: I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c\n'}]",0,805298,5864665e34ebc59d0182b4641329ebee741b3b6d,29,3,7,8864,,,0,"Remove reboot_server() helper

This patch depends on the tempest patch to add the helper, and removes
its usage within whitebox.

Depends-on: https://review.opendev.org/c/openstack/tempest/+/805264
Change-Id: I6bce1608ef42ab06a1c73e6a6cd77da26c33c65c
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/98/805298/3 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/compute/test_live_migration.py', 'whitebox_tempest_plugin/compute/base.py']",3,58aedd557cff505c0770a3bd8d1371a7d32d90ac,interface_change_rx_queue,," def reboot_server(self, server_id, reboot_type): # TODO(stephenfin): Add this to upstream self.servers_client.reboot_server(server_id, type=reboot_type) waiters.wait_for_server_status(self.servers_client, server_id, 'ACTIVE') return self.servers_client.show_server(server_id)['server'] ",2,10
openstack%2Fpuppet-keystone~master~I668b672ca6d76224e4302c4a3c05da7e601e48fa,openstack/puppet-keystone,master,I668b672ca6d76224e4302c4a3c05da7e601e48fa,Fix wrong key to look up domain parameters from puppet.conf,ABANDONED,2021-08-28 15:30:30.000000000,2021-08-28 15:37:59.000000000,,[],"[{'number': 1, 'created': '2021-08-28 15:30:30.000000000', 'files': ['lib/puppet/provider/keystone.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1e01392f8a9918723609d15b38147201ba3618f3', 'message': 'Fix wrong key to look up domain parameters from puppet.conf\n\n... and refactor the logic to avoid redundant keys for better\nreadability.\n\nChange-Id: I668b672ca6d76224e4302c4a3c05da7e601e48fa\n'}]",0,806475,1e01392f8a9918723609d15b38147201ba3618f3,2,0,1,9816,,,0,"Fix wrong key to look up domain parameters from puppet.conf

... and refactor the logic to avoid redundant keys for better
readability.

Change-Id: I668b672ca6d76224e4302c4a3c05da7e601e48fa
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/75/806475/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/keystone.rb'],1,1e01392f8a9918723609d15b38147201ba3618f3,," auth_keys = ['auth_url', 'project_name', 'username', 'password'] conf = keystone_puppet_conf['keystone_authtoken'] if keystone_puppet_conf else {} if conf and auth_keys.all?{|k| !conf[k].nil?} creds = Hash[ auth_keys.map { |k| [k, conf[k].strip] } ] creds['project_domain_name'] = conf.fetch('project_domain_name', 'Default') creds['user_domain_name'] = conf.fetch('user_domain_name', 'Default') if conf['region_name'] creds['region_name'] = conf['region_name']"," auth_keys = ['auth_url', 'project_name', 'username', 'password'] conf = keystone_puppet_conf if conf and conf['keystone_authtoken'] and auth_keys.all?{|k| !conf['keystone_authtoken'][k].nil?} creds = Hash[ auth_keys.map \ { |k| [k, conf['keystone_authtoken'][k].strip] } ] if conf['project_domain_name'] creds['project_domain_name'] = conf['project_domain_name'] else creds['project_domain_name'] = 'Default' if conf['user_domain_name'] creds['user_domain_name'] = conf['user_domain_name'] else creds['user_domain_name'] = 'Default' end if conf['keystone_authtoken']['region_name'] creds['region_name'] = conf['keystone_authtoken']['region_name'] end",13,19
openstack%2Fkolla-ansible~stable%2Fwallaby~Ia40f754631efa75dc16fd1dd43094f0e46570c58,openstack/kolla-ansible,stable/wallaby,Ia40f754631efa75dc16fd1dd43094f0e46570c58,[DNM] libvirt: revert cgroupns mode,ABANDONED,2021-08-28 14:10:11.000000000,2021-08-28 15:21:42.000000000,,[],"[{'number': 1, 'created': '2021-08-28 14:10:11.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87330c252e62ec292e066dfecf5c42736d0626d6', 'message': '[DNM] libvirt: revert cgroupns mode\n\nChange-to-depend-on for https://review.opendev.org/c/openstack/kolla-ansible/+/806331\n\nChange-Id: Ia40f754631efa75dc16fd1dd43094f0e46570c58\n'}]",0,806472,87330c252e62ec292e066dfecf5c42736d0626d6,2,0,1,30491,,,0,"[DNM] libvirt: revert cgroupns mode

Change-to-depend-on for https://review.opendev.org/c/openstack/kolla-ansible/+/806331

Change-Id: Ia40f754631efa75dc16fd1dd43094f0e46570c58
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/806472/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/defaults/main.yml'],1,87330c252e62ec292e066dfecf5c42736d0626d6,dnm-libvirt-revert-cgroupns-mode,," cgroupns_mode: ""host""",0,1
openstack%2Fkolla-ansible~master~Icd38f1edf0cb0551704e5a95aa0922d572a2bf24,openstack/kolla-ansible,master,Icd38f1edf0cb0551704e5a95aa0922d572a2bf24,CI: Don't generate certificates before upgrade,MERGED,2021-05-24 09:36:06.000000000,2021-08-28 14:43:26.000000000,2021-08-28 14:41:41.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-24 09:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff06f93d47ab0b3707d31722a3aa7359d44bc151', 'message': ""CI: Don't generate certificates before upgrade\n\nWe generate them before the initial deployment.\n\nChange-Id: Icd38f1edf0cb0551704e5a95aa0922d572a2bf24\n""}, {'number': 2, 'created': '2021-06-03 12:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/02776dcaa7b6b01b324fe3d0b1b009d00151600a', 'message': ""CI: Don't generate certificates before upgrade\n\nWe generate them before the initial deployment.\n\nChange-Id: Icd38f1edf0cb0551704e5a95aa0922d572a2bf24\n""}, {'number': 3, 'created': '2021-06-23 09:40:24.000000000', 'files': ['tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7eff49a5af0b891a2be1a2b4574e378f41bc1170', 'message': ""CI: Don't generate certificates before upgrade\n\nWe generate them before the initial deployment.\n\nChange-Id: Icd38f1edf0cb0551704e5a95aa0922d572a2bf24\n""}]",0,792793,7eff49a5af0b891a2be1a2b4574e378f41bc1170,24,3,3,14826,,,0,"CI: Don't generate certificates before upgrade

We generate them before the initial deployment.

Change-Id: Icd38f1edf0cb0551704e5a95aa0922d572a2bf24
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/792793/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/upgrade.sh'],1,ff06f93d47ab0b3707d31722a3aa7359d44bc151,,," # generate self-signed certificates for the optional internal TLS tests if [[ ""$TLS_ENABLED"" = ""True"" ]]; then tools/kolla-ansible -i ${RAW_INVENTORY} -vvv certificates > /tmp/logs/ansible/certificates fi",0,4
openstack%2Fneutron~master~Ib6963f402c9fec8169afcf467d613bba4e06130d,openstack/neutron,master,Ib6963f402c9fec8169afcf467d613bba4e06130d,Fix gate for neutron-lib v2.14,MERGED,2021-08-23 12:40:40.000000000,2021-08-28 12:48:05.000000000,2021-08-25 10:16:11.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-08-23 12:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24d2d744388bb7b2bbb9d5d47492289ac0c10000', 'message': ""Fix gate for neutron-lib v2.14\n\nA patch [1] that updates upper-constraints.txt for neutron-lib 2.14 fails\nto pass check pipeline.\n\nDue to development sequence it's necessary to append a new rule type\nto VALID_RULE_TYPES in Neutron first, and then move it to neutron-lib.\nBecause of this process, there's a risk that the new rule type is\npresent in both Neutron and in neutron-lib.\n\nThis is why check pipeline keeps failing with neutron-lib v2.14, as it\ncontains 'packet_rate_limit' and in Neutron we append it to the list\nanyways, ending up with duplicates.\n\nThis patch ensures that there are no duplicates in VALID_RULE_TYPES.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/805352\n\nChange-Id: Ib6963f402c9fec8169afcf467d613bba4e06130d\n""}, {'number': 2, 'created': '2021-08-24 07:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23e4a605474be97ce01e5885f01ea9388dc18643', 'message': ""Fix gate for neutron-lib v2.14\n\nA patch [1] that updates upper-constraints.txt for neutron-lib 2.14 fails\nto pass check pipeline.\n\nDue to development sequence it's necessary to append a new rule type\nto VALID_RULE_TYPES in Neutron first, and then move it to neutron-lib.\nBecause of this process, there's a risk that the new rule type is\npresent in both Neutron and in neutron-lib.\n\nThis is why check pipeline keeps failing with neutron-lib v2.14, as it\ncontains 'packet_rate_limit' and in Neutron we append it to the list\nanyways, ending up with duplicates.\n\nThis patch ensures that there are no duplicates in VALID_RULE_TYPES.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/805352\n\nChange-Id: Ib6963f402c9fec8169afcf467d613bba4e06130d\n""}, {'number': 3, 'created': '2021-08-24 08:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/171a55078e93a50be5413dd9d69b45f68b47cfed', 'message': ""Fix gate for neutron-lib v2.14\n\nA patch [1] that updates upper-constraints.txt for neutron-lib 2.14 fails\nto pass check pipeline.\n\nDue to development sequence it's necessary to append a new rule type\nto VALID_RULE_TYPES in Neutron first, and then move it to neutron-lib.\nBecause of this process, there's a risk that the new rule type is\npresent in both Neutron and in neutron-lib.\n\nThis is why check pipeline keeps failing with neutron-lib v2.14, as it\ncontains 'packet_rate_limit' and in Neutron we append it to the list\nanyways, ending up with duplicates.\n\nThis patch ensures that there are no duplicates in VALID_RULE_TYPES.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/805352\n\nChange-Id: Ib6963f402c9fec8169afcf467d613bba4e06130d\n""}, {'number': 4, 'created': '2021-08-24 11:25:25.000000000', 'files': ['neutron/services/qos/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bb9c99d50662001237f0fc55228a9aa68fc211c', 'message': ""Fix gate for neutron-lib v2.14\n\nA patch [1] that updates upper-constraints.txt for neutron-lib 2.14 fails\nto pass check pipeline.\n\nDue to development sequence it's necessary to append a new rule type\nto VALID_RULE_TYPES in Neutron first, and then move it to neutron-lib.\nBecause of this process, there's a risk that the new rule type is\npresent in both Neutron and in neutron-lib.\n\nThis is why check pipeline keeps failing with neutron-lib v2.14, as it\ncontains 'packet_rate_limit' and in Neutron we append it to the list\nanyways, ending up with duplicates.\n\nThis patch ensures that there are no duplicates in VALID_RULE_TYPES.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/805352\n\nChange-Id: Ib6963f402c9fec8169afcf467d613bba4e06130d\n""}]",2,805627,0bb9c99d50662001237f0fc55228a9aa68fc211c,40,8,4,33652,,,0,"Fix gate for neutron-lib v2.14

A patch [1] that updates upper-constraints.txt for neutron-lib 2.14 fails
to pass check pipeline.

Due to development sequence it's necessary to append a new rule type
to VALID_RULE_TYPES in Neutron first, and then move it to neutron-lib.
Because of this process, there's a risk that the new rule type is
present in both Neutron and in neutron-lib.

This is why check pipeline keeps failing with neutron-lib v2.14, as it
contains 'packet_rate_limit' and in Neutron we append it to the list
anyways, ending up with duplicates.

This patch ensures that there are no duplicates in VALID_RULE_TYPES.

[1] https://review.opendev.org/c/openstack/requirements/+/805352

Change-Id: Ib6963f402c9fec8169afcf467d613bba4e06130d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/805627/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/constants.py'],1,24d2d744388bb7b2bbb9d5d47492289ac0c10000,,VALID_RULE_TYPES = list(set(qos_consts.VALID_RULE_TYPES + [RULE_TYPE_PACKET_RATE_LIMIT])),VALID_RULE_TYPES = qos_consts.VALID_RULE_TYPES + [RULE_TYPE_PACKET_RATE_LIMIT],2,1
openstack%2Fnova~stable%2Fwallaby~I95f68be76330ff09e5eabb5ef8dd9a18f5547866,openstack/nova,stable/wallaby,I95f68be76330ff09e5eabb5ef8dd9a18f5547866,address open redirect with 3 forward slashes,MERGED,2021-08-24 13:45:54.000000000,2021-08-28 12:15:32.000000000,2021-08-28 09:56:05.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 13:45:54.000000000', 'files': ['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/47dad4836a26292e9d34e516e1525ecf00be127c', 'message': 'address open redirect with 3 forward slashes\n\nIe36401c782f023d1d5f2623732619105dc2cfa24 was intended\nto address OSSA-2021-002 (CVE-2021-3654) however after its\nrelease it was discovered that the fix only worked\nfor urls with 2 leading slashes or more then 4.\n\nThis change adresses the missing edgecase for 3 leading slashes\nand also maintian support for rejecting 2+.\n\nChange-Id: I95f68be76330ff09e5eabb5ef8dd9a18f5547866\nco-authored-by: Matteo Pozza\nCloses-Bug: #1927677\n(cherry picked from commit 6fbd0b758dcac71323f3be179b1a9d1c17a4acc5)\n'}]",0,805818,47dad4836a26292e9d34e516e1525ecf00be127c,32,6,1,11604,,,0,"address open redirect with 3 forward slashes

Ie36401c782f023d1d5f2623732619105dc2cfa24 was intended
to address OSSA-2021-002 (CVE-2021-3654) however after its
release it was discovered that the fix only worked
for urls with 2 leading slashes or more then 4.

This change adresses the missing edgecase for 3 leading slashes
and also maintian support for rejecting 2+.

Change-Id: I95f68be76330ff09e5eabb5ef8dd9a18f5547866
co-authored-by: Matteo Pozza
Closes-Bug: #1927677
(cherry picked from commit 6fbd0b758dcac71323f3be179b1a9d1c17a4acc5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/805818/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py']",2,47dad4836a26292e9d34e516e1525ecf00be127c,bug/1927677," def test_reject_open_redirect_3_slashes(self): # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data) ",,35,6
openstack%2Fcinder~master~I72a59956eff99ddd99e8b3bd860e053969e65150,openstack/cinder,master,I72a59956eff99ddd99e8b3bd860e053969e65150,Try nas_secure access with cinder user at retype,NEW,2021-07-29 13:42:09.000000000,2021-08-28 11:44:49.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 13:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/24bf29868ab2935ced4bab61649f9d5e6d6a9f5c', 'message': 'Add option for filesystem operations without root\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail. So we need an option to run some\nactions not with root, but service user.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n'}, {'number': 2, 'created': '2021-07-29 13:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee49fe267196f9add46ae0f5fa827aaa198565a4', 'message': 'Add option for filesystem operations without root\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail. So we need an option to run some\nactions not with root, but service user.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n'}, {'number': 3, 'created': '2021-08-04 15:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4de0c7872d456486d878295ff6575a1a7ccb16dd', 'message': 'Add option for filesystem operations without root\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail. So we need an option to run some\nactions not with root, but service user.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n'}, {'number': 4, 'created': '2021-08-05 09:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/285035fc49d6490854813a39c1e976f955c9389f', 'message': 'Add option for filesystem operations without root\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail. So we need an option to run some\nactions not with root, but service user.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n'}, {'number': 5, 'created': '2021-08-05 09:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b63bf40e1aae25272f4f2fbe5f13a4196cee0e0', 'message': 'Add option for filesystem operations without root\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail. So we need an option to run some\nactions not with root, but service user.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n'}, {'number': 6, 'created': '2021-08-05 14:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73531d19be8a705e5285f81991766604c478e4f3', 'message': 'Use nas_secure_file_operations at retype\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail. So we need an option to run some\nactions not with root, but service user.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n'}, {'number': 7, 'created': '2021-08-09 12:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99adc85fe9774ea58d741a323b11ee8a9918afb5', 'message': ""Use nas_secure_file_operations at retype\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail. So we need an option to run some\nactions not with root, but service user.\n\nWe need to check nas_secure_file_operations therefore also at\nvolume/manager.py but not all backends have this option, due to they\ndon't need this feature.\nTherefore we use `try:` and pass, if the option is not defined.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n""}, {'number': 8, 'created': '2021-08-18 17:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59fab6a730ba76ff88aeebda8e9e2ff39d9a85e0', 'message': ""Try nas_secure access with cinder user at retype\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail.\nBut using the option nas_secure_file_operations to decide to use root or\nnot doesn't work, due to the nfs share can be owned by a other user\n(e.g. libvirt changes volume owner to qemu:qemu)\nSo when nas_secure_file_operations is set to true we try first to\nexecute the command without root user, if it fails, we use root.\n\nWe need to check nas_secure_file_operations therefore also at\nvolume/manager.py but not all backends have this option, due to they\ndon't need this feature.\nTherefore we use `try:` and pass, if the option is not defined.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n""}, {'number': 9, 'created': '2021-08-18 17:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5b70d366e9784b83114e82113027b6a76b0501a', 'message': ""Try nas_secure access with cinder user at retype\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail.\nBut using the option nas_secure_file_operations to decide to use root or\nnot doesn't work, due to the nfs share can be owned by a other user\n(e.g. libvirt changes volume owner to qemu:qemu)\nSo when nas_secure_file_operations is set to true we try first to\nexecute the command without root user, if it fails, we use root.\n\nWe need to check nas_secure_file_operations therefore also at\nvolume/manager.py but not all backends have this option, due to they\ndon't need this feature.\nTherefore we use `try:` and pass, if the option is not defined.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n""}, {'number': 10, 'created': '2021-08-19 10:31:20.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/tests/unit/volume/test_volume_manager.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1a62db5c4ad87ad222a63a96339246216d578cc', 'message': ""Try nas_secure access with cinder user at retype\n\nIn case of NFS Share backend (and maybe others) you can configure to\nallow access only for specific uid at your backend. If root user tries\nto access the share, it will fail.\nBut using the option nas_secure_file_operations to decide to use root or\nnot doesn't work, due to the nfs share can be owned by a other user\n(e.g. libvirt changes volume owner to qemu:qemu)\nSo when nas_secure_file_operations is set to true we try first to\nexecute the command without root user, if it fails, we use root.\n\nWe need to check nas_secure_file_operations therefore also at\nvolume/manager.py but not all backends have this option, due to they\ndon't need this feature.\nTherefore we use `try:` and pass, if the option is not defined.\n\nChange-Id: I72a59956eff99ddd99e8b3bd860e053969e65150\nCloses-Bug: #1938196\n""}]",26,802882,b1a62db5c4ad87ad222a63a96339246216d578cc,180,2,10,26832,,,0,"Try nas_secure access with cinder user at retype

In case of NFS Share backend (and maybe others) you can configure to
allow access only for specific uid at your backend. If root user tries
to access the share, it will fail.
But using the option nas_secure_file_operations to decide to use root or
not doesn't work, due to the nfs share can be owned by a other user
(e.g. libvirt changes volume owner to qemu:qemu)
So when nas_secure_file_operations is set to true we try first to
execute the command without root user, if it fails, we use root.

We need to check nas_secure_file_operations therefore also at
volume/manager.py but not all backends have this option, due to they
don't need this feature.
Therefore we use `try:` and pass, if the option is not defined.

Change-Id: I72a59956eff99ddd99e8b3bd860e053969e65150
Closes-Bug: #1938196
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/802882/5 && git format-patch -1 --stdout FETCH_HEAD,[],0,24bf29868ab2935ced4bab61649f9d5e6d6a9f5c,fix/force_root,,,0,0
openstack%2Fnova~stable%2Fvictoria~If71620e808744736cb4fe3abda76d81a6335311b,openstack/nova,stable/victoria,If71620e808744736cb4fe3abda76d81a6335311b,Avoid modifying the Mock class in test,MERGED,2021-08-24 15:25:58.000000000,2021-08-28 11:28:17.000000000,2021-08-28 11:26:42.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 15:25:58.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1eceeebfb25ccdacdb8c74c5171f0fa9e591ce82', 'message': 'Avoid modifying the Mock class in test\n\nThe rdb unit test defines a shutdown field on the Mock class\nunintentionally. This causes that a later test in the same\nexecutor expecting that mock.Mock().shutdown is a newly auto\ngenerated mock.Mock() but it founds that is an already used\n(called) object. This causes that the later test fails when\nasserting the number of calls on that mock.\n\nThe original intention of the rbd unit test was to catch the\ninstantiation of the Rados object in test so it set Rados = mock.Mock()\nso when the code under test called Rados() it actually called Mock().\nIt worked but it has that huge side effect. Instead of this a proper\nmocking of the constructor can be done in two steps:\n\nrados_inst = mock.Mock()\nRados = mock.Mock(return_value=rados_inst)\n\nThis makes sure that every Rados() call will return rados_inst that is a\nmock without causing Mock class level side effect.\n\nChange-Id: If71620e808744736cb4fe3abda76d81a6335311b\nCloses-Bug: #1936849\n(cherry picked from commit 930b7c992156733fbb4f598488605825d62ebc0c)\n(cherry picked from commit c958fab901be97999c0d117faa31ab53e52a3371)\n'}]",0,805823,1eceeebfb25ccdacdb8c74c5171f0fa9e591ce82,11,4,1,15334,,,0,"Avoid modifying the Mock class in test

The rdb unit test defines a shutdown field on the Mock class
unintentionally. This causes that a later test in the same
executor expecting that mock.Mock().shutdown is a newly auto
generated mock.Mock() but it founds that is an already used
(called) object. This causes that the later test fails when
asserting the number of calls on that mock.

The original intention of the rbd unit test was to catch the
instantiation of the Rados object in test so it set Rados = mock.Mock()
so when the code under test called Rados() it actually called Mock().
It worked but it has that huge side effect. Instead of this a proper
mocking of the constructor can be done in two steps:

rados_inst = mock.Mock()
Rados = mock.Mock(return_value=rados_inst)

This makes sure that every Rados() call will return rados_inst that is a
mock without causing Mock class level side effect.

Change-Id: If71620e808744736cb4fe3abda76d81a6335311b
Closes-Bug: #1936849
(cherry picked from commit 930b7c992156733fbb4f598488605825d62ebc0c)
(cherry picked from commit c958fab901be97999c0d117faa31ab53e52a3371)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/805823/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/storage/test_rbd.py'],1,1eceeebfb25ccdacdb8c74c5171f0fa9e591ce82,bug/1936849," self.mock_rados.Rados = mock.Mock() self.rados_inst = mock.Mock() self.mock_rados.Rados.return_value = self.rados_inst self.rados_inst.ioctx = mock.Mock() self.rados_inst.connect = mock.Mock() self.rados_inst.shutdown = mock.Mock() self.rados_inst.open_ioctx = mock.Mock() self.rados_inst.open_ioctx.return_value = \ self.rados_inst.ioctx self.rados_inst.connect.assert_called_once_with( self.assertTrue(self.rados_inst.open_ioctx.called) self.assertEqual(self.rados_inst.ioctx, ret[1]) self.rados_inst.open_ioctx.assert_called_with(self.rbd_pool) self.rados_inst.connect.assert_called_once_with( self.assertTrue(self.rados_inst.open_ioctx.called) self.assertEqual(self.rados_inst.ioctx, ret[1]) self.rados_inst.open_ioctx.assert_called_with('alt_pool') self.rados_inst.open_ioctx.side_effect = self.mock_rados.Error self.rados_inst.open_ioctx.assert_called_once_with( self.rados_inst.shutdown.assert_called_once_with() self.rados_inst.open_ioctx.assert_called_with("," self.mock_rados.Rados = mock.Mock self.mock_rados.Rados.ioctx = mock.Mock() self.mock_rados.Rados.connect = mock.Mock() self.mock_rados.Rados.shutdown = mock.Mock() self.mock_rados.Rados.open_ioctx = mock.Mock() self.mock_rados.Rados.open_ioctx.return_value = \ self.mock_rados.Rados.ioctx self.mock_rados.Rados.connect.assert_called_once_with( self.assertTrue(self.mock_rados.Rados.open_ioctx.called) self.assertIsInstance(ret[0], self.mock_rados.Rados) self.assertEqual(self.mock_rados.Rados.ioctx, ret[1]) self.mock_rados.Rados.open_ioctx.assert_called_with(self.rbd_pool) self.mock_rados.Rados.connect.assert_called_once_with( self.assertTrue(self.mock_rados.Rados.open_ioctx.called) self.assertIsInstance(ret[0], self.mock_rados.Rados) self.assertEqual(self.mock_rados.Rados.ioctx, ret[1]) self.mock_rados.Rados.open_ioctx.assert_called_with('alt_pool') self.mock_rados.Rados.open_ioctx.side_effect = self.mock_rados.Error self.mock_rados.Rados.open_ioctx.assert_called_once_with( self.mock_rados.Rados.shutdown.assert_called_once_with() self.mock_rados.Rados.open_ioctx.assert_called_with(",21,21
openstack%2Fnova~stable%2Fstein~Iba3b7c3e027ec78395a102c1fed46fa7a2ffa7be,openstack/nova,stable/stein,Iba3b7c3e027ec78395a102c1fed46fa7a2ffa7be,Avoid lazy-loading instance.flavor in cold migration,MERGED,2021-02-10 09:28:37.000000000,2021-08-28 11:22:39.000000000,2021-08-28 11:20:54.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-10 09:28:37.000000000', 'files': ['nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed6d2741dda81eccfdcde7281dce577a589e574d', 'message': ""Avoid lazy-loading instance.flavor in cold migration\n\nThe instance.flavor is lazy-loaded currently in the resize method\nin nova/compute/api.py.\n\nSet expected_attrs=['flavor'] at the common.get_instance\nin the _migrate method\nin nova/api/openstack/compute/migrate_server.py\nto avid lazy-loading instance.flavor.\n\nChange-Id: Iba3b7c3e027ec78395a102c1fed46fa7a2ffa7be\nCloses-Bug: #1829877\n(cherry picked from commit 8f78dc68d99182079ba44f2725ad27ff0078afb1)\n""}]",0,774796,ed6d2741dda81eccfdcde7281dce577a589e574d,33,6,1,9373,,,0,"Avoid lazy-loading instance.flavor in cold migration

The instance.flavor is lazy-loaded currently in the resize method
in nova/compute/api.py.

Set expected_attrs=['flavor'] at the common.get_instance
in the _migrate method
in nova/api/openstack/compute/migrate_server.py
to avid lazy-loading instance.flavor.

Change-Id: Iba3b7c3e027ec78395a102c1fed46fa7a2ffa7be
Closes-Bug: #1829877
(cherry picked from commit 8f78dc68d99182079ba44f2725ad27ff0078afb1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/774796/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",3,ed6d2741dda81eccfdcde7281dce577a589e574d,bug/182987," expected_attrs=['flavor'],"," expected_attrs=None,",11,2
openstack%2Fvalidations-common~master~Ie915024c894cf9b68cb928f6e6fe7e7146f47a0c,openstack/validations-common,master,Ie915024c894cf9b68cb928f6e6fe7e7146f47a0c,Fix ntp validation to check chronyd service status on all nodes,ABANDONED,2021-08-28 09:57:12.000000000,2021-08-28 10:00:24.000000000,,[],"[{'number': 1, 'created': '2021-08-28 09:57:12.000000000', 'files': ['validations_common/playbooks/ntp.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/13c8f8181878938c2296b1efcb05cb9c70f33461', 'message': 'Fix ntp validation to check chronyd service status on all nodes\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: Ie915024c894cf9b68cb928f6e6fe7e7146f47a0c\n'}]",0,806468,13c8f8181878938c2296b1efcb05cb9c70f33461,2,0,1,32240,,,0,"Fix ntp validation to check chronyd service status on all nodes

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: Ie915024c894cf9b68cb928f6e6fe7e7146f47a0c
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/68/806468/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/playbooks/ntp.yaml'],1,13c8f8181878938c2296b1efcb05cb9c70f33461,bug/1941943,- hosts: all,- hosts: localhost,1,1
openstack%2Ftripleo-heat-templates~master~I5453154e48edbf8163c3a671fcfd4c416f5723c2,openstack/tripleo-heat-templates,master,I5453154e48edbf8163c3a671fcfd4c416f5723c2,Include octavia::driver_agent via puppet-tripleo,MERGED,2021-06-29 03:26:28.000000000,2021-08-28 09:15:51.000000000,2021-08-28 09:15:51.000000000,"[{'_account_id': 6681}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-29 03:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19a7e894385201a703e1361a424e55cb5959eb28', 'message': 'Drop inclusion of octavia::driver_agent\n\n... because now it is included by puppet-tripleo automatically.\n\nDepends-on: https://review.opendev.org/798407\nChange-Id: I5453154e48edbf8163c3a671fcfd4c416f5723c2\n'}, {'number': 2, 'created': '2021-08-05 14:13:38.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1896b10e21dda7f9f0eaa8d0c9c8fa933d2a4b42', 'message': 'Include octavia::driver_agent via puppet-tripleo\n\nDepends-on: https://review.opendev.org/798407\nChange-Id: I5453154e48edbf8163c3a671fcfd4c416f5723c2\n'}]",3,798408,1896b10e21dda7f9f0eaa8d0c9c8fa933d2a4b42,21,5,2,9816,,,0,"Include octavia::driver_agent via puppet-tripleo

Depends-on: https://review.opendev.org/798407
Change-Id: I5453154e48edbf8163c3a671fcfd4c416f5723c2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/798408/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,19a7e894385201a703e1361a424e55cb5959eb28,octavia-driver-agent-puppet,," - if: - {get_param: OctaviaEnableDriverAgent} - ""include octavia::driver_agent""",0,3
openstack%2Fkeystone~master~I7dc4c77b5d1ba318ddac97342defb583ed3b1502,openstack/keystone,master,I7dc4c77b5d1ba318ddac97342defb583ed3b1502,Add some missing parameters in docs of oauth,ABANDONED,2021-08-28 08:31:48.000000000,2021-08-28 08:53:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-28 08:31:48.000000000', 'files': ['api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ccfea70351ee74afe0bfadc3a9966bde10927f6', 'message': 'Add some missing parameters in docs of oauth\n\nChange-Id: I7dc4c77b5d1ba318ddac97342defb583ed3b1502\n'}]",0,806466,9ccfea70351ee74afe0bfadc3a9966bde10927f6,3,1,1,33899,,,0,"Add some missing parameters in docs of oauth

Change-Id: I7dc4c77b5d1ba318ddac97342defb583ed3b1502
",git fetch https://review.opendev.org/openstack/keystone refs/changes/66/806466/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3-ext/parameters.yaml'],1,9ccfea70351ee74afe0bfadc3a9966bde10927f6,,request_token_id: description: | The UUID of request_token in: path required: true type: string,request_token_id: description: | The UUID of request_token in: path required: true type: string,6,6
openstack%2Fkeystone~master~Ib7723c2a085cf80e89b52c278c5c5aac60738ea4,openstack/keystone,master,Ib7723c2a085cf80e89b52c278c5c5aac60738ea4,Add some missing parameters in docs of oauth,ABANDONED,2021-08-28 08:11:26.000000000,2021-08-28 08:31:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-28 08:11:26.000000000', 'files': ['api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/08594907d547dc60d190f07f64eec6b5266807cd', 'message': 'Add some missing parameters in docs of oauth\n\nChange-Id: Ib7723c2a085cf80e89b52c278c5c5aac60738ea4\n'}]",0,806465,08594907d547dc60d190f07f64eec6b5266807cd,3,1,1,33899,,,0,"Add some missing parameters in docs of oauth

Change-Id: Ib7723c2a085cf80e89b52c278c5c5aac60738ea4
",git fetch https://review.opendev.org/openstack/keystone refs/changes/65/806465/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3-ext/parameters.yaml'],1,08594907d547dc60d190f07f64eec6b5266807cd,,request_token_id: description: | The UUID of request_token in: path required: true type: string,request_token_id: description: | The UUID of request_token in: path required: true type: string,6,6
openstack%2Fkeystone~master~I0557ef5321513585e1413db716c93324e3dc2747,openstack/keystone,master,I0557ef5321513585e1413db716c93324e3dc2747,Add some missing parameters in docs of oauth,ABANDONED,2021-08-28 04:41:57.000000000,2021-08-28 08:11:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-28 04:41:57.000000000', 'files': ['api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4dd93b326b3fad0bc7ec595ce7808c1a5fd4362', 'message': 'Add some missing parameters in docs of oauth\n\nChange-Id: I0557ef5321513585e1413db716c93324e3dc2747\n'}]",0,806463,d4dd93b326b3fad0bc7ec595ce7808c1a5fd4362,3,1,1,33899,,,0,"Add some missing parameters in docs of oauth

Change-Id: I0557ef5321513585e1413db716c93324e3dc2747
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/806463/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3-ext/parameters.yaml'],1,d4dd93b326b3fad0bc7ec595ce7808c1a5fd4362,,request_token_id: description: | The UUID of request_token in: path required: true type: string,request_token_id: description: | The UUID of request_token in: path required: true type: string,6,6
openstack%2Fwhitebox-tempest-plugin~master~Ibc8a624153523aa14e073c46df2a5c793c5c230f,openstack/whitebox-tempest-plugin,master,Ibc8a624153523aa14e073c46df2a5c793c5c230f,Simplify test_rx_tx_queue_size,MERGED,2021-08-19 20:30:12.000000000,2021-08-28 05:29:25.000000000,2021-08-28 05:29:25.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-19 20:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4ddee2abe24165476cc3bd942181f7ab5c16c726', 'message': 'Simplify test_rx_tx_queue_size\n\nDepend on tempest to create the network and subnet, and inline the\nserver creation to use the defaults and to remove the resource_setup()\n\nChange-Id: Ibc8a624153523aa14e073c46df2a5c793c5c230f\n'}, {'number': 2, 'created': '2021-08-19 22:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/28eaf206253a9cea0022905df43d6185ba4608c1', 'message': 'Simplify test_rx_tx_queue_size\n\nDepend on tempest to create the network and subnet, and inline the\nserver creation to use the defaults and to remove the resource_setup()\n\nChange-Id: Ibc8a624153523aa14e073c46df2a5c793c5c230f\n'}, {'number': 3, 'created': '2021-08-20 00:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ea3dbeb1d11bd2bf48fff243b935c8969492afdf', 'message': 'Simplify test_rx_tx_queue_size\n\nDepend on tempest to create the network and subnet, and inline the\nserver creation to use the defaults and to remove the resource_setup()\n\nChange-Id: Ibc8a624153523aa14e073c46df2a5c793c5c230f\n'}, {'number': 4, 'created': '2021-08-20 01:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6ded240e86a0cad5da09385ea0d9ca37529119b5', 'message': 'Simplify test_rx_tx_queue_size\n\nDepend on tempest to create the network and subnet, and inline the\nserver creation to use the defaults and to remove the resource_setup()\n\nChange-Id: Ibc8a624153523aa14e073c46df2a5c793c5c230f\n'}, {'number': 5, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/7a619538556daf30dec87328ad6ec5606591abd2', 'message': 'Simplify test_rx_tx_queue_size\n\nDepend on tempest to create the network and subnet, and inline the\nserver creation to use the defaults and to remove the resource_setup()\n\nChange-Id: Ibc8a624153523aa14e073c46df2a5c793c5c230f\n'}, {'number': 6, 'created': '2021-08-25 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4a7a35b3dc00ec216c4ef53f0cf587fa1cf1e0f7', 'message': 'Simplify test_rx_tx_queue_size\n\nDepend on tempest to create the network and subnet, and inline the\nserver creation to use the defaults and to remove the resource_setup()\n\nChange-Id: Ibc8a624153523aa14e073c46df2a5c793c5c230f\n'}, {'number': 7, 'created': '2021-08-27 22:38:09.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_rx_tx_queue_size.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8431ed7405a585d4e7b5091a0c5b240888747175', 'message': 'Simplify test_rx_tx_queue_size\n\nDepend on tempest to create the network and subnet, and inline the\nserver creation to use the defaults and to remove the resource_setup()\n\nChange-Id: Ibc8a624153523aa14e073c46df2a5c793c5c230f\n'}]",0,805297,8431ed7405a585d4e7b5091a0c5b240888747175,29,3,7,8864,,,0,"Simplify test_rx_tx_queue_size

Depend on tempest to create the network and subnet, and inline the
server creation to use the defaults and to remove the resource_setup()

Change-Id: Ibc8a624153523aa14e073c46df2a5c793c5c230f
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/97/805297/6 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/compute/test_rx_tx_queue_size.py'],1,4ddee2abe24165476cc3bd942181f7ab5c16c726,interface_change_rx_queue, create_default_network = True server = self.create_test_server() domain = self.get_server_xml(server['id']),"from tempest.common import waitersfrom tempest.lib.common.utils import data_utils @classmethod def setup_clients(cls): super(RxTxQueueSizeTest, cls).setup_clients() cls.networks_client = cls.os_primary.networks_client cls.subnets_client = cls.os_primary.subnets_client @classmethod def resource_setup(cls): # Create a network, a subnet and a server with an interface on # this network. super(RxTxQueueSizeTest, cls).resource_setup() name_net = data_utils.rand_name(cls.__class__.__name__) LOG.debug(""Creating network %s"", name_net) net = cls.networks_client.create_network(name=name_net) cls.addClassResourceCleanup(cls.networks_client.delete_network, net['network']['id']) LOG.debug(""Creating subnet for network %s"", net['network']['id']) subnet = cls.subnets_client.create_subnet( network_id=net['network']['id'], cidr='19.80.0.0/24', # randomly copied from an existing test ip_version=4) cls.addClassResourceCleanup(cls.subnets_client.delete_subnet, subnet['subnet']['id']) name_server = data_utils.rand_name(cls.__class__.__name__ + ""-server"") image_id = CONF.compute.image_ref flavor = CONF.compute.flavor_ref networks = [{'uuid': net['network']['id']}] body = cls.servers_client.create_server(name=name_server, imageRef=image_id, flavorRef=flavor, networks=networks) cls.server_id = body['server']['id'] waiters.wait_for_server_status(cls.servers_client, cls.server_id, ""ACTIVE"") cls.addClassResourceCleanup(cls.delete_server, cls.server_id) domain = self.get_server_xml(self.server_id)",3,41
openstack%2Fneutron~master~I36ede6028e8033228811dd9b7c27bd1a0f815f37,openstack/neutron,master,I36ede6028e8033228811dd9b7c27bd1a0f815f37,Remove shim in trunk/rpc/backend.py,MERGED,2021-08-20 15:06:05.000000000,2021-08-28 04:50:15.000000000,2021-08-25 13:38:24.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 15:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0e1cdd36a8f05fa718c160580e43bd49a7739ce', 'message': 'Remove shim in trunk/rpc/backend.py\n\nAll events use callback payloads, so can be removed\n\nChange-Id: I36ede6028e8033228811dd9b7c27bd1a0f815f37\n'}, {'number': 2, 'created': '2021-08-20 17:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc45818c19ce1893413f41a01736c94fef216e14', 'message': 'Remove shim in trunk/rpc/backend.py\n\nAll events use callback payloads, so can be removed\n\nChange-Id: I36ede6028e8033228811dd9b7c27bd1a0f815f37\n'}, {'number': 3, 'created': '2021-08-23 07:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6e5a1db494f2b53315aa262ce3b74de891833c6', 'message': 'Remove shim in trunk/rpc/backend.py\n\nAll events use callback payloads, so can be removed\n\nChange-Id: I36ede6028e8033228811dd9b7c27bd1a0f815f37\n'}, {'number': 4, 'created': '2021-08-23 07:30:17.000000000', 'files': ['neutron/tests/unit/services/trunk/rpc/test_backend.py', 'neutron/services/trunk/rpc/backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21986f2be5a9e4bacd84e7bf4d040aa3a37c0e4c', 'message': 'Remove shim in trunk/rpc/backend.py\n\nAll events use callback payloads, so can be removed\n\nChange-Id: I36ede6028e8033228811dd9b7c27bd1a0f815f37\n'}]",3,805404,21986f2be5a9e4bacd84e7bf4d040aa3a37c0e4c,75,4,4,32667,,,0,"Remove shim in trunk/rpc/backend.py

All events use callback payloads, so can be removed

Change-Id: I36ede6028e8033228811dd9b7c27bd1a0f815f37
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/805404/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/trunk/rpc/test_backend.py', 'neutron/services/trunk/rpc/backend.py']",2,f0e1cdd36a8f05fa718c160580e43bd49a7739ce,trunk_todo," for event_type in (events.AFTER_CREATE, events.AFTER_DELETE): registry.subcribe(self.process_event, resources.TRUNK, event_type) registry.subcribe(self.process_event, resources.SUBPORTS, event_type) def process_event(self, resource, event, trunk_plugin, payload): if resource == resources.SUBPORTS: payload = payload.metadata['subports'] method = { events.AFTER_CREATE: self._stub.subports_added, events.AFTER_DELETE: self._stub.subports_deleted, } else: payload = payload.latest_state method = { events.AFTER_CREATE: self._stub.trunk_created, events.AFTER_DELETE: self._stub.trunk_deleted, }"," @registry.receives(resources.TRUNK, [events.AFTER_DELETE, events.AFTER_CREATE]) def process_trunk_payload_event(self, resource, event, trunk_plugin, payload=None): """"""Emit RPC notifications to registered subscribers."""""" # TODO(boden): refactor back into process_event once all events use # callback payloads context = payload.context LOG.debug(""RPC notification needed for trunk %s"", payload.resource_id) # On AFTER_DELETE event, current_trunk is None payload = payload.latest_state method = { events.AFTER_CREATE: self._stub.trunk_created, events.AFTER_DELETE: self._stub.trunk_deleted, } LOG.debug(""Emitting event %s for resource %s"", event, resource) method[event](context, payload) @registry.receives(resources.SUBPORTS, [events.AFTER_CREATE, events.AFTER_DELETE]) def process_event(self, resource, event, trunk_plugin, payload=None): payload = payload.metadata['subports'] method = { events.AFTER_CREATE: self._stub.subports_added, events.AFTER_DELETE: self._stub.subports_deleted, }",23,31
openstack%2Fkeystone~master~Id5ecfa7602c3792b529a4a7d81c5bd466769a0e8,openstack/keystone,master,Id5ecfa7602c3792b529a4a7d81c5bd466769a0e8,Add some missing parameters in docs of oauth,ABANDONED,2021-08-28 04:25:15.000000000,2021-08-28 04:41:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-28 04:25:15.000000000', 'files': ['api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/af53e0a18676815fd71c85096a32085506971d87', 'message': 'Add some missing parameters in docs of oauth\n\nChange-Id: Id5ecfa7602c3792b529a4a7d81c5bd466769a0e8\n'}]",0,806462,af53e0a18676815fd71c85096a32085506971d87,3,1,1,33899,,,0,"Add some missing parameters in docs of oauth

Change-Id: Id5ecfa7602c3792b529a4a7d81c5bd466769a0e8
",git fetch https://review.opendev.org/openstack/keystone refs/changes/62/806462/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3-ext/parameters.yaml'],1,af53e0a18676815fd71c85096a32085506971d87,,request_token_id: description: | The UUID of request_token in: path required: true type: string,request_token_id: description: | The UUID of request_token in: path required: true type: string,6,6
openstack%2Fkeystone~master~I9fcdf44886688148390270bb66b59b1e15a8c0fc,openstack/keystone,master,I9fcdf44886688148390270bb66b59b1e15a8c0fc,Add some missing parameters in docs of oauth,ABANDONED,2021-08-28 04:04:22.000000000,2021-08-28 04:40:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-28 04:04:22.000000000', 'files': ['api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5368e5ae6eddc8426251749ce216d62a0dc6bbb1', 'message': 'Add some missing parameters in docs of oauth\n\nChange-Id: I9fcdf44886688148390270bb66b59b1e15a8c0fc\n'}]",0,806459,5368e5ae6eddc8426251749ce216d62a0dc6bbb1,3,1,1,33899,,,0,"Add some missing parameters in docs of oauth

Change-Id: I9fcdf44886688148390270bb66b59b1e15a8c0fc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/806459/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3-ext/parameters.yaml'],1,5368e5ae6eddc8426251749ce216d62a0dc6bbb1,,request_token_id: description: | The UUID of request_token in: path required: true type: string,request_token_id: description: | The UUID of request_token in: path required: true type: string,6,6
openstack%2Fpuppet-ironic~master~Id3198aa9a51879d8c03cc7d9aa5a8434ae7ed51a,openstack/puppet-ironic,master,Id3198aa9a51879d8c03cc7d9aa5a8434ae7ed51a,DNM: Deploy tftp server without xinetd,ABANDONED,2021-08-13 00:11:16.000000000,2021-08-28 04:23:51.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-13 00:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/94cab90d1ad30064bb8507567044b14fc65b81cd', 'message': 'DNM: Deploy tftp server without xinetd\n\nChange-Id: Id3198aa9a51879d8c03cc7d9aa5a8434ae7ed51a\n'}, {'number': 2, 'created': '2021-08-13 01:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2003d8f43d91a5579e77b330be29192d2aa824b8', 'message': 'DNM: Deploy tftp server without xinetd\n\nChange-Id: Id3198aa9a51879d8c03cc7d9aa5a8434ae7ed51a\n'}, {'number': 3, 'created': '2021-08-13 03:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/02da98818cb9d0e20d32031b87c60f3e250b19e5', 'message': 'DNM: Deploy tftp server without xinetd\n\nChange-Id: Id3198aa9a51879d8c03cc7d9aa5a8434ae7ed51a\n'}, {'number': 4, 'created': '2021-08-13 05:05:20.000000000', 'files': ['templates/ironic-dnsmasq-tftp.service.erb', 'manifests/params.pp', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7c7a0555b12664f27a1e0b7e83c21854e75edd07', 'message': 'DNM: Deploy tftp server without xinetd\n\nChange-Id: Id3198aa9a51879d8c03cc7d9aa5a8434ae7ed51a\n'}]",0,804467,7c7a0555b12664f27a1e0b7e83c21854e75edd07,10,2,4,9816,,,0,"DNM: Deploy tftp server without xinetd

Change-Id: Id3198aa9a51879d8c03cc7d9aa5a8434ae7ed51a
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/67/804467/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ironic-dnsmasq-tftp.service.erb', 'manifests/params.pp', 'manifests/pxe.pp']",3,94cab90d1ad30064bb8507567044b14fc65b81cd,xinetd-removal,"# [*tftp_use_xinetd*] # (optional) Whether xinetd is used for tftp server. # Defaults to ironic::params::use_xinetd # $tftp_use_ixnetd = $::ironic::params::use_xinetd if $tftp_use_xinetd { if ! $::ironic::params::use_xinetd { fail('xinetd is not available. Use tftp_use_xinetd=false') } ensure_resource( 'package', 'tftp-server', { 'ensure' => $package_ensure, 'name' => $::ironic::params::tftpd_package, 'tag' => ['openstack', 'ironic-ipxe', 'ironic-support-package'], }) $options = ""--map-file ${tftp_root_real}/map-file"" include xinetd xinetd::service { 'tftp': port => '69', bind => $tftp_bind_host, protocol => 'udp', server_args => ""${options} ${tftp_root_real}"", server => '/usr/sbin/in.tftpd', socket_type => 'dgram', cps => '100 2', per_source => '11', wait => 'yes', subscribe => Anchor['ironic::install::end'], } file { ""${tftp_root_real}/map-file"": ensure => 'present', content => ""r ^([^/]) ${tftp_root_real}/\\1"", } } else { # TODO(tkajinam): Cleanup existing settings for xinetd ensure_resource( 'package', 'dnsmasq', { 'ensure' => $package_ensure, 'name' => $::ironic::params::dnsmasq_package, 'tag' => ['openstack', 'ironic-ipxe', 'ironic-support-package'], }) file { 'ironic-dnsmasq-tftp.service': ensure => 'present', path => ""/etc/systemd/system/${::ironic::params::dnsmasq_tftp_service}.service"", mode => '0644', owner => 'root', group => 'root', content => template('ironic/ironic-dnsmasq-tftp.service.erb'), } exec { 'ironic-dnsmasq-tftp-reload': command => 'systemctl daemon-reload', refreshonly => true, subscribe => File['ironic-dnsmasq-tftp.service'], path => [ '/bin/', '/usr/bin' ], } service { 'ironic-dnsmasq-tftp': ensure => 'running', name => $::ironic::params::dnsmasq_tftp_service, enable => true, hasstatus => true, subscribe => Exec['ironic-dnsmasq-tftp-reload'], } Package['dnsmasq'] ~> Service['ironic-dnsmasq-tftp']"," ensure_resource( 'package', 'tftp-server', { 'ensure' => $package_ensure, 'name' => $::ironic::params::tftpd_package, 'tag' => ['openstack', 'ironic-ipxe', 'ironic-support-package'], }) $options = ""--map-file ${tftp_root_real}/map-file"" include xinetd xinetd::service { 'tftp': port => '69', bind => $tftp_bind_host, protocol => 'udp', server_args => ""${options} ${tftp_root_real}"", server => '/usr/sbin/in.tftpd', socket_type => 'dgram', cps => '100 2', per_source => '11', wait => 'yes', subscribe => Anchor['ironic::install::end'], } file { ""${tftp_root_real}/map-file"": ensure => 'present', content => ""r ^([^/]) ${tftp_root_real}/\\1"",",87,22
openstack%2Fkeystone~master~Ia72302c2667d88aeecdb4ccda5d0899fa0639fef,openstack/keystone,master,Ia72302c2667d88aeecdb4ccda5d0899fa0639fef,Add some missing parameters in docs of oauth,ABANDONED,2021-08-28 03:45:56.000000000,2021-08-28 04:04:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-28 03:45:56.000000000', 'files': ['api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6259ddd16f3868dfeb0da5b1034d719f031082a7', 'message': 'Add some missing parameters in docs of oauth\n\nChange-Id: Ia72302c2667d88aeecdb4ccda5d0899fa0639fef\n'}]",0,806458,6259ddd16f3868dfeb0da5b1034d719f031082a7,3,1,1,33899,,,0,"Add some missing parameters in docs of oauth

Change-Id: Ia72302c2667d88aeecdb4ccda5d0899fa0639fef
",git fetch https://review.opendev.org/openstack/keystone refs/changes/58/806458/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3-ext/parameters.yaml'],1,6259ddd16f3868dfeb0da5b1034d719f031082a7,,request_token_id: description: | The UUID of request_token in: path required: true type: string,request_token_id: description: | The UUID of request_token in: path required: true type: string,6,6
openstack%2Fkeystone~master~Ibab7ddd350d1ce2f840bf3fe07f0002cbcb2a2bd,openstack/keystone,master,Ibab7ddd350d1ce2f840bf3fe07f0002cbcb2a2bd,Add some missing parameters in docs of oauth,ABANDONED,2021-08-28 03:20:23.000000000,2021-08-28 03:45:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-28 03:20:23.000000000', 'files': ['api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8573e7dbf0911b99456e9dc77a1b27aeca813a6e', 'message': 'Add some missing parameters in docs of oauth\n\nChange-Id: Ibab7ddd350d1ce2f840bf3fe07f0002cbcb2a2bd\n'}]",0,806457,8573e7dbf0911b99456e9dc77a1b27aeca813a6e,3,1,1,33899,,,0,"Add some missing parameters in docs of oauth

Change-Id: Ibab7ddd350d1ce2f840bf3fe07f0002cbcb2a2bd
",git fetch https://review.opendev.org/openstack/keystone refs/changes/57/806457/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3-ext/parameters.yaml'],1,8573e7dbf0911b99456e9dc77a1b27aeca813a6e,,request_token_id: description: | The UUID of request_token in: path required: true type: string,request_token_id: description: | The UUID of request_token in: path required: true type: string,6,6
openstack%2Frequirements~master~Ia7cc0854c824214e048558f28f2231b94185b0a6,openstack/requirements,master,Ia7cc0854c824214e048558f28f2231b94185b0a6,update constraint for openstacksdk to new release 0.59.0,MERGED,2021-08-27 14:36:40.000000000,2021-08-28 03:37:48.000000000,2021-08-28 03:36:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-27 14:36:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e7c49a4171698f072514879dd987cd6ae5829132', 'message': 'update constraint for openstacksdk to new release 0.59.0\n\nmeta: version: 0.59.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ia50a671ba83d83deecefc084e352fc641dbfb45d\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ia7cc0854c824214e048558f28f2231b94185b0a6\n'}]",0,806418,e7c49a4171698f072514879dd987cd6ae5829132,19,3,1,11131,,,0,"update constraint for openstacksdk to new release 0.59.0

meta: version: 0.59.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ia50a671ba83d83deecefc084e352fc641dbfb45d
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ia7cc0854c824214e048558f28f2231b94185b0a6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/806418/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e7c49a4171698f072514879dd987cd6ae5829132,new-release,openstacksdk===0.59.0,openstacksdk===0.58.0,1,1
openstack%2Fkeystone~master~Ie588736bf43ee102d3a72aa9f44ced0523e58e1f,openstack/keystone,master,Ie588736bf43ee102d3a72aa9f44ced0523e58e1f,Add some missing parameters in docs of oauth,ABANDONED,2021-08-28 02:56:01.000000000,2021-08-28 03:18:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-28 02:56:01.000000000', 'files': ['api-ref/source/v3-ext/oauth.inc', 'api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f2871159298813b5dde4cb4373613f1211d33191', 'message': 'Add some missing parameters in docs of oauth\n\nChange-Id: Ie588736bf43ee102d3a72aa9f44ced0523e58e1f\n'}]",0,806456,f2871159298813b5dde4cb4373613f1211d33191,3,1,1,33899,,,0,"Add some missing parameters in docs of oauth

Change-Id: Ie588736bf43ee102d3a72aa9f44ced0523e58e1f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/56/806456/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3-ext/oauth.inc', 'api-ref/source/v3-ext/parameters.yaml']",2,f2871159298813b5dde4cb4373613f1211d33191,,request_token_id: description: | The UUID of request_token in: path required: true type: string,,10,0
openstack%2Fwhitebox-tempest-plugin~master~Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577,openstack/whitebox-tempest-plugin,master,Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577,Simplify test_pointer_device_type,MERGED,2021-08-19 20:30:12.000000000,2021-08-28 01:49:57.000000000,2021-08-28 01:49:57.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-19 20:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/87ff1e441ca4c25e30ed670f9a51b39746b2c6f9', 'message': 'Simplify test_pointer_device_type\n\nLose the needless setup_clients(), and inline the verification.\n\nChange-Id: Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577\n'}, {'number': 2, 'created': '2021-08-19 22:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/464a6db4b8830db70b480cd7d8d401d5a082cee7', 'message': 'Simplify test_pointer_device_type\n\nLose the needless setup_clients(), and inline the verification.\n\nChange-Id: Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577\n'}, {'number': 3, 'created': '2021-08-20 00:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/93e91b17bc1c348df27fddbffaf0cbe0fdf24717', 'message': 'Simplify test_pointer_device_type\n\nLose the needless setup_clients(), and inline the verification.\n\nChange-Id: Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577\n'}, {'number': 4, 'created': '2021-08-20 01:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ee3a9b602be5daa950d0b69ccfb10157cf8617f2', 'message': 'Simplify test_pointer_device_type\n\nLose the needless setup_clients(), and inline the verification.\n\nChange-Id: Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577\n'}, {'number': 5, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d24665bbd38041048715b5f9323562650b783a66', 'message': 'Simplify test_pointer_device_type\n\nLose the needless setup_clients(), and inline the verification.\n\nChange-Id: Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577\n'}, {'number': 6, 'created': '2021-08-25 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/1b654bd70ad21296e935e4befad277fa517c0a28', 'message': 'Simplify test_pointer_device_type\n\nLose the needless setup_clients(), and inline the verification.\n\nChange-Id: Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577\n'}, {'number': 7, 'created': '2021-08-27 22:38:09.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_pointer_device_type.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4b5517a26878c709d4187253937aab54c95e2e33', 'message': 'Simplify test_pointer_device_type\n\nLose the needless setup_clients(), and inline the verification.\n\nChange-Id: Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577\n'}]",0,805296,4b5517a26878c709d4187253937aab54c95e2e33,25,3,7,8864,,,0,"Simplify test_pointer_device_type

Lose the needless setup_clients(), and inline the verification.

Change-Id: Ibcd3cc88676f3a3a54a8e6c86fd1c6ab3fd07577
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/96/805296/6 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/compute/test_pointer_device_type.py'],1,87ff1e441ca4c25e30ed670f9a51b39746b2c6f9,interface_change_rx_queue," domain = self.get_server_xml(server['id']) tablet = domain.find('./input[@type=""tablet""][@bus=""usb""]') mouse = domain.find('./input[@type=""mouse""][@bus=""ps2""]') self.assertTrue(tablet) self.assertTrue(mouse)"," @classmethod def setup_clients(cls): super(PointerDeviceTypeFromImages, cls).setup_clients() cls.compute_images_client = cls.os_admin.compute_images_client def _verify_pointer_device_type_from_images(self, server_id): domain = self.get_server_xml(server_id).text tablet = domain.find('./input[@type=""tablet""][@bus=""usb""]') mouse = domain.find('./input[@type=""mouse""][@bus=""ps2""]') self.assertTrue(tablet) self.assertTrue(mouse) self._verify_pointer_device_type_from_images(server['id'])",5,14
openstack%2Fpuppet-ironic~master~I2aedf7fd80d2377fc0d906f9f32171b6d1f44d0a,openstack/puppet-ironic,master,I2aedf7fd80d2377fc0d906f9f32171b6d1f44d0a,CentOS9: Use inspector-dnsmasq for TFTP server by default,ABANDONED,2021-08-26 21:14:25.000000000,2021-08-28 00:18:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-26 21:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/02fbe8906c09d03b92b87b48ab0cd35c803dcd40', 'message': 'CentOS9: Use inspector-dnsmasq for TFTP server by default\n\nThe tftp-server package and the xinetd package is no longer available\nsince CentOS9/RHEL9.\n\nThis change ensures TFTP server of inspector-dnsmasq process us used by\ndefault as replacement of xinetd+tftpd.\n\nChange-Id: I2aedf7fd80d2377fc0d906f9f32171b6d1f44d0a\n'}, {'number': 2, 'created': '2021-08-26 21:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/91ef91f9f72c70c31a0b0ab148bae9856891c12c', 'message': 'CentOS9: Use inspector-dnsmasq for TFTP server by default\n\nThe tftp-server package and the xinetd package is no longer available\nsince CentOS9/RHEL9.\n\nThis change ensures TFTP server of inspector-dnsmasq process us used by\ndefault as replacement of xinetd+tftpd.\n\nChange-Id: I2aedf7fd80d2377fc0d906f9f32171b6d1f44d0a\n'}, {'number': 3, 'created': '2021-08-27 03:23:04.000000000', 'files': ['manifests/inspector.pp', 'manifests/params.pp', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9641eb26b4e51981765d322b99f8628e06ee8f5d', 'message': 'CentOS9: Use inspector-dnsmasq for TFTP server by default\n\nThe tftp-server package and the xinetd package is no longer available\nsince CentOS9/RHEL9.\n\nThis change ensures TFTP server of inspector-dnsmasq process us used by\ndefault as replacement of xinetd+tftpd.\n\nChange-Id: I2aedf7fd80d2377fc0d906f9f32171b6d1f44d0a\n'}]",0,806278,9641eb26b4e51981765d322b99f8628e06ee8f5d,6,1,3,9816,,,0,"CentOS9: Use inspector-dnsmasq for TFTP server by default

The tftp-server package and the xinetd package is no longer available
since CentOS9/RHEL9.

This change ensures TFTP server of inspector-dnsmasq process us used by
default as replacement of xinetd+tftpd.

Change-Id: I2aedf7fd80d2377fc0d906f9f32171b6d1f44d0a
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/78/806278/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/inspector.pp', 'manifests/params.pp', 'manifests/pxe.pp']",3,02fbe8906c09d03b92b87b48ab0cd35c803dcd40,tftp,"# Defaults to $::ironic::params::xinetd_available $enable_xinetd = $::ironic::params::xinetd_available, if ! $::ironic::params::xinetd_available { fail('xinetd package is not available') } if $::ironic::params::xinetd_available { # NOTE(tkajinam): Because usage of xinetd::service would install the xinetd # package and enables its service, we leave the cleanup for # users. warning('tftp service is not automatically removed from xinetd. Make sure it is disabled') file { ""${tftp_root_real}/map-file"": ensure => 'absent', }","# Defaults to true $enable_xinetd = true, # NOTE(tkajinam): Because usage of xinetd::service would install the xinetd # package and enables its service, we leave the cleanup for # users. warning('tftp service is not automatically removed from xinetd. Make sure it is disabled') file { ""${tftp_root_real}/map-file"": ensure => 'absent',",25,13
openstack%2Fpuppet-ironic~master~I5e829d504a6b5b981d8859b993934570d3341da2,openstack/puppet-ironic,master,I5e829d504a6b5b981d8859b993934570d3341da2,Allow using ironic-inspector-dnsmasq for tftp server,ABANDONED,2021-08-26 21:03:45.000000000,2021-08-28 00:18:34.000000000,,"[{'_account_id': 9816}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 21:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e964490f92c2ab7ddb15fa6c0e4cc9692011a828', 'message': ""Allow using ironic-inspector-dnsmasq for tftp server\n\nThis change is a prep work to support CentOS9 which doesn't provide\neither tftpd or xinetd, and allow usage of ironic-inspector-dnsmasq\nservice to provide TFTP server instead of xinetd.\n\nChange-Id: I5e829d504a6b5b981d8859b993934570d3341da2\n""}, {'number': 2, 'created': '2021-08-26 21:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/54d0353436d3968771a74dacf45aba796ed57539', 'message': ""Allow using ironic-inspector-dnsmasq for tftp server\n\nThis change is a prep work to support CentOS9 which doesn't provide\neither tftpd or xinetd, and allow usage of ironic-inspector-dnsmasq\nservice to provide TFTP server instead of xinetd.\n\nChange-Id: I5e829d504a6b5b981d8859b993934570d3341da2\n""}, {'number': 3, 'created': '2021-08-27 03:23:04.000000000', 'files': ['templates/inspector_dnsmasq_tftp.erb', 'manifests/inspector.pp', 'manifests/pxe.pp', 'spec/classes/ironic_pxe_spec.rb', 'templates/inspector_dnsmasq_http.erb', 'releasenotes/notes/tftp-server-by-inspector-dnsmasq-d450197d69732fc6.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a5e5c0686f2b90ffc0f74b512164a60e1f8d6af4', 'message': ""Allow using ironic-inspector-dnsmasq for tftp server\n\nThis change is a prep work to support CentOS9 which doesn't provide\neither tftpd or xinetd, and allow usage of ironic-inspector-dnsmasq\nservice to provide TFTP server instead of xinetd.\n\nChange-Id: I5e829d504a6b5b981d8859b993934570d3341da2\n""}]",1,806276,a5e5c0686f2b90ffc0f74b512164a60e1f8d6af4,10,3,3,9816,,,0,"Allow using ironic-inspector-dnsmasq for tftp server

This change is a prep work to support CentOS9 which doesn't provide
either tftpd or xinetd, and allow usage of ironic-inspector-dnsmasq
service to provide TFTP server instead of xinetd.

Change-Id: I5e829d504a6b5b981d8859b993934570d3341da2
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/76/806276/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/inspector_dnsmasq_tftp.erb', 'manifests/inspector.pp', 'manifests/pxe.pp', 'releasenotes/notes/tftp-server-by-inspector-dnsmasq-d450197d69732fc6.yaml', 'spec/classes/ironic_pxe_spec.rb', 'templates/inspector_dnsmasq_http.erb']",6,e964490f92c2ab7ddb15fa6c0e4cc9692011a828,tftp,<% if @dnsmasq_enable_tftp %> enable-tftp tftp-root=<%= @tftp_root_real %> <% end %>,,73,19
openstack%2Fsushy~master~Ieab097c63f218c3c262f013c29495f5393dd3cfc,openstack/sushy,master,Ieab097c63f218c3c262f013c29495f5393dd3cfc,Change defaults - optional insert_media attributes,NEW,2021-07-27 10:37:37.000000000,2021-08-27 23:03:39.000000000,,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 28533}, {'_account_id': 31616}, {'_account_id': 32177}]","[{'number': 1, 'created': '2021-07-27 10:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/310cd4c2421f2f37ac2bb7f1dd6baf040a3f305b', 'message': ""Remove optional attributes from insert_media\n\nInserted and WriteProtected attributes are optional and have reasonable\ndefault values. Specifying them in every insert_media call can cause\nissues on BMC that do not support these and not having them should't\ncause any issues. Removing Inserted and WriteProtected attributes from\ninsert_media payload to improve compatibility with a wider range of\nBMCs.\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 2, 'created': '2021-07-27 10:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/9e080105475f5bbd52dc8d05b7d521073ce23c53', 'message': ""[WIP] Remove optional attributes from insert_media\n\nInserted and WriteProtected attributes are optional and have reasonable\ndefault values. Specifying them in every insert_media call can cause\nissues on BMC that do not support these and not having them should't\ncause any issues. Removing Inserted and WriteProtected attributes from\ninsert_media payload to improve compatibility with a wider range of\nBMCs.\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 3, 'created': '2021-07-28 00:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1d71ead07007b4d5acfb39c26fd6e5594e11125f', 'message': ""[WIP] Remove optional attributes from insert_media\n\nInserted and WriteProtected attributes to InsertMedia are optional and have\nreasonable default values. Specifying them in every insert_media call can\ncause issues on BMC that do not support these and not having them should't\ncause any issues. Setting default values of Inserted and WriteProtected\nattributes in insert_media to None payload to improve compatibility with\na wider range of BMCs.\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 4, 'created': '2021-07-28 00:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1cd7d2faec770a5541194a5cc9f5c9916113468f', 'message': 'Change defaults - optional insert_media attributes\n\nInserted and WriteProtected attributes to insert_media are optional and should\nhave reasonable default values on the BMC side. Specifying them in every\ninsert_media call can cause issues on those BMCs that treat them as read-only and not\nspecifying these attributes at all should not cause issues.\nSetting default values of Inserted and WriteProtected attributes in\ninsert_media to None (and hence removing them from the request payload by default)\nto improve compatibility with a wider range of BMCs.\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}, {'number': 5, 'created': '2021-07-28 00:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a1821782991d2dc2abd31d2f09af526793cf0a3a', 'message': 'Change defaults - optional insert_media attributes\n\nInserted and WriteProtected attributes to insert_media are optional and should\nhave reasonable default values on the BMC side. Specifying them in every\ninsert_media call can cause issues on those BMCs that treat them as read-only and not\nspecifying these attributes at all should not cause issues.\nSetting default values of Inserted and WriteProtected attributes in\ninsert_media to None (and hence removing them from the request payload by default)\nto improve compatibility with a wider range of BMCs.\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}, {'number': 6, 'created': '2021-07-28 04:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/2601b60d13b5759eef69f7d7a98785a4a0f7cbb8', 'message': 'Change defaults - optional insert_media attributes\n\nInserted and WriteProtected attributes to insert_media are optional and should\nhave reasonable default values on the BMC side. Specifying them in every\ninsert_media call can cause issues on those BMCs that treat them as read-only and not\nspecifying these attributes at all should not cause issues.\nSetting default values of Inserted and WriteProtected attributes in\ninsert_media to None (and hence removing them from the request payload by default)\nto improve compatibility with a wider range of BMCs.\nBugzilla reference: https://bugzilla.redhat.com/show_bug.cgi?id=1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}, {'number': 7, 'created': '2021-07-28 10:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a73e029b644e2d9161a1ec48f8f79bfd5365354f', 'message': 'Change defaults - optional insert_media attributes\n\nInserted and WriteProtected attributes to insert_media are optional and should\nhave reasonable default values on the BMC side. Specifying them in every\ninsert_media call can cause issues on those BMCs that treat them as read-only and not\nspecifying these attributes at all should not cause issues.\nSetting default values of Inserted and WriteProtected attributes in\ninsert_media to None (and hence removing them from the request payload by default)\nto improve compatibility with a wider range of BMCs.\nBugzilla reference: https://bugzilla.redhat.com/show_bug.cgi?id=1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}, {'number': 8, 'created': '2021-07-28 12:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/8a46c321b2de0175b21cd38ee82a4af0d4e3b39d', 'message': 'Change defaults - optional insert_media attributes\n\nUpdating default values of Inserted and WriteProtected attributes in\nVirtualMedia::insert_media() to None. This is a more simple and clear way of\nremoving these fields from the Redefish API request payload than the previous\napproach of checking these attributes are set to defaults and if this the case\nremoving them from payload.\n\nBugzilla reference: https://bugzilla.redhat.com/show_bug.cgi?id=1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n'}, {'number': 9, 'created': '2021-07-29 01:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b6d72407f03eb3814b0bc1c5cc19da74d78dd023', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes in\nVirtualMedia::insert_media() to None. This is a more simple and clear way of\nremoving these fields from the Redfish API request payload than the previous\napproach of checking these attributes are set to defaults and if this the case\nremoving them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 10, 'created': '2021-08-02 11:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/db2a613bb5b6716104f5824f26a4650ffd4cef14', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes in\nVirtualMedia::insert_media() to None. This is a more simple and clear way of\nremoving these fields from the Redfish API request payload than the previous\napproach of checking these attributes are set to defaults and if this the case\nremoving them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 11, 'created': '2021-08-20 01:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/6496060f31fa92d5ba3c93a02fe814ffae5851be', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes in\nVirtualMedia::insert_media() to None. This is a more simple and clear way of\nremoving these fields from the Redfish API request payload than the previous\napproach of checking these attributes are set to defaults and if this the case\nremoving them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 12, 'created': '2021-08-20 01:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/eeb31fc0cae6e603351ba1f3882911814bd3b049', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes in\nVirtualMedia::insert_media() to None. This is a more simple and clear way of\nremoving these fields from the Redfish API request payload than the previous\napproach of checking these attributes are set to defaults and if this the case\nremoving them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 13, 'created': '2021-08-20 05:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/604fb5e5b9e293de66a6d03a7ea85b4c02ee3cf0', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes in\nVirtualMedia::insert_media() to None. This is a more simple and clear way of\nremoving these fields from the Redfish API request payload than the previous\napproach of checking these attributes are set to defaults and if this the case\nremoving them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 14, 'created': '2021-08-20 10:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f15826107e0862e8fd380044e585e6dae3e90b47', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes in\nVirtualMedia::insert_media() to None. This is a more simple and clear way of\nremoving these fields from the Redfish API request payload than the previous\napproach of checking these attributes are set to defaults and if this the case\nremoving them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 15, 'created': '2021-08-23 01:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/84353d34ab9e230d45d1b5bb53563fb097a93756', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes\nin VirtualMedia::insert_media() to None. This is a more simple and\nclear way of removing these fields from the Redfish API request payload\nthan the previous approach of checking these attributes are set to\ndefaults and if this the case removing them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 16, 'created': '2021-08-27 06:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f063d69ef002592d3e737cd0f6db0ea785736bdd', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes\nin VirtualMedia::insert_media() to None. This is a more simple and\nclear way of removing these fields from the Redfish API request payload\nthan the previous approach of checking these attributes are set to\ndefaults and if this the case removing them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 17, 'created': '2021-08-27 08:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/4dc6f8a30da36fe457d7dd53dbb4da428e8c4488', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes\nin VirtualMedia::insert_media() to None. This is a more simple and\nclear way of removing these fields from the Redfish API request payload\nthan the previous approach of checking these attributes are set to\ndefaults and if this the case removing them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}, {'number': 18, 'created': '2021-08-27 10:38:10.000000000', 'files': ['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/change-vmedia-insert-default-parameters-48308dbfa4bdb5a8.yaml', 'sushy/tests/unit/resources/manager/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/fa7fadec37918e18b58d524251da286c93568f00', 'message': ""Change defaults - optional insert_media attributes\n\nUpdating default values of 'inserted' and 'write_protected' attributes\nin VirtualMedia::insert_media() to None. This is a more simple and\nclear way of removing these fields from the Redfish API request payload\nthan the previous approach of checking these attributes are set to\ndefaults and if this the case removing them from payload.\n\nStory: 2009086\nTask: 42907\nrhbz#1986238\n\nChange-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc\n""}]",48,802452,fa7fadec37918e18b58d524251da286c93568f00,98,10,18,32177,,,0,"Change defaults - optional insert_media attributes

Updating default values of 'inserted' and 'write_protected' attributes
in VirtualMedia::insert_media() to None. This is a more simple and
clear way of removing these fields from the Redfish API request payload
than the previous approach of checking these attributes are set to
defaults and if this the case removing them from payload.

Story: 2009086
Task: 42907
rhbz#1986238

Change-Id: Ieab097c63f218c3c262f013c29495f5393dd3cfc
",git fetch https://review.opendev.org/openstack/sushy refs/changes/52/802452/18 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/manager/virtual_media.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py']",2,310cd4c2421f2f37ac2bb7f1dd6baf040a3f305b,change-802452-15," data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img""} data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img""}, data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img""}, data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img""},"," data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False} data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False},",5,10
openstack%2Fpuppet-tripleo~master~Ia90921a840a1dd0dad7d6617d123c59e79f803bf,openstack/puppet-tripleo,master,Ia90921a840a1dd0dad7d6617d123c59e79f803bf,Octavia: Add optional inclusion of driver_agent class,MERGED,2021-06-29 03:23:38.000000000,2021-08-27 22:50:29.000000000,2021-08-27 22:50:29.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-29 03:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/815cefdc2730d6d688445053b974a05ced79729c', 'message': 'Octavia: Enable configurations for driver_agent\n\nChange-Id: Ia90921a840a1dd0dad7d6617d123c59e79f803bf\n'}, {'number': 2, 'created': '2021-08-05 14:11:48.000000000', 'files': ['manifests/profile/base/octavia.pp', 'spec/classes/tripleo_profile_base_octavia_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3d53beb6f6e2c26dabc564b0905997f1b413a2e9', 'message': 'Octavia: Add optional inclusion of driver_agent class\n\n... so that we can maintain all of class inclusions in puppet-tripleo.\n\nChange-Id: Ia90921a840a1dd0dad7d6617d123c59e79f803bf\n'}]",3,798407,3d53beb6f6e2c26dabc564b0905997f1b413a2e9,30,4,2,9816,,,0,"Octavia: Add optional inclusion of driver_agent class

... so that we can maintain all of class inclusions in puppet-tripleo.

Change-Id: Ia90921a840a1dd0dad7d6617d123c59e79f803bf
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/07/798407/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/octavia.pp', 'spec/classes/tripleo_profile_base_octavia_spec.rb']",2,815cefdc2730d6d688445053b974a05ced79729c,octavia-driver-agent-puppet, is_expected.to_not contain_class('octavia::logging') is_expected.to_not contain_class('octavia::service_auth') is_expected.to_not contain_class('octavia::driver_agent') is_expected.to contain_class('octavia::logging') is_expected.to contain_class('octavia::service_auth') is_expected.to contain_class('octavia::driver_agent'),,7,0
openstack%2Fnova~master~I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b,openstack/nova,master,I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b,[func test] move port creation to the NeutronFixture,MERGED,2021-04-20 14:49:36.000000000,2021-08-27 21:23:03.000000000,2021-08-27 21:21:01.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 14:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b785d6cb926e925ac4bbd3b1a29722f832bb4f98', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-05-14 15:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/858c7c14a7d46ba7e84162f8d26794956075f04f', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-05-14 15:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f599d04676941e08e182ba7a6eb0200281ca6ca', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-05-21 15:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68b2973721674107a4eb1768963edae51d959649', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-05-28 12:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5ffc78ac839d7bef99a15bc17d736b0a7f80e2b', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-06-14 11:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29e07a1784b7ee72322d4ed860d2ecd18ea4387e', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-06-25 16:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb4cdf38bea67bc07a50ea8dc93c78824a8dbfbc', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-07-15 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f04f27d365534ecfcd03a1e64e1792b865c6053e', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-07-15 18:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7724e1c37a57042e3471a6bda607739c0ce98b75', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-07-16 16:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c59f7d9a8f819bea313370f2e0925f11dd04dc21', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-07-22 12:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07dec7c38517633f2d73048f2a130d4598be211c', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture. We also\ntook the opportunity to move the resulting new NeutronFixture closer to\nthe tests that are depending on it.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-08-16 17:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9b7bedba0fe6d7927fbff1c14d0cbd9e757c6af', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture. We also\ntook the opportunity to move the resulting new NeutronFixture closer to\nthe tests that are depending on it.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-08-16 17:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8337e0c16ff0670f809d624a47faf53afdac229', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture. We also\ntook the opportunity to move the resulting new NeutronFixture closer to\nthe tests that are depending on it.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 14, 'created': '2021-08-21 12:33:35.000000000', 'files': ['nova/tests/fixtures/neutron.py', 'nova/tests/functional/test_servers_resource_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa3d89b31fcabda1b4e41516c630c0a50976f9eb', 'message': '[func test] move port creation to the NeutronFixture\n\nThe port resource request tests needs some extra ports and networks that\nso far was created in the test class setUp(). For the pps support we need\nto be able to create NeutronFixture subclass and that to work properly\nfirst we need to encapsulate the port creation into the fixture. We also\ntook the opportunity to move the resulting new NeutronFixture closer to\nthe tests that are depending on it.\n\nChange-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",2,787206,aa3d89b31fcabda1b4e41516c630c0a50976f9eb,83,3,14,9708,,,0,"[func test] move port creation to the NeutronFixture

The port resource request tests needs some extra ports and networks that
so far was created in the test class setUp(). For the pps support we need
to be able to create NeutronFixture subclass and that to work properly
first we need to encapsulate the port creation into the fixture. We also
took the opportunity to move the resulting new NeutronFixture closer to
the tests that are depending on it.

Change-Id: I85dd8a6af1486de2935b6d1c55cdfe4abf75c19b
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/787206/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/functional/test_servers.py']",2,b785d6cb926e925ac4bbd3b1a29722f832bb4f98,bp/qos-minimum-guaranteed-packet-rate, # override the default neutron fixture by mocking over it self.neutron = self.useFixture( nova_fixtures.ResourceRequestNeutronFixture(self)), # add extra ports and the related network to the neutron fixture # specifically for these tests. It cannot be added globally in the # fixture init as it adds a second network that makes auto allocation # based test to fail due to ambiguous networks. self.neutron._ports[ self.neutron.port_with_sriov_resource_request['id']] = \ copy.deepcopy(self.neutron.port_with_sriov_resource_request) self.neutron._ports[self.neutron.sriov_port['id']] = \ copy.deepcopy(self.neutron.sriov_port) self.neutron._networks[ self.neutron.network_2['id']] = self.neutron.network_2 self.neutron._subnets[ self.neutron.subnet_2['id']] = self.neutron.subnet_2 macvtap = self.neutron.port_macvtap_with_resource_request self.neutron._ports[macvtap['id']] = copy.deepcopy(macvtap) ,85,78
openstack%2Fnova~stable%2Fwallaby~If71620e808744736cb4fe3abda76d81a6335311b,openstack/nova,stable/wallaby,If71620e808744736cb4fe3abda76d81a6335311b,Avoid modifying the Mock class in test,MERGED,2021-08-24 06:46:58.000000000,2021-08-27 21:22:33.000000000,2021-08-27 21:20:51.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 06:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58d87ddf67640a3cecbfccbe24011e7f30821ba0', 'message': 'Avoid modifying the Mock class in test\n\nThe rdb unit test defines a shutdown field on the Mock class\nunintentionally. This causes that a later test in the same\nexecutor expecting that mock.Mock().shutdown is a newly auto\ngenerated mock.Mock() but it founds that is an already used\n(called) object. This causes that the later test fails when\nasserting the number of calls on that mock.\n\nThe original intention of the rbd unit test was to catch the\ninstantiation of the Rados object in test so it set Rados = mock.Mock()\nso when the code under test called Rados() it actually called Mock().\nIt worked but it has that huge side effect. Instead of this a proper\nmocking of the constructor can be done in two steps:\n\nrados_inst = mock.Mock()\nRados = mock.Mock(return_value=rados_inst)\n\nThis makes sure that every Rados() call will return rados_inst that is a\nmock without causing Mock class level side effect.\n\nChange-Id: If71620e808744736cb4fe3abda76d81a6335311b\nCloses-Bug: #1936849\n(cherry picked from commit 930b7c992156733fbb4f598488605825d62ebc0c)\n'}, {'number': 2, 'created': '2021-08-24 15:25:15.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c958fab901be97999c0d117faa31ab53e52a3371', 'message': 'Avoid modifying the Mock class in test\n\nThe rdb unit test defines a shutdown field on the Mock class\nunintentionally. This causes that a later test in the same\nexecutor expecting that mock.Mock().shutdown is a newly auto\ngenerated mock.Mock() but it founds that is an already used\n(called) object. This causes that the later test fails when\nasserting the number of calls on that mock.\n\nThe original intention of the rbd unit test was to catch the\ninstantiation of the Rados object in test so it set Rados = mock.Mock()\nso when the code under test called Rados() it actually called Mock().\nIt worked but it has that huge side effect. Instead of this a proper\nmocking of the constructor can be done in two steps:\n\nrados_inst = mock.Mock()\nRados = mock.Mock(return_value=rados_inst)\n\nThis makes sure that every Rados() call will return rados_inst that is a\nmock without causing Mock class level side effect.\n\nChange-Id: If71620e808744736cb4fe3abda76d81a6335311b\nCloses-Bug: #1936849\n(cherry picked from commit 930b7c992156733fbb4f598488605825d62ebc0c)\n'}]",0,805759,c958fab901be97999c0d117faa31ab53e52a3371,18,3,2,9708,,,0,"Avoid modifying the Mock class in test

The rdb unit test defines a shutdown field on the Mock class
unintentionally. This causes that a later test in the same
executor expecting that mock.Mock().shutdown is a newly auto
generated mock.Mock() but it founds that is an already used
(called) object. This causes that the later test fails when
asserting the number of calls on that mock.

The original intention of the rbd unit test was to catch the
instantiation of the Rados object in test so it set Rados = mock.Mock()
so when the code under test called Rados() it actually called Mock().
It worked but it has that huge side effect. Instead of this a proper
mocking of the constructor can be done in two steps:

rados_inst = mock.Mock()
Rados = mock.Mock(return_value=rados_inst)

This makes sure that every Rados() call will return rados_inst that is a
mock without causing Mock class level side effect.

Change-Id: If71620e808744736cb4fe3abda76d81a6335311b
Closes-Bug: #1936849
(cherry picked from commit 930b7c992156733fbb4f598488605825d62ebc0c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/805759/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/storage/test_rbd.py'],1,58d87ddf67640a3cecbfccbe24011e7f30821ba0,bug/1936849," self.mock_rados.Rados = mock.Mock() self.rados_inst = mock.Mock() self.mock_rados.Rados.return_value = self.rados_inst self.rados_inst.ioctx = mock.Mock() self.rados_inst.connect = mock.Mock() self.rados_inst.shutdown = mock.Mock() self.rados_inst.open_ioctx = mock.Mock() self.rados_inst.open_ioctx.return_value = \ self.rados_inst.ioctx self.rados_inst.connect.assert_called_once_with( self.assertTrue(self.rados_inst.open_ioctx.called) self.assertEqual(self.rados_inst.ioctx, ret[1]) self.rados_inst.open_ioctx.assert_called_with(self.rbd_pool) self.rados_inst.connect.assert_called_once_with( self.assertTrue(self.rados_inst.open_ioctx.called) self.assertEqual(self.rados_inst.ioctx, ret[1]) self.rados_inst.open_ioctx.assert_called_with('alt_pool') self.rados_inst.open_ioctx.side_effect = self.mock_rados.Error self.rados_inst.open_ioctx.assert_called_once_with( self.rados_inst.shutdown.assert_called_once_with() self.rados_inst.open_ioctx.assert_called_with("," self.mock_rados.Rados = mock.Mock self.mock_rados.Rados.ioctx = mock.Mock() self.mock_rados.Rados.connect = mock.Mock() self.mock_rados.Rados.shutdown = mock.Mock() self.mock_rados.Rados.open_ioctx = mock.Mock() self.mock_rados.Rados.open_ioctx.return_value = \ self.mock_rados.Rados.ioctx self.mock_rados.Rados.connect.assert_called_once_with( self.assertTrue(self.mock_rados.Rados.open_ioctx.called) self.assertIsInstance(ret[0], self.mock_rados.Rados) self.assertEqual(self.mock_rados.Rados.ioctx, ret[1]) self.mock_rados.Rados.open_ioctx.assert_called_with(self.rbd_pool) self.mock_rados.Rados.connect.assert_called_once_with( self.assertTrue(self.mock_rados.Rados.open_ioctx.called) self.assertIsInstance(ret[0], self.mock_rados.Rados) self.assertEqual(self.mock_rados.Rados.ioctx, ret[1]) self.mock_rados.Rados.open_ioctx.assert_called_with('alt_pool') self.mock_rados.Rados.open_ioctx.side_effect = self.mock_rados.Error self.mock_rados.Rados.open_ioctx.assert_called_once_with( self.mock_rados.Rados.shutdown.assert_called_once_with() self.mock_rados.Rados.open_ioctx.assert_called_with(",21,21
openstack%2Frequirements~master~I32247e578dbffdfbe367dc1f758f3f57f02acdbb,openstack/requirements,master,I32247e578dbffdfbe367dc1f758f3f57f02acdbb,update constraint for sushy to new release 3.12.0,MERGED,2021-08-26 14:09:24.000000000,2021-08-27 21:22:25.000000000,2021-08-27 21:20:44.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-26 14:09:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/54d9151ce1f3594af6059552dc4e03cb89c6b45d', 'message': 'update constraint for sushy to new release 3.12.0\n\nmeta: version: 3.12.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I804ca2a491b65f82bd6d6be61fb69e486ee1b0b0\nmeta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I32247e578dbffdfbe367dc1f758f3f57f02acdbb\n'}]",0,806194,54d9151ce1f3594af6059552dc4e03cb89c6b45d,20,4,1,11131,,,0,"update constraint for sushy to new release 3.12.0

meta: version: 3.12.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I804ca2a491b65f82bd6d6be61fb69e486ee1b0b0
meta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I32247e578dbffdfbe367dc1f758f3f57f02acdbb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/806194/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,54d9151ce1f3594af6059552dc4e03cb89c6b45d,new-release,sushy===3.12.0,sushy===3.11.1,1,1
openstack%2Fos-net-config~stable%2Ftrain~I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae,openstack/os-net-config,stable/train,I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae,allow vhost0 to pass list of members,MERGED,2021-08-17 18:16:20.000000000,2021-08-27 20:45:20.000000000,2021-08-27 20:43:43.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 18:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5144c62d41c74be0d41dc51f860d1d069e585569', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n'}, {'number': 2, 'created': '2021-08-17 18:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b45d2d5b4fd6f83b7561437468737c2bafc66e41', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n'}, {'number': 3, 'created': '2021-08-24 13:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4e2a84a5c072df316e01b680ee1cdff995e7d385', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n'}, {'number': 4, 'created': '2021-08-26 11:19:20.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/69699cda8ff1deda7c121be7660145a793258766', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n(cherry picked from commit 178564dccd07b9267b627b3969bde8d3a0045857)\n'}]",0,804907,69699cda8ff1deda7c121be7660145a793258766,19,3,4,18810,,,0,"allow vhost0 to pass list of members

- in case of L3MH Contrail feature for kernel mode
BIND_INT might be a list

Change-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae
(cherry picked from commit 178564dccd07b9267b627b3969bde8d3a0045857)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/07/804907/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,5144c62d41c74be0d41dc51f860d1d069e585569,," ifname = "","".join([m.name for m in contrail_vrouter.members])", ifname = contrail_vrouter.members[0].name,24,1
openstack%2Ftripleo-ansible~master~I0a13ebb127bb484804169d7e4930138bcb01d5a9,openstack/tripleo-ansible,master,I0a13ebb127bb484804169d7e4930138bcb01d5a9,tripleo_frr: Allow a password to be set in FRR's neighbor section,MERGED,2021-08-05 09:54:12.000000000,2021-08-27 20:43:44.000000000,2021-08-27 20:43:44.000000000,"[{'_account_id': 5046}, {'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-05 09:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af1f5aa5ab5375d4f72e964b28f68fa6703e75b5', 'message': 'tripleo_frr: set a MD5 password\n\nSet a MD5 password to be used with the tcp socket that is being used to\nconnect to the remote peer. For more information, please refer to\nhttps://docs.frrouting.org/en/latest/bgp.html#clicmd-neighbor-PEER-password-PASSWORD\n\nChange-Id: I0a13ebb127bb484804169d7e4930138bcb01d5a9\n'}, {'number': 2, 'created': '2021-08-20 10:45:10.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/246bae8a227a21aa051e278658439806f01434d8', 'message': ""tripleo_frr: Allow a password to be set in FRR's neighbor section\n\nSet a MD5 password to be used with the tcp socket that is being used to\nconnect to the remote peer. For more information, please refer to\nhttps://docs.frrouting.org/en/latest/bgp.html#clicmd-neighbor-PEER-password-PASSWORD\n\nNote that this is disabled by default. When enabled it won't work on a FIPS-enabled\nsystem. FRR is already patched so that it will fail to start in such a\nsituation,\n\n[1] https://git.centos.org/rpms/frr/blob/c8s/f/SOURCES/0004-fips-mode.patch\n\nChange-Id: I0a13ebb127bb484804169d7e4930138bcb01d5a9\n""}]",0,803548,246bae8a227a21aa051e278658439806f01434d8,23,12,2,6469,,,0,"tripleo_frr: Allow a password to be set in FRR's neighbor section

Set a MD5 password to be used with the tcp socket that is being used to
connect to the remote peer. For more information, please refer to
https://docs.frrouting.org/en/latest/bgp.html#clicmd-neighbor-PEER-password-PASSWORD

Note that this is disabled by default. When enabled it won't work on a FIPS-enabled
system. FRR is already patched so that it will fail to start in such a
situation,

[1] https://git.centos.org/rpms/frr/blob/c8s/f/SOURCES/0004-fips-mode.patch

Change-Id: I0a13ebb127bb484804169d7e4930138bcb01d5a9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/803548/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,af1f5aa5ab5375d4f72e964b28f68fa6703e75b5,bgpsupport,{% if tripleo_frr_bgp_neighbor_password|length %} neighbor uplink password {{ tripleo_frr_bgp_neighbor_password }} {% endif %},,4,0
openstack%2Ftempest~master~I9c23582e5930156db21b609bc9031ee47e9d6326,openstack/tempest,master,I9c23582e5930156db21b609bc9031ee47e9d6326,Blacklist failing x/vmware-nsx-tempest-plugin,MERGED,2021-08-27 14:18:17.000000000,2021-08-27 19:36:06.000000000,2021-08-27 19:34:31.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-08-27 14:18:17.000000000', 'files': ['tools/generate-tempest-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/61d6c1195cd6601a7d132dde672b723fab3dce03', 'message': 'Blacklist failing x/vmware-nsx-tempest-plugin\n\nTempest sanity job is 100% failing on x/vmware-nsx-tempest-plugin.\nAdding this plugin until it is fixed.\n\n- https://zuul.opendev.org/t/openstack/build/45f6c8d3c62d4387a70b7b471ec687c8\n- https://zuul.opendev.org/t/openstack/builds?job_name=tempest-tox-plugin-sanity-check\n\nChange-Id: I9c23582e5930156db21b609bc9031ee47e9d6326\n'}]",0,806411,61d6c1195cd6601a7d132dde672b723fab3dce03,8,3,1,8556,,,0,"Blacklist failing x/vmware-nsx-tempest-plugin

Tempest sanity job is 100% failing on x/vmware-nsx-tempest-plugin.
Adding this plugin until it is fixed.

- https://zuul.opendev.org/t/openstack/build/45f6c8d3c62d4387a70b7b471ec687c8
- https://zuul.opendev.org/t/openstack/builds?job_name=tempest-tox-plugin-sanity-check

Change-Id: I9c23582e5930156db21b609bc9031ee47e9d6326
",git fetch https://review.opendev.org/openstack/tempest refs/changes/11/806411/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-tempest-plugins-list.py'],1,61d6c1195cd6601a7d132dde672b723fab3dce03,, 'x/vmware-nsx-tempest-plugin' # Failing since 2021-08-27 # https://zuul.opendev.org/t/openstack/build/45f6c8d3c62d4387a70b7b471ec687c8,,3,0
openstack%2Fkolla-ansible~master~I48e7fe2a5a585a2e1cab885b4d725dec7e175aea,openstack/kolla-ansible,master,I48e7fe2a5a585a2e1cab885b4d725dec7e175aea,CI: Reduce neutron RPC service workers to 1,MERGED,2021-02-23 09:30:22.000000000,2021-08-27 19:29:43.000000000,2021-08-27 19:28:15.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-23 09:30:22.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/99db669fb69020cc84a1d92b66a527745517617d', 'message': 'CI: Reduce neutron RPC service workers to 1\n\nChange-Id: I48e7fe2a5a585a2e1cab885b4d725dec7e175aea\n'}]",0,777077,99db669fb69020cc84a1d92b66a527745517617d,9,2,1,14826,,,0,"CI: Reduce neutron RPC service workers to 1

Change-Id: I48e7fe2a5a585a2e1cab885b4d725dec7e175aea
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/777077/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,99db669fb69020cc84a1d92b66a527745517617d,,"openstack_service_rpc_workers: ""1""",,1,0
openstack%2Fkolla~master~I551b99e9bd5224433bd0ebc64e07f0ce83595ef8,openstack/kolla,master,I551b99e9bd5224433bd0ebc64e07f0ce83595ef8,Remove Prometheus v1 image,MERGED,2021-08-05 17:51:29.000000000,2021-08-27 18:54:09.000000000,2021-08-27 18:52:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-05 17:51:29.000000000', 'files': ['releasenotes/notes/remove-prometheus-v1-3bc458bed2228a9e.yaml', 'docker/prometheus/prometheus-server/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e8e8e5296e0cdbb5a5e11fec15ba9773ebfedab6', 'message': ""Remove Prometheus v1 image\n\nFollowing deprecation in Wallaby cycle, it's now time to remove it.\n\nChange-Id: I551b99e9bd5224433bd0ebc64e07f0ce83595ef8\n""}]",0,803636,e8e8e5296e0cdbb5a5e11fec15ba9773ebfedab6,14,5,1,32657,,,0,"Remove Prometheus v1 image

Following deprecation in Wallaby cycle, it's now time to remove it.

Change-Id: I551b99e9bd5224433bd0ebc64e07f0ce83595ef8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/803636/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/prometheus/prometheus-server/Dockerfile.j2', 'releasenotes/notes/remove-prometheus-v1-3bc458bed2228a9e.yaml']",2,e8e8e5296e0cdbb5a5e11fec15ba9773ebfedab6,,--- upgrade: - | Prometheus v1 image has been removed. ,,4,23
openstack%2Ftripleo-quickstart-extras~master~Iafd43b4700e3a011db67e40b9a501db3a53a81a1,openstack/tripleo-quickstart-extras,master,Iafd43b4700e3a011db67e40b9a501db3a53a81a1,"Revert ""Bump Ceph container daemons to v6.0.4""",ABANDONED,2021-08-27 14:14:14.000000000,2021-08-27 18:38:18.000000000,,"[{'_account_id': 6796}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-27 14:14:14.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4d65848365bafd3ac2aaf6669148eaa48be920aa', 'message': 'Revert ""Bump Ceph container daemons to v6.0.4""\n\nThis reverts commit 76a5c4efc66f4e2b6393aef2eead53c03be43896.\n\nReason for revert: Since this patch ceph process consuming too much\nmemory and leading to job failures.\n\nChange-Id: Iafd43b4700e3a011db67e40b9a501db3a53a81a1\nRelated-Bug: #1940866\n'}]",0,806382,4d65848365bafd3ac2aaf6669148eaa48be920aa,13,7,1,13861,,,0,"Revert ""Bump Ceph container daemons to v6.0.4""

This reverts commit 76a5c4efc66f4e2b6393aef2eead53c03be43896.

Reason for revert: Since this patch ceph process consuming too much
memory and leading to job failures.

Change-Id: Iafd43b4700e3a011db67e40b9a501db3a53a81a1
Related-Bug: #1940866
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/82/806382/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,4d65848365bafd3ac2aaf6669148eaa48be920aa,cephadm_container_promotion, quay.ceph.io/ceph-ci v6.0.0-stable-6.0-pacific-centos-8-x86_64, quay.io/ceph v6.0.4-stable-6.0-pacific-centos-8-x86_64,2,2
openstack%2Fpython-manilaclient~master~I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8,openstack/python-manilaclient,master,I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8,[OSC] Implement share instance commands,MERGED,2021-08-19 16:22:12.000000000,2021-08-27 18:11:36.000000000,2021-08-27 18:10:11.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 31213}, {'_account_id': 32493}, {'_account_id': 33380}, {'_account_id': 33648}, {'_account_id': 33756}]","[{'number': 1, 'created': '2021-08-19 16:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/18be56215b6beacbe1b093f2612059e25b13181e', 'message': '[WIP][OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance force delete\n- openstack share instance list\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}, {'number': 2, 'created': '2021-08-19 21:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/de82930a7cea9fa7984927ea88ae95feab0c121d', 'message': '[WIP][OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance force delete\n- openstack share instance list\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}, {'number': 3, 'created': '2021-08-20 14:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/fc94c338bb881f1b029b0ef41b8c0caa0cd2db30', 'message': '[OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance force delete\n- openstack share instance list\n- openstack share instance set\n- openstack share instance show\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}, {'number': 4, 'created': '2021-08-23 22:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7001a0aac4df8aac08a7c7dce07a7f837cb3e3a7', 'message': '[OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance force delete\n- openstack share instance list\n- openstack share instance set\n- openstack share instance show\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}, {'number': 5, 'created': '2021-08-23 23:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/63aff4c6d34331b590b7496640e92deb634ad759', 'message': '[OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance force delete\n- openstack share instance list\n- openstack share instance set\n- openstack share instance show\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}, {'number': 6, 'created': '2021-08-25 20:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5490538bbfb999f6101d9bb3fade34b2d7cb4bb4', 'message': '[OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance force delete\n- openstack share instance list\n- openstack share instance set\n- openstack share instance show\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}, {'number': 7, 'created': '2021-08-25 21:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/dff0cb35b519e29485cabe56f849d4b120e3c9c4', 'message': '[OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance force delete\n- openstack share instance list\n- openstack share instance set\n- openstack share instance show\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}, {'number': 8, 'created': '2021-08-26 13:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4aeec3d41724378fa93838f0fe3293a2ccc28f25', 'message': '[OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance delete\n- openstack share instance list\n- openstack share instance set\n- openstack share instance show\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}, {'number': 9, 'created': '2021-08-27 06:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/151ef4ec3e261dcb493257af64f8f5ef81cfefdd', 'message': '[OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance delete\n- openstack share instance list\n- openstack share instance set\n- openstack share instance show\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}, {'number': 10, 'created': '2021-08-27 10:47:19.000000000', 'files': ['manilaclient/tests/unit/osc/v2/fakes.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/tests/unit/osc/v2/test_share_instances.py', 'manilaclient/osc/v2/share_instances.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2f173cb150a4ee7a73158a3fa36ddab061534eb0', 'message': '[OSC] Implement share instance commands\n\nAdded the implementation of the share instance commands to OSC.\nCommands are:\n\n- openstack share instance delete\n- openstack share instance list\n- openstack share instance set\n- openstack share instance show\n\nCo-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>\nPartially-Implements: bp openstack-client-support\nChange-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8\n'}]",24,805250,2f173cb150a4ee7a73158a3fa36ddab061534eb0,44,8,10,29632,,,0,"[OSC] Implement share instance commands

Added the implementation of the share instance commands to OSC.
Commands are:

- openstack share instance delete
- openstack share instance list
- openstack share instance set
- openstack share instance show

Co-Authored-By: Luisa Amaral <luisarfamaral@gmail.com>
Partially-Implements: bp openstack-client-support
Change-Id: I8d29651d4e3a74b9ade67ea0a8f20808ca33bdc8
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/50/805250/10 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/osc/v2/fakes.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/tests/unit/osc/v2/test_share_instances.py', 'manilaclient/osc/v2/share_instances.py', 'setup.cfg']",5,18be56215b6beacbe1b093f2612059e25b13181e,bp/openstack-client-support, share_instance_force_delete = manilaclient.osc.v2.share_instances:ShareInstanceForceDelete share_instance_list = manilaclient.osc.v2.share_instances:ShareInstanceList,,449,0
openstack%2Fnova~master~Ic9e1a94d2d0ff0714a2deb4442efd94005c53e54,openstack/nova,master,Ic9e1a94d2d0ff0714a2deb4442efd94005c53e54,[WIP] update vgpu docs to account for generic mdev support,NEW,2021-08-27 14:19:51.000000000,2021-08-27 17:49:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-27 14:19:51.000000000', 'files': ['doc/source/admin/virtual-gpu.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf8df257cb118f32874523f8eda5ef8ea81662bd', 'message': '[WIP] update vgpu docs to account for generic mdev support\n\nThis change is a work in progress.\nTODO: rename current virtual-gpu.rst to mdve.rst\nTODO: create stub file for virtual gpus that explains\nvGPUs are now implemented using generic mdev supprot.\n\nChange-Id: Ic9e1a94d2d0ff0714a2deb4442efd94005c53e54\n'}]",0,806412,bf8df257cb118f32874523f8eda5ef8ea81662bd,3,1,1,11604,,,0,"[WIP] update vgpu docs to account for generic mdev support

This change is a work in progress.
TODO: rename current virtual-gpu.rst to mdve.rst
TODO: create stub file for virtual gpus that explains
vGPUs are now implemented using generic mdev supprot.

Change-Id: Ic9e1a94d2d0ff0714a2deb4442efd94005c53e54
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/806412/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/virtual-gpu.rst'],1,bf8df257cb118f32874523f8eda5ef8ea81662bd,bp/generic-mdevs,"=========================================================== Attaching virtual GPU devices or mediated devices to guests ===========================================================Since 24.0.0 we also support stateless generic mdev-supporting devices that aren't explicitly GPUs but any kind of hardware that use `VFIO-mdev`_ kernel framework. .. versionadded:: Xena (24.0.0) .. note:: Through this document, we will use the following terms: Mediated device (mdev) A mediated device is the virtual device created with the right mdev type (eg. a virtual GPU, vGPU). mdev type An mdev type is the type of virtual mediated device we will use mdev-capable device An mdev-capable device is the physical device that supports `VFIO-mdev`_ (for example a physical GPU, pGPU) To enable virtual GPUs or generic mediated devices, follow the steps below: #. `Enable the mdev types (Compute)`_#. `(Optional) Provide custom traits for multiple mdev types`_ #. `(Optional) Provide stateless mdev-capable devices that aren't GPUs`_ Enable the mdev types (Compute) ------------------------------- #. Specify which specific mdev type(s) the instances would get. If you want to support more than a single mdev type, you need to provide a where you have to define which mdev-capable devices are supported per mdev type. a mdev type`_. Supporting multiple types is only supported by the Ussuri release andConfigure a flavor to request one mediated device:The enabled mdev types on the compute hosts are not exposed to API users. Flavors configured for mdev support can be tied to host aggregates as a meansThe ``nova-scheduler`` selects a destination host that has mdev-capable devicesHow to discover a mdev type ---------------------------Checking allocations and inventories for mediated devices --------------------------------------------------------- physical GPU or a mdev-capable device.#. Check allocations for each server that is using mediated devices.(Optional) Provide custom traits for multiple mdev types -------------------------------------------------------- Since operators want to support different types per compute, it would be nice to have flavors asking for a specific mdev type. This is now possibleto physical GPUs or mdev-capable devices. See `Checking allocations and inventories for mediated devices`_ first for getting the list of Resource Providers that support a ``VGPU`` resource class. #. Define custom traits that will correspond for each to a mdev type#. Add the corresponding trait to the Resource Provider matching the pGPU(Optional) Provide stateless mdev-capable devices that aren't GPUs ------------------------------------------------------------------ Since some physical PCI devices can support `VFIO-mdev`_ framework without being GPUs, operators could use different resource classes but ``VGPU`` for both the inventories and the flavor by using a ``mdev_class`` configuration option for the related dynamic group. The value for this option needs to be prefixed by CUSTOM_ and only accept capital letters, numbers and underscores or the value can be ``VGPU`` which is the default. For example, some devices using mlx5 acceleration technology could be used by doing:: [devices] enabled_mdev_types = nvidia-35,mlx5_core-local [mdev_nvidia-35] device_addresses = 0000:84:00.0,0000:85:00.0 [mdev_mlx5_core-local] device_addresses = 0000:86:00.0 mdev_class=CUSTOM_MLX5 Here, this would mean that the `0000:86:00.0` PCI device would create inventories with a specific resource class named ``CUSTOM_MLX5`` with the other two devices (that are GPUs) would continue to use the ``VGPU`` resource class. Then, the operator would set a specific mlx5 flavor to ask for ``CUSTOM_MLX5`` resources like this: .. code-block:: console $ openstack flavor set vgpu_1 --property ""resources:CUSTOM_MLX5=1"" .. note:: We support ``VGPU`` resource class by default if you only provide one supported mdev type. .. _`VFIO-mdev`: https://www.kernel.org/doc/html/latest/driver-api/vfio-mediated-device.html","======================================= Attaching virtual GPU devices to guests =======================================To enable virtual GPUs, follow the steps below: #. `Enable GPU types (Compute)`_ Enable GPU types (Compute) -------------------------- #. Specify which specific GPU type(s) the instances would get. If you want to support more than a single GPU type, you need to provide a where you have to define which physical GPUs are supported per GPU type. a GPU type`_. Supporting multiple GPU types is only supported by the Ussuri release andConfigure a flavor to request one virtual GPU:The enabled vGPU types on the compute hosts are not exposed to API users. Flavors configured for vGPU support can be tied to host aggregates as a meansThe ``nova-scheduler`` selects a destination host that has vGPU devicesHow to discover a GPU type --------------------------Checking allocations and inventories for virtual GPUs ----------------------------------------------------- physical GPU.#. Check allocations for each server that is using virtual GPUs(Optional) Provide custom traits for multiple GPU types ------------------------------------------------------- Since operators want to support different GPU types per compute, it would be nice to have flavors asking for a specific GPU type. This is now possibleto physical GPUs. See `Checking allocations and inventories for virtual GPUs`_ first for getting the list of Resource Providers that support a ``VGPU`` resource class. #. Define custom traits that will correspond for each to a GPU type#. Add the corresponding trait to the Resource Provider matching the GPU",98,31
openstack%2Fwhitebox-tempest-plugin~master~Ie28461a9ad64dd02ce86d23e0f4b7766a776be9a,openstack/whitebox-tempest-plugin,master,Ie28461a9ad64dd02ce86d23e0f4b7766a776be9a,Simplify test_live_migration,MERGED,2021-08-19 22:54:08.000000000,2021-08-27 17:43:12.000000000,2021-08-27 17:43:12.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-19 22:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ff833af83bc291d06ea7a3095b5bdbe8c6aaa09f', 'message': ""Simplify test_live_migration\n\nWe don't actually need guest networking for any of our live migration\ntests. Remove the setup_credentials() method that sets it up.\n\nChange-Id: Ie28461a9ad64dd02ce86d23e0f4b7766a776be9a\n""}, {'number': 2, 'created': '2021-08-20 00:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a6f7267b5ee61c9d675e541f4e4bff2bb69c78c5', 'message': ""Simplify test_live_migration\n\nWe don't actually need guest networking for any of our live migration\ntests. Remove the setup_credentials() method that sets it up.\n\nChange-Id: Ie28461a9ad64dd02ce86d23e0f4b7766a776be9a\n""}, {'number': 3, 'created': '2021-08-20 01:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/363eac4a84a4cd5addfbc790efee1b1b3f64ecf0', 'message': ""Simplify test_live_migration\n\nWe don't actually need guest networking for any of our live migration\ntests. Remove the setup_credentials() method that sets it up.\n\nChange-Id: Ie28461a9ad64dd02ce86d23e0f4b7766a776be9a\n""}, {'number': 4, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/358598b7f38a7f05cfb0cf8f6e0026004919d170', 'message': ""Simplify test_live_migration\n\nWe don't actually need guest networking for any of our live migration\ntests. Remove the setup_credentials() method that sets it up.\n\nChange-Id: Ie28461a9ad64dd02ce86d23e0f4b7766a776be9a\n""}, {'number': 5, 'created': '2021-08-25 16:51:43.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/da806af8bb150e8d7b7a3769a66fbfa3563036aa', 'message': ""Simplify test_live_migration\n\nWe don't actually need guest networking for any of our live migration\ntests. Remove the setup_credentials() method that sets it up.\n\nChange-Id: Ie28461a9ad64dd02ce86d23e0f4b7766a776be9a\n""}]",0,805315,da806af8bb150e8d7b7a3769a66fbfa3563036aa,16,3,5,8864,,,0,"Simplify test_live_migration

We don't actually need guest networking for any of our live migration
tests. Remove the setup_credentials() method that sets it up.

Change-Id: Ie28461a9ad64dd02ce86d23e0f4b7766a776be9a
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/15/805315/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_live_migration.py'],1,ff833af83bc291d06ea7a3095b5bdbe8c6aaa09f,interface_change_rx_queue,," @classmethod def setup_credentials(cls): # These tests don't attempt any SSH validation nor do they use # floating IPs on the instance, so all we need is a network and # a subnet so the instance being migrated has a single port, but # we need that to make sure we are properly updating the port # host bindings during the live migration. # TODO(mriedem): SSH validation before and after the instance is # live migrated would be a nice test wrinkle addition. cls.set_network_resources(network=True, subnet=True) super(LiveMigrationBase, cls).setup_credentials() ",0,12
openstack%2Fwhitebox-tempest-plugin~master~Ic088f71afc5db40a3b3514ec517e32a2ea1ed798,openstack/whitebox-tempest-plugin,master,Ic088f71afc5db40a3b3514ec517e32a2ea1ed798,Simplify test_multiqueue,MERGED,2021-08-19 22:54:08.000000000,2021-08-27 17:42:20.000000000,2021-08-27 17:42:20.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-19 22:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/1b84da6d18fb5f2cd5e79eef6147d70a3985229a', 'message': ""Simplify test_multiqueue\n\nThe setup_credentials() method can be replaced with a one liner\nthat'll have the same effect of giving our test instance an network\ninterface.\n\nChange-Id: Ic088f71afc5db40a3b3514ec517e32a2ea1ed798\n""}, {'number': 2, 'created': '2021-08-20 00:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9ed2ddf1037254f0e1a5f7a9f6b91d97e1d729f5', 'message': ""Simplify test_multiqueue\n\nThe setup_credentials() method can be replaced with a one liner\nthat'll have the same effect of giving our test instance a network\ninterface.\n\nChange-Id: Ic088f71afc5db40a3b3514ec517e32a2ea1ed798\n""}, {'number': 3, 'created': '2021-08-20 01:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ad12336e8115caa8ef6ad6ca21b9b7db29308eb7', 'message': ""Simplify test_multiqueue\n\nThe setup_credentials() method can be replaced with a one liner\nthat'll have the same effect of giving our test instance a network\ninterface.\n\nChange-Id: Ic088f71afc5db40a3b3514ec517e32a2ea1ed798\n""}, {'number': 4, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3fd97e74473750c86bcee168dab99c1bae489e4b', 'message': ""Simplify test_multiqueue\n\nThe setup_credentials() method can be replaced with a one liner\nthat'll have the same effect of giving our test instance a network\ninterface.\n\nChange-Id: Ic088f71afc5db40a3b3514ec517e32a2ea1ed798\n""}, {'number': 5, 'created': '2021-08-25 16:51:43.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_multiqueue.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/32f3372339f4262604b75a51becc52ee0fe328de', 'message': ""Simplify test_multiqueue\n\nThe setup_credentials() method can be replaced with a one liner\nthat'll have the same effect of giving our test instance a network\ninterface.\n\nChange-Id: Ic088f71afc5db40a3b3514ec517e32a2ea1ed798\n""}]",0,805314,32f3372339f4262604b75a51becc52ee0fe328de,15,3,5,8864,,,0,"Simplify test_multiqueue

The setup_credentials() method can be replaced with a one liner
that'll have the same effect of giving our test instance a network
interface.

Change-Id: Ic088f71afc5db40a3b3514ec517e32a2ea1ed798
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/14/805314/5 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_multiqueue.py'],1,1b84da6d18fb5f2cd5e79eef6147d70a3985229a,interface_change_rx_queue, create_default_network = True," @classmethod def setup_credentials(cls): cls.set_network_resources(network=True, subnet=True, router=True, dhcp=True) super(MultiqueueTest, cls).setup_credentials()",1,5
openstack%2Fwhitebox-tempest-plugin~master~I7a8ae901dce68f4d858aa2062820fd7405c87f45,openstack/whitebox-tempest-plugin,master,I7a8ae901dce68f4d858aa2062820fd7405c87f45,Improve base compute and utils helper organization,MERGED,2021-08-19 20:30:12.000000000,2021-08-27 17:42:19.000000000,2021-08-27 17:42:19.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-08-19 20:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e85e76ce5600621e9efa470cb89fc21872315edc', 'message': 'Improve base compute and utils helper organization\n\nMove helpers out of base compute class that do not actually need a\ntest class, and create a new hardware.py file to keep helpers that\nhave to do with hardware.\n\nChange-Id: I7a8ae901dce68f4d858aa2062820fd7405c87f45\n'}, {'number': 2, 'created': '2021-08-19 22:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f2d6723f41756ed44367a4f231c92274ea5cdcbe', 'message': 'Improve base compute and utils helper organization\n\nMove helpers out of base compute class that do not actually need a\ntest class, and create a new hardware.py file to keep helpers that\nhave to do with hardware.\n\nChange-Id: I7a8ae901dce68f4d858aa2062820fd7405c87f45\n'}, {'number': 3, 'created': '2021-08-20 00:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6cc551a65e212be6fc24da23a95f95b94e9e1160', 'message': 'Improve base compute and utils helper organization\n\nMove helpers out of base compute class that do not actually need a\ntest class, and create a new hardware.py file to keep helpers that\nhave to do with hardware.\n\nChange-Id: I7a8ae901dce68f4d858aa2062820fd7405c87f45\n'}, {'number': 4, 'created': '2021-08-20 01:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f84dfe9597db9b1e2546ac1524179973012f03af', 'message': 'Improve base compute and utils helper organization\n\nMove helpers out of base compute class that do not actually need a\ntest class, and create a new hardware.py file to keep helpers that\nhave to do with hardware.\n\nChange-Id: I7a8ae901dce68f4d858aa2062820fd7405c87f45\n'}, {'number': 5, 'created': '2021-08-25 01:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/efacbf707c9958edc0b04e9cbf42a4a2d152edc0', 'message': 'Improve base compute and utils helper organization\n\nMove helpers out of base compute class that do not actually need a\ntest class, and create a new hardware.py file to keep helpers that\nhave to do with hardware.\n\nChange-Id: I7a8ae901dce68f4d858aa2062820fd7405c87f45\n'}, {'number': 6, 'created': '2021-08-25 16:51:43.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/hardware.py', 'whitebox_tempest_plugin/api/compute/test_live_migration.py', 'whitebox_tempest_plugin/utils.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4491e3db8a315f8a721a7f81c90843b1f605491f', 'message': 'Improve base compute and utils helper organization\n\nMove helpers out of base compute class that do not actually need a\ntest class, and create a new hardware.py file to keep helpers that\nhave to do with hardware.\n\nChange-Id: I7a8ae901dce68f4d858aa2062820fd7405c87f45\n'}]",2,805295,4491e3db8a315f8a721a7f81c90843b1f605491f,19,3,6,8864,,,0,"Improve base compute and utils helper organization

Move helpers out of base compute class that do not actually need a
test class, and create a new hardware.py file to keep helpers that
have to do with hardware.

Change-Id: I7a8ae901dce68f4d858aa2062820fd7405c87f45
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/95/805295/2 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/compute/test_live_migration.py', 'whitebox_tempest_plugin/compute/test_multiqueue.py', 'whitebox_tempest_plugin/compute/base.py', 'whitebox_tempest_plugin/hardware.py', 'whitebox_tempest_plugin/compute/test_sriov.py', 'whitebox_tempest_plugin/utils.py']",7,e85e76ce5600621e9efa470cb89fc21872315edc,interface_change_rx_queue,," def parse_cpu_spec(spec): """"""Parse a CPU set specification. NOTE(artom): This has been lifted from Nova with minor exceptions-related adjustments. Each element in the list is either a single CPU number, a range of CPU numbers, or a caret followed by a CPU number to be excluded from a previous range. :param spec: cpu set string eg ""1-4,^3,6"" :returns: a set of CPU indexes """""" cpuset_ids = set() cpuset_reject_ids = set() for rule in spec.split(','): rule = rule.strip() # Handle multi ',' if len(rule) < 1: continue # Note the count limit in the .split() call range_parts = rule.split('-', 1) if len(range_parts) > 1: reject = False if range_parts[0] and range_parts[0][0] == '^': reject = True range_parts[0] = str(range_parts[0][1:]) # So, this was a range; start by converting the parts to ints try: start, end = [int(p.strip()) for p in range_parts] except ValueError: raise exceptions.InvalidCPUSpec(spec=spec) # Make sure it's a valid range if start > end: raise exceptions.InvalidCPUSpec(spec=spec) # Add available CPU ids to set if not reject: cpuset_ids |= set(range(start, end + 1)) else: cpuset_reject_ids |= set(range(start, end + 1)) elif rule[0] == '^': # Not a range, the rule is an exclusion rule; convert to int try: cpuset_reject_ids.add(int(rule[1:].strip())) except ValueError: raise exceptions.InvalidCPUSpec(spec=spec) else: # OK, a single CPU to include; convert to int try: cpuset_ids.add(int(rule)) except ValueError: raise exceptions.InvalidCPUSpec(spec=spec) # Use sets to handle the exclusion rules for us cpuset_ids -= cpuset_reject_ids return cpuset_ids",151,125
openstack%2Fnova~master~I0638004c4f8e5d3c391d936d086f8680dcbca319,openstack/nova,master,I0638004c4f8e5d3c391d936d086f8680dcbca319,"Revert ""consumer gen: more tests for delete allocation cases""",ABANDONED,2021-08-27 01:32:54.000000000,2021-08-27 17:00:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-27 01:32:54.000000000', 'files': ['releasenotes/notes/leaking_migration_allocations_in_placement-bd0a6f2a30e2e3d2.yaml', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9da8604f36e3360343fc0c29cae8c9341ee45285', 'message': 'Revert ""consumer gen: more tests for delete allocation cases""\n\nThis reverts commit 3a43a931d4e46a0aa66683da22482f3e78f26cd7.\n\nConflicts:\n  nova/compute/manager.py\n  nova/tests/functional/test_servers.py\n\nNOTE(melwitt): The conflicts are because:\n\n  * I0851e2d54a1fdc82fe3291fb7e286e790f121e92 (Drop legacy cold migrate\n    allocation compat code) landed after the patch we are reverting\n\n  * Ie991d4b53e9bb5e7ec26da99219178ab7695abf6 (consumer gen:\n    move_allocations) landed after the patch we are reverting\n\n  * I097732754b67bd5cf50abd15db7da3f013b6cdd5 (consumer gen: support\n    claim_resources) landed after the patch we are reverting\n\nPartial-Bug: #1836754\n\nChange-Id: I0638004c4f8e5d3c391d936d086f8680dcbca319\n'}]",0,806292,9da8604f36e3360343fc0c29cae8c9341ee45285,5,1,1,4690,,,0,"Revert ""consumer gen: more tests for delete allocation cases""

This reverts commit 3a43a931d4e46a0aa66683da22482f3e78f26cd7.

Conflicts:
  nova/compute/manager.py
  nova/tests/functional/test_servers.py

NOTE(melwitt): The conflicts are because:

  * I0851e2d54a1fdc82fe3291fb7e286e790f121e92 (Drop legacy cold migrate
    allocation compat code) landed after the patch we are reverting

  * Ie991d4b53e9bb5e7ec26da99219178ab7695abf6 (consumer gen:
    move_allocations) landed after the patch we are reverting

  * I097732754b67bd5cf50abd15db7da3f013b6cdd5 (consumer gen: support
    claim_resources) landed after the patch we are reverting

Partial-Bug: #1836754

Change-Id: I0638004c4f8e5d3c391d936d086f8680dcbca319
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/806292/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/leaking_migration_allocations_in_placement-bd0a6f2a30e2e3d2.yaml', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",3,9da8604f36e3360343fc0c29cae8c9341ee45285,bug/1836754,,"import time def test_confirm_migrate_delete_alloc_on_source_fails(self): source_hostname = self.compute1.host dest_hostname = self.compute2.host source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) server = self._boot_and_check_allocations(self.flavor, source_hostname) self._migrate_and_check_allocations( server, self.flavor, source_rp_uuid, dest_rp_uuid) rsp = fake_requests.FakeResponse( 409, jsonutils.dumps( {'errors': [ {'code': 'placement.concurrent_update', 'detail': 'consumer generation conflict'}]})) with mock.patch('keystoneauth1.adapter.Adapter.put', autospec=True) as mock_put: mock_put.return_value = rsp post = {'confirmResize': None} self.api.post_server_action( server['id'], post, check_response_status=[204]) server = self._wait_for_state_change(server, 'ERROR') self.assertIn('Failed to delete allocations', server['fault']['message']) self.assertEqual(1, mock_put.call_count) migrations = self.api.get_migrations() self.assertEqual(1, len(migrations)) self.assertEqual('migration', migrations[0]['migration_type']) self.assertEqual(server['id'], migrations[0]['instance_uuid']) self.assertEqual(source_hostname, migrations[0]['source_compute']) self.assertEqual('error', migrations[0]['status']) # NOTE(gibi): Nova leaks the allocation held by the migration_uuid even # after the instance is deleted. At least nova logs a fat ERROR. self.assertIn('Deleting allocation in placement for migration %s ' 'failed. The instance %s will be put to ERROR state but ' 'the allocation held by the migration is leaked.' % (migrations[0]['uuid'], server['id']), self.stdlog.logger.output) self._delete_server(server) self.notifier.wait_for_versioned_notifications('instance.delete.end') allocations = self._get_allocations_by_server_uuid( migrations[0]['uuid']) self.assertEqual(1, len(allocations)) def test_live_migrate_drop_allocation_on_source_fails(self): source_hostname = self.compute1.host dest_hostname = self.compute2.host source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) # the ability to force live migrate a server is removed entirely in # 2.68 self.api.microversion = '2.67' server = self._boot_and_check_allocations( self.flavor, source_hostname) orig_put = adapter.Adapter.put rsp = fake_requests.FakeResponse( 409, jsonutils.dumps( {'errors': [ {'code': 'placement.concurrent_update', 'detail': 'consumer generation conflict'}]})) self.adapter_put_call_count = 0 def fake_put(_self, url, **kwargs): self.adapter_put_call_count += 1 migration_uuid = self.get_migration_uuid_for_instance(server['id']) if url == '/allocations/%s' % migration_uuid: return rsp else: return orig_put(_self, url, **kwargs) with mock.patch('keystoneauth1.adapter.Adapter.put', new=fake_put): post = { 'os-migrateLive': { 'host': dest_hostname, 'block_migration': True, 'force': True, } } self.api.post_server_action(server['id'], post) # nova does the source host cleanup _after_ setting the migration # to completed and sending end notifications so we have to wait # here a bit. time.sleep(1) # Nova failed to clean up on the source host. This right now puts # the instance to ERROR state and fails the migration. server = self._wait_for_server_parameter(server, {'OS-EXT-SRV-ATTR:host': dest_hostname, 'status': 'ERROR'}) self._wait_for_migration_status(server, ['error']) self.notifier.wait_for_versioned_notifications( 'instance.live_migration_post.end') # 1 claim on destination, 1 normal delete on dest that fails, self.assertEqual(2, self.adapter_put_call_count) # As the cleanup on the source host failed Nova leaks the allocation # held by the migration. self.assertFlavorMatchesUsage(source_rp_uuid, self.flavor) migration_uuid = self.get_migration_uuid_for_instance(server['id']) self.assertFlavorMatchesAllocation(self.flavor, migration_uuid, source_rp_uuid) self.assertFlavorMatchesUsage(dest_rp_uuid, self.flavor) self.assertFlavorMatchesAllocation(self.flavor, server['id'], dest_rp_uuid) # NOTE(gibi): Nova leaks the allocation held by the migration_uuid even # after the instance is deleted. At least nova logs a fat ERROR. self.assertIn('Deleting allocation in placement for migration %s ' 'failed. The instance %s will be put to ERROR state but ' 'the allocation held by the migration is leaked.' % (migration_uuid, server['id']), self.stdlog.logger.output) self._delete_server(server) self.notifier.wait_for_versioned_notifications('instance.delete.end') self.assertFlavorMatchesAllocation(self.flavor, migration_uuid, source_rp_uuid) ",9,159
openstack%2Fnova~master~I277ba12a676fe8ecd77b25456d1a08c81360d64a,openstack/nova,master,I277ba12a676fe8ecd77b25456d1a08c81360d64a,"Revert ""Consumer gen support for delete instance allocations""",ABANDONED,2021-08-27 01:32:54.000000000,2021-08-27 17:00:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-27 01:32:54.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9a0b17423bbbf03213fe6f2aa2d7e9c1eee8808', 'message': 'Revert ""Consumer gen support for delete instance allocations""\n\nThis reverts commit 6f1a1f5e8ead9ceb145e13927cd9ae7fdca9add4.\n\nConflicts:\n    doc/source/user/placement.rst\n    nova/api/openstack/compute/servers.py\n    nova/scheduler/client/report.py\n    nova/tests/functional/test_servers.py\n    nova/tests/unit/compute/test_compute.py\n    nova/tests/unit/scheduler/client/test_report.py\n\nNOTE(melwitt): The conflicts are because:\n\n  * Placement docs moved to the openstack/placement repo around the\n    time of I218a6d11fea934e8991e41b4b36203c6ba3e3dbf (Use links to\n    placement docs in nova docs)\n\n  * I1dd6abcc2be17ff76f108e7ff3771314f33259c6 (Stop handling\n    \'InstanceUnknownCell\' exception) landed after the patch we are\n    reverting\n\n  * I1dea4472b232d6c054879ebda2536658d9769053 (Fix wrong consumer type\n    in logging) landed after the patch we are reverting\n\n  * I456f685f480b8de71014cf232a8f08c731605ad8 (Create a fixture around\n    fake_notifier) landed after the patch we are reverting\n\n  * I6daea47988181dfa6dde3d9c42004c0ecf6ae87a (functional: Add and use\n    \'GlanceFixture\') landed after the patch we are reverting\n\n  * Iad2e4da4546b80a016e477577d23accb2606a6e4 (db: Unify \'nova.db.api\',\n    \'nova.db.sqlalchemy.api\') landed after the patch we are reverting\n\n  * I680f0bab766693b8cc6f0f912f0b7987a9debec9 (trivial: Remove unused\n    \'_instance_to_allocations_dict\' function) landed after the patch we\n    are reverting\n\nNOTE(melwitt): In nova/tests/unit/compute/test_compute_mgr.py,\ntest_confirm_snapshot_based_resize_at_source_delete_alloc_fails was\nalso removed because change I0851e2d54a1fdc82fe3291fb7e286e790f121e92\n(Drop legacy cold migrate allocation compat code) that landed after the\npatch we are reverting added the test and the test is no longer valid\nbecause delete_allocation_for_instance can no longer fail with this\nrevert.\n\nCloses-Bug: #1836754\n\nChange-Id: I277ba12a676fe8ecd77b25456d1a08c81360d64a\n'}]",0,806293,c9a0b17423bbbf03213fe6f2aa2d7e9c1eee8808,6,1,1,4690,,,0,"Revert ""Consumer gen support for delete instance allocations""

This reverts commit 6f1a1f5e8ead9ceb145e13927cd9ae7fdca9add4.

Conflicts:
    doc/source/user/placement.rst
    nova/api/openstack/compute/servers.py
    nova/scheduler/client/report.py
    nova/tests/functional/test_servers.py
    nova/tests/unit/compute/test_compute.py
    nova/tests/unit/scheduler/client/test_report.py

NOTE(melwitt): The conflicts are because:

  * Placement docs moved to the openstack/placement repo around the
    time of I218a6d11fea934e8991e41b4b36203c6ba3e3dbf (Use links to
    placement docs in nova docs)

  * I1dd6abcc2be17ff76f108e7ff3771314f33259c6 (Stop handling
    'InstanceUnknownCell' exception) landed after the patch we are
    reverting

  * I1dea4472b232d6c054879ebda2536658d9769053 (Fix wrong consumer type
    in logging) landed after the patch we are reverting

  * I456f685f480b8de71014cf232a8f08c731605ad8 (Create a fixture around
    fake_notifier) landed after the patch we are reverting

  * I6daea47988181dfa6dde3d9c42004c0ecf6ae87a (functional: Add and use
    'GlanceFixture') landed after the patch we are reverting

  * Iad2e4da4546b80a016e477577d23accb2606a6e4 (db: Unify 'nova.db.api',
    'nova.db.sqlalchemy.api') landed after the patch we are reverting

  * I680f0bab766693b8cc6f0f912f0b7987a9debec9 (trivial: Remove unused
    '_instance_to_allocations_dict' function) landed after the patch we
    are reverting

NOTE(melwitt): In nova/tests/unit/compute/test_compute_mgr.py,
test_confirm_snapshot_based_resize_at_source_delete_alloc_fails was
also removed because change I0851e2d54a1fdc82fe3291fb7e286e790f121e92
(Drop legacy cold migrate allocation compat code) that landed after the
patch we are reverting added the test and the test is no longer valid
because delete_allocation_for_instance can no longer fail with this
revert.

Closes-Bug: #1836754

Change-Id: I277ba12a676fe8ecd77b25456d1a08c81360d64a
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/806293/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/api/openstack/compute/servers.py']",8,c9a0b17423bbbf03213fe6f2aa2d7e9c1eee8808,bug/1836754, except exception.InstanceIsLocked as e:," except (exception.InstanceIsLocked, exception.AllocationDeleteFailed) as e:",45,188
openstack%2Ftripleo-upgrade~master~I4f8151f003d7636c3b34158e32ee62047f008129,openstack/tripleo-upgrade,master,I4f8151f003d7636c3b34158e32ee62047f008129,Allow applying workaround patches in containers.,MERGED,2020-01-17 16:41:16.000000000,2021-08-27 16:44:47.000000000,2021-08-27 16:44:47.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 33080}]","[{'number': 1, 'created': '2020-01-17 16:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/39f2f81096d13302b8dfc3f20eefa30f7f51823c', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof the undercloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds a new workarounds field: containers, which consists\non a list of containers or a single container to which a\npatch will be applied. After applying the patch, the corresponding\nsystemd service that controls the container will be restarted.\nIt is used in combination with the already existing fields patch,\nid and basedir. Examples:\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor,mistral_engine,mistral_event_engine\n        id: 112345\n        command:\n\npre_undercloud_upgrade_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor\n        id: 112346\n        command:\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n'}, {'number': 2, 'created': '2020-01-20 09:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5829cbdcf33b340d967013e14a400051eaaa68a5', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof the undercloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds a new workarounds field: containers, which consists\non a list of containers or a single container to which a\npatch will be applied. After applying the patch, the corresponding\nsystemd service that controls the container will be restarted.\nIt is used in combination with the already existing fields patch,\nid and basedir. Examples:\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor,mistral_engine,mistral_event_engine\n        id: 112345\n        command:\n\npre_undercloud_upgrade_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor\n        id: 112346\n        command:\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n'}, {'number': 3, 'created': '2020-01-20 11:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0eb144ec6c32b8901a54fdeae6ea87f6b9b2a33b', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof the undercloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds a new workarounds field: containers, which consists\non a list of containers or a single container to which a\npatch will be applied. After applying the patch, the corresponding\nsystemd service that controls the container will be restarted.\nIt is used in combination with the already existing fields patch,\nid and basedir. Examples:\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor,mistral_engine,mistral_event_engine\n        id: 112345\n        command:\n\npre_undercloud_upgrade_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor\n        id: 112346\n        command:\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n'}, {'number': 4, 'created': '2021-06-16 12:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7c196d539ff8ae2260e14d1cd2d996595038c3c1', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof the undercloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds a new workarounds field: containers, which consists\non a list of containers or a single container to which a\npatch will be applied. After applying the patch, the corresponding\nsystemd service that controls the container will be restarted.\nIt is used in combination with the already existing fields patch,\nid and basedir. Examples:\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor,mistral_engine,mistral_event_engine\n        id: 112345\n        command:\n\npre_undercloud_upgrade_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor\n        id: 112346\n        command:\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n'}, {'number': 5, 'created': '2021-06-16 12:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6138e55a7ee02f249e452db2cabab70ab84dc83d', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof the undercloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds a new workarounds field: containers, which consists\non a list of containers or a single container to which a\npatch will be applied. After applying the patch, the corresponding\nsystemd service that controls the container will be restarted.\nIt is used in combination with the already existing fields patch,\nid and basedir. Examples:\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor,mistral_engine,mistral_event_engine\n        id: 112345\n        command:\n\npre_undercloud_upgrade_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor\n        id: 112346\n        command:\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n'}, {'number': 6, 'created': '2021-06-28 23:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/605d03d15679dab9af24b6227f7851879ab3bde0', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof the undercloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds a new workarounds field: containers, which consists\non a list of containers or a single container to which a\npatch will be applied. After applying the patch, the corresponding\nsystemd service that controls the container will be restarted.\nIt is used in combination with the already existing fields patch,\nid and basedir. Examples:\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor,mistral_engine,mistral_event_engine\n        id: 112345\n        command:\n\npre_undercloud_upgrade_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor\n        id: 112346\n        command:\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n'}, {'number': 7, 'created': '2021-06-30 10:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ef625dad4452aaab6493bd2d8849bf239f391f30', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof the undercloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds a new workarounds field: containers, which consists\non a list of containers or a single container to which a\npatch will be applied. After applying the patch, the corresponding\nsystemd service that controls the container will be restarted.\nIt is used in combination with the already existing fields patch,\nid and basedir. Examples:\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor,mistral_engine,mistral_event_engine\n        id: 112345\n        command:\n\npre_undercloud_upgrade_workarounds:\n    - rhbz1:\n        patch: true\n        basedir: /usr/lib/python3.6/site-packages\n        containers: mistral_executor\n        id: 112346\n        command:\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n'}, {'number': 8, 'created': '2021-06-30 11:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9691bd9d7c55134a2233d7ecd84c0c18eca45b68', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof both undercloud and overcloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds new workarounds field to apply modifications to overcloud or undercloud\ncontainers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare\nfile and adds desired modifications on top of it. After building containers, modified containers\nparameters file are added to desired update or upgrade scripts to update TripleO Heat Templates \nbefore update/upgrade run. This way changes in containers are persistent. There is also field \'preparation_commands\'\nto execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.\n\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: false\n        containers: true\n        environment: undercloud\n        preparation_commands: |\n          echo ""Updates undercloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - ironic-inspector\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: |\n          echo ""Updates overcloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - rabbitmq\n          - haproxy\n          - maria\n          - redis\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare\n'}, {'number': 9, 'created': '2021-07-08 08:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/641c761ea5009b9a45c0653f5117cbc093f6ebf6', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof both undercloud and overcloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds new workarounds field to apply modifications to overcloud or undercloud\ncontainers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare\nfile and adds desired modifications on top of it. After building containers, modified containers\nparameters file are added to desired update or upgrade scripts to update TripleO Heat Templates\nbefore update/upgrade run. This way changes in containers are persistent. There is also field \'preparation_commands\'\nto execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.\n\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: false\n        containers: true\n        environment: undercloud\n        preparation_commands: |\n          echo ""Updates undercloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - ironic-inspector\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: |\n          echo ""Updates overcloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - rabbitmq\n          - haproxy\n          - maria\n          - redis\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare\n'}, {'number': 10, 'created': '2021-08-19 12:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/eedbdc8e62c1b215327b53e376fc8fdf4ce336b0', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof both undercloud and overcloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds new workarounds field to apply modifications to overcloud or undercloud\ncontainers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare\nfile and adds desired modifications on top of it. After building containers, modified containers\nparameters file are added to desired update or upgrade scripts to update TripleO Heat Templates\nbefore update/upgrade run. This way changes in containers are persistent. There is also field \'preparation_commands\'\nto execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.\n\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: false\n        containers: true\n        environment: undercloud\n        preparation_commands: |\n          echo ""Updates undercloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - ironic-inspector\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: |\n          echo ""Updates overcloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - rabbitmq\n          - haproxy\n          - maria\n          - redis\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare\n'}, {'number': 11, 'created': '2021-08-23 12:36:16.000000000', 'files': ['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tests/workarounds-update'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5d1bf944d6e3c484af451499d87c5fe3a084b1ff', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof both undercloud and overcloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds new workarounds field to apply modifications to overcloud or undercloud containers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare\nfile and adds desired modifications on top of it. After building containers, modified containers\nparameters file are added to desired update or upgrade scripts to update TripleO Heat Templates before update/upgrade run. This way changes in containers are persistent. There is also field \'preparation_commands\'\nto execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.\n\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: false\n        containers: true\n        environment: undercloud\n        preparation_commands: |\n          echo ""Updates undercloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - ironic-inspector\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: |\n          echo ""Updates overcloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - rabbitmq\n          - haproxy\n          - maria\n          - redis\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\n#Only supports python source projects\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: """"\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - heat-api\n          modify_append_tag: ""-modified""\n          modify_vars:\n            tasks_from: dev_install.yml\n            source_image: docker.io/tripleomaster/centos-binary-heat-api:current-tripleo\n            refspecs:\n              -\n                project: heat\n                refspec: refs/changes/12/1234/3\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare\n'}]",20,703121,5d1bf944d6e3c484af451499d87c5fe3a084b1ff,38,10,11,26343,,,0,"Allow applying workaround patches in containers.

The current workarounds mechanism allows applying a patch
into a host, usually the Undercloud. With the containerization
of both undercloud and overcloud a new need arises, the option to apply a
patch into a container or list of containers.

This patch adds new workarounds field to apply modifications to overcloud or undercloud containers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare
file and adds desired modifications on top of it. After building containers, modified containers
parameters file are added to desired update or upgrade scripts to update TripleO Heat Templates before update/upgrade run. This way changes in containers are persistent. There is also field 'preparation_commands'
to execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.

pre_undercloud_update_workarounds:
    - rhbz1:
        patch: false
        containers: true
        environment: undercloud
        preparation_commands: |
          echo ""Updates undercloud containers command""
        containers_file_modifications:
          modify_role: tripleo-modify-image
          includes:
          - ironic-inspector
          modify_append_tag: ""-updated""
          modify_vars:
            tasks_from: yum_update.yml
            compare_host_packages: true
            yum_repos_dir_path: /etc/yum.repos.d

pre_overcloud_update_prepare_workarounds:
    - rhbz11:
        patch: false
        containers: true
        environment: overcloud
        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh
        preparation_commands: |
          echo ""Updates overcloud containers command""
        containers_file_modifications:
          modify_role: tripleo-modify-image
          includes:
          - rabbitmq
          - haproxy
          - maria
          - redis
          modify_append_tag: ""-updated""
          modify_vars:
            tasks_from: yum_update.yml
            compare_host_packages: true
            yum_repos_dir_path: /etc/yum.repos.d

#Only supports python source projects
pre_overcloud_update_prepare_workarounds:
    - rhbz11:
        patch: false
        containers: true
        environment: overcloud
        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh
        preparation_commands: """"
        containers_file_modifications:
          modify_role: tripleo-modify-image
          includes:
          - heat-api
          modify_append_tag: ""-modified""
          modify_vars:
            tasks_from: dev_install.yml
            source_image: docker.io/tripleomaster/centos-binary-heat-api:current-tripleo
            refspecs:
              -
                project: heat
                refspec: refs/changes/12/1234/3

Change-Id: I4f8151f003d7636c3b34158e32ee62047f008129
[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/21/703121/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tests/workarounds-update']",3,39f2f81096d13302b8dfc3f20eefa30f7f51823c,, container: mistral_executor,,30,0
openstack%2Fproject-config~master~I2fd7a6387d2f50eeeb8cef513df19b5696cce55b,openstack/project-config,master,I2fd7a6387d2f50eeeb8cef513df19b5696cce55b,Add review priority label to nova deliverables,MERGED,2021-04-22 10:19:12.000000000,2021-08-27 16:41:39.000000000,2021-08-27 16:23:13.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 10:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4dde4b3a211a86e3e25b4af0058b80aece3c2182', 'message': 'Add review priority label to nova deliverables\n\nThis change adds a Review Priority label to all nova deliverables\ncurrently under acl control in the project config repo.\n\nThe range -1..+2 was chosen to have parity with all\nexisting uses fo the label for consitency.\n\nThe ablity set the new lable is granted only to the core\nand stable core teams for the updated repos.\n\nChange-Id: I2fd7a6387d2f50eeeb8cef513df19b5696cce55b\n'}, {'number': 2, 'created': '2021-05-06 13:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/102aeb475085e3d97d76f72bae5dfa988b90547d', 'message': 'Add review priority label to nova deliverables\n\nThis change adds a Review Priority label to all nova deliverables\ncurrently under acl control in the project config repo.\n\nThe ability set the new label is granted only to the core\nand stable core teams for the updated repos.\n\nChange-Id: I2fd7a6387d2f50eeeb8cef513df19b5696cce55b\n'}, {'number': 3, 'created': '2021-08-23 12:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/58dd927f0ef77607326874f3d4fe523765905fbe', 'message': 'Add review priority label to nova deliverables\n\nThis change adds a Review Priority label to all nova deliverables\ncurrently under acl control in the project config repo.\n\nThe ability set the new label is granted only to the core\nand stable core teams for the updated repos.\n\nChange-Id: I2fd7a6387d2f50eeeb8cef513df19b5696cce55b\n'}, {'number': 4, 'created': '2021-08-23 12:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7bd2e16ccedb5986f49cd1654f259fb77727ed1a', 'message': 'Add review priority label to nova deliverables\n\nThis change adds a Review Priority label to all nova deliverables\ncurrently under acl control in the project config repo.\n\nThe ability set the new label is granted only to the core\nand stable core teams for the updated repos.\n\nChange-Id: I2fd7a6387d2f50eeeb8cef513df19b5696cce55b\n'}, {'number': 5, 'created': '2021-08-23 13:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6e6b43b860c8b73a7331bda1c4e4651fa510f7fa', 'message': 'Add review priority label to nova deliverables\n\nThis change adds a Review Priority label to all nova deliverables\ncurrently under acl control in the project config repo.\n\nThe ability set the new label is granted only to the core\nand stable core teams for the updated repos.\n\nChange-Id: I2fd7a6387d2f50eeeb8cef513df19b5696cce55b\n'}, {'number': 6, 'created': '2021-08-23 13:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e8e9d9719b2b4e89401a295ff5473d78ece68f3', 'message': 'Add review priority label to nova deliverables\n\nThis change adds a Review Priority label to all nova deliverables\ncurrently under acl control in the project config repo.\n\nThe ability set the new label is granted only to the core\nand stable core teams for the updated repos.\n\nChange-Id: I2fd7a6387d2f50eeeb8cef513df19b5696cce55b\n'}, {'number': 7, 'created': '2021-08-27 16:02:24.000000000', 'files': ['gerrit/acls/openstack/os-vif.config', 'tools/normalize_acl.py', 'gerrit/acls/openstack/nova.config', 'gerrit/acls/openstack/placement.config', 'gerrit/acls/openstack/python-novaclient.config', 'gerrit/acls/openstack/nova-specs.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d41dfcd16f77de196af7d8a17673b4718fac9257', 'message': 'Add review priority label to nova deliverables\n\nThis change adds a Review Priority label to all nova deliverables\ncurrently under acl control in the project config repo.\n\nThe ability set the new label is granted only to the core\nand stable core teams for the updated repos.\n\nChange-Id: I2fd7a6387d2f50eeeb8cef513df19b5696cce55b\n'}]",18,787523,d41dfcd16f77de196af7d8a17673b4718fac9257,39,8,7,11604,,,0,"Add review priority label to nova deliverables

This change adds a Review Priority label to all nova deliverables
currently under acl control in the project config repo.

The ability set the new label is granted only to the core
and stable core teams for the updated repos.

Change-Id: I2fd7a6387d2f50eeeb8cef513df19b5696cce55b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/787523/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/os-vif.config', 'gerrit/acls/openstack/nova.config', 'gerrit/acls/openstack/placement.config', 'gerrit/acls/openstack/python-novaclient.config', 'gerrit/acls/openstack/nova-specs.config']",5,4dde4b3a211a86e3e25b4af0058b80aece3c2182,review-priority,label-Review-Priority = -1..+2 group nova-specs-core,,9,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4f8151f003d7636c3b34158e32ee62047f008129,openstack/tripleo-upgrade,stable/train,I4f8151f003d7636c3b34158e32ee62047f008129,Allow applying workaround patches in containers.,MERGED,2021-07-07 05:42:10.000000000,2021-08-27 16:41:37.000000000,2021-08-27 16:41:37.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-07-07 05:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e99fa6e77d0b72ab17aa885b912f472a531542ca', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof both undercloud and overcloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds new workarounds field to apply modifications to overcloud or undercloud\ncontainers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare\nfile and adds desired modifications on top of it. After building containers, modified containers\nparameters file are added to desired update or upgrade scripts to update TripleO Heat Templates \nbefore update/upgrade run. This way changes in containers are persistent. There is also field \'preparation_commands\'\nto execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.\n\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: false\n        containers: true\n        environment: undercloud\n        preparation_commands: |\n          echo ""Updates undercloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - ironic-inspector\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: |\n          echo ""Updates overcloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - rabbitmq\n          - haproxy\n          - maria\n          - redis\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\n(cherry picked from commit 9691bd9d7c55134a2233d7ecd84c0c18eca45b68)\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare\n'}, {'number': 2, 'created': '2021-07-08 08:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bae1e743aa1d5c6cbf564f6d3b6d60ce98f37bdd', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof both undercloud and overcloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds new workarounds field to apply modifications to overcloud or undercloud\ncontainers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare\nfile and adds desired modifications on top of it. After building containers, modified containers\nparameters file are added to desired update or upgrade scripts to update TripleO Heat Templates\nbefore update/upgrade run. This way changes in containers are persistent. There is also field \'preparation_commands\'\nto execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.\n\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: false\n        containers: true\n        environment: undercloud\n        preparation_commands: |\n          echo ""Updates undercloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - ironic-inspector\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: |\n          echo ""Updates overcloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - rabbitmq\n          - haproxy\n          - maria\n          - redis\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\n(cherry picked from commit 9691bd9d7c55134a2233d7ecd84c0c18eca45b68)\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare\n'}, {'number': 3, 'created': '2021-08-23 11:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e5cdab40506568fc42e246df0f2b666737dff294', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof both undercloud and overcloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds new workarounds field to apply modifications to overcloud or undercloud\ncontainers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare\nfile and adds desired modifications on top of it. After building containers, modified containers\nparameters file are added to desired update or upgrade scripts to update TripleO Heat Templates\nbefore update/upgrade run. This way changes in containers are persistent. There is also field \'preparation_commands\'\nto execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.\n\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: false\n        containers: true\n        environment: undercloud\n        preparation_commands: |\n          echo ""Updates undercloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - ironic-inspector\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: |\n          echo ""Updates overcloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - rabbitmq\n          - haproxy\n          - maria\n          - redis\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare\n'}, {'number': 4, 'created': '2021-08-26 11:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bc49680653bf2072209af0458b13fcd3cbcb2d9b', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof both undercloud and overcloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds new workarounds field to apply modifications to overcloud or undercloud containers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare\nfile and adds desired modifications on top of it. After building containers, modified containers\nparameters file are added to desired update or upgrade scripts to update TripleO Heat Templates before update/upgrade run. This way changes in containers are persistent. There is also field \'preparation_commands\'\nto execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.\n\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: false\n        containers: true\n        environment: undercloud\n        preparation_commands: |\n          echo ""Updates undercloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - ironic-inspector\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: |\n          echo ""Updates overcloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - rabbitmq\n          - haproxy\n          - maria\n          - redis\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\n#Only supports python source projects\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: """"\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - heat-api\n          modify_append_tag: ""-modified""\n          modify_vars:\n            tasks_from: dev_install.yml\n            source_image: docker.io/tripleomaster/centos-binary-heat-api:current-tripleo\n            refspecs:\n              -\n                project: heat\n                refspec: refs/changes/12/1234/3\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare\n'}, {'number': 5, 'created': '2021-08-26 11:42:04.000000000', 'files': ['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tests/workarounds-update'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fff661df971273eb54a07f6703579720710d1168', 'message': 'Allow applying workaround patches in containers.\n\nThe current workarounds mechanism allows applying a patch\ninto a host, usually the Undercloud. With the containerization\nof both undercloud and overcloud a new need arises, the option to apply a\npatch into a container or list of containers.\n\nThis patch adds new workarounds field to apply modifications to overcloud or undercloud containers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare\nfile and adds desired modifications on top of it. After building containers, modified containers\nparameters file are added to desired update or upgrade scripts to update TripleO Heat Templates before update/upgrade run. This way changes in containers are persistent. There is also field \'preparation_commands\'\nto execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.\n\npre_undercloud_update_workarounds:\n    - rhbz1:\n        patch: false\n        containers: true\n        environment: undercloud\n        preparation_commands: |\n          echo ""Updates undercloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - ironic-inspector\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: |\n          echo ""Updates overcloud containers command""\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - rabbitmq\n          - haproxy\n          - maria\n          - redis\n          modify_append_tag: ""-updated""\n          modify_vars:\n            tasks_from: yum_update.yml\n            compare_host_packages: true\n            yum_repos_dir_path: /etc/yum.repos.d\n\npre_overcloud_update_prepare_workarounds:\n    - rhbz11:\n        patch: false\n        containers: true\n        environment: overcloud\n        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh\n        preparation_commands: """"\n        containers_file_modifications:\n          modify_role: tripleo-modify-image\n          includes:\n          - heat-api\n          modify_append_tag: ""-modified""\n          modify_vars:\n            tasks_from: dev_install.yml\n            source_image: docker.io/tripleomaster/centos-binary-heat-api:current-tripleo\n            refspecs:\n              -\n                project: heat\n                refspec: refs/changes/12/1234/3\n\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare\n\nChange-Id: I4f8151f003d7636c3b34158e32ee62047f008129\n(cherry picked from commit 5d1bf944d6e3c484af451499d87c5fe3a084b1ff)\n'}]",0,799594,fff661df971273eb54a07f6703579720710d1168,16,5,5,26343,,,0,"Allow applying workaround patches in containers.

The current workarounds mechanism allows applying a patch
into a host, usually the Undercloud. With the containerization
of both undercloud and overcloud a new need arises, the option to apply a
patch into a container or list of containers.

This patch adds new workarounds field to apply modifications to overcloud or undercloud containers using tripleo container image prepare[1]. The workaround mechanism takes a ContainerImagePrepare
file and adds desired modifications on top of it. After building containers, modified containers
parameters file are added to desired update or upgrade scripts to update TripleO Heat Templates before update/upgrade run. This way changes in containers are persistent. There is also field 'preparation_commands'
to execute some pre container image prepare commands, for example to download rpms or create custom Dockerfile.

pre_undercloud_update_workarounds:
    - rhbz1:
        patch: false
        containers: true
        environment: undercloud
        preparation_commands: |
          echo ""Updates undercloud containers command""
        containers_file_modifications:
          modify_role: tripleo-modify-image
          includes:
          - ironic-inspector
          modify_append_tag: ""-updated""
          modify_vars:
            tasks_from: yum_update.yml
            compare_host_packages: true
            yum_repos_dir_path: /etc/yum.repos.d

pre_overcloud_update_prepare_workarounds:
    - rhbz11:
        patch: false
        containers: true
        environment: overcloud
        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh
        preparation_commands: |
          echo ""Updates overcloud containers command""
        containers_file_modifications:
          modify_role: tripleo-modify-image
          includes:
          - rabbitmq
          - haproxy
          - maria
          - redis
          modify_append_tag: ""-updated""
          modify_vars:
            tasks_from: yum_update.yml
            compare_host_packages: true
            yum_repos_dir_path: /etc/yum.repos.d

pre_overcloud_update_prepare_workarounds:
    - rhbz11:
        patch: false
        containers: true
        environment: overcloud
        deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh
        preparation_commands: """"
        containers_file_modifications:
          modify_role: tripleo-modify-image
          includes:
          - heat-api
          modify_append_tag: ""-modified""
          modify_vars:
            tasks_from: dev_install.yml
            source_image: docker.io/tripleomaster/centos-binary-heat-api:current-tripleo
            refspecs:
              -
                project: heat
                refspec: refs/changes/12/1234/3

[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/container_image_prepare.html#modifying-images-during-prepare

Change-Id: I4f8151f003d7636c3b34158e32ee62047f008129
(cherry picked from commit 5d1bf944d6e3c484af451499d87c5fe3a084b1ff)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/94/799594/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tests/workarounds-update']",3,e99fa6e77d0b72ab17aa885b912f472a531542ca,," patch: false containers: true environment: undercloud preparation_commands: | echo ""Updates undercloud containers command"" containers_file_modifications: modify_role: tripleo-modify-image includes: - ironic-inspector modify_append_tag: ""-updated"" modify_vars: tasks_from: yum_update.yml compare_host_packages: true yum_repos_dir_path: /etc/yum.repos.d - rhbz2:pre_overcloud_update_prepare_workarounds: containers: true environment: overcloud deploy_scripts: overcloud_update_prepare.sh,overcloud_update_converge.sh preparation_commands: | echo ""Updates overcloud containers command"" containers_file_modifications: modify_role: tripleo-modify-image includes: - rabbitmq - haproxy - maria - redis modify_append_tag: ""-updated"" modify_vars: tasks_from: yum_update.yml compare_host_packages: true yum_repos_dir_path: /etc/yum.repos.d pre_overcloud_update_run_workarounds: - rhbz12: patch: false - rhbz13:", patch: true basedir: /usr/share/openstack-tripleo-heat-templates id: 112345 command: - rhbz2: patch: true basedir: /usr/share/openstack-tripleo-heat-templates patch_strip: 2 id: 212321 command: - rhbz3:pre_overcloud_update_run_workarounds: - rhbz12:,112,17
openstack%2Fkuryr-kubernetes~master~I3422b9f786a0decdd3053a4e17803eea4287581f,openstack/kuryr-kubernetes,master,I3422b9f786a0decdd3053a4e17803eea4287581f,Add klb ep handling by looking up ACTIVE ports,NEW,2021-08-18 00:21:51.000000000,2021-08-27 16:06:45.000000000,,"[{'_account_id': 11600}, {'_account_id': 19521}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-08-18 00:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d44c715f75c5521182459d8c47f3f67849e5b76b', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 2, 'created': '2021-08-18 03:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6c947af523cd1a4ae464919bf34e430e8b6114ae', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 3, 'created': '2021-08-18 04:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e0756a0ec6a0a39ce53019ebc4596c3c3cb6847b', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 4, 'created': '2021-08-18 04:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c307f7348e62be39b8b9fee0a427cbeaf9ebb90b', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 5, 'created': '2021-08-18 04:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6854223ff0e000981a520866c749e26063a28a5c', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 6, 'created': '2021-08-21 02:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/718666540a542492013abaccfd86deaca860ef52', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 7, 'created': '2021-08-21 02:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3df8e4fedb9625e5a8ab3f1a2d065cfac4a185dc', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 8, 'created': '2021-08-21 02:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/76f3db5b65fe8e4f9f6ba6e8a5d1eb9f544abdbc', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 9, 'created': '2021-08-21 02:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1fb91c524db1bd3250f8e789c40fcce635f86f4c', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 10, 'created': '2021-08-21 02:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/70821e26dcfaf037aba2d3e15861059aea180359', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 11, 'created': '2021-08-21 02:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/74d4b7810c8a56818bad75ae85bdb1e79642a093', 'message': ""Add klb ep handling vms\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 12, 'created': '2021-08-25 04:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4790013ffaaaa3b081f68374fe501421ffa0bed9', 'message': ""Add klb ep handling by looking up ACTIVE ports\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}, {'number': 13, 'created': '2021-08-25 04:27:43.000000000', 'files': ['kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/30d1a120ca1fa957abad0a2ce348054cab0a7d1b', 'message': ""Add klb ep handling by looking up ACTIVE ports\n\nEndpoints can be anything, a Pod or another VM, till now Kuryr only\nhandled the Pod as it's known component of the cluster.\n\nChange-Id: I3422b9f786a0decdd3053a4e17803eea4287581f\n""}]",5,804931,30d1a120ca1fa957abad0a2ce348054cab0a7d1b,26,4,13,19521,,,0,"Add klb ep handling by looking up ACTIVE ports

Endpoints can be anything, a Pod or another VM, till now Kuryr only
handled the Pod as it's known component of the cluster.

Change-Id: I3422b9f786a0decdd3053a4e17803eea4287581f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/804931/12 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kuryr_kubernetes/controller/drivers/default_subnet.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/utils.py']",6,d44c715f75c5521182459d8c47f3f67849e5b76b,handle-vms-as-lb-members,"def get_vm_by_ip(vm_ip, namespace=None): compute = clients.get_compute_client() vm = {} vms = [] for server in compute.servers(ip=vm_ip, status=""ACTIVE""): vms.append(server.to_dict()) # vms = vms.append(server.to_dict()) if len(vms) >= 1: return vms[0] return vm ",,41,15
openstack%2Fovn-octavia-provider~master~Id4e15867b61925fa157c9e81750d8c5f63ad48a5,openstack/ovn-octavia-provider,master,Id4e15867b61925fa157c9e81750d8c5f63ad48a5,Fix race condition retrieving logical router rows,MERGED,2021-07-20 17:00:13.000000000,2021-08-27 15:52:03.000000000,2021-08-27 15:50:38.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11082}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-07-20 17:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5d68eeeee82baf13d8149f6616a28d9ee7105f93', 'message': 'Fix race condition retrieving logical router rows\n\nUsing rows.values() via the ovsdbapp API is inherently\nracy as if there are multiple threads an add/delete can\ninterfere, triggering a RuntimeError (dictionary changed\nsize during iteration). Use db_list_rows() instead as it\navoids this issue.\n\nAlso changed the IDL notify code to use a frozen row to\nsimilary avoid any possible race condition with there.\n\nChange-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5\nCloses-bug: #1936959\n'}, {'number': 2, 'created': '2021-07-20 17:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5e4fe911eb76e75a08ca519a400e2b543b9f4ac2', 'message': 'Fix race condition retrieving logical router rows\n\nUsing rows.values() via the ovsdbapp API is inherently\nracy as if there are multiple threads an add/delete can\ninterfere, triggering a RuntimeError (dictionary changed\nsize during iteration). Use db_list_rows() instead as it\navoids this issue.\n\nAlso changed the IDL notify code to use a frozen row to\nsimilary avoid any possible race condition with there.\n\nChange-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5\nCloses-bug: #1936959\n'}, {'number': 3, 'created': '2021-07-20 19:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f813f55855a771a203dcc28cb9bd43a55fe0da0e', 'message': 'Fix race condition retrieving logical router rows\n\nUsing rows.values() via the ovsdbapp API is inherently\nracy as if there are multiple threads an add/delete can\ninterfere, triggering a RuntimeError (dictionary changed\nsize during iteration). Use db_list_rows() instead as it\navoids this issue.\n\nAlso changed the IDL notify code to use a frozen row to\nsimilary avoid any possible race condition with there.\n\nChange-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5\nCloses-bug: #1936959\n'}, {'number': 4, 'created': '2021-07-20 21:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f2f865f5ecbf0dbd1710450bde8e7c9f3eaec2a3', 'message': 'Fix race condition retrieving logical router rows\n\nUsing rows.values() via the ovsdbapp API is inherently\nracy as if there are multiple threads an add/delete can\ninterfere, triggering a RuntimeError (dictionary changed\nsize during iteration). Use db_list_rows() instead as it\navoids this issue.\n\nAlso changed the IDL notify code to use a frozen row to\nsimilary avoid any possible race condition with there.\n\nChange-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5\nCloses-bug: #1936959\n'}, {'number': 5, 'created': '2021-07-20 22:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/82470964342c288278e666cda0b18b4d82942092', 'message': 'Fix race condition retrieving logical router rows\n\nUsing rows.values() via the ovsdbapp API is inherently\nracy as if there are multiple threads an add/delete can\ninterfere, triggering a RuntimeError (dictionary changed\nsize during iteration). Use db_list_rows() instead as it\navoids this issue.\n\nAlso changed the IDL notify code to use a frozen row to\nsimilary avoid any possible race condition with there.\n\nChange-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5\nCloses-bug: #1936959\n'}, {'number': 6, 'created': '2021-07-21 03:09:00.000000000', 'files': ['ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fab03e7c6d3f61afab2fb71ef70efa603f393de2', 'message': 'Fix race condition retrieving logical router rows\n\nUsing rows.values() via the ovsdbapp API is inherently\nracy as if there are multiple threads an add/delete can\ninterfere, triggering a RuntimeError (dictionary changed\nsize during iteration).\n\nIn one case we now directly use lookup() as we were\nlooking for a specific logical router.\n\nIn the other two cases we create a new class to do the\noperation in a transaction, making it idempotent, since\nboth need to iterate the returned list.\n\nAlso changed the IDL notify code to use a frozen row to\nsimilary avoid any possible race condition with there.\n\nChange-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5\nCloses-bug: #1936959\n'}]",14,801517,fab03e7c6d3f61afab2fb71ef70efa603f393de2,38,6,6,1131,,,0,"Fix race condition retrieving logical router rows

Using rows.values() via the ovsdbapp API is inherently
racy as if there are multiple threads an add/delete can
interfere, triggering a RuntimeError (dictionary changed
size during iteration).

In one case we now directly use lookup() as we were
looking for a specific logical router.

In the other two cases we create a new class to do the
operation in a transaction, making it idempotent, since
both need to iterate the returned list.

Also changed the IDL notify code to use a frozen row to
similary avoid any possible race condition with there.

Change-Id: Id4e15867b61925fa157c9e81750d8c5f63ad48a5
Closes-bug: #1936959
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/17/801517/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,5d68eeeee82baf13d8149f6616a28d9ee7105f93,bug/1936959, (self.helper.ovn_nbdb_api.db_list_rows.return_value. execute.return_value) = [self.router] (self.helper.ovn_nbdb_api.db_list_rows.return_value. execute.return_value) = [lr] (self.helper.ovn_nbdb_api.db_list_rows.return_value. execute.return_value) = [lr], (self.helper.ovn_nbdb_api.tables['Logical_Router'].rows. values.return_value) = [self.router] (self.helper.ovn_nbdb_api.tables['Logical_Router'].rows. values.return_value) = [lr] (self.helper.ovn_nbdb_api.tables['Logical_Router'].rows. values.return_value) = [lr],15,11
openstack%2Fnova~stable%2Fwallaby~I887417967365a076db4b0ef97dee302cf7ff9152,openstack/nova,stable/wallaby,I887417967365a076db4b0ef97dee302cf7ff9152,nova-api add flavorid value to server's flavor part,NEW,2021-08-25 13:29:57.000000000,2021-08-27 15:47:33.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 33154}]","[{'number': 1, 'created': '2021-08-25 13:29:57.000000000', 'files': ['nova/api/openstack/compute/views/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9349de07afaa51cbd918efdf887ca0075c88b1a9', 'message': ""nova-api add flavorid value to server's flavor part\n\nChange-Id: I887417967365a076db4b0ef97dee302cf7ff9152\n""}]",0,805997,9349de07afaa51cbd918efdf887ca0075c88b1a9,8,3,1,33154,,,0,"nova-api add flavorid value to server's flavor part

Change-Id: I887417967365a076db4b0ef97dee302cf7ff9152
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/805997/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/views/servers.py'],1,9349de07afaa51cbd918efdf887ca0075c88b1a9,," ""id"": instance_type.flavorid,",,1,0
openstack%2Fsushy-oem-idrac~master~I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975,openstack/sushy-oem-idrac,master,I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975,Add OEM Task extension,MERGED,2021-07-09 14:37:46.000000000,2021-08-27 15:28:24.000000000,2021-08-27 15:28:24.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-09 14:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/47b7351fbd0ca72547da2d40c5619d81228a42a8', 'message': 'Add OEM Task extension\n\nAdded to get OEM JobType to determine if rebooting is done by iDRAC\nfor OEM RAID jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/800267\nChange-Id: I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975\n'}, {'number': 2, 'created': '2021-08-05 09:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/1199c6b563605058a94e3e230b7e80fee8c374cb', 'message': 'Add OEM Task extension\n\nAdded to get OEM JobType to determine if rebooting is done by iDRAC\nfor OEM RAID jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/800267\nChange-Id: I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975\n'}, {'number': 3, 'created': '2021-08-18 14:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/b32718f3946175ffd669a2edeae87f72b175b8b0', 'message': 'Add OEM Task extension\n\nAdded to get OEM JobType to determine if rebooting is done by iDRAC\nfor OEM RAID jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/800267\nChange-Id: I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975\n'}, {'number': 4, 'created': '2021-08-19 07:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/a1b455295e279048c0a2dc43ee68e856ac863678', 'message': 'Add OEM Task extension\n\nAdded to get OEM JobType to determine if rebooting is done by iDRAC\nfor OEM RAID jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/800267\nChange-Id: I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975\n'}, {'number': 5, 'created': '2021-08-19 15:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/d41ada300e56d1a1630faae251a2dc366292c2e3', 'message': 'Add OEM Task extension\n\nAdded to get OEM JobType to determine if rebooting is done by iDRAC\nfor OEM RAID jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/800267\nChange-Id: I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975\n'}, {'number': 6, 'created': '2021-08-24 08:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/e2417fbe4c4271211eb58a601e4be6e0e6f020f3', 'message': 'Add OEM Task extension\n\nAdded to get OEM JobType to determine if rebooting is done by iDRAC\nfor OEM RAID jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/800267\nChange-Id: I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975\n'}, {'number': 7, 'created': '2021-08-27 08:16:10.000000000', 'files': ['sushy_oem_idrac/tests/unit/test_task.py', 'sushy_oem_idrac/tests/unit/json_samples/task.json', 'sushy_oem_idrac/resources/taskservice/constants.py', 'sushy_oem_idrac/__init__.py', 'setup.cfg', 'sushy_oem_idrac/resources/taskservice/task.py', 'sushy_oem_idrac/resources/taskservice/mappings.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/0a7249467b08f517b2f84671739950e7fa39f075', 'message': 'Add OEM Task extension\n\nAdded to get OEM JobType to determine if rebooting is done by iDRAC\nfor OEM RAID jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/800267\nChange-Id: I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975\n'}]",35,800269,0a7249467b08f517b2f84671739950e7fa39f075,24,3,7,27909,,,0,"Add OEM Task extension

Added to get OEM JobType to determine if rebooting is done by iDRAC
for OEM RAID jobs.

Depends-On: https://review.opendev.org/c/openstack/sushy/+/800267
Change-Id: I1c83d59f1c99f0b70fbf4f5a5d71698b76d8e975
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/69/800269/3 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/tests/unit/test_task.py', 'sushy_oem_idrac/tests/unit/json_samples/task.json', 'requirements.txt', 'sushy_oem_idrac/resources/taskservice/constants.py', 'sushy_oem_idrac/__init__.py', 'setup.cfg', 'sushy_oem_idrac/resources/taskservice/task.py', 'sushy_oem_idrac/resources/taskservice/mappings.py']",8,47b7351fbd0ca72547da2d40c5619d81228a42a8,taskservice,"# Copyright (c) 2021 Dell Inc. or its subsidiaries. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from sushy import utils from sushy_oem_idrac.resources.taskservice import constants as ts_cons JOB_STATE_VALUE_MAP = { ""New"": ts_cons.JOB_STATE_NEW, ""Scheduled"": ts_cons.JOB_STATE_SCHEDULED, ""Running"": ts_cons.JOB_STATE_RUNNING, ""Completed"": ts_cons.JOB_STATE_COMPLETED, ""Downloading"": ts_cons.JOB_STATE_DOWNLOADING, ""Downloaded"": ts_cons.JOB_STATE_DOWNLOADED, ""Scheduling"": ts_cons.JOB_STATE_SCHEDULING, ""ReadyForExecution"": ts_cons.JOB_STATE_READY_EXECUTION, ""Waiting"": ts_cons.JOB_STATE_WAITING, ""Paused"": ts_cons.JOB_STATE_PAUSED, ""Failed"": ts_cons.JOB_STATE_FAILED, ""CompletedWithErrors"": ts_cons.JOB_STATE_COMPLETED_ERRORS, ""RebootPending"": ts_cons.JOB_STATE_REBOOT_PENDING, ""RebootFailed"": ts_cons.JOB_STATE_REBOOT_FAILED, ""RebootCompleted"": ts_cons.JOB_STATE_REBOOT_COMPLETED, ""PendingActivation"": ts_cons.JOB_STATE_PENDING_ACTIVATION, ""Unknown"": ts_cons.JOB_STATE_UNKNOWN } JOB_STATE_VALUE_MAP_REV = utils.revert_dictionary(JOB_STATE_VALUE_MAP) JOB_TYPE_VALUE_MAP = { ""FirmwareUpdate"": ts_cons.JOB_TYPE_FIRMWARE_UPDATE, ""FirmwareRollback"": ts_cons.JOB_TYPE_FIRMWARE_ROLLBACK, ""RepositoryUpdate"": ts_cons.JOB_TYPE_REPO_UPD, ""RebootPowerCycle"": ts_cons.JOB_TYPE_REBOOT_POWER_CYCLE, ""RebootForce"": ts_cons.JOB_TYPE_REBOOT_FORCE, ""RebootNoForce"": ts_cons.JOB_TYPE_REBOOT_NO_FORCE, ""Shutdown"": ts_cons.JOB_TYPE_SHUTDOWN, ""RAIDConfiguration"": ts_cons.JOB_TYPE_RAID_CONF, ""BIOSConfiguration"": ts_cons.JOB_TYPE_BIOS_CONF, ""NICConfiguration"": ts_cons.JOB_TYPE_NIC_CONF, ""FCConfiguration"": ts_cons.JOB_TYPE_FC_CONF, ""iDRACConfiguration"": ts_cons.JOB_TYPE_IDRAC_CONF, ""SystemInfoConfiguration"": ts_cons.JOB_TYPE_SYS_INFO_CONF, ""InbandBIOSConfiguration"": ts_cons.JOB_TYPE_INBAND_BIOS_CONF, ""ExportConfiguration"": ts_cons.JOB_TYPE_EXPORT_CONF, ""ImportConfiguration"": ts_cons.JOB_TYPE_IMPORT_CONF, ""RemoteDiagnostics"": ts_cons.JOB_TYPE_REMOTE_DIAG, ""RealTimeNoRebootConfiguration"": ts_cons.JOB_TYPE_RT_NO_REBOOT_CONF, ""LCLogExport"": ts_cons.JOB_TYPE_LC_LOG_EXPORT, ""HardwareInventoryExport"": ts_cons.JOB_TYPE_HW_INVENTORY_EXPORT, ""FactoryConfigurationExport"": ts_cons.JOB_TYPE_FACTORY_CONF_EXPORT, ""LicenseImport"": ts_cons.JOB_TYPE_LICENSE_IMPORT, ""LicenseExport"": ts_cons.JOB_TYPE_LICENSE_IMPORT, ""ThermalHistoryExport"": ts_cons.JOB_TYPE_THERMAL_HIST_EXP, ""LCConfig"": ts_cons.JOB_TYPE_LC_CONF, ""LCExport"": ts_cons.JOB_TYPE_LC_EXPORT, ""SACollectHealthData"": ts_cons.JOB_TYPE_SA_COL_HEALTH_DATA, ""SAExportHealthData"": ts_cons.JOB_TYPE_SA_EXP_HEALTH_DATA, ""SACollectExportHealthData"": ts_cons.JOB_TYPE_SA_COL_EXP_HEALTH_DATA, ""SAExposeISM"": ts_cons.JOB_TYPE_SA_ISM, ""SARegistration"": ts_cons.JOB_TYPE_SA_REG, ""SystemErase"": ts_cons.JOB_TYPE_SYS_ERASE, ""MessageRegistryExport"": ts_cons.JOB_TYPE_MSG_REG_EXPORT, ""OSDeploy"": ts_cons.JOB_TYPE_OS_DEPLOY, ""SEKMRekey"": ts_cons.JOB_TYPE_SEKM_REKEY, ""SEKMStatusSet"": ts_cons.JOB_TYPE_SEKM_STATUS_SET, ""Unknown"": ts_cons.JOB_TYPE_UNKNOWN } JOB_TYPE_VALUE_MAP_REV = utils.revert_dictionary(JOB_TYPE_VALUE_MAP) ",,448,2
openstack%2Fneutron~master~Icd8e61100b5e2db24a737e852441548eca8f8424,openstack/neutron,master,Icd8e61100b5e2db24a737e852441548eca8f8424,Remove shim in securitygroups_db,MERGED,2021-08-12 14:40:10.000000000,2021-08-27 15:12:11.000000000,2021-08-20 16:16:48.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-08-12 14:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/978e0fbf2bd321a617e42a61626af7c20797789d', 'message': 'Remove shim in securitygroups_db\n\nSECURITY_GROUP and SECURITY_GROUP_RULE resources now\nis using payload style callback. Shim can be removed\n\nChange-Id: Icd8e61100b5e2db24a737e852441548eca8f8424\n'}, {'number': 2, 'created': '2021-08-12 18:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd853e66f0a166bd80097de0be8e28c370da8b00', 'message': 'Remove shim in securitygroups_db\n\nSECURITY_GROUP and SECURITY_GROUP_RULE resources now\nis using payload style callback. Shim can be removed\n\nChange-Id: Icd8e61100b5e2db24a737e852441548eca8f8424\n'}, {'number': 3, 'created': '2021-08-12 18:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43ad1046129cb0666efb690e0124198bcef49fce', 'message': 'Remove shim in securitygroups_db\n\nSECURITY_GROUP and SECURITY_GROUP_RULE resources now\nis using payload style callback. Shim can be removed\n\nChange-Id: Icd8e61100b5e2db24a737e852441548eca8f8424\n'}, {'number': 4, 'created': '2021-08-19 14:11:15.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ee5722c04a44b87950b479055826afe795bd135', 'message': 'Remove shim in securitygroups_db\n\nSECURITY_GROUP and SECURITY_GROUP_RULE resources now\nis using payload style callback. Shim can be removed\n\nChange-Id: Icd8e61100b5e2db24a737e852441548eca8f8424\n'}]",2,804394,9ee5722c04a44b87950b479055826afe795bd135,127,7,4,32667,,,0,"Remove shim in securitygroups_db

SECURITY_GROUP and SECURITY_GROUP_RULE resources now
is using payload style callback. Shim can be removed

Change-Id: Icd8e61100b5e2db24a737e852441548eca8f8424
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/804394/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,978e0fbf2bd321a617e42a61626af7c20797789d,sg_todo," def _registry_publish(self, res, event, id=None, exc_cls=None, payload=None): registry.publish(res, event, self, payload) self._registry_publish(resources.SECURITY_GROUP, events.BEFORE_CREATE, exc_cls=ext_sg.SecurityGroupConflict, payload=events.DBEventPayload( context, metadata={'is_default': default_sg}, request_body=security_group, desired_state=s)) self._registry_publish(resources.SECURITY_GROUP, events.PRECOMMIT_CREATE, exc_cls=ext_sg.SecurityGroupConflict, payload=events.DBEventPayload( context, resource_id=sg.id, metadata={'is_default': default_sg}, states=(secgroup_dict,))) self._registry_publish(resources.SECURITY_GROUP, events.BEFORE_DELETE, exc_cls=ext_sg.SecurityGroupInUse, id=id, payload=events.DBEventPayload( context, states=(sg,), resource_id=id)) self._registry_publish(resources.SECURITY_GROUP, events.PRECOMMIT_DELETE, exc_cls=ext_sg.SecurityGroupInUse, payload=events.DBEventPayload( context, resource_id=id, states=(sec_group,), metadata={ 'security_group_rule_ids': sgr_ids })) self._registry_publish(resources.SECURITY_GROUP, events.BEFORE_UPDATE, exc_cls=ext_sg.SecurityGroupConflict, payload=events.DBEventPayload( context, resource_id=id, states=(s,))) self._registry_publish( self._registry_publish( self._registry_publish( self._registry_publish(resources.SECURITY_GROUP_RULE, events.BEFORE_DELETE, exc_cls=ext_sg.SecurityGroupRuleInUse, payload=events.DBEventPayload( context, resource_id=id,)) self._registry_publish("," def _registry_notify(self, res, event, id=None, exc_cls=None, **kwargs): if 'payload' in kwargs: # TODO(boden): remove shim once all callbacks use payloads registry.publish(res, event, self, payload=kwargs['payload']) else: registry.notify(res, event, self, **kwargs) self._registry_notify(resources.SECURITY_GROUP, events.BEFORE_CREATE, exc_cls=ext_sg.SecurityGroupConflict, payload=events.DBEventPayload( context, metadata={'is_default': default_sg}, request_body=security_group, desired_state=s)) self._registry_notify(resources.SECURITY_GROUP, events.PRECOMMIT_CREATE, exc_cls=ext_sg.SecurityGroupConflict, payload=events.DBEventPayload( context, resource_id=sg.id, metadata={'is_default': default_sg}, states=(secgroup_dict,))) self._registry_notify(resources.SECURITY_GROUP, events.BEFORE_DELETE, exc_cls=ext_sg.SecurityGroupInUse, id=id, payload=events.DBEventPayload( context, states=(sg,), resource_id=id)) self._registry_notify(resources.SECURITY_GROUP, events.PRECOMMIT_DELETE, exc_cls=ext_sg.SecurityGroupInUse, payload=events.DBEventPayload( context, resource_id=id, states=(sec_group,), metadata={ 'security_group_rule_ids': sgr_ids })) self._registry_notify(resources.SECURITY_GROUP, events.BEFORE_UPDATE, exc_cls=ext_sg.SecurityGroupConflict, payload=events.DBEventPayload( context, resource_id=id, states=(s,))) self._registry_notify( self._registry_notify( self._registry_notify( self._registry_notify(resources.SECURITY_GROUP_RULE, events.BEFORE_DELETE, exc_cls=ext_sg.SecurityGroupRuleInUse, payload=events.DBEventPayload( context, resource_id=id,)) self._registry_notify(",44,47
openstack%2Fopenstack-ansible-os_neutron~master~I7b263e192c89142d970b784fad6cbc24e31b3fd3,openstack/openstack-ansible-os_neutron,master,I7b263e192c89142d970b784fad6cbc24e31b3fd3,add neutron_sriov_nic_agent option for SRIOV support,MERGED,2021-08-27 05:08:02.000000000,2021-08-27 14:51:52.000000000,2021-08-27 14:50:03.000000000,"[{'_account_id': 13095}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 05:08:02.000000000', 'files': ['doc/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ce4a6da0817a1cb3dab16a7ad68c36a95a199050', 'message': 'add neutron_sriov_nic_agent option for SRIOV support\n\nChange-Id: I7b263e192c89142d970b784fad6cbc24e31b3fd3\n'}]",0,806306,ce4a6da0817a1cb3dab16a7ad68c36a95a199050,8,3,1,28752,,,0,"add neutron_sriov_nic_agent option for SRIOV support

Change-Id: I7b263e192c89142d970b784fad6cbc24e31b3fd3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/06/806306/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/app-ovn.rst'],1,ce4a6da0817a1cb3dab16a7ad68c36a95a199050,osa/neutron-ovn-doc, - neutron_sriov_nic_agent - neutron_sriov_nic_agent,,2,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I6a4b23824a1969668bbd02acab9db38c0f1291e9,openstack/python-tripleoclient,stable/victoria,I6a4b23824a1969668bbd02acab9db38c0f1291e9,Setting upper constraints to wallaby branch of requirements,ABANDONED,2021-08-27 14:36:08.000000000,2021-08-27 14:45:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-27 14:36:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5bd45b9aa9a774c6c1001c8452b28bda6715b78e', 'message': 'Setting upper constraints to wallaby branch of requirements\n\nThe upper constraints of the python dependencies were previously\nset to the master as well as to the wallaby branch.\n\nAs there is a growing possibility of conflict between them,\nit is preferrable to keep only one, branch accurate, version\nof the constraints.\n\nFurthermore the installation directive of the tox environment\nis unnecessary, as the the dependencies can be specified\nseparately and pulled during environment setup.\n\nCloses-Bug: #1941897\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6a4b23824a1969668bbd02acab9db38c0f1291e9\n'}]",0,806417,5bd45b9aa9a774c6c1001c8452b28bda6715b78e,3,1,1,32926,,,0,"Setting upper constraints to wallaby branch of requirements

The upper constraints of the python dependencies were previously
set to the master as well as to the wallaby branch.

As there is a growing possibility of conflict between them,
it is preferrable to keep only one, branch accurate, version
of the constraints.

Furthermore the installation directive of the tox environment
is unnecessary, as the the dependencies can be specified
separately and pulled during environment setup.

Closes-Bug: #1941897

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6a4b23824a1969668bbd02acab9db38c0f1291e9
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/806417/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5bd45b9aa9a774c6c1001c8452b28bda6715b78e,upper-constraint-fix, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,install_command = pip install {opts} {packages} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,4
openstack%2Fcinder~master~I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7,openstack/cinder,master,I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7,Implement secure RBAC for scheduler stats,ABANDONED,2020-10-28 14:06:14.000000000,2021-08-27 14:26:39.000000000,,"[{'_account_id': 5046}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 9954}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-10-28 14:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ed27bd45e6bcf6028d314b579238222d06a60a4', 'message': 'Implement secure RBAC for schedule pools\n\nThe API for listing scheduler pools is specific to operators, so we can\nconvert it to use a read-only system role.\n\nChange-Id: I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7\n'}, {'number': 2, 'created': '2020-11-18 15:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ba858141cf8f02c57ebda43cff4e9580ada9abf', 'message': 'Implement secure RBAC for schedule pools\n\nThe API for listing scheduler pools is specific to operators, so we can\nconvert it to use a read-only system role.\n\nChange-Id: I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7\n'}, {'number': 3, 'created': '2021-08-23 14:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b80649cd2cd6aa1ae5df3a7f01b59ee15f6b945f', 'message': 'Implement secure RBAC for schedule pools\n\nThe API for listing scheduler pools is specific to operators, so we can\nconvert it to use a read-only system role.\n\nChange-Id: I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7\n'}, {'number': 4, 'created': '2021-08-23 15:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b47501c6fbd16c90c617bacb718b856a6088485', 'message': 'Implement secure RBAC for scheduler stats\n\nThe API for listing scheduler pools is specific to operators, so we have\nto keep it to system scope only.\n\nChange-Id: I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7\n'}, {'number': 5, 'created': '2021-08-23 15:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/345be020ff54471f440082978930ad81778e9302', 'message': 'Implement secure RBAC for scheduler stats\n\nThe API for listing scheduler pools is specific to operators, so we have\nto keep it to system scope only.\n\nChange-Id: I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7\n'}, {'number': 6, 'created': '2021-08-23 15:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c46134ee33ea8138cbd5841669b71d03a957c749', 'message': 'Implement secure RBAC for scheduler stats\n\nThe API for listing scheduler pools is specific to operators, so we have\nto keep it to system scope only.\n\nChange-Id: I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7\n'}, {'number': 7, 'created': '2021-08-23 15:25:19.000000000', 'files': ['cinder/policies/scheduler_stats.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/57c224be62b9880f29a7c20fccc70cef822337ca', 'message': 'Implement secure RBAC for scheduler stats\n\nThe API for listing scheduler pools is specific to operators, so we have\nto keep it to system scope only.\n\nChange-Id: I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7\n'}]",1,760142,57c224be62b9880f29a7c20fccc70cef822337ca,77,26,7,5046,,,0,"Implement secure RBAC for scheduler stats

The API for listing scheduler pools is specific to operators, so we have
to keep it to system scope only.

Change-Id: I601fdeeba3b59dcb47b84787a29cc8d4c593a5e7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/760142/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/scheduler_stats.py'],1,9ed27bd45e6bcf6028d314b579238222d06a60a4,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The scheduler pool API is now aware of various scopes and default roles. """""" deprecated_list_pools = policy.DeprecatedRule( name=GET_POOL_POLICY, check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_list_pools, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY )"," check_str=base.RULE_ADMIN_API, ])",18,2
openstack%2Fcinder~master~If85a09c76f279419bb67dfcfde294ee2fc817218,openstack/cinder,master,If85a09c76f279419bb67dfcfde294ee2fc817218,Implement secure RBAC for services,ABANDONED,2020-10-28 14:14:19.000000000,2021-08-27 14:25:28.000000000,,"[{'_account_id': 5046}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 9954}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-10-28 14:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f620a02f1b8cabe7aada7975a34361ed8c5a9dd', 'message': 'Implement secure RBAC for services\n\nThe services API is specific to operators, making it a good candidate\nfor system-scope. We can also use a read-only role for listing services.\n\nChange-Id: If85a09c76f279419bb67dfcfde294ee2fc817218\n'}, {'number': 2, 'created': '2020-11-18 15:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8af2e0e790c6e51d18d150d001543d6b23cb6333', 'message': 'Implement secure RBAC for services\n\nThe services API is specific to operators, making it a good candidate\nfor system-scope. We can also use a read-only role for listing services.\n\nChange-Id: If85a09c76f279419bb67dfcfde294ee2fc817218\n'}, {'number': 3, 'created': '2021-08-23 14:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5569f067bc0cd092fd889f2d60ed7c79e06b741d', 'message': 'Implement secure RBAC for services\n\nThe services API is specific to operators, making it a good candidate\nfor system-scope. We can also use a read-only role for listing services.\n\nChange-Id: If85a09c76f279419bb67dfcfde294ee2fc817218\n'}, {'number': 4, 'created': '2021-08-23 14:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51b8376f7479fcaab8dd6dba5798def1193e7bb7', 'message': 'Implement secure RBAC for services\n\nThe services API is specific to operators, making it a good candidate\nfor system-scope.\n\nChange-Id: If85a09c76f279419bb67dfcfde294ee2fc817218\n'}, {'number': 5, 'created': '2021-08-23 15:29:29.000000000', 'files': ['cinder/policies/services.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/be3438ab8099d553c18ff0caa62bbb56bda58953', 'message': 'Implement secure RBAC for services\n\nThe services API is specific to operators, making it a good candidate\nfor system-scope.\n\nChange-Id: If85a09c76f279419bb67dfcfde294ee2fc817218\n'}]",1,760146,be3438ab8099d553c18ff0caa62bbb56bda58953,81,27,5,5046,,,0,"Implement secure RBAC for services

The services API is specific to operators, making it a good candidate
for system-scope.

Change-Id: If85a09c76f279419bb67dfcfde294ee2fc817218
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/760146/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/services.py'],1,8f620a02f1b8cabe7aada7975a34361ed8c5a9dd,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The services API is now aware of various scopes and default roles. """""" deprecated_get_all_services = policy.DeprecatedRule( name=GET_ALL_POLICY, check_str=base.RULE_ADMIN_API ) deprecated_update_service = policy.DeprecatedRule( name=UPDATE_POLICY, check_str=base.RULE_ADMIN_API ) deprecated_freeze_service = policy.DeprecatedRule( name=FREEZE_POLICY, check_str=base.RULE_ADMIN_API ) deprecated_thaw_service = policy.DeprecatedRule( name=THAW_POLICY, check_str=base.RULE_ADMIN_API ) deprecated_failover_service = policy.DeprecatedRule( name=FAILOVER_POLICY, check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_get_all_services, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_update_service, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_freeze_service, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_thaw_service, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_failover_service, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",62,10
openstack%2Freleases~master~Ia50a671ba83d83deecefc084e352fc641dbfb45d,openstack/releases,master,Ia50a671ba83d83deecefc084e352fc641dbfb45d,Release final openstacksdk for Xena,MERGED,2021-08-16 09:38:20.000000000,2021-08-27 14:25:09.000000000,2021-08-27 14:14:56.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5f46a1a32e7c577a4ed63ab81778c832d8363ee4', 'message': 'Release final openstacksdk for Xena\n\nThis proposed a release for openstacksdk to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 0.58.0..e0372b72\ne0372b72 Temporarily disable nodepool job\n0bc47cdb Extend has_version function to accept version parameter\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia50a671ba83d83deecefc084e352fc641dbfb45d\n'}, {'number': 2, 'created': '2021-08-25 07:38:30.000000000', 'files': ['deliverables/xena/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/726ec9d0c7bf9b123d8faecd823ffcf9861fd4b2', 'message': 'Release final openstacksdk for Xena\n\nThis proposed a release for openstacksdk to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia50a671ba83d83deecefc084e352fc641dbfb45d\n'}]",0,804668,726ec9d0c7bf9b123d8faecd823ffcf9861fd4b2,11,3,2,28522,,,0,"Release final openstacksdk for Xena

This proposed a release for openstacksdk to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ia50a671ba83d83deecefc084e352fc641dbfb45d
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/804668/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstacksdk.yaml'],1,5f46a1a32e7c577a4ed63ab81778c832d8363ee4,xena-final-non-client-libs, - version: 0.59.0 projects: - repo: openstack/openstacksdk hash: e0372b72af8c5f471fc17e53434d7a814ca958bd,,4,0
openstack%2Freleases~master~I69b610614abcf0f9f25a0caacc2415ae7d3e12c5,openstack/releases,master,I69b610614abcf0f9f25a0caacc2415ae7d3e12c5,Release final neutron-lib for Xena,MERGED,2021-08-26 08:34:16.000000000,2021-08-27 14:14:53.000000000,2021-08-27 14:14:53.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-26 08:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b4bce6b793cde4dd2a972e6040954e66e19ce8b0', 'message': 'Release final neutron-lib for Xena\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect. We previously\nannounced a wrong date for the final lib series, this is a convenience\npatch to allow to release latest changes before freezing the libs.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 30.\n\n$ git log --oneline --no-merges 2.14.0..108a358\n4c9bfc1 Add network_ip_availability pagging and sorting support\n101791f Do not use deprecated attributes of RequestContext\ne8b398e Add missing default ""direction"" value to ""qos-pps-minimum""\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I69b610614abcf0f9f25a0caacc2415ae7d3e12c5\n'}, {'number': 2, 'created': '2021-08-26 14:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9e29768698e70fc15c862916d672647306ae4cfe', 'message': 'Release final neutron-lib for Xena\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect. We previously\nannounced a wrong date for the final lib series, this is a convenience\npatch to allow to release latest changes before freezing the libs.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 30.\n\n$ git log --oneline --no-merges 2.14.0..108a358\n4c9bfc1 Add network_ip_availability pagging and sorting support\n101791f Do not use deprecated attributes of RequestContext\ne8b398e Add missing default ""direction"" value to ""qos-pps-minimum""\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I69b610614abcf0f9f25a0caacc2415ae7d3e12c5\n'}, {'number': 3, 'created': '2021-08-26 20:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d273fc2446c11758b59d6c3d2056730af873c758', 'message': 'Release final neutron-lib for Xena\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect. We previously\nannounced a wrong date for the final lib series, this is a convenience\npatch to allow to release latest changes before freezing the libs.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 30.\n\n$ git log --oneline --no-merges 2.14.0..108a358\n5ff14c6 Fix hostroute validation with BFD\nc3f540a Disable ""oslo.messaging"" metrics\n4c9bfc1 Add network_ip_availability pagging and sorting support\n101791f Do not use deprecated attributes of RequestContext\ne8b398e Add missing default ""direction"" value to ""qos-pps-minimum""\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I69b610614abcf0f9f25a0caacc2415ae7d3e12c5\n'}, {'number': 4, 'created': '2021-08-26 20:09:24.000000000', 'files': ['deliverables/xena/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d04c731e86fa441e5d96e284b2329014e25910b4', 'message': 'Release final neutron-lib for Xena\n\nThis proposed a release for neutron-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect. We previously\nannounced a wrong date for the final lib series, this is a convenience\npatch to allow to release latest changes before freezing the libs.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 30.\n\n$ git log --oneline --no-merges 2.14.0..5ff14c6\n5ff14c6 Fix hostroute validation with BFD\nc3f540a Disable ""oslo.messaging"" metrics\n4c9bfc1 Add network_ip_availability pagging and sorting support\n101791f Do not use deprecated attributes of RequestContext\ne8b398e Add missing default ""direction"" value to ""qos-pps-minimum""\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I69b610614abcf0f9f25a0caacc2415ae7d3e12c5\n'}]",1,806109,d04c731e86fa441e5d96e284b2329014e25910b4,27,7,4,28522,,,0,"Release final neutron-lib for Xena

This proposed a release for neutron-lib to get any final merged changes
out prior to the lib freeze for Xena going into effect. We previously
announced a wrong date for the final lib series, this is a convenience
patch to allow to release latest changes before freezing the libs.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 30.

$ git log --oneline --no-merges 2.14.0..5ff14c6
5ff14c6 Fix hostroute validation with BFD
c3f540a Disable ""oslo.messaging"" metrics
4c9bfc1 Add network_ip_availability pagging and sorting support
101791f Do not use deprecated attributes of RequestContext
e8b398e Add missing default ""direction"" value to ""qos-pps-minimum""

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I69b610614abcf0f9f25a0caacc2415ae7d3e12c5
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/806109/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron-lib.yaml'],1,b4bce6b793cde4dd2a972e6040954e66e19ce8b0,xena-final-non-client-libs, - version: 2.15.0 projects: - repo: openstack/neutron-lib hash: 108a3586c5af9b3b599cab24b917566011688e29,,4,0
openstack%2Ftripleo-quickstart-extras~master~I14142570ccb3a229fb634d13230401beb1e20c70,openstack/tripleo-quickstart-extras,master,I14142570ccb3a229fb634d13230401beb1e20c70,Bump Ceph container daemons to v6.0.4,MERGED,2021-08-04 15:12:37.000000000,2021-08-27 14:14:14.000000000,2021-08-18 04:55:11.000000000,"[{'_account_id': 6796}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-04 15:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/76dff23f3ccf9c4fb9bcc3044ec6374f0879fa30', 'message': 'Bump Ceph container daemons to v6.0.4\n\nThe stable Ceph containers v16.2.5 are now released.\nThis change aligns the new tag with the latest released stable\ncontent (which is v6.0.4 for the daemon images).\n\nDepends-On: I50a683aaa7062f7f33d6de45758844c8523da7f2\nChange-Id: I14142570ccb3a229fb634d13230401beb1e20c70\n'}, {'number': 2, 'created': '2021-08-17 11:53:45.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/76a5c4efc66f4e2b6393aef2eead53c03be43896', 'message': 'Bump Ceph container daemons to v6.0.4\n\nThe stable Ceph containers v16.2.5 are now released.\nThis change aligns the new tag with the latest released stable\ncontent (which is v6.0.4 for the daemon images).\n\nDepends-On: I50a683aaa7062f7f33d6de45758844c8523da7f2\nChange-Id: I14142570ccb3a229fb634d13230401beb1e20c70\n'}]",3,803493,76a5c4efc66f4e2b6393aef2eead53c03be43896,33,5,2,25402,,,0,"Bump Ceph container daemons to v6.0.4

The stable Ceph containers v16.2.5 are now released.
This change aligns the new tag with the latest released stable
content (which is v6.0.4 for the daemon images).

Depends-On: I50a683aaa7062f7f33d6de45758844c8523da7f2
Change-Id: I14142570ccb3a229fb634d13230401beb1e20c70
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/93/803493/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,76dff23f3ccf9c4fb9bcc3044ec6374f0879fa30,cephadm_container_promotion, quay.io/ceph v4.0.19-stable-4.0-nautilus-centos-7-x86_64 v6.0.4-stable-6.0-pacific-centos-8-x86_64, quay.ceph.io/ceph-ci v4.0.13-stable-4.0-nautilus-centos-7-x86_64 v6.0.0-stable-6.0-pacific-centos-8-x86_64,3,3
openstack%2Freleases~master~Ie187f660f86807e82ddf6d365513072727d657c3,openstack/releases,master,Ie187f660f86807e82ddf6d365513072727d657c3,Release OpenStack-Ansible Ussuri,MERGED,2021-08-26 17:12:58.000000000,2021-08-27 14:09:32.000000000,2021-08-27 14:09:32.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-26 17:12:58.000000000', 'files': ['deliverables/ussuri/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bae479feadc4210dddf85c3e4efb390174b0849f', 'message': 'Release OpenStack-Ansible Ussuri\n\nChange-Id: Ie187f660f86807e82ddf6d365513072727d657c3\n'}]",0,806252,bae479feadc4210dddf85c3e4efb390174b0849f,16,3,1,28619,,,0,"Release OpenStack-Ansible Ussuri

Change-Id: Ie187f660f86807e82ddf6d365513072727d657c3
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/806252/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/openstack-ansible.yaml'],1,bae479feadc4210dddf85c3e4efb390174b0849f,release_osa, - version: 21.2.9 projects: - repo: openstack/openstack-ansible hash: 1d4cba92d91843e24432d4b21644cefae36600a2,,4,0
openstack%2Fproject-config~master~Ieb92d6581247f0e6f4ab87807d0a6cdb18eb448d,openstack/project-config,master,Ieb92d6581247f0e6f4ab87807d0a6cdb18eb448d,New project: OVN BGP Agent,MERGED,2021-08-24 09:57:42.000000000,2021-08-27 14:08:27.000000000,2021-08-27 13:54:50.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-08-24 09:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d2822568b34db87c55b1b64c3756dd5ae608725f', 'message': ""New project: OVN BGP Agent\n\nThe OVN BGP Agent allows to expose VMs/Containers through BGP on OVN\nenvironments.\n\nInitially, the agent will watch the OVN databases and react to events\nsuch as VMs being created on provider network or VMs with attached FIPs\nand advertises them via BGP.\n\nIn the future we would like to integrate the agent with other projects\nsuch as the neutron-dynamic-routing [0] and re-use it's API.\n\nThe project is being proposed under x/ because it needs to mature prior\nto requesting it to be included under the Neutron Stadium Projects\numbrella [1].\n\n[0] https://github.com/openstack/neutron-dynamic-routing\n[1]\nhttps://docs.openstack.org/neutron/latest/contributor/stadium/governance.html\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ieb92d6581247f0e6f4ab87807d0a6cdb18eb448d\n""}, {'number': 2, 'created': '2021-08-24 10:16:22.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/ovn-bgp-agent.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8e1524665e339c58de15026d6e05b23a30c73651', 'message': ""New project: OVN BGP Agent\n\nThe OVN BGP Agent allows to expose VMs/Containers through BGP on OVN\nenvironments.\n\nInitially, the agent will watch the OVN databases and react to events\nsuch as VMs being created on provider network or VMs with attached FIPs\nand advertises them via BGP.\n\nIn the future we would like to integrate the agent with other projects\nsuch as the neutron-dynamic-routing [0] and re-use it's API.\n\nThe project is being proposed under x/ because it needs to mature prior\nto requesting it to be included under the Neutron Stadium Projects\numbrella [1].\n\n[0] https://github.com/openstack/neutron-dynamic-routing\n[1]\nhttps://docs.openstack.org/neutron/latest/contributor/stadium/governance.html\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ieb92d6581247f0e6f4ab87807d0a6cdb18eb448d\n""}]",0,805802,8e1524665e339c58de15026d6e05b23a30c73651,12,6,2,6773,,,0,"New project: OVN BGP Agent

The OVN BGP Agent allows to expose VMs/Containers through BGP on OVN
environments.

Initially, the agent will watch the OVN databases and react to events
such as VMs being created on provider network or VMs with attached FIPs
and advertises them via BGP.

In the future we would like to integrate the agent with other projects
such as the neutron-dynamic-routing [0] and re-use it's API.

The project is being proposed under x/ because it needs to mature prior
to requesting it to be included under the Neutron Stadium Projects
umbrella [1].

[0] https://github.com/openstack/neutron-dynamic-routing
[1]
https://docs.openstack.org/neutron/latest/contributor/stadium/governance.html

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Ieb92d6581247f0e6f4ab87807d0a6cdb18eb448d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/805802/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/ovn-bgp-agent.config']",3,d2822568b34db87c55b1b64c3756dd5ae608725f,new-project,"[access ""refs/heads/*""] abandon = group ovn-bgp-agent-core label-Code-Review = -2..+2 group ovn-bgp-agent-core label-Workflow = -1..+1 group ovn-bgp-agent-core [access ""refs/tags/*""] pushSignedTag = group ovn-bgp-agent-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,19,0
openstack%2Fnova~master~I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9,openstack/nova,master,I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9,[func test] create pps resource on OVS agent RP,MERGED,2021-04-20 14:49:36.000000000,2021-08-27 13:05:27.000000000,2021-08-27 13:00:40.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 14:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b895e79d66f5d4c9682cc360d9b54a34fc9182bc', 'message': '[func test]: create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nTODO:\n\n* switch this from the custom rc to the standard rc when that lands\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-05-14 15:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/543ba4c3ca4b8a9e42dad5101bf676a0c69514fe', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nTODO:\n\n* switch this from the custom rc to the standard rc when that lands\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-05-14 15:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1eca1c8b0cde23e701500655cdf2e3ead58a00e2', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nTODO:\n\n* switch this from the custom rc to the standard rc when that lands\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 4, 'created': '2021-05-21 15:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f60311dd334a6b310dafa9433daa811af82b35d4', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nTODO:\n\n* switch this from the custom rc to the standard rc when that lands\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 5, 'created': '2021-05-28 12:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7db9be96cb6305e4ae0c890d9f2913d1824b48ec', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nTODO:\n\n* switch this from the custom rc to the standard rc when that lands\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 6, 'created': '2021-06-14 11:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17907f048abe308516303fce95c2e657340035bc', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nTODO:\n\n* switch this from the custom rc to the standard rc when that lands\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 7, 'created': '2021-06-25 16:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d7102edf0511f4f777b59fc7f82894a27cb233d', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nTODO:\n\n* switch this from the custom rc to the standard rc when that lands\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 8, 'created': '2021-07-15 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d51ac0d369364ea2d33a4e9485f735d16a649c19', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 9, 'created': '2021-07-15 18:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/824fd785d2f0798009d9d4caad7bef495cda1ae8', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 10, 'created': '2021-07-16 16:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ae54937c8f338d9726465381b858fbd67429171', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 11, 'created': '2021-07-22 12:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c258010527abd25fd00da5bdb2f0f2d6b132eafd', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 12, 'created': '2021-08-16 17:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f4b0e344f789509e10e8ab9103ad4a60e6d05fb', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 13, 'created': '2021-08-16 17:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2020e31353623f19a2c34d861b2fdac8a67b0f11', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 14, 'created': '2021-08-21 12:33:35.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers_resource_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/713a11727dd6cd4722587a61bc46e213a6c29059', 'message': '[func test] create pps resource on OVS agent RP\n\nTo be able to test the nova logic with NET_KILOPACKET_PER_SEC\nresource this patch changes the neutron simulation in the functional\ntest to include the reporting of this new resource to placement.\n\nChange-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",8,787205,713a11727dd6cd4722587a61bc46e213a6c29059,83,4,14,9708,,,0,"[func test] create pps resource on OVS agent RP

To be able to test the nova logic with NET_KILOPACKET_PER_SEC
resource this patch changes the neutron simulation in the functional
test to include the reporting of this new resource to placement.

Change-Id: I823ff0e5d211ea083d9d8cdbceabcf87b15cbcc9
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/787205/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py']",2,b895e79d66f5d4c9682cc360d9b54a34fc9182bc,bp/qos-minimum-guaranteed-packet-rate," # TODO(gibi): use the standard resource from orc when that is merges CUSTOM_NET_KILOPACKET_PER_SEC = 'CUSTOM_NET_KILOPACKET_PER_SEC' self.placement.post( '/resource_providers', body=agent_rp_req, version='1.20') self.placement.post( '/resource_providers', body=ovs_bridge_req, version='1.20') self._create_resource_class(self.CUSTOM_NET_KILOPACKET_PER_SEC) self._set_provider_inventories( ovs_agent_rp_uuid, {""inventories"": { self.CUSTOM_NET_KILOPACKET_PER_SEC: {""total"": 10000}, }}) "," self.placement.post('/resource_providers', body=agent_rp_req, version='1.20') self.placement.post('/resource_providers', body=ovs_bridge_req, version='1.20')",18,6
openstack%2Fnova~master~I1aa55cfea23dc787c28baa86732907eb43cba2ea,openstack/nova,master,I1aa55cfea23dc787c28baa86732907eb43cba2ea,[func test] move port resource request tests,MERGED,2021-07-22 12:56:52.000000000,2021-08-27 12:58:32.000000000,2021-08-27 12:56:33.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 12:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6d697575879b7643a500f890cb6606e0a48114f', 'message': '[func test] move port resource request tests\n\nThe functional.test_servers module is already huge. Before this patch\nseries starts adding more to it we move all the port resource request\nrelated test cases to a new module.\n\nChange-Id: I1aa55cfea23dc787c28baa86732907eb43cba2ea\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 2, 'created': '2021-08-16 17:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/098dbdaf9b3c0326d57488598d5d2b48e3f56b6a', 'message': '[func test] move port resource request tests\n\nThe functional.test_servers module is already huge. Before this patch\nseries starts adding more to it we move all the port resource request\nrelated test cases to a new module.\n\nChange-Id: I1aa55cfea23dc787c28baa86732907eb43cba2ea\nblueprint: qos-minimum-guaranteed-packet-rate\n'}, {'number': 3, 'created': '2021-08-21 12:33:35.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/test_servers_resource_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1039aa64435341938013ad599356fca1b7b47a4a', 'message': '[func test] move port resource request tests\n\nThe functional.test_servers module is already huge. Before this patch\nseries starts adding more to it we move all the port resource request\nrelated test cases to a new module.\n\nChange-Id: I1aa55cfea23dc787c28baa86732907eb43cba2ea\nblueprint: qos-minimum-guaranteed-packet-rate\n'}]",0,801815,1039aa64435341938013ad599356fca1b7b47a4a,25,3,3,9708,,,0,"[func test] move port resource request tests

The functional.test_servers module is already huge. Before this patch
series starts adding more to it we move all the port resource request
related test cases to a new module.

Change-Id: I1aa55cfea23dc787c28baa86732907eb43cba2ea
blueprint: qos-minimum-guaranteed-packet-rate
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/801815/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/test_servers_resource_request.py']",3,c6d697575879b7643a500f890cb6606e0a48114f,bp/qos-minimum-guaranteed-packet-rate,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy import logging from keystoneauth1 import adapter import mock from neutronclient.common import exceptions as neutron_exception import os_resource_classes as orc from oslo_config import cfg from oslo_serialization import jsonutils from oslo_utils.fixture import uuidsentinel as uuids from nova.compute import instance_actions from nova.compute import manager as compute_manager from nova import context from nova import exception from nova.network import constants from nova.network import neutron as neutronapi from nova import objects from nova.policies import base as base_policies from nova.policies import servers as servers_policies from nova.scheduler import utils from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_requests from nova.virt import fake CONF = cfg.CONF LOG = logging.getLogger(__name__) class PortResourceRequestBasedSchedulingTestBase( integrated_helpers.ProviderUsageBaseTestCase): compute_driver = 'fake.FakeDriverWithPciResources' CUSTOM_VNIC_TYPE_NORMAL = 'CUSTOM_VNIC_TYPE_NORMAL' CUSTOM_VNIC_TYPE_DIRECT = 'CUSTOM_VNIC_TYPE_DIRECT' CUSTOM_VNIC_TYPE_MACVTAP = 'CUSTOM_VNIC_TYPE_MACVTAP' CUSTOM_PHYSNET1 = 'CUSTOM_PHYSNET1' CUSTOM_PHYSNET2 = 'CUSTOM_PHYSNET2' CUSTOM_PHYSNET3 = 'CUSTOM_PHYSNET3' PF1 = 'pf1' PF2 = 'pf2' PF3 = 'pf3' def setUp(self): # enable PciPassthroughFilter to support SRIOV before the base class # starts the scheduler if 'PciPassthroughFilter' not in CONF.filter_scheduler.enabled_filters: self.flags( enabled_filters=CONF.filter_scheduler.enabled_filters + ['PciPassthroughFilter'], group='filter_scheduler') self.useFixture( fake.FakeDriverWithPciResources. FakeDriverWithPciResourcesConfigFixture()) super(PortResourceRequestBasedSchedulingTestBase, self).setUp() # Make ComputeManager._allocate_network_async synchronous to detect # errors in tests that involve rescheduling. self.useFixture(nova_fixtures.SpawnIsSynchronousFixture()) self.compute1 = self._start_compute('host1') self.compute1_rp_uuid = self._get_provider_uuid_by_host('host1') self.compute1_service_id = self.admin_api.get_services( host='host1', binary='nova-compute')[0]['id'] self.ovs_bridge_rp_per_host = {} self.sriov_dev_rp_per_host = {} self.flavor = self.api.get_flavors()[0] self.flavor_with_group_policy = self.api.get_flavors()[1] # Setting group policy for placement. This is mandatory when more than # one request group is included in the allocation candidate request and # we have tests with two ports both having resource request modelled as # two separate request groups. self.admin_api.post_extra_spec( self.flavor_with_group_policy['id'], {'extra_specs': {'group_policy': 'isolate'}}) self._create_networking_rp_tree('host1', self.compute1_rp_uuid) # add extra ports and the related network to the neutron fixture # specifically for these tests. It cannot be added globally in the # fixture init as it adds a second network that makes auto allocation # based test to fail due to ambiguous networks. self.neutron._ports[ self.neutron.port_with_sriov_resource_request['id']] = \ copy.deepcopy(self.neutron.port_with_sriov_resource_request) self.neutron._ports[self.neutron.sriov_port['id']] = \ copy.deepcopy(self.neutron.sriov_port) self.neutron._networks[ self.neutron.network_2['id']] = self.neutron.network_2 self.neutron._subnets[ self.neutron.subnet_2['id']] = self.neutron.subnet_2 macvtap = self.neutron.port_macvtap_with_resource_request self.neutron._ports[macvtap['id']] = copy.deepcopy(macvtap) def assertComputeAllocationMatchesFlavor( self, allocations, compute_rp_uuid, flavor): compute_allocations = allocations[compute_rp_uuid]['resources'] self.assertEqual( self._resources_from_flavor(flavor), compute_allocations) def _create_server(self, flavor, networks, host=None): server_req = self._build_server( image_uuid='76fa36fc-c930-4bf3-8c8a-ea2a2420deb6', flavor_id=flavor['id'], networks=networks, host=host) return self.api.post_server({'server': server_req}) def _set_provider_inventories(self, rp_uuid, inventories): rp = self.placement.get( '/resource_providers/%s' % rp_uuid).body inventories['resource_provider_generation'] = rp['generation'] return self._update_inventory(rp_uuid, inventories) def _create_ovs_networking_rp_tree(self, compute_rp_uuid): # we need uuid sentinel for the test to make pep8 happy but we need a # unique one per compute so here is some ugliness ovs_agent_rp_uuid = getattr(uuids, compute_rp_uuid + 'ovs agent') agent_rp_req = { ""name"": ovs_agent_rp_uuid, ""uuid"": ovs_agent_rp_uuid, ""parent_provider_uuid"": compute_rp_uuid } self.placement.post('/resource_providers', body=agent_rp_req, version='1.20') ovs_bridge_rp_uuid = getattr(uuids, ovs_agent_rp_uuid + 'ovs br') ovs_bridge_req = { ""name"": ovs_bridge_rp_uuid, ""uuid"": ovs_bridge_rp_uuid, ""parent_provider_uuid"": ovs_agent_rp_uuid } self.placement.post('/resource_providers', body=ovs_bridge_req, version='1.20') self.ovs_bridge_rp_per_host[compute_rp_uuid] = ovs_bridge_rp_uuid self._set_provider_inventories( ovs_bridge_rp_uuid, {""inventories"": { orc.NET_BW_IGR_KILOBIT_PER_SEC: {""total"": 10000}, orc.NET_BW_EGR_KILOBIT_PER_SEC: {""total"": 10000}, }}) self._create_trait(self.CUSTOM_VNIC_TYPE_NORMAL) self._create_trait(self.CUSTOM_PHYSNET2) self._set_provider_traits( ovs_bridge_rp_uuid, [self.CUSTOM_VNIC_TYPE_NORMAL, self.CUSTOM_PHYSNET2]) def _create_pf_device_rp( self, device_rp_uuid, parent_rp_uuid, inventories, traits, device_rp_name=None): """"""Create a RP in placement for a physical function network device with traits and inventories. """""" if not device_rp_name: device_rp_name = device_rp_uuid sriov_pf_req = { ""name"": device_rp_name, ""uuid"": device_rp_uuid, ""parent_provider_uuid"": parent_rp_uuid } self.placement.post('/resource_providers', body=sriov_pf_req, version='1.20') self._set_provider_inventories( device_rp_uuid, {""inventories"": inventories}) for trait in traits: self._create_trait(trait) self._set_provider_traits( device_rp_uuid, traits) def _create_sriov_networking_rp_tree(self, hostname, compute_rp_uuid): # Create a matching RP tree in placement for the PCI devices added to # the passthrough_whitelist config during setUp() and PCI devices # present in the FakeDriverWithPciResources virt driver. # # * PF1 represents the PCI device 0000:01:00, it will be mapped to # physnet1 and it will have bandwidth inventory. # * PF2 represents the PCI device 0000:02:00, it will be mapped to # physnet2 it will have bandwidth inventory. # * PF3 represents the PCI device 0000:03:00 and, it will be mapped to # physnet2 but it will not have bandwidth inventory. self.sriov_dev_rp_per_host[compute_rp_uuid] = {} sriov_agent_rp_uuid = getattr(uuids, compute_rp_uuid + 'sriov agent') agent_rp_req = { ""name"": ""%s:NIC Switch agent"" % hostname, ""uuid"": sriov_agent_rp_uuid, ""parent_provider_uuid"": compute_rp_uuid } self.placement.post('/resource_providers', body=agent_rp_req, version='1.20') dev_rp_name_prefix = (""%s:NIC Switch agent:"" % hostname) sriov_pf1_rp_uuid = getattr(uuids, sriov_agent_rp_uuid + 'PF1') self.sriov_dev_rp_per_host[ compute_rp_uuid][self.PF1] = sriov_pf1_rp_uuid inventories = { orc.NET_BW_IGR_KILOBIT_PER_SEC: {""total"": 100000}, orc.NET_BW_EGR_KILOBIT_PER_SEC: {""total"": 100000}, } traits = [self.CUSTOM_VNIC_TYPE_DIRECT, self.CUSTOM_PHYSNET1] self._create_pf_device_rp( sriov_pf1_rp_uuid, sriov_agent_rp_uuid, inventories, traits, device_rp_name=dev_rp_name_prefix + ""%s-ens1"" % hostname) sriov_pf2_rp_uuid = getattr(uuids, sriov_agent_rp_uuid + 'PF2') self.sriov_dev_rp_per_host[ compute_rp_uuid][self.PF2] = sriov_pf2_rp_uuid inventories = { orc.NET_BW_IGR_KILOBIT_PER_SEC: {""total"": 100000}, orc.NET_BW_EGR_KILOBIT_PER_SEC: {""total"": 100000}, } traits = [self.CUSTOM_VNIC_TYPE_DIRECT, self.CUSTOM_VNIC_TYPE_MACVTAP, self.CUSTOM_PHYSNET2] self._create_pf_device_rp( sriov_pf2_rp_uuid, sriov_agent_rp_uuid, inventories, traits, device_rp_name=dev_rp_name_prefix + ""%s-ens2"" % hostname) sriov_pf3_rp_uuid = getattr(uuids, sriov_agent_rp_uuid + 'PF3') self.sriov_dev_rp_per_host[ compute_rp_uuid][self.PF3] = sriov_pf3_rp_uuid inventories = {} traits = [self.CUSTOM_VNIC_TYPE_DIRECT, self.CUSTOM_PHYSNET2] self._create_pf_device_rp( sriov_pf3_rp_uuid, sriov_agent_rp_uuid, inventories, traits, device_rp_name=dev_rp_name_prefix + ""%s-ens3"" % hostname) def _create_networking_rp_tree(self, hostname, compute_rp_uuid): # let's simulate what the neutron would do self._create_ovs_networking_rp_tree(compute_rp_uuid) self._create_sriov_networking_rp_tree(hostname, compute_rp_uuid) def assertPortMatchesAllocation(self, port, allocations): port_request = port[constants.RESOURCE_REQUEST]['resources'] for rc, amount in allocations.items(): self.assertEqual(port_request[rc], amount, 'port %s requested %d %s ' 'resources but got allocation %d' % (port['id'], port_request[rc], rc, amount)) def _create_server_with_ports(self, *ports): server = self._create_server( flavor=self.flavor_with_group_policy, networks=[{'port': port['id']} for port in ports], host='host1') return self._wait_for_state_change(server, 'ACTIVE') def _check_allocation( self, server, compute_rp_uuid, non_qos_port, qos_port, qos_sriov_port, flavor, migration_uuid=None, source_compute_rp_uuid=None, new_flavor=None): updated_non_qos_port = self.neutron.show_port( non_qos_port['id'])['port'] updated_qos_port = self.neutron.show_port(qos_port['id'])['port'] updated_qos_sriov_port = self.neutron.show_port( qos_sriov_port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # if there is new_flavor then we either have an in progress resize or # a confirmed resize. In both cases the instance allocation should be # according to the new_flavor current_flavor = (new_flavor if new_flavor else flavor) # We expect one set of allocations for the compute resources on the # compute rp and two sets for the networking resources one on the ovs # bridge rp due to the qos_port resource request and one one the # sriov pf2 due to qos_sriov_port resource request self.assertEqual(3, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, compute_rp_uuid, current_flavor) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) sriov_allocations = allocations[ self.sriov_dev_rp_per_host[compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request qos_binding_profile = updated_qos_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[compute_rp_uuid], qos_binding_profile['allocation']) qos_sriov_binding_profile = updated_qos_sriov_port['binding:profile'] self.assertEqual(self.sriov_dev_rp_per_host[compute_rp_uuid][self.PF2], qos_sriov_binding_profile['allocation']) # And we expect not to have any allocation set in the port binding for # the port that doesn't have resource request self.assertEqual({}, updated_non_qos_port['binding:profile']) if migration_uuid: migration_allocations = self.placement.get( '/allocations/%s' % migration_uuid).body['allocations'] # We expect one set of allocations for the compute resources on the # compute rp and two sets for the networking resources one on the # ovs bridge rp due to the qos_port resource request and one one # the sriov pf2 due to qos_sriov_port resource request self.assertEqual(3, len(migration_allocations)) self.assertComputeAllocationMatchesFlavor( migration_allocations, source_compute_rp_uuid, flavor) ovs_allocations = migration_allocations[ self.ovs_bridge_rp_per_host[ source_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) sriov_allocations = migration_allocations[ self.sriov_dev_rp_per_host[ source_compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) def _delete_server_and_check_allocations( self, server, qos_port, qos_sriov_port): self._delete_and_check_allocations(server) # assert that unbind removes the allocation from the binding of the # ports that got allocation during the bind updated_qos_port = self.neutron.show_port(qos_port['id'])['port'] binding_profile = updated_qos_port['binding:profile'] self.assertNotIn('allocation', binding_profile) updated_qos_sriov_port = self.neutron.show_port( qos_sriov_port['id'])['port'] binding_profile = updated_qos_sriov_port['binding:profile'] self.assertNotIn('allocation', binding_profile) def _create_server_with_ports_and_check_allocation( self, non_qos_normal_port, qos_normal_port, qos_sriov_port): server = self._create_server_with_ports( non_qos_normal_port, qos_normal_port, qos_sriov_port) # check that the server allocates from the current host properly self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) return server def _assert_pci_request_pf_device_name(self, server, device_name): ctxt = context.get_admin_context() pci_requests = objects.InstancePCIRequests.get_by_instance_uuid( ctxt, server['id']) self.assertEqual(1, len(pci_requests.requests)) self.assertEqual(1, len(pci_requests.requests[0].spec)) self.assertEqual( device_name, pci_requests.requests[0].spec[0]['parent_ifname']) class UnsupportedPortResourceRequestBasedSchedulingTest( PortResourceRequestBasedSchedulingTestBase): """"""Tests for handling servers with ports having resource requests """""" def _add_resource_request_to_a_bound_port(self, port_id): # NOTE(gibi): self.neutron._ports contains a copy of each neutron port # defined on class level in the fixture. So modifying what is in the # _ports list is safe as it is re-created for each Neutron fixture # instance therefore for each individual test using that fixture. bound_port = self.neutron._ports[port_id] bound_port[constants.RESOURCE_REQUEST] = ( self.neutron.port_with_resource_request[ constants.RESOURCE_REQUEST]) def test_interface_attach_with_resource_request_old_compute(self): # create a server server = self._create_server( flavor=self.flavor, networks=[{'port': self.neutron.port_1['id']}]) self._wait_for_state_change(server, 'ACTIVE') # simulate that the compute the instance is running on is older than # when support is added for attach, older than service version 55 orig_get_service = objects.Service.get_by_host_and_binary def fake_get_service(context, host, binary): service = orig_get_service(context, host, binary) service.version = 54 return service with mock.patch( 'nova.objects.Service.get_by_host_and_binary', side_effect=fake_get_service ): # try to add a port with resource request post = { 'interfaceAttachment': { 'port_id': self.neutron.port_with_resource_request['id'] }} ex = self.assertRaises( client.OpenStackApiException, self.api.attach_interface, server['id'], post) self.assertEqual(400, ex.response.status_code) self.assertIn('Attaching interfaces with QoS policy is ' 'not supported for instance', str(ex)) @mock.patch('nova.tests.fixtures.NeutronFixture.create_port') def test_interface_attach_with_network_create_port_has_resource_request( self, mock_neutron_create_port): # create a server server = self._create_server( flavor=self.flavor, networks=[{'port': self.neutron.port_1['id']}]) self._wait_for_state_change(server, 'ACTIVE') # the interfaceAttach operation below will result in a new port being # created in the network that is attached. Make sure that neutron # returns a port that has resource request. mock_neutron_create_port.return_value = ( {'port': copy.deepcopy(self.neutron.port_with_resource_request)}) # try to attach a network post = { 'interfaceAttachment': { 'net_id': self.neutron.network_1['id'] }} ex = self.assertRaises(client.OpenStackApiException, self.api.attach_interface, server['id'], post) self.assertEqual(400, ex.response.status_code) self.assertIn('Using networks with QoS policy is not supported for ' 'instance', str(ex)) @mock.patch('nova.tests.fixtures.NeutronFixture.create_port') def test_create_server_with_network_create_port_has_resource_request( self, mock_neutron_create_port): # the server create operation below will result in a new port being # created in the network. Make sure that neutron returns a port that # has resource request. mock_neutron_create_port.return_value = ( {'port': copy.deepcopy(self.neutron.port_with_resource_request)}) server = self._create_server( flavor=self.flavor, networks=[{'uuid': self.neutron.network_1['id']}]) server = self._wait_for_state_change(server, 'ERROR') self.assertEqual(500, server['fault']['code']) self.assertIn('Failed to allocate the network', server['fault']['message']) def test_create_server_with_port_resource_request_old_microversion(self): # NOTE(gibi): 2.71 is the last microversion where nova does not support # this kind of create server self.api.microversion = '2.71' ex = self.assertRaises( client.OpenStackApiException, self._create_server, flavor=self.flavor, networks=[{'port': self.neutron.port_with_resource_request['id']}]) self.assertEqual(400, ex.response.status_code) self.assertIn( ""Creating servers with ports having resource requests, like a "" ""port with a QoS minimum bandwidth policy, is not supported "" ""until microversion 2.72."", str(ex)) def test_unshelve_not_offloaded_server_with_port_resource_request( self): """"""If the server is not offloaded then unshelving does not cause a new resource allocation therefore having port resource request is irrelevant. This test asserts that such unshelve request is not rejected. """""" server = self._create_server( flavor=self.flavor, networks=[{'port': self.neutron.port_1['id']}]) self._wait_for_state_change(server, 'ACTIVE') # avoid automatic shelve offloading self.flags(shelved_offload_time=-1) req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_server_parameter(server, {'status': 'SHELVED'}) # We need to simulate that the above server has a port that has # resource request; we cannot boot with such a port but legacy servers # can exist with such a port. self._add_resource_request_to_a_bound_port(self.neutron.port_1['id']) self.api.post_server_action(server['id'], {'unshelve': None}) self._wait_for_state_change(server, 'ACTIVE') class NonAdminUnsupportedPortResourceRequestBasedSchedulingTest( UnsupportedPortResourceRequestBasedSchedulingTest): def setUp(self): super( NonAdminUnsupportedPortResourceRequestBasedSchedulingTest, self).setUp() # switch to non admin api self.api = self.api_fixture.api self.api.microversion = self.microversion # allow non-admin to call the operations self.policy.set_rules({ 'os_compute_api:servers:create': '@', 'os_compute_api:servers:create:attach_network': '@', 'os_compute_api:servers:show': '@', 'os_compute_api:os-attach-interfaces': '@', 'os_compute_api:os-attach-interfaces:create': '@', 'os_compute_api:os-shelve:shelve': '@', 'os_compute_api:os-shelve:unshelve': '@', 'os_compute_api:os-migrate-server:migrate_live': '@', 'os_compute_api:os-evacuate': '@', }) class PortResourceRequestBasedSchedulingTest( PortResourceRequestBasedSchedulingTestBase): """"""Tests creating a server with a pre-existing port that has a resource request for a QoS minimum bandwidth policy. """""" def test_boot_server_with_two_ports_one_having_resource_request(self): non_qos_port = self.neutron.port_1 qos_port = self.neutron.port_with_resource_request server = self._create_server( flavor=self.flavor, networks=[{'port': non_qos_port['id']}, {'port': qos_port['id']}]) server = self._wait_for_state_change(server, 'ACTIVE') updated_non_qos_port = self.neutron.show_port( non_qos_port['id'])['port'] updated_qos_port = self.neutron.show_port(qos_port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp due to the qos_port resource request self.assertEqual(2, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor) network_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, network_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request qos_binding_profile = updated_qos_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], qos_binding_profile['allocation']) # And we expect not to have any allocation set in the port binding for # the port that doesn't have resource request self.assertEqual({}, updated_non_qos_port['binding:profile']) self._delete_and_check_allocations(server) # assert that unbind removes the allocation from the binding of the # port that got allocation during the bind updated_qos_port = self.neutron.show_port(qos_port['id'])['port'] binding_profile = updated_qos_port['binding:profile'] self.assertNotIn('allocation', binding_profile) def test_one_ovs_one_sriov_port(self): ovs_port = self.neutron.port_with_resource_request sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server(flavor=self.flavor_with_group_policy, networks=[{'port': ovs_port['id']}, {'port': sriov_port['id']}]) server = self._wait_for_state_change(server, 'ACTIVE') ovs_port = self.neutron.show_port(ovs_port['id'])['port'] sriov_port = self.neutron.show_port(sriov_port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp and on the sriov PF rp. self.assertEqual(3, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor_with_group_policy) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(ovs_port, ovs_allocations) self.assertPortMatchesAllocation(sriov_port, sriov_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request ovs_binding = ovs_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], ovs_binding['allocation']) sriov_binding = sriov_port['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], sriov_binding['allocation']) def test_interface_attach_with_resource_request(self): server = self._create_server( flavor=self.flavor, networks=[{'port': self.neutron.port_1['id']}]) self._wait_for_state_change(server, 'ACTIVE') # start a second compute to show that resources are only allocated from # the compute the instance currently runs on self.compute2 = self._start_compute('host2') self.compute2_rp_uuid = self._get_provider_uuid_by_host('host2') self._create_networking_rp_tree('host2', self.compute2_rp_uuid) self.compute2_service_id = self.admin_api.get_services( host='host2', binary='nova-compute')[0]['id'] # attach an OVS port with resource request ovs_port = self.neutron.port_with_resource_request post = { 'interfaceAttachment': { 'port_id': ovs_port['id'] }} self.api.attach_interface(server['id'], post) ovs_port = self.neutron.show_port(ovs_port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute RP and one set for the networking resources on the OVS # bridge RP. self.assertEqual(2, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] self.assertPortMatchesAllocation(ovs_port, ovs_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request ovs_binding = ovs_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], ovs_binding['allocation']) # now attach an SRIOV port sriov_port = self.neutron.port_with_sriov_resource_request post = { 'interfaceAttachment': { 'port_id': sriov_port['id'] }} self.api.attach_interface(server['id'], post) ovs_port = self.neutron.show_port(ovs_port['id'])['port'] sriov_port = self.neutron.show_port(sriov_port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute RP and one set each for the networking resources on the OVS # bridge RP and on the SRIOV PF RP. self.assertEqual(3, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor) ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(ovs_port, ovs_allocations) self.assertPortMatchesAllocation(sriov_port, sriov_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request ovs_binding = ovs_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], ovs_binding['allocation']) sriov_binding = sriov_port['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], sriov_binding['allocation']) def test_interface_attach_with_resource_request_no_candidates(self): server = self._create_server( flavor=self.flavor, networks=[{'port': self.neutron.port_1['id']}]) self._wait_for_state_change(server, 'ACTIVE') # attach an OVS port with too big resource request ovs_port = self.neutron.port_with_resource_request resources = self.neutron._ports[ ovs_port['id']]['resource_request']['resources'] resources['NET_BW_IGR_KILOBIT_PER_SEC'] = 1000000 post = { 'interfaceAttachment': { 'port_id': ovs_port['id'] }} ex = self.assertRaises( client.OpenStackApiException, self.api.attach_interface, server['id'], post) self.assertEqual(400, ex.response.status_code) self.assertIn('Failed to allocate additional resources', str(ex)) def test_interface_attach_with_resource_request_pci_claim_fails(self): # boot a server with a single SRIOV port that has no resource request sriov_port = self.neutron.sriov_port server = self._create_server( flavor=self.flavor, networks=[{'port': sriov_port['id']}]) self._wait_for_state_change(server, 'ACTIVE') sriov_port = self.neutron.show_port(sriov_port['id'])['port'] sriov_binding = sriov_port['binding:profile'] # We expect that this consume the last available VF from the PF2 self.assertEqual( fake.FakeDriverWithPciResources.PCI_ADDR_PF2_VF1, sriov_binding['pci_slot']) # Now attach a second port to this server that has resource request # At this point PF2 has available bandwidth but no available VF # and PF3 has available VF but no available bandwidth so we expect # the attach to fail. sriov_port_with_res_req = self.neutron.port_with_sriov_resource_request post = { 'interfaceAttachment': { 'port_id': sriov_port_with_res_req['id'] }} ex = self.assertRaises( client.OpenStackApiException, self.api.attach_interface, server['id'], post) self.assertEqual(400, ex.response.status_code) self.assertIn('Failed to claim PCI device', str(ex)) sriov_port_with_res_req = self.neutron.show_port( sriov_port_with_res_req['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect only one allocations that is on the compute RP as the # allocation made towards the PF2 RP has been rolled back when the PCI # claim failed self.assertEqual([self.compute1_rp_uuid], list(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor) # We expect that the port binding is not updated with any RP uuid as # the attach failed. sriov_binding = sriov_port_with_res_req['binding:profile'] self.assertNotIn('allocation', sriov_binding) def test_interface_attach_sriov_with_qos_pci_update_fails(self): # Update the name of the network device RP of PF2 on host2 to something # unexpected. This will cause # update_pci_request_spec_with_allocated_interface_name() to raise # when the sriov interface is attached. rsp = self.placement.put( '/resource_providers/%s' % self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], {""name"": ""invalid-device-rp-name""}) self.assertEqual(200, rsp.status) server = self._create_server( flavor=self.flavor, networks=[{'port': self.neutron.port_1['id']}]) self._wait_for_state_change(server, 'ACTIVE') sriov_port = self.neutron.port_with_sriov_resource_request post = { 'interfaceAttachment': { 'port_id': sriov_port['id'] }} ex = self.assertRaises( client.OpenStackApiException, self.api.attach_interface, server['id'], post) self.assertEqual(500, ex.response.status_code) self.assertIn('UnexpectedResourceProviderNameForPCIRequest', str(ex)) sriov_port = self.neutron.show_port(sriov_port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect only one allocations that is on the compute RP as the # allocation made towards the PF2 RP has been rolled back when the PCI # update failed self.assertEqual([self.compute1_rp_uuid], list(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor) # We expect that the port binding is not updated with any RP uuid as # the attach failed. sriov_binding = sriov_port['binding:profile'] self.assertNotIn('allocation', sriov_binding) def test_interface_attach_sriov_with_qos_pci_update_fails_cleanup_fails( self ): # Update the name of the network device RP of PF2 on host2 to something # unexpected. This will cause # update_pci_request_spec_with_allocated_interface_name() to raise # when the sriov interface is attached. rsp = self.placement.put( '/resource_providers/%s' % self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], {""name"": ""invalid-device-rp-name""}) self.assertEqual(200, rsp.status) server = self._create_server( flavor=self.flavor, networks=[{'port': self.neutron.port_1['id']}]) self._wait_for_state_change(server, 'ACTIVE') sriov_port = self.neutron.port_with_sriov_resource_request post = { 'interfaceAttachment': { 'port_id': sriov_port['id'] }} orig_put = adapter.Adapter.put conflict_rsp = fake_requests.FakeResponse( 409, jsonutils.dumps( {'errors': [ {'code': 'placement.concurrent_update', 'detail': 'consumer generation conflict'}]})) self.adapter_put_call_count = 0 def fake_put(_self, url, **kwargs): self.adapter_put_call_count += 1 if self.adapter_put_call_count == 1: # allocation update to add the port resource request return orig_put(_self, url, **kwargs) else: # cleanup calls to remove the port resource allocation return conflict_rsp # this mock makes sure that the placement cleanup will fail with # conflict with mock.patch('keystoneauth1.adapter.Adapter.put', new=fake_put): ex = self.assertRaises( client.OpenStackApiException, self.api.attach_interface, server['id'], post) self.assertEqual(500, ex.response.status_code) self.assertIn('AllocationUpdateFailed', str(ex)) # we have a proper log about the leak PF_rp_uuid = self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2] self.assertIn( ""nova.exception.AllocationUpdateFailed: Failed to update "" ""allocations for consumer %s. Error: Cannot remove "" ""resources {'%s': "" ""{'resources': {'NET_BW_EGR_KILOBIT_PER_SEC': 10000, "" ""'NET_BW_IGR_KILOBIT_PER_SEC': 10000}}} from the allocation "" ""due to multiple successive generation conflicts in "" ""placement."" % (server['id'], PF_rp_uuid), self.stdlog.logger.output) # assert that we retried the cleanup multiple times self.assertEqual(5, self.adapter_put_call_count) sriov_port = self.neutron.show_port(sriov_port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # As the cleanup failed we leaked allocation in placement self.assertEqual(2, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor) sriov_dev_rp = self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2] sriov_allocations = allocations[sriov_dev_rp]['resources'] # this is the leaked allocation in placement self.assertPortMatchesAllocation(sriov_port, sriov_allocations) allocations[sriov_dev_rp].pop('generation') leaked_allocation = {sriov_dev_rp: allocations[sriov_dev_rp]} self.assertIn( f'Failed to update allocations for consumer {server[""id""]}. ' f'Error: Cannot remove resources {leaked_allocation} from the ' f'allocation due to multiple successive generation conflicts in ' f'placement. To clean up the leaked resource allocation you can ' f'use nova-manage placement audit.', self.stdlog.logger.output) # We expect that the port binding is not updated with any RP uuid as # the attach failed. sriov_binding = sriov_port['binding:profile'] self.assertNotIn('allocation', sriov_binding) def test_interface_detach_with_port_with_bandwidth_request(self): port = self.neutron.port_with_resource_request # create a server server = self._create_server( flavor=self.flavor, networks=[{'port': port['id']}]) self._wait_for_state_change(server, 'ACTIVE') allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp due to the port resource request self.assertEqual(2, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor) network_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] self.assertPortMatchesAllocation(port, network_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request updated_port = self.neutron.show_port(port['id'])['port'] binding_profile = updated_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], binding_profile['allocation']) self.api.detach_interface( server['id'], self.neutron.port_with_resource_request['id']) self.notifier.wait_for_versioned_notifications( 'instance.interface_detach.end') updated_port = self.neutron.show_port( self.neutron.port_with_resource_request['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect that the port related resource allocations are removed self.assertEqual(1, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor) # We expect that the allocation is removed from the port too binding_profile = updated_port['binding:profile'] self.assertNotIn('allocation', binding_profile) def test_delete_bound_port_in_neutron_with_resource_request(self): """"""Neutron sends a network-vif-deleted os-server-external-events notification to nova when a bound port is deleted. Nova detaches the vif from the server. If the port had a resource allocation then that allocation is leaked. This test makes sure that 1) an ERROR is logged when the leak happens. 2) the leaked resource is reclaimed when the server is deleted. """""" port = self.neutron.port_with_resource_request # create a server server = self._create_server( flavor=self.flavor, networks=[{'port': port['id']}]) server = self._wait_for_state_change(server, 'ACTIVE') allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp due to the port resource request self.assertEqual(2, len(allocations)) compute_allocations = allocations[self.compute1_rp_uuid]['resources'] network_allocations = allocations[ self.ovs_bridge_rp_per_host[self.compute1_rp_uuid]]['resources'] self.assertEqual(self._resources_from_flavor(self.flavor), compute_allocations) self.assertPortMatchesAllocation(port, network_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request updated_port = self.neutron.show_port(port['id'])['port'] binding_profile = updated_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[self.compute1_rp_uuid], binding_profile['allocation']) # neutron is faked in the functional test so this test just sends in # a os-server-external-events notification to trigger the # detach + ERROR log. events = { ""events"": [ { ""name"": ""network-vif-deleted"", ""server_uuid"": server['id'], ""tag"": port['id'], } ] } response = self.api.api_post('/os-server-external-events', events).body self.assertEqual(200, response['events'][0]['code']) port_rp_uuid = self.ovs_bridge_rp_per_host[self.compute1_rp_uuid] # 1) Nova logs an ERROR about the leak self._wait_for_log( 'ERROR [nova.compute.manager] The bound port %(port_id)s is ' 'deleted in Neutron but the resource allocation on the resource ' 'provider %(rp_uuid)s is leaked until the server %(server_uuid)s ' 'is deleted.' % {'port_id': port['id'], 'rp_uuid': port_rp_uuid, 'server_uuid': server['id']}) allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # Nova leaks the port allocation so the server still has the same # allocation before the port delete. self.assertEqual(2, len(allocations)) compute_allocations = allocations[self.compute1_rp_uuid]['resources'] network_allocations = allocations[port_rp_uuid]['resources'] self.assertEqual(self._resources_from_flavor(self.flavor), compute_allocations) self.assertPortMatchesAllocation(port, network_allocations) # 2) Also nova will reclaim the leaked resource during the server # delete self._delete_and_check_allocations(server) def test_two_sriov_ports_one_with_request_two_available_pfs(self): """"""Verify that the port's bandwidth allocated from the same PF as the allocated VF. One compute host: * PF1 (0000:01:00) is configured for physnet1 * PF2 (0000:02:00) is configured for physnet2, with 1 VF and bandwidth inventory * PF3 (0000:03:00) is configured for physnet2, with 1 VF but without bandwidth inventory One instance will be booted with two neutron ports, both ports requested to be connected to physnet2. One port has resource request the other does not have resource request. The port having the resource request cannot be allocated to PF3 and PF1 while the other port that does not have resource request can be allocated to PF2 or PF3. For the detailed compute host config see the FakeDriverWithPciResources class. For the necessary passthrough_whitelist config see the setUp of the PortResourceRequestBasedSchedulingTestBase class. """""" sriov_port = self.neutron.sriov_port sriov_port_with_res_req = self.neutron.port_with_sriov_resource_request server = self._create_server( flavor=self.flavor_with_group_policy, networks=[ {'port': sriov_port_with_res_req['id']}, {'port': sriov_port['id']}]) server = self._wait_for_state_change(server, 'ACTIVE') sriov_port = self.neutron.show_port(sriov_port['id'])['port'] sriov_port_with_res_req = self.neutron.show_port( sriov_port_with_res_req['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the sriov PF2 # rp. self.assertEqual(2, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor_with_group_policy) sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation( sriov_port_with_res_req, sriov_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request sriov_with_req_binding = sriov_port_with_res_req['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], sriov_with_req_binding['allocation']) # and the port without resource request does not have allocation sriov_binding = sriov_port['binding:profile'] self.assertNotIn('allocation', sriov_binding) # We expect that the selected PCI device matches with the RP from # where the bandwidth is allocated from. The bandwidth is allocated # from 0000:02:00 (PF2) so the PCI device should be a VF of that PF self.assertEqual( fake.FakeDriverWithPciResources.PCI_ADDR_PF2_VF1, sriov_with_req_binding['pci_slot']) # But also the port that has no resource request still gets a pci slot # allocated. The 0000:02:00 has no more VF available but 0000:03:00 has # one VF available and that PF is also on physnet2 self.assertEqual( fake.FakeDriverWithPciResources.PCI_ADDR_PF3_VF1, sriov_binding['pci_slot']) def test_one_sriov_port_no_vf_and_bandwidth_available_on_the_same_pf(self): """"""Verify that if there is no PF that both provides bandwidth and VFs then the boot will fail. """""" # boot a server with a single sriov port that has no resource request sriov_port = self.neutron.sriov_port server = self._create_server( flavor=self.flavor_with_group_policy, networks=[{'port': sriov_port['id']}]) self._wait_for_state_change(server, 'ACTIVE') sriov_port = self.neutron.show_port(sriov_port['id'])['port'] sriov_binding = sriov_port['binding:profile'] # We expect that this consume the last available VF from the PF2 self.assertEqual( fake.FakeDriverWithPciResources.PCI_ADDR_PF2_VF1, sriov_binding['pci_slot']) # Now boot a second server with a port that has resource request # At this point PF2 has available bandwidth but no available VF # and PF3 has available VF but no available bandwidth so we expect # the boot to fail. sriov_port_with_res_req = self.neutron.port_with_sriov_resource_request server = self._create_server( flavor=self.flavor_with_group_policy, networks=[{'port': sriov_port_with_res_req['id']}]) # NOTE(gibi): It should be NoValidHost in an ideal world but that would # require the scheduler to detect the situation instead of the pci # claim. However that is pretty hard as the scheduler does not know # anything about allocation candidates (e.g. that the only candidate # for the port in this case is PF2) it see the whole host as a # candidate and in our host there is available VF for the request even # if that is on the wrong PF. server = self._wait_for_state_change(server, 'ERROR') self.assertIn( 'Exceeded maximum number of retries. Exhausted all hosts ' 'available for retrying build failures for instance', server['fault']['message']) def test_sriov_macvtap_port_with_resource_request(self): """"""Verify that vnic type macvtap is also supported"""""" port = self.neutron.port_macvtap_with_resource_request server = self._create_server( flavor=self.flavor, networks=[{'port': port['id']}]) server = self._wait_for_state_change(server, 'ACTIVE') port = self.neutron.show_port(port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the sriov PF2 # rp. self.assertEqual(2, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, self.compute1_rp_uuid, self.flavor) sriov_allocations = allocations[self.sriov_dev_rp_per_host[ self.compute1_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation( port, sriov_allocations) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding for the port having resource # request port_binding = port['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[self.compute1_rp_uuid][self.PF2], port_binding['allocation']) # We expect that the selected PCI device matches with the RP from # where the bandwidth is allocated from. The bandwidth is allocated # from 0000:02:00 (PF2) so the PCI device should be a VF of that PF self.assertEqual( fake.FakeDriverWithPciResources.PCI_ADDR_PF2_VF1, port_binding['pci_slot']) class ServerMoveWithPortResourceRequestTest( PortResourceRequestBasedSchedulingTestBase): def setUp(self): # Use our custom weigher defined above to make sure that we have # a predictable host order in the alternate list returned by the # scheduler for migration. self.useFixture(nova_fixtures.HostNameWeigherFixture()) super(ServerMoveWithPortResourceRequestTest, self).setUp() self.compute2 = self._start_compute('host2') self.compute2_rp_uuid = self._get_provider_uuid_by_host('host2') self._create_networking_rp_tree('host2', self.compute2_rp_uuid) self.compute2_service_id = self.admin_api.get_services( host='host2', binary='nova-compute')[0]['id'] # create a bigger flavor to use in resize test self.flavor_with_group_policy_bigger = self.admin_api.post_flavor( {'flavor': { 'ram': self.flavor_with_group_policy['ram'], 'vcpus': self.flavor_with_group_policy['vcpus'], 'name': self.flavor_with_group_policy['name'] + '+', 'disk': self.flavor_with_group_policy['disk'] + 1, }}) self.admin_api.post_extra_spec( self.flavor_with_group_policy_bigger['id'], {'extra_specs': {'group_policy': 'isolate'}}) def _test_resize_or_migrate_server_with_qos_ports(self, new_flavor=None): non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) if new_flavor: self.api_fixture.api.post_server_action( server['id'], {'resize': {""flavorRef"": new_flavor['id']}}) else: self.api.post_server_action(server['id'], {'migrate': None}) self._wait_for_state_change(server, 'VERIFY_RESIZE') migration_uuid = self.get_migration_uuid_for_instance(server['id']) # check that server allocates from the new host properly self._check_allocation( server, self.compute2_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy, migration_uuid, source_compute_rp_uuid=self.compute1_rp_uuid, new_flavor=new_flavor) self._assert_pci_request_pf_device_name(server, 'host2-ens2') self._confirm_resize(server) # check that allocation is still OK self._check_allocation( server, self.compute2_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy, new_flavor=new_flavor) migration_allocations = self.placement.get( '/allocations/%s' % migration_uuid).body['allocations'] self.assertEqual({}, migration_allocations) self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) def test_migrate_server_with_qos_ports(self): self._test_resize_or_migrate_server_with_qos_ports() def test_resize_server_with_qos_ports(self): self._test_resize_or_migrate_server_with_qos_ports( new_flavor=self.flavor_with_group_policy_bigger) def _test_resize_or_migrate_revert_with_qos_ports(self, new_flavor=None): non_qos_port = self.neutron.port_1 qos_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_port, qos_port, qos_sriov_port) if new_flavor: self.api_fixture.api.post_server_action( server['id'], {'resize': {""flavorRef"": new_flavor['id']}}) else: self.api.post_server_action(server['id'], {'migrate': None}) self._wait_for_state_change(server, 'VERIFY_RESIZE') migration_uuid = self.get_migration_uuid_for_instance(server['id']) # check that server allocates from the new host properly self._check_allocation( server, self.compute2_rp_uuid, non_qos_port, qos_port, qos_sriov_port, self.flavor_with_group_policy, migration_uuid, source_compute_rp_uuid=self.compute1_rp_uuid, new_flavor=new_flavor) self.api.post_server_action(server['id'], {'revertResize': None}) self._wait_for_state_change(server, 'ACTIVE') # check that allocation is moved back to the source host self._check_allocation( server, self.compute1_rp_uuid, non_qos_port, qos_port, qos_sriov_port, self.flavor_with_group_policy) # check that the target host allocation is cleaned up. self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0, 'NET_BW_IGR_KILOBIT_PER_SEC': 0, 'NET_BW_EGR_KILOBIT_PER_SEC': 0}, self.compute2_rp_uuid) migration_allocations = self.placement.get( '/allocations/%s' % migration_uuid).body['allocations'] self.assertEqual({}, migration_allocations) self._delete_server_and_check_allocations( server, qos_port, qos_sriov_port) def test_migrate_revert_with_qos_ports(self): self._test_resize_or_migrate_revert_with_qos_ports() def test_resize_revert_with_qos_ports(self): self._test_resize_or_migrate_revert_with_qos_ports( new_flavor=self.flavor_with_group_policy_bigger) def _test_resize_or_migrate_server_with_qos_port_reschedule_success( self, new_flavor=None): self._start_compute('host3') compute3_rp_uuid = self._get_provider_uuid_by_host('host3') self._create_networking_rp_tree('host3', compute3_rp_uuid) non_qos_port = self.neutron.port_1 qos_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_port, qos_port, qos_sriov_port) # Yes this isn't great in a functional test, but it's simple. original_prep_resize = compute_manager.ComputeManager._prep_resize prep_resize_calls = [] def fake_prep_resize(_self, *args, **kwargs): # Make the first prep_resize fail and the rest passing through # the original _prep_resize call if not prep_resize_calls: prep_resize_calls.append(_self.host) raise test.TestingException('Simulated prep_resize failure.') prep_resize_calls.append(_self.host) original_prep_resize(_self, *args, **kwargs) # The patched compute manager will raise from _prep_resize on the # first host of the migration. Then the migration # is reschedule on the other host where it will succeed with mock.patch.object( compute_manager.ComputeManager, '_prep_resize', new=fake_prep_resize): if new_flavor: self.api_fixture.api.post_server_action( server['id'], {'resize': {""flavorRef"": new_flavor['id']}}) else: self.api.post_server_action(server['id'], {'migrate': None}) self._wait_for_state_change(server, 'VERIFY_RESIZE') # ensure that resize is tried on two hosts, so we had a re-schedule self.assertEqual(['host2', 'host3'], prep_resize_calls) migration_uuid = self.get_migration_uuid_for_instance(server['id']) # check that server allocates from the final host properly while # the migration holds the allocation on the source host self._check_allocation( server, compute3_rp_uuid, non_qos_port, qos_port, qos_sriov_port, self.flavor_with_group_policy, migration_uuid, source_compute_rp_uuid=self.compute1_rp_uuid, new_flavor=new_flavor) self._assert_pci_request_pf_device_name(server, 'host3-ens2') self._confirm_resize(server) # check that allocation is still OK self._check_allocation( server, compute3_rp_uuid, non_qos_port, qos_port, qos_sriov_port, self.flavor_with_group_policy, new_flavor=new_flavor) migration_allocations = self.placement.get( '/allocations/%s' % migration_uuid).body['allocations'] self.assertEqual({}, migration_allocations) self._delete_server_and_check_allocations( server, qos_port, qos_sriov_port) def test_migrate_server_with_qos_port_reschedule_success(self): self._test_resize_or_migrate_server_with_qos_port_reschedule_success() def test_resize_server_with_qos_port_reschedule_success(self): self._test_resize_or_migrate_server_with_qos_port_reschedule_success( new_flavor=self.flavor_with_group_policy_bigger) def _test_resize_or_migrate_server_with_qos_port_reschedule_failure( self, new_flavor=None): non_qos_port = self.neutron.port_1 qos_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_port, qos_port, qos_sriov_port) # The patched compute manager on host2 will raise from _prep_resize. # Then the migration is reschedule but there is no other host to # choose from. with mock.patch.object( compute_manager.ComputeManager, '_prep_resize', side_effect=test.TestingException( 'Simulated prep_resize failure.')): if new_flavor: self.api_fixture.api.post_server_action( server['id'], {'resize': {""flavorRef"": new_flavor['id']}}) else: self.api.post_server_action(server['id'], {'migrate': None}) self._wait_for_server_parameter(server, {'OS-EXT-SRV-ATTR:host': 'host1', 'status': 'ERROR'}) self._wait_for_migration_status(server, ['error']) migration_uuid = self.get_migration_uuid_for_instance(server['id']) # as the migration is failed we expect that the migration allocation # is deleted migration_allocations = self.placement.get( '/allocations/%s' % migration_uuid).body['allocations'] self.assertEqual({}, migration_allocations) # and the instance allocates from the source host self._check_allocation( server, self.compute1_rp_uuid, non_qos_port, qos_port, qos_sriov_port, self.flavor_with_group_policy) def test_migrate_server_with_qos_port_reschedule_failure(self): self._test_resize_or_migrate_server_with_qos_port_reschedule_failure() def test_resize_server_with_qos_port_reschedule_failure(self): self._test_resize_or_migrate_server_with_qos_port_reschedule_failure( new_flavor=self.flavor_with_group_policy_bigger) def test_migrate_server_with_qos_port_pci_update_fail_not_reschedule(self): # Update the name of the network device RP of PF2 on host2 to something # unexpected. This will cause # update_pci_request_spec_with_allocated_interface_name() to raise # when the instance is migrated to the host2. rsp = self.placement.put( '/resource_providers/%s' % self.sriov_dev_rp_per_host[self.compute2_rp_uuid][self.PF2], {""name"": ""invalid-device-rp-name""}) self.assertEqual(200, rsp.status) self._start_compute('host3') compute3_rp_uuid = self._get_provider_uuid_by_host('host3') self._create_networking_rp_tree('host3', compute3_rp_uuid) non_qos_port = self.neutron.port_1 qos_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_port, qos_port, qos_sriov_port) # The compute manager on host2 will raise from # update_pci_request_spec_with_allocated_interface_name which will # intentionally not trigger a re-schedule even if there is host3 as an # alternate. self.api.post_server_action(server['id'], {'migrate': None}) server = self._wait_for_server_parameter(server, {'OS-EXT-SRV-ATTR:host': 'host1', # Note that we have to wait for the task_state to be reverted # to None since that happens after the fault is recorded. 'OS-EXT-STS:task_state': None, 'status': 'ERROR'}) self._wait_for_migration_status(server, ['error']) self.assertIn( 'Build of instance %s aborted' % server['id'], server['fault']['message']) self._wait_for_action_fail_completion( server, instance_actions.MIGRATE, 'compute_prep_resize') self.notifier.wait_for_versioned_notifications( 'instance.resize_prep.end') self.notifier.wait_for_versioned_notifications( 'compute.exception') migration_uuid = self.get_migration_uuid_for_instance(server['id']) # as the migration is failed we expect that the migration allocation # is deleted migration_allocations = self.placement.get( '/allocations/%s' % migration_uuid).body['allocations'] self.assertEqual({}, migration_allocations) # and the instance allocates from the source host self._check_allocation( server, self.compute1_rp_uuid, non_qos_port, qos_port, qos_sriov_port, self.flavor_with_group_policy) def _check_allocation_during_evacuate( self, server, flavor, source_compute_rp_uuid, dest_compute_rp_uuid, non_qos_port, qos_port, qos_sriov_port): # evacuate is the only case when the same consumer has allocation from # two different RP trees so we need special checks updated_non_qos_port = self.neutron.show_port( non_qos_port['id'])['port'] updated_qos_port = self.neutron.show_port(qos_port['id'])['port'] updated_qos_sriov_port = self.neutron.show_port( qos_sriov_port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect two sets of allocations. One set for the source compute # and one set for the dest compute. Each set we expect 3 allocations # one for the compute RP according to the flavor, one for the ovs port # and one for the SRIOV port. self.assertEqual(6, len(allocations), allocations) # 1. source compute allocation compute_allocations = allocations[source_compute_rp_uuid]['resources'] self.assertEqual( self._resources_from_flavor(flavor), compute_allocations) # 2. source ovs allocation ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[source_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) # 3. source sriov allocation sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ source_compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) # 4. dest compute allocation compute_allocations = allocations[dest_compute_rp_uuid]['resources'] self.assertEqual( self._resources_from_flavor(flavor), compute_allocations) # 5. dest ovs allocation ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[dest_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) # 6. dest SRIOV allocation sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ dest_compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) # the qos ports should have their binding pointing to the RPs in the # dest compute RP tree qos_binding_profile = updated_qos_port['binding:profile'] self.assertEqual( self.ovs_bridge_rp_per_host[dest_compute_rp_uuid], qos_binding_profile['allocation']) qos_sriov_binding_profile = updated_qos_sriov_port['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[dest_compute_rp_uuid][self.PF2], qos_sriov_binding_profile['allocation']) # And we expect not to have any allocation set in the port binding for # the port that doesn't have resource request self.assertEqual({}, updated_non_qos_port['binding:profile']) def _check_allocation_after_evacuation_source_recovered( self, server, flavor, dest_compute_rp_uuid, non_qos_port, qos_port, qos_sriov_port): # check that source allocation is cleaned up and the dest allocation # and the port bindings are not touched. updated_non_qos_port = self.neutron.show_port( non_qos_port['id'])['port'] updated_qos_port = self.neutron.show_port(qos_port['id'])['port'] updated_qos_sriov_port = self.neutron.show_port( qos_sriov_port['id'])['port'] allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(3, len(allocations), allocations) # 1. dest compute allocation compute_allocations = allocations[dest_compute_rp_uuid]['resources'] self.assertEqual( self._resources_from_flavor(flavor), compute_allocations) # 2. dest ovs allocation ovs_allocations = allocations[ self.ovs_bridge_rp_per_host[dest_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(qos_port, ovs_allocations) # 3. dest SRIOV allocation sriov_allocations = allocations[ self.sriov_dev_rp_per_host[ dest_compute_rp_uuid][self.PF2]]['resources'] self.assertPortMatchesAllocation(qos_sriov_port, sriov_allocations) # the qos ports should have their binding pointing to the RPs in the # dest compute RP tree qos_binding_profile = updated_qos_port['binding:profile'] self.assertEqual( self.ovs_bridge_rp_per_host[dest_compute_rp_uuid], qos_binding_profile['allocation']) qos_sriov_binding_profile = updated_qos_sriov_port['binding:profile'] self.assertEqual( self.sriov_dev_rp_per_host[dest_compute_rp_uuid][self.PF2], qos_sriov_binding_profile['allocation']) # And we expect not to have any allocation set in the port binding for # the port that doesn't have resource request self.assertEqual({}, updated_non_qos_port['binding:profile']) def test_evacuate_with_qos_port(self, host=None): non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) # force source compute down self.compute1.stop() self.admin_api.put_service( self.compute1_service_id, {'forced_down': 'true'}) self._evacuate_server( server, {'host': host} if host else {}, expected_host='host2') self._check_allocation_during_evacuate( server, self.flavor_with_group_policy, self.compute1_rp_uuid, self.compute2_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port) self._assert_pci_request_pf_device_name(server, 'host2-ens2') # recover source compute self.compute1 = self.restart_compute_service(self.compute1) self.admin_api.put_service( self.compute1_service_id, {'forced_down': 'false'}) # check that source allocation is cleaned up and the dest allocation # and the port bindings are not touched. self._check_allocation_after_evacuation_source_recovered( server, self.flavor_with_group_policy, self.compute2_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port) self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) def test_evacuate_with_target_host_with_qos_port(self): self.test_evacuate_with_qos_port(host='host2') def test_evacuate_with_qos_port_fails_recover_source_compute(self): non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) # force source compute down self.compute1.stop() self.admin_api.put_service( self.compute1_service_id, {'forced_down': 'true'}) with mock.patch( 'nova.compute.resource_tracker.ResourceTracker.rebuild_claim', side_effect=exception.ComputeResourcesUnavailable( reason='test evacuate failure')): # Evacuate does not have reschedule loop so evacuate expected to # simply fail and the server remains on the source host server = self._evacuate_server( server, expected_host='host1', expected_task_state=None, expected_migration_status='failed') # As evacuation failed the resource allocation should be untouched self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) # recover source compute self.compute1 = self.restart_compute_service(self.compute1) self.admin_api.put_service( self.compute1_service_id, {'forced_down': 'false'}) # check again that even after source host recovery the source # allocation is intact self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) def test_evacuate_with_qos_port_pci_update_fail(self): # Update the name of the network device RP of PF2 on host2 to something # unexpected. This will cause # update_pci_request_spec_with_allocated_interface_name() to raise # when the instance is evacuated to the host2. rsp = self.placement.put( '/resource_providers/%s' % self.sriov_dev_rp_per_host[self.compute2_rp_uuid][self.PF2], {""name"": ""invalid-device-rp-name""}) self.assertEqual(200, rsp.status) non_qos_port = self.neutron.port_1 qos_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_port, qos_port, qos_sriov_port) # force source compute down self.compute1.stop() self.admin_api.put_service( self.compute1_service_id, {'forced_down': 'true'}) # The compute manager on host2 will raise from # update_pci_request_spec_with_allocated_interface_name server = self._evacuate_server( server, expected_host='host1', expected_state='ERROR', expected_task_state=None, expected_migration_status='failed') self.assertIn( 'does not have a properly formatted name', server['fault']['message']) self._wait_for_action_fail_completion( server, instance_actions.EVACUATE, 'compute_rebuild_instance') self.notifier.wait_for_versioned_notifications( 'instance.rebuild.error') self.notifier.wait_for_versioned_notifications( 'compute.exception') # and the instance allocates from the source host self._check_allocation( server, self.compute1_rp_uuid, non_qos_port, qos_port, qos_sriov_port, self.flavor_with_group_policy) def test_live_migrate_with_qos_port(self, host=None): non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) self.api.post_server_action( server['id'], { 'os-migrateLive': { 'host': host, 'block_migration': 'auto' } } ) self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host2', 'status': 'ACTIVE'}) self._check_allocation( server, self.compute2_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) self._assert_pci_request_pf_device_name(server, 'host2-ens2') self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) def test_live_migrate_with_qos_port_with_target_host(self): self.test_live_migrate_with_qos_port(host='host2') def test_live_migrate_with_qos_port_reschedule_success(self): self._start_compute('host3') compute3_rp_uuid = self._get_provider_uuid_by_host('host3') self._create_networking_rp_tree('host3', compute3_rp_uuid) non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) orig_check = fake.FakeDriver.check_can_live_migrate_destination def fake_check_can_live_migrate_destination( context, instance, src_compute_info, dst_compute_info, block_migration=False, disk_over_commit=False): if dst_compute_info['host'] == 'host2': raise exception.MigrationPreCheckError( reason='test_live_migrate_pre_check_fails') else: return orig_check( context, instance, src_compute_info, dst_compute_info, block_migration, disk_over_commit) with mock.patch('nova.virt.fake.FakeDriver.' 'check_can_live_migrate_destination', side_effect=fake_check_can_live_migrate_destination): self.api.post_server_action( server['id'], { 'os-migrateLive': { 'host': None, 'block_migration': 'auto' } } ) # The first migration attempt was to host2. So we expect that the # instance lands on host3. self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host3', 'status': 'ACTIVE'}) self._check_allocation( server, compute3_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) self._assert_pci_request_pf_device_name(server, 'host3-ens2') self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) def test_live_migrate_with_qos_port_reschedule_fails(self): non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) with mock.patch( 'nova.virt.fake.FakeDriver.check_can_live_migrate_destination', side_effect=exception.MigrationPreCheckError( reason='test_live_migrate_pre_check_fails')): self.api.post_server_action( server['id'], { 'os-migrateLive': { 'host': None, 'block_migration': 'auto' } } ) # The every migration target host will fail the pre check so # the conductor will run out of target host and the migration will # fail self._wait_for_migration_status(server, ['error']) # the server will remain on host1 self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host1', 'status': 'ACTIVE'}) self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) # Assert that the InstancePCIRequests also rolled back to point to # host1 self._assert_pci_request_pf_device_name(server, 'host1-ens2') self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) def test_live_migrate_with_qos_port_pci_update_fails(self): # Update the name of the network device RP of PF2 on host2 to something # unexpected. This will cause # update_pci_request_spec_with_allocated_interface_name() to raise # when the instance is live migrated to the host2. rsp = self.placement.put( '/resource_providers/%s' % self.sriov_dev_rp_per_host[self.compute2_rp_uuid][self.PF2], {""name"": ""invalid-device-rp-name""}) self.assertEqual(200, rsp.status) non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) self.api.post_server_action( server['id'], { 'os-migrateLive': { 'host': None, 'block_migration': 'auto' } } ) # pci update will fail after scheduling to host2 self._wait_for_migration_status(server, ['error']) server = self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host1', 'status': 'ERROR'}) self.assertIn( 'does not have a properly formatted name', server['fault']['message']) self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) # Assert that the InstancePCIRequests still point to host1 self._assert_pci_request_pf_device_name(server, 'host1-ens2') self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) def test_unshelve_offloaded_server_with_qos_port(self): non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) # with default config shelve means immediate offload as well req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_server_parameter( server, {'status': 'SHELVED_OFFLOADED'}) allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) self.api.post_server_action(server['id'], {'unshelve': None}) self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host1', 'status': 'ACTIVE'}) self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) self._assert_pci_request_pf_device_name(server, 'host1-ens2') # shelve offload again and then make host1 unusable so the subsequent # unshelve needs to select host2 req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_server_parameter( server, {'status': 'SHELVED_OFFLOADED'}) allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) self.admin_api.put_service( self.compute1_service_id, {""status"": ""disabled""}) self.api.post_server_action(server['id'], {'unshelve': None}) self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host2', 'status': 'ACTIVE'}) self._check_allocation( server, self.compute2_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) self._assert_pci_request_pf_device_name(server, 'host2-ens2') self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) def test_unshelve_offloaded_server_with_qos_port_pci_update_fails(self): # Update the name of the network device RP of PF2 on host2 to something # unexpected. This will cause # update_pci_request_spec_with_allocated_interface_name() to raise # when the instance is unshelved to the host2. rsp = self.placement.put( '/resource_providers/%s' % self.sriov_dev_rp_per_host[self.compute2_rp_uuid][self.PF2], {""name"": ""invalid-device-rp-name""}) self.assertEqual(200, rsp.status) non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) # with default config shelve means immediate offload as well req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_server_parameter( server, {'status': 'SHELVED_OFFLOADED'}) allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) # make host1 unusable so the subsequent unshelve needs to select host2 self.admin_api.put_service( self.compute1_service_id, {""status"": ""disabled""}) self.api.post_server_action(server['id'], {'unshelve': None}) # Unshelve fails on host2 due to # update_pci_request_spec_with_allocated_interface_name fails so the # instance goes back to shelve offloaded state self.notifier.wait_for_versioned_notifications( 'instance.unshelve.start') error_notification = self.notifier.wait_for_versioned_notifications( 'compute.exception')[0] self.assertEqual( 'UnexpectedResourceProviderNameForPCIRequest', error_notification['payload']['nova_object.data']['exception']) server = self._wait_for_server_parameter( server, {'OS-EXT-STS:task_state': None, 'status': 'SHELVED_OFFLOADED'}) allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) def test_unshelve_offloaded_server_with_qos_port_fails_due_to_neutron( self): non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) # with default config shelve means immediate offload as well req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_server_parameter( server, {'status': 'SHELVED_OFFLOADED'}) allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) # Simulate that port update fails during unshelve due to neutron is # unavailable with mock.patch( 'nova.tests.fixtures.NeutronFixture.' 'update_port') as mock_update_port: mock_update_port.side_effect = neutron_exception.ConnectionFailed( reason='test') req = {'unshelve': None} self.api.post_server_action(server['id'], req) self.notifier.wait_for_versioned_notifications( 'instance.unshelve.start') self._wait_for_server_parameter( server, {'status': 'SHELVED_OFFLOADED', 'OS-EXT-STS:task_state': None}) # As the instance went back to offloaded state we expect no allocation allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) class LiveMigrateAbortWithPortResourceRequestTest( PortResourceRequestBasedSchedulingTestBase): compute_driver = ""fake.FakeLiveMigrateDriverWithPciResources"" def setUp(self): # Use a custom weigher to make sure that we have a predictable host # order in the alternate list returned by the scheduler for migration. self.useFixture(nova_fixtures.HostNameWeigherFixture()) super(LiveMigrateAbortWithPortResourceRequestTest, self).setUp() self.compute2 = self._start_compute('host2') self.compute2_rp_uuid = self._get_provider_uuid_by_host('host2') self._create_networking_rp_tree('host2', self.compute2_rp_uuid) self.compute2_service_id = self.admin_api.get_services( host='host2', binary='nova-compute')[0]['id'] def test_live_migrate_with_qos_port_abort_migration(self): non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) # The special virt driver will keep the live migration running until it # is aborted. self.api.post_server_action( server['id'], { 'os-migrateLive': { 'host': None, 'block_migration': 'auto' } } ) # wait for the migration to start migration = self._wait_for_migration_status(server, ['running']) # delete the migration to abort it self.api.delete_migration(server['id'], migration['id']) self._wait_for_migration_status(server, ['cancelled']) self._wait_for_server_parameter( server, {'OS-EXT-SRV-ATTR:host': 'host1', 'status': 'ACTIVE'}) self._check_allocation( server, self.compute1_rp_uuid, non_qos_normal_port, qos_normal_port, qos_sriov_port, self.flavor_with_group_policy) # Assert that the InstancePCIRequests rolled back to point to host1 self._assert_pci_request_pf_device_name(server, 'host1-ens2') self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) class PortResourceRequestReSchedulingTest( PortResourceRequestBasedSchedulingTestBase): """"""Similar to PortResourceRequestBasedSchedulingTest except this test uses FakeRescheduleDriver which will test reschedules during server create work as expected, i.e. that the resource request allocations are moved from the initially selected compute to the alternative compute. """""" compute_driver = 'fake.FakeRescheduleDriver' def setUp(self): super(PortResourceRequestReSchedulingTest, self).setUp() self.compute2 = self._start_compute('host2') self.compute2_rp_uuid = self._get_provider_uuid_by_host('host2') self._create_networking_rp_tree('host2', self.compute2_rp_uuid) def _create_networking_rp_tree(self, hostname, compute_rp_uuid): # let's simulate what the neutron would do self._create_ovs_networking_rp_tree(compute_rp_uuid) def test_boot_reschedule_success(self): port = self.neutron.port_with_resource_request server = self._create_server( flavor=self.flavor, networks=[{'port': port['id']}]) server = self._wait_for_state_change(server, 'ACTIVE') updated_port = self.neutron.show_port(port['id'])['port'] dest_hostname = server['OS-EXT-SRV-ATTR:host'] dest_compute_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) failed_compute_rp = (self.compute1_rp_uuid if dest_compute_rp_uuid == self.compute2_rp_uuid else self.compute2_rp_uuid) allocations = self.placement.get( '/allocations/%s' % server['id']).body['allocations'] # We expect one set of allocations for the compute resources on the # compute rp and one set for the networking resources on the ovs bridge # rp self.assertEqual(2, len(allocations)) self.assertComputeAllocationMatchesFlavor( allocations, dest_compute_rp_uuid, self.flavor) network_allocations = allocations[ self.ovs_bridge_rp_per_host[dest_compute_rp_uuid]]['resources'] self.assertPortMatchesAllocation(port, network_allocations) # assert that the allocations against the host where the spawn # failed are cleaned up properly self.assertEqual( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, self._get_provider_usages(failed_compute_rp)) self.assertEqual( {'NET_BW_EGR_KILOBIT_PER_SEC': 0, 'NET_BW_IGR_KILOBIT_PER_SEC': 0}, self._get_provider_usages( self.ovs_bridge_rp_per_host[failed_compute_rp])) # We expect that only the RP uuid of the networking RP having the port # allocation is sent in the port binding binding_profile = updated_port['binding:profile'] self.assertEqual(self.ovs_bridge_rp_per_host[dest_compute_rp_uuid], binding_profile['allocation']) self._delete_and_check_allocations(server) # assert that unbind removes the allocation from the binding updated_port = self.neutron.show_port(port['id'])['port'] binding_profile = updated_port['binding:profile'] self.assertNotIn('allocation', binding_profile) def test_boot_reschedule_fill_provider_mapping_raises(self): """"""Verify that if the _fill_provider_mapping raises during re-schedule then the instance is properly put into ERROR state. """""" port = self.neutron.port_with_resource_request # First call is during boot, we want that to succeed normally. Then the # fake virt driver triggers a re-schedule. During that re-schedule the # fill is called again, and we simulate that call raises. original_fill = utils.fill_provider_mapping def stub_fill_provider_mapping(*args, **kwargs): if not mock_fill.called: return original_fill(*args, **kwargs) raise exception.ResourceProviderTraitRetrievalFailed( uuid=uuids.rp1) with mock.patch( 'nova.scheduler.utils.fill_provider_mapping', side_effect=stub_fill_provider_mapping) as mock_fill: server = self._create_server( flavor=self.flavor, networks=[{'port': port['id']}]) server = self._wait_for_state_change(server, 'ERROR') self.assertIn( 'Failed to get traits for resource provider', server['fault']['message']) self._delete_and_check_allocations(server) # assert that unbind removes the allocation from the binding updated_port = self.neutron.show_port(port['id'])['port'] binding_profile = neutronapi.get_binding_profile(updated_port) self.assertNotIn('allocation', binding_profile) class CrossCellResizeWithQoSPort(PortResourceRequestBasedSchedulingTestBase): NUMBER_OF_CELLS = 2 def setUp(self): # Use our custom weigher defined above to make sure that we have # a predictable host order in the alternate list returned by the # scheduler for migration. self.useFixture(nova_fixtures.HostNameWeigherFixture()) super(CrossCellResizeWithQoSPort, self).setUp() # start compute2 in cell2, compute1 is started in cell1 by default self.compute2 = self._start_compute('host2', cell_name='cell2') self.compute2_rp_uuid = self._get_provider_uuid_by_host('host2') self._create_networking_rp_tree('host2', self.compute2_rp_uuid) self.compute2_service_id = self.admin_api.get_services( host='host2', binary='nova-compute')[0]['id'] # Enable cross-cell resize policy since it defaults to not allow # anyone to perform that type of operation. For these tests we'll # just allow admins to perform cross-cell resize. self.policy.set_rules({ servers_policies.CROSS_CELL_RESIZE: base_policies.RULE_ADMIN_API}, overwrite=False) def test_cross_cell_migrate_server_with_qos_ports(self): """"""Test that cross cell migration is not supported with qos ports and nova therefore falls back to do a same cell migration instead. To test this properly we first make sure that there is no valid host in the same cell but there is valid host in another cell and observe that the migration fails with NoValidHost. Then we start a new compute in the same cell the instance is in and retry the migration that is now expected to pass. """""" non_qos_normal_port = self.neutron.port_1 qos_normal_port = self.neutron.port_with_resource_request qos_sriov_port = self.neutron.port_with_sriov_resource_request server = self._create_server_with_ports_and_check_allocation( non_qos_normal_port, qos_normal_port, qos_sriov_port) orig_create_binding = self.neutron.create_port_binding hosts = { 'host1': self.compute1_rp_uuid, 'host2': self.compute2_rp_uuid, } # Add an extra check to our neutron fixture. This check makes sure that # the RP sent in the binding corresponds to host of the binding. In a # real deployment this is checked by the Neutron server. As bug # 1907522 showed we fail this check for cross cell migration with qos # ports in a real deployment. So to reproduce that bug we need to have # the same check in our test env too. def spy_on_create_binding(port_id, data): host_rp_uuid = hosts[data['binding']['host']] device_rp_uuid = data['binding']['profile'].get('allocation') if port_id == qos_normal_port['id']: if device_rp_uuid != self.ovs_bridge_rp_per_host[host_rp_uuid]: raise exception.PortBindingFailed(port_id=port_id) elif port_id == qos_sriov_port['id']: if ( device_rp_uuid not in self.sriov_dev_rp_per_host[host_rp_uuid].values() ): raise exception.PortBindingFailed(port_id=port_id) return orig_create_binding(port_id, data) with mock.patch( 'nova.tests.fixtures.NeutronFixture.create_port_binding', side_effect=spy_on_create_binding, autospec=True ): # We expect the migration to fail as the only available target # host is in a different cell and while cross cell migration is # enabled it is not supported for neutron ports with resource # request. self.api.post_server_action(server['id'], {'migrate': None}) self._wait_for_migration_status(server, ['error']) self._wait_for_server_parameter( server, {'status': 'ACTIVE', 'OS-EXT-SRV-ATTR:host': 'host1'}) event = self._wait_for_action_fail_completion( server, 'migrate', 'conductor_migrate_server') self.assertIn( 'exception.NoValidHost', event['traceback']) self.assertIn( 'Request is allowed by policy to perform cross-cell resize ' 'but the instance has ports with resource request and ' 'cross-cell resize is not supported with such ports.', self.stdlog.logger.output) self.assertNotIn( 'nova.exception.PortBindingFailed: Binding failed for port', self.stdlog.logger.output) # Now start a new compute in the same cell as the instance and retry # the migration. self._start_compute('host3', cell_name='cell1') self.compute3_rp_uuid = self._get_provider_uuid_by_host('host3') self._create_networking_rp_tree('host3', self.compute3_rp_uuid) with mock.patch( 'nova.tests.fixtures.NeutronFixture.create_port_binding', side_effect=spy_on_create_binding, autospec=True ): server = self._migrate_server(server) self.assertEqual('host3', server['OS-EXT-SRV-ATTR:host']) self._delete_server_and_check_allocations( server, qos_normal_port, qos_sriov_port) ",,2430,2392
openstack%2Fnetworking-bgpvpn~master~I240355d5a0ebf8ece14bb2b4faf764c23477e322,openstack/networking-bgpvpn,master,I240355d5a0ebf8ece14bb2b4faf764c23477e322,Use assertCountEqual instead of assertItemsEqual,MERGED,2021-08-26 08:17:02.000000000,2021-08-27 12:39:01.000000000,2021-08-27 12:37:19.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13294}, {'_account_id': 16312}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 08:17:02.000000000', 'files': ['networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/78fc8e35cc92ede933f21e1ed35608047b5b6aa9', 'message': 'Use assertCountEqual instead of assertItemsEqual\n\nThe assertItemsEqual method has been removed in Python 3.3 [1] but\nit was kept alive by unittest2, imported by testtools. For better\ncompatibility, change to assertCountEqual.\n\n[1] https://bugs.python.org/issue17866\n\nChange-Id: I240355d5a0ebf8ece14bb2b4faf764c23477e322\n'}]",0,806101,78fc8e35cc92ede933f21e1ed35608047b5b6aa9,13,7,1,13861,,,0,"Use assertCountEqual instead of assertItemsEqual

The assertItemsEqual method has been removed in Python 3.3 [1] but
it was kept alive by unittest2, imported by testtools. For better
compatibility, change to assertCountEqual.

[1] https://bugs.python.org/issue17866

Change-Id: I240355d5a0ebf8ece14bb2b4faf764c23477e322
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/01/806101/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py'],1,78fc8e35cc92ede933f21e1ed35608047b5b6aa9,assertItemsEqual," self.assertCountEqual(result['l3vpn']['import_rt'], self.assertCountEqual(result['l3vpn']['export_rt'], self.assertCountEqual(result['l2vpn']['import_rt'], self.assertCountEqual(result['l2vpn']['export_rt'],"," self.assertItemsEqual(result['l3vpn']['import_rt'], self.assertItemsEqual(result['l3vpn']['export_rt'], self.assertItemsEqual(result['l2vpn']['import_rt'], self.assertItemsEqual(result['l2vpn']['export_rt'],",4,4
openstack%2Freleases~master~I9c715a3fc2d7aa8f9f24eb0d636c0f4de0085009,openstack/releases,master,I9c715a3fc2d7aa8f9f24eb0d636c0f4de0085009,Release OpenStack-Ansible Victoria,MERGED,2021-08-26 17:09:45.000000000,2021-08-27 12:31:25.000000000,2021-08-27 12:31:25.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-26 17:09:45.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a7b1cd120517095a8f5d3071f25c8876aa888ccc', 'message': 'Release OpenStack-Ansible Victoria\n\nChange-Id: I9c715a3fc2d7aa8f9f24eb0d636c0f4de0085009\n'}]",0,806250,a7b1cd120517095a8f5d3071f25c8876aa888ccc,12,3,1,28619,,,0,"Release OpenStack-Ansible Victoria

Change-Id: I9c715a3fc2d7aa8f9f24eb0d636c0f4de0085009
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/806250/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/openstack-ansible.yaml'],1,a7b1cd120517095a8f5d3071f25c8876aa888ccc,release_osa, - version: 22.3.1 projects: - repo: openstack/openstack-ansible hash: 619ec4c784a9d70f779558f0f2db5d184fad41ce,,4,0
openstack%2Fneutron-lib~master~Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30,openstack/neutron-lib,master,Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30,Add Local IP API def,MERGED,2021-07-30 15:25:37.000000000,2021-08-27 12:28:45.000000000,2021-08-27 12:27:02.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-30 15:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e947859428b18df5d3bfed630a687bb4b66940dc', 'message': 'Add Local IP API def\n\nPartial-Bug: #1930200\nRelated-Change:\nhttps://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)\n\nChange-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30\n'}, {'number': 2, 'created': '2021-07-30 15:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2b794fdbc4694e52b7902fe836d3bc4402780944', 'message': 'Add Local IP API def\n\nPartial-Bug: #1930200\nRelated-Change:\nhttps://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)\n\nChange-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30\n'}, {'number': 3, 'created': '2021-08-02 13:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4fb868a55bb76a947adead2f9dd0e3e862d081d5', 'message': 'Add Local IP API def\n\nPartial-Bug: #1930200\nRelated-Change:\nhttps://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)\n\nChange-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30\n'}, {'number': 4, 'created': '2021-08-02 14:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2d6849790873e168b1ce3bf10c47cb92c7283004', 'message': 'Add Local IP API def\n\nPartial-Bug: #1930200\nRelated-Change:\nhttps://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)\n\nChange-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30\n'}, {'number': 5, 'created': '2021-08-16 08:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4f7e549beb50864de4fb1dec80129c40fbddd3db', 'message': 'Add Local IP API def\n\nPartial-Bug: #1930200\nRelated-Change:\nhttps://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)\n\nChange-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30\n'}, {'number': 6, 'created': '2021-08-24 06:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c6bedf4f4c5aa3c5167a604a24064b3d0e823375', 'message': 'Add Local IP API def\n\nPartial-Bug: #1930200\nRelated-Change:\nhttps://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)\n\nChange-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30\n'}, {'number': 7, 'created': '2021-08-25 11:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/01c19c1a02d00747349dd2ce9bc865168b5110ff', 'message': 'Add Local IP API def\n\nPartial-Bug: #1930200\nRelated-Change:\nhttps://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)\n\nChange-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30\n'}, {'number': 8, 'created': '2021-08-25 13:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/977466c8ca23c0d4288512bf6fbe35db4ee5a0b8', 'message': 'Add Local IP API def\n\nPartial-Bug: #1930200\nRelated-Change:\nhttps://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)\n\nChange-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30\n'}, {'number': 9, 'created': '2021-08-26 14:35:07.000000000', 'files': ['neutron_lib/tests/unit/api/definitions/test_local_ip.py', 'api-ref/source/v2/local-ips.inc', 'api-ref/source/v2/samples/local_ips/local_ip_association-create-response.json', 'api-ref/source/v2/samples/local_ips/local-ips-list-response.json', 'neutron_lib/api/definitions/local_ip.py', 'api-ref/source/v2/samples/local_ips/local_ip-create-response.json', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/local_ips/local_ip-update-request.json', 'api-ref/source/v2/samples/local_ips/local-ip-list-associations-response.json', 'api-ref/source/v2/samples/local_ips/local_ip-show-response.json', 'api-ref/source/v2/samples/local_ips/local_ip-create-request.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/local_ips/local_ip_association-create-request.json', 'releasenotes/notes/add-local-ip-extension-fb4a18f5a6525f1f.yaml', 'api-ref/source/v2/samples/local_ips/local_ip-update-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/07e3de1d4cde89432c3474330eff30b3c4e412ca', 'message': 'Add Local IP API def\n\nPartial-Bug: #1930200\nRelated-Change:\nhttps://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)\n\nChange-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30\n'}]",10,803051,07e3de1d4cde89432c3474330eff30b3c4e412ca,31,3,9,5948,,,0,"Add Local IP API def

Partial-Bug: #1930200
Related-Change:
https://review.opendev.org/c/openstack/neutron-specs/+/797798 (spec)

Change-Id: Ia259cd60f048f6c070a1d3a3dbb54b892d67ec30
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/51/803051/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/api/definitions/test_local_ip.py', 'api-ref/source/v2/local-ips.inc', 'api-ref/source/v2/samples/local_ips/local_ip_association-create-response.json', 'api-ref/source/v2/samples/local_ips/local-ips-list-response.json', 'neutron_lib/api/definitions/local_ip.py', 'api-ref/source/v2/samples/local_ips/local_ip-create-response.json', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/local_ips/local_ip-update-request.json', 'api-ref/source/v2/samples/local_ips/local-ip-list-associations-response.json', 'api-ref/source/v2/samples/local_ips/local_ip-show-response.json', 'api-ref/source/v2/samples/local_ips/local_ip-create-request.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/local_ips/local_ip_association-create-request.json', 'releasenotes/notes/add-local-ip-extension-fb4a18f5a6525f1f.yaml', 'api-ref/source/v2/samples/local_ips/local_ip-update-response.json']",15,e947859428b18df5d3bfed630a687bb4b66940dc,bug/1930200,"{ ""local_ip"": { ""id"": ""d23abc8d-2991-4a55-ba98-2aaea84cc72f"", ""name"": ""new_name"", ""description"": ""now in passthrough mode"", ""project_id"": ""4969c491a3c74ee4af974e6d800c62de"", ""local_port_id"": ""2f245a7b-796b-4f26-9cf9-9e82d248fda7"", ""network_id"": ""ce705c24-c1ef-408a-bda3-7bbd946164ab"", ""local_ip_address"": ""172.24.4.228"", ""ip_mode"": ""passthrough"", ""created_at"": ""2021-12-21T10:55:50Z"", ""updated_at"": ""2021-12-21T10:55:53Z"", ""revision_number"": 1 } }",,920,0
openstack%2Fkeystone~master~I923a2a2a5e79c8f265ff436e96258288dddb867b,openstack/keystone,master,I923a2a2a5e79c8f265ff436e96258288dddb867b,Update local_id limit to 255 characters,MERGED,2021-05-21 12:26:39.000000000,2021-08-27 12:22:01.000000000,2021-08-27 12:19:35.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 31661}]","[{'number': 1, 'created': '2021-05-21 12:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e1d31457bcb29ef07bd92d892e064ab78e4bc0a3', 'message': 'Update local_id limit to 255 characters\n\nThis avoids the ""String length exceeded."" error, when using LDAP\ndomain specific backend in case the user uses a user id\nattribute, which can exceed the previous constraint of 64 chars.\n\nChange-Id: I923a2a2a5e79c8f265ff436e96258288dddb867b\nCloses-Bug: #1929066\nResolves: rhbz#1959345\n'}, {'number': 2, 'created': '2021-05-21 13:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ff1772c8781d9acf7ecf403629aa46489628629e', 'message': 'Update local_id limit to 255 characters\n\nThis avoids the ""String length exceeded."" error, when using LDAP\ndomain specific backend in case the user uses a user id\nattribute, which can exceed the previous constraint of 64 chars.\n\nChange-Id: I923a2a2a5e79c8f265ff436e96258288dddb867b\nCloses-Bug: #1929066\nResolves: rhbz#1959345\n'}, {'number': 3, 'created': '2021-05-24 09:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a5071d135c4a0587f7fb3afa4d8d090d904d80c9', 'message': 'Update local_id limit to 255 characters\n\nThis avoids the ""String length exceeded."" error, when using LDAP\ndomain specific backend in case the user uses a user id\nattribute, which can exceed the previous constraint of 64 chars.\n\nChange-Id: I923a2a2a5e79c8f265ff436e96258288dddb867b\nCloses-Bug: #1929066\nResolves: rhbz#1959345\n'}, {'number': 4, 'created': '2021-05-24 09:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7b832b874056c86546848a80117acf10a4f9890e', 'message': 'Update local_id limit to 255 characters\n\nThis avoids the ""String length exceeded."" error, when using LDAP\ndomain specific backend in case the user uses a user id\nattribute, which can exceed the previous constraint of 64 chars.\n\nChange-Id: I923a2a2a5e79c8f265ff436e96258288dddb867b\nCloses-Bug: #1929066\nResolves: rhbz#1959345\n'}, {'number': 5, 'created': '2021-05-24 18:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9d8a3b5c7d68003dca57ddb8a90ef78aa84c5b82', 'message': 'Update local_id limit to 255 characters\n\nThis avoids the ""String length exceeded."" error, when using LDAP\ndomain specific backend in case the user uses a user id\nattribute, which can exceed the previous constraint of 64 chars.\n\nChange-Id: I923a2a2a5e79c8f265ff436e96258288dddb867b\nCloses-Bug: #1929066\nResolves: rhbz#1959345\n'}, {'number': 6, 'created': '2021-05-25 07:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/05df70857117d1c2d4b1c195324182463c751e85', 'message': 'Update local_id limit to 255 characters\n\nThis avoids the ""String length exceeded."" error, when using LDAP\ndomain specific backend in case the user uses a user id\nattribute, which can exceed the previous constraint of 64 chars.\n\nChange-Id: I923a2a2a5e79c8f265ff436e96258288dddb867b\nCloses-Bug: #1929066\nResolves: rhbz#1959345\n'}, {'number': 7, 'created': '2021-08-09 09:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1e6a9d466247ee10ea70d0cebe05e7a254e95d15', 'message': 'Update local_id limit to 255 characters\n\nThis avoids the ""String length exceeded."" error, when using LDAP\ndomain specific backend in case the user uses a user id\nattribute, which can exceed the previous constraint of 64 chars.\n\nChange-Id: I923a2a2a5e79c8f265ff436e96258288dddb867b\nCloses-Bug: #1929066\nResolves: rhbz#1959345\n'}, {'number': 8, 'created': '2021-08-09 18:41:02.000000000', 'files': ['keystone/common/sql/expand_repo/versions/079_expand_update_local_id_limit.py', 'doc/source/admin/domain-specific-config.inc', 'keystone/identity/mapping_backends/sql.py', 'keystone/tests/unit/test_backend_id_mapping_sql.py', 'keystone/common/sql/data_migration_repo/versions/079_migrate_update_local_id_limit.py', 'keystone/common/sql/contract_repo/versions/079_contract_update_local_id_limit.py', 'keystone/tests/unit/test_sql_banned_operations.py', 'keystone/tests/unit/test_sql_upgrade.py', 'releasenotes/notes/bug-1929066-6e741c9182620a37.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ce6031ca12156620cec214a49d162ec7bb30752f', 'message': 'Update local_id limit to 255 characters\n\nThis avoids the ""String length exceeded."" error, when using LDAP\ndomain specific backend in case the user uses a user id\nattribute, which can exceed the previous constraint of 64 chars.\n\nChange-Id: I923a2a2a5e79c8f265ff436e96258288dddb867b\nCloses-Bug: #1929066\nResolves: rhbz#1959345\n'}]",16,792587,ce6031ca12156620cec214a49d162ec7bb30752f,46,7,8,14250,,,0,"Update local_id limit to 255 characters

This avoids the ""String length exceeded."" error, when using LDAP
domain specific backend in case the user uses a user id
attribute, which can exceed the previous constraint of 64 chars.

Change-Id: I923a2a2a5e79c8f265ff436e96258288dddb867b
Closes-Bug: #1929066
Resolves: rhbz#1959345
",git fetch https://review.opendev.org/openstack/keystone refs/changes/87/792587/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/expand_repo/versions/079_expand_update_local_id_limit.py', 'keystone/identity/mapping_backends/sql.py', 'keystone/common/sql/data_migration_repo/versions/079_expand_update_local_id_limit.py', 'keystone/common/sql/contract_repo/versions/079_expand_update_local_id_limit.py', 'keystone/tests/unit/test_sql_upgrade.py', 'releasenotes/notes/bug-1929066-6e741c9182620a37.yaml']",6,e1d31457bcb29ef07bd92d892e064ab78e4bc0a3,,--- upgrade: - | The local_id char limit is expanded to 255 to accomodate LDAP backends. ,,84,1
openstack%2Fneutron~stable%2Fwallaby~I86202f36f1b7c0bce8b29558ad1e377c336b7258,openstack/neutron,stable/wallaby,I86202f36f1b7c0bce8b29558ad1e377c336b7258,Follow up for replacing assertItemsEqual,MERGED,2021-08-24 08:06:16.000000000,2021-08-27 12:21:58.000000000,2021-08-27 12:19:31.000000000,"[{'_account_id': 7634}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 08:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5371eaf2ccf8ec6e60bbf335a471c26c5ae67ceb', 'message': 'Follow up for replacing assertItemsEqual\n\nThe assertItemsEqual has been replaced with assertCountEqual\nsince I7c20fec08e5dc9f67b34100c925ea6724bbd25f0 .\nHowever the hacking check has not been enabled.\n\nThis patch enables the hacking check\nand replace remaining assertItemsEqual with assertCountEqual.\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: I86202f36f1b7c0bce8b29558ad1e377c336b7258\n(cherry picked from commit 05ee23ea15d12259c14be0c43a07bf46ccff6f0b)\n'}, {'number': 2, 'created': '2021-08-24 12:02:17.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/hacking/checks.py', 'tox.ini', 'HACKING.rst', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/17b03e518f3f6164f9fd3c5a1361367cfbeb9741', 'message': 'Follow up for replacing assertItemsEqual\n\nThe assertItemsEqual has been replaced with assertCountEqual\nsince I7c20fec08e5dc9f67b34100c925ea6724bbd25f0 .\nHowever the hacking check has not been enabled.\n\nThis patch enables the hacking check\nand replace remaining assertItemsEqual with assertCountEqual.\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: I86202f36f1b7c0bce8b29558ad1e377c336b7258\n(cherry picked from commit 05ee23ea15d12259c14be0c43a07bf46ccff6f0b)\n'}]",0,805792,17b03e518f3f6164f9fd3c5a1361367cfbeb9741,33,4,2,13294,,,0,"Follow up for replacing assertItemsEqual

The assertItemsEqual has been replaced with assertCountEqual
since I7c20fec08e5dc9f67b34100c925ea6724bbd25f0 .
However the hacking check has not been enabled.

This patch enables the hacking check
and replace remaining assertItemsEqual with assertCountEqual.

Signed-off-by: Takashi Natsume <takanattie@gmail.com>
Change-Id: I86202f36f1b7c0bce8b29558ad1e377c336b7258
(cherry picked from commit 05ee23ea15d12259c14be0c43a07bf46ccff6f0b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/805792/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/hacking/checks.py', 'tox.ini', 'HACKING.rst', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",5,5371eaf2ccf8ec6e60bbf335a471c26c5ae67ceb,," self.assertCountEqual(exp_values, lbs_values) self.assertCountEqual(exp_values, lbs_values)"," self.assertItemsEqual(exp_values, lbs_values) self.assertItemsEqual(exp_values, lbs_values)",8,6
openstack%2Fcharm-masakari~stable%2F21.04~Ic8d988993a52beb8c647f242860c4793610a6c92,openstack/charm-masakari,stable/21.04,Ic8d988993a52beb8c647f242860c4793610a6c92,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-24 10:22:55.000000000,2021-08-27 12:14:14.000000000,2021-08-27 09:14:47.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-24 10:22:55.000000000', 'files': ['src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl.yaml.j2', 'osci.yaml', 'src/tests/bundles/focal-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/a24bf65f5f0b1aaab24d95cf9a0072c2cfca9833', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Ic8d988993a52beb8c647f242860c4793610a6c92\n(cherry picked from commit 043c5971e31d8b57fe8b128f7db229f5e216138a)\n'}]",0,805810,a24bf65f5f0b1aaab24d95cf9a0072c2cfca9833,19,5,1,13686,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Ic8d988993a52beb8c647f242860c4793610a6c92
(cherry picked from commit 043c5971e31d8b57fe8b128f7db229f5e216138a)
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/10/805810/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl.yaml.j2', 'osci.yaml', 'src/tests/bundles/focal-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml']",6,a24bf65f5f0b1aaab24d95cf9a0072c2cfca9833,wallaby-bundles-stable/21.04, - focal-wallaby-pacemaker-remote-ssldev_bundles: # Rocky disabled until https://review.opendev.org/#/c/647756/ lands in # packaging - bionic-rocky-pacemaker-remote-ssl - hirsute-wallaby-pacemaker-remote-ssl smoke_bundles: - focal-ussuri-pacemaker-remote-ssl - hirsute-wallaby-pacemaker-remote-ssl,# Rocky disabled until https://review.opendev.org/#/c/647756/ lands in # packaging # - bionic-rocky-pacemaker-remote-sslsmoke_bundles: - bionic-train-pacemaker-remote-ssl - groovy-victoria-pacemaker-remote-ssl,814,6
openstack%2Fnova~master~Ia36b8e4eac507b826385d69f039eaca95ab617be,openstack/nova,master,Ia36b8e4eac507b826385d69f039eaca95ab617be,Fix for concurrent DB update issue,NEW,2021-08-18 11:07:47.000000000,2021-08-27 12:03:29.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 11:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/459ac0e138c3c82d4211efdaa09690bd9634f896', 'message': 'Fix for concurrent DB update issue\n\nCurrently, Nova relies on oslo_db managing connection to DB, sessions,\ntransaction handling, etc. Oslo_db uses SQLAlchemy as intermediate ORM\nlayer, which provides regular Session object to Nova context. But Nova\nuses multi-thread architecture on top of uwsgi, which requires\nthread-safe scoped_session. Modifying of oslo_db seems to be very\ndifficult because it strongly relies on current session mechanism. So,\nthis patch proposing lock usage which prevents multiple thread of the\nsame Nova node writing to DB simultaneously\n\nChange-Id: Ia36b8e4eac507b826385d69f039eaca95ab617be\n'}, {'number': 2, 'created': '2021-08-18 11:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3192c8484bde5c6f8c3ef19ac1c76ba32a42166', 'message': 'Fix for concurrent DB update issue\n\nCurrently, Nova relies on oslo_db managing connection to DB, sessions,\ntransaction handling, etc. Oslo_db uses SQLAlchemy as intermediate ORM\nlayer, which provides regular Session object to Nova context. But Nova\nuses multi-thread architecture on top of uwsgi, which requires\nthread-safe scoped_session. Modifying of oslo_db seems to be very\ndifficult because it strongly relies on current session mechanism. So,\nthis patch proposing lock usage which prevents multiple thread of the\nsame Nova node writing to DB simultaneously\n\nChange-Id: Ia36b8e4eac507b826385d69f039eaca95ab617be\n'}, {'number': 3, 'created': '2021-08-23 13:38:10.000000000', 'files': ['nova/db/main/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8568afecfa418821096e5587c56f0322d971ef2', 'message': 'Fix for concurrent DB update issue\n\nCurrently, Nova relies on oslo_db managing connection to DB, sessions,\ntransaction handling, etc. Oslo_db uses SQLAlchemy as intermediate ORM\nlayer, which provides regular Session object to Nova context. But Nova\nuses multi-thread architecture on top of uwsgi, which requires\nthread-safe scoped_session. Modifying of oslo_db seems to be very\ndifficult because it strongly relies on current session mechanism. So,\nthis patch proposing lock usage which prevents multiple thread of the\nsame Nova node writing to DB simultaneously\n\nChange-Id: Ia36b8e4eac507b826385d69f039eaca95ab617be\n'}]",1,804985,d8568afecfa418821096e5587c56f0322d971ef2,21,2,3,27838,,,0,"Fix for concurrent DB update issue

Currently, Nova relies on oslo_db managing connection to DB, sessions,
transaction handling, etc. Oslo_db uses SQLAlchemy as intermediate ORM
layer, which provides regular Session object to Nova context. But Nova
uses multi-thread architecture on top of uwsgi, which requires
thread-safe scoped_session. Modifying of oslo_db seems to be very
difficult because it strongly relies on current session mechanism. So,
this patch proposing lock usage which prevents multiple thread of the
same Nova node writing to DB simultaneously

Change-Id: Ia36b8e4eac507b826385d69f039eaca95ab617be
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/804985/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,459ac0e138c3c82d4211efdaa09690bd9634f896,thread_session_master,"from nova import utils# Currently, oslo_db provides regular thread-unsafe session, which leads to # race condition possibility during massive DB update operations and possible # update failure. Lock ensures that only one thread writes at the same moment @utils.synchronized('db_context_writer')",,5,0
openstack%2Fskyline-console~master~I819d32108a66cc07b1f80ec7f0b5843bfc45b3f0,openstack/skyline-console,master,I819d32108a66cc07b1f80ec7f0b5843bfc45b3f0,fix: Fix for network download & vpn tunnel create css,MERGED,2021-08-27 10:25:32.000000000,2021-08-27 11:30:41.000000000,2021-08-27 11:30:41.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 10:25:32.000000000', 'files': ['src/resources/network.jsx', 'src/pages/network/containers/VPN/VPNTunnel/actions/Create.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2d6971dc95d9932b74cbf5ff5cca225286a533cb', 'message': 'fix: Fix for network download & vpn tunnel create css\n\n1. fix network download subnets column\n2. fix create vpn tunnel css\n\nChange-Id: I819d32108a66cc07b1f80ec7f0b5843bfc45b3f0\n'}]",0,806346,2d6971dc95d9932b74cbf5ff5cca225286a533cb,6,2,1,33636,,,0,"fix: Fix for network download & vpn tunnel create css

1. fix network download subnets column
2. fix create vpn tunnel css

Change-Id: I819d32108a66cc07b1f80ec7f0b5843bfc45b3f0
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/46/806346/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/resources/network.jsx', 'src/pages/network/containers/VPN/VPNTunnel/actions/Create.jsx']",2,2d6971dc95d9932b74cbf5ff5cca225286a533cb,, <Col span={24}> .endpoints.map((item) => <Col span={24}>{item}</Col>), <Col> .endpoints.map((item) => <Col>{item}</Col>),3,2
openstack%2Fskyline-console~master~I2d782557b183fd35c436dc8e0ec39802dd8eb999,openstack/skyline-console,master,I2d782557b183fd35c436dc8e0ec39802dd8eb999,feat: Add cidr in subnet-select-options & subnet details in column,MERGED,2021-08-27 10:17:28.000000000,2021-08-27 11:28:24.000000000,2021-08-27 11:28:24.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 10:17:28.000000000', 'files': ['src/resources/network.jsx', 'src/components/FormItem/NetworkSelect/index.jsx', 'src/components/FormItem/NetworkSelect/index.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e72e9beb5ded6a2d5ee1aba13dcf79ac0371ee34', 'message': ""feat: Add cidr in subnet-select-options & subnet details in column\n\n1. add cidr in subnet-select-options\n2. add subnet information in network's subnet number column\n\nChange-Id: I2d782557b183fd35c436dc8e0ec39802dd8eb999\n""}]",0,806342,e72e9beb5ded6a2d5ee1aba13dcf79ac0371ee34,6,2,1,33636,,,0,"feat: Add cidr in subnet-select-options & subnet details in column

1. add cidr in subnet-select-options
2. add subnet information in network's subnet number column

Change-Id: I2d782557b183fd35c436dc8e0ec39802dd8eb999
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/42/806342/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/resources/network.jsx', 'src/components/FormItem/NetworkSelect/index.jsx', 'src/components/FormItem/NetworkSelect/index.less']",3,e72e9beb5ded6a2d5ee1aba13dcf79ac0371ee34,,@import '~styles/variables';} .subnet_options_cidr { padding-left: 5px; margin-left: 5px; opacity: 0.6; border-left: 1px solid; } ,"@import ""~styles/variables"";}",63,18
openstack%2Fcyborg~master~Idd6aa49b3d63b4acbda2444d892e28158b011ad5,openstack/cyborg,master,Idd6aa49b3d63b4acbda2444d892e28158b011ad5,Remove the redundant index page for APIs entry,MERGED,2021-08-14 10:25:48.000000000,2021-08-27 10:43:10.000000000,2021-08-27 10:41:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-08-14 10:25:48.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/arqs.inc', 'api-ref/source/device_profile.inc', 'api-ref/source/index.rst', 'api-ref/source/v2/index.rst', 'api-ref/source/devices.inc', 'api-ref/source/deployables.inc'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b15a7a7120ac59780fc54f49db3f8cafca52c4a2', 'message': 'Remove the redundant index page for APIs entry\n\nNow we just have using V2 API, and we have no plans to add other versions\nof the API, the current API page entry is redundant [1], this patch will\nremove it.\n\n[1] https://docs.openstack.org/api-ref/accelerator/\n\nChange-Id: Idd6aa49b3d63b4acbda2444d892e28158b011ad5\n'}]",0,804553,b15a7a7120ac59780fc54f49db3f8cafca52c4a2,9,3,1,26458,,,0,"Remove the redundant index page for APIs entry

Now we just have using V2 API, and we have no plans to add other versions
of the API, the current API page entry is redundant [1], this patch will
remove it.

[1] https://docs.openstack.org/api-ref/accelerator/

Change-Id: Idd6aa49b3d63b4acbda2444d892e28158b011ad5
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/53/804553/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/arqs.inc', 'api-ref/source/device_profile.inc', 'api-ref/source/index.rst', 'api-ref/source/v2/index.rst', 'api-ref/source/deployables.inc', 'api-ref/source/devices.inc']",7,b15a7a7120ac59780fc54f49db3f8cafca52c4a2,docs,.. literalinclude:: ../../doc/api_samples/devices/devices-list-resp.json .. literalinclude:: ../../doc/api_samples/devices/devices-getone-resp.json ,.. literalinclude:: ../../../doc/api_samples/devices/devices-list-resp.json .. literalinclude:: ../../../doc/api_samples/devices/devices-getone-resp.json ,27,38
openstack%2Fcharm-vault~stable%2F21.04~I49b06d194933a8e611a30d03d2548c14045b6e35,openstack/charm-vault,stable/21.04,I49b06d194933a8e611a30d03d2548c14045b6e35,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-08-27 09:46:10.000000000,2021-08-27 10:36:16.000000000,,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 09:46:10.000000000', 'files': ['src/tests/bundles/hirsute-mysql8.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f89ab297736077a2ecae2239ca2e2f28fd959a4c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I49b06d194933a8e611a30d03d2548c14045b6e35\n(cherry picked from commit 28ad14a4d834512f027e792f6b2dd36fe33da4c5)\n'}]",0,806229,f89ab297736077a2ecae2239ca2e2f28fd959a4c,7,2,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I49b06d194933a8e611a30d03d2548c14045b6e35
(cherry picked from commit 28ad14a4d834512f027e792f6b2dd36fe33da4c5)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/29/806229/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/hirsute-mysql8.yaml'],1,f89ab297736077a2ecae2239ca2e2f28fd959a4c,wallaby-bundles-stable/21.04,"<<<<<<< HEAD (fe7bb8 Merge ""Lock to latest layer-basic commit"" into stable/21.04)======= charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' vault: num_units: 1 charm: vault to: - '3' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: admin-password: openstack openstack-origin: *openstack-origin to: - '4' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *openstack-origin to: - '5' - '6' - '7' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd >>>>>>> CHANGE (28ad14 Test bundles for focal-wallaby and hirsute-wallaby)",,44,0
openstack%2Fcharm-barbican-vault~stable%2F21.04~I218b3da58865add03ef1fd39988127f7ca0a2666,openstack/charm-barbican-vault,stable/21.04,I218b3da58865add03ef1fd39988127f7ca0a2666,Test bundles for focal-wallaby and hirsute-wallaby,ABANDONED,2021-08-27 09:45:02.000000000,2021-08-27 10:35:27.000000000,,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 09:45:02.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/305199165a6883fdefacee70556ac131b4514571', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby supporto.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I218b3da58865add03ef1fd39988127f7ca0a2666\n(cherry picked from commit 841fbcdebcb4e2992a7586bb8f404f51ae24ae21)\n'}]",0,806225,305199165a6883fdefacee70556ac131b4514571,3,2,1,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby supporto.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I218b3da58865add03ef1fd39988127f7ca0a2666
(cherry picked from commit 841fbcdebcb4e2992a7586bb8f404f51ae24ae21)
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/25/806225/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml']",2,305199165a6883fdefacee70556ac131b4514571,wallaby-bundles-stable/21.04,<<<<<<< HEAD (1c569d rebuild - restore proxy env vars for add-apt-repository)======= charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router barbican-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' barbican: charm: cs:~openstack-charmers-next/barbican num_units: 3 options: openstack-origin: *openstack-origin to: - '4' - '5' - '6' barbican-vault: charm: ../../../barbican-vault num_units: 0 rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '7' vault: charm: cs:~openstack-charmers-next/vault >>>>>>> CHANGE (841fbc Test bundles for focal-wallaby and hirsute-wallaby),,102,0
openstack%2Fmanila~master~I5e30ef458bccb0921ce77b2d9ef875bec72d0619,openstack/manila,master,I5e30ef458bccb0921ce77b2d9ef875bec72d0619,Add missing [oslo_reports] options,MERGED,2021-08-14 14:10:33.000000000,2021-08-27 10:30:47.000000000,2021-08-27 10:28:41.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-08-14 14:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d8f93330867b78b07de4f1ef3b58a3de5d06ba81', 'message': 'Add missing oslo.report options\n\nChange-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619\n'}, {'number': 2, 'created': '2021-08-14 14:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/480dc5ccd757ac52fc15a52a5e4f904e3003b9b4', 'message': 'Add missing oslo.reports options\n\nChange-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619\n'}, {'number': 3, 'created': '2021-08-14 14:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/70683ff69d0e1edba8fda89eec00d6629336042b', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nChange-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619\n'}, {'number': 4, 'created': '2021-08-14 14:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4ca12f5661f28203c362ada89d1209bf65949c6a', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nChange-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619\n'}, {'number': 5, 'created': '2021-08-21 08:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/30ddc3c01e4e459a8c2137da208ac662b246387e', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nCloses-Bug: #1940733\nChange-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619\n'}, {'number': 6, 'created': '2021-08-21 08:33:47.000000000', 'files': ['etc/oslo-config-generator/manila.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/3f97376cd06983b3dd173c876bf82c8ed6332623', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nCloses-Bug: #1940733\nChange-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619\n'}]",0,804566,3f97376cd06983b3dd173c876bf82c8ed6332623,45,4,6,9816,,,0,"Add missing [oslo_reports] options

The oslo.reports library provides some options under the [oslo_reports]
section. This change ensures these parameters are rendered by
the oslo-config-generator command.

Closes-Bug: #1940733
Change-Id: I5e30ef458bccb0921ce77b2d9ef875bec72d0619
",git fetch https://review.opendev.org/openstack/manila refs/changes/66/804566/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/oslo-config-generator/manila.conf'],1,d8f93330867b78b07de4f1ef3b58a3de5d06ba81,bug/1940733,namespace = oslo.report,,1,0
openstack%2Fpython-cyborgclient~master~I63527d222a6be6794334346f2dc4bbac6cc9b5c3,openstack/python-cyborgclient,master,I63527d222a6be6794334346f2dc4bbac6cc9b5c3,Add test case for show arq,MERGED,2021-08-24 06:04:40.000000000,2021-08-27 10:27:20.000000000,2021-08-27 10:25:25.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-24 06:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/31f70db3214e4e9b2e3a1652da7fa4231e32b432', 'message': 'Add test case for show arq\n\nChange-Id: I63527d222a6be6794334346f2dc4bbac6cc9b5c3\n'}, {'number': 2, 'created': '2021-08-26 06:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/b1251e21f115320599b6848024269caefb99aa39', 'message': 'Add test case for show arq\n\nChange-Id: I63527d222a6be6794334346f2dc4bbac6cc9b5c3\n'}, {'number': 3, 'created': '2021-08-26 09:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/ff52cd5b3cd8df848cb2a9fe9cc101d9dae4f453', 'message': 'Add test case for show arq\n\nChange-Id: I63527d222a6be6794334346f2dc4bbac6cc9b5c3\n'}, {'number': 4, 'created': '2021-08-26 11:00:45.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_accelerator_request.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/28f96220ac95cc00436ff7c03e884e3626721db0', 'message': 'Add test case for show arq\n\nChange-Id: I63527d222a6be6794334346f2dc4bbac6cc9b5c3\n'}]",5,805781,28f96220ac95cc00436ff7c03e884e3626721db0,19,5,4,31412,,,0,"Add test case for show arq

Change-Id: I63527d222a6be6794334346f2dc4bbac6cc9b5c3
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/81/805781/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_accelerator_request.py'],1,31f70db3214e4e9b2e3a1652da7fa4231e32b432,," class TestAcceleratorRequestShow(TestAcceleratorRequest): def setUp(self): super(TestAcceleratorRequestShow, self).setUp() fake_arq = acc_fakes.FakeAcceleratorResource( None, copy.deepcopy(acc_fakes.ACCELERATOR_REQUEST), loaded=True) self.mock_acc_client.get_accelerator_request.return_value = fake_arq self.cmd = osc_accelerator_request.ShowAcceleratorRequest( self.app, None ) def test_accelerator_request_get(self): arglist = [acc_fakes.accelerator_request_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.mock_acc_client.get_accelerator_request.assert_called_with( acc_fakes.accelerator_request_uuid) collist = ( 'uuid', 'state', 'device_profile_name', 'hostname', 'device_rp_uuid', 'instance_uuid', 'attach_handle_type', 'attach_handle_info', ) self.assertEqual(collist, columns) datalist = [ acc_fakes.accelerator_request_uuid, acc_fakes.accelerator_request_state, acc_fakes.accelerator_request_device_profile_name, acc_fakes.accelerator_request_hostname, acc_fakes.accelerator_request_device_rp_uuid, acc_fakes.accelerator_request_instance_uuid, acc_fakes.accelerator_request_attach_handle_type, acc_fakes.accelerator_request_attach_handle_info, ] self.assertEqual(datalist, list(data)) def test_accelerator_request_get_not_exist(self): self.mock_acc_client.get_accelerator_request.side_effect = \ sdk_exc.ResourceNotFound arglist = [acc_fakes.accelerator_request_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.assertRaises(exc.CommandError, self.cmd.take_action, parsed_args) self.assertEqual(""accelerator_request not found: "" + acc_fakes.accelerator_request_uuid, str(result))",,61,0
openstack%2Fskyline-console~master~I3a3ad0ba3ac676b40f627df29f6bac1c57234c7d,openstack/skyline-console,master,I3a3ad0ba3ac676b40f627df29f6bac1c57234c7d,fix: Fix delete image error display,MERGED,2021-08-27 09:15:14.000000000,2021-08-27 10:07:57.000000000,2021-08-27 10:07:57.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 09:15:14.000000000', 'files': ['src/locales/en.json', 'src/pages/compute/containers/Image/actions/Delete.jsx', 'src/locales/zh.json', 'src/components/CodeEditor/index.jsx', 'src/resources/instance.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/273378039b971614ea7ab87ad98b1c09d60b31b5', 'message': 'fix: Fix delete image error display\n\n1. Fix delete image error display\n2. Disable delete protected image\n\nChange-Id: I3a3ad0ba3ac676b40f627df29f6bac1c57234c7d\n'}]",0,806335,273378039b971614ea7ab87ad98b1c09d60b31b5,6,2,1,30434,,,0,"fix: Fix delete image error display

1. Fix delete image error display
2. Disable delete protected image

Change-Id: I3a3ad0ba3ac676b40f627df29f6bac1c57234c7d
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/35/806335/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/pages/compute/containers/Image/actions/Delete.jsx', 'src/locales/zh.json', 'src/components/CodeEditor/index.jsx', 'src/resources/instance.jsx']",5,273378039b971614ea7ab87ad98b1c09d60b31b5,master2," const { status, vm_state } = instance; return ( statusList.includes(status.toLowerCase()) || (vm_state && statusList.includes(vm_state.toLowerCase())) );", const { status } = instance; return statusList.indexOf(status.toLowerCase()) >= 0;,24,14
openstack%2Fskyline-console~master~I8539ba5a546621e543b2c4c83066489b98e308c5,openstack/skyline-console,master,I8539ba5a546621e543b2c4c83066489b98e308c5,fix: Fix for docs link address,MERGED,2021-08-27 09:28:56.000000000,2021-08-27 10:05:05.000000000,2021-08-27 10:05:05.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 09:28:56.000000000', 'files': ['docs/en/develop/3-6-FormAction-introduction.md', 'docs/en/test/3-1-E2E-form-operation.md', 'docs/zh/develop/3-6-FormAction-introduction.md', 'docs/zh/develop/3-3-BaseDetail-introduction.md', 'docs/en/test/3-3-E2E-detail-operation.md', 'docs/zh/develop/1-ready-to-work.md', 'docs/en/test/2-catalog-introduction.md', 'docs/zh/test/3-0-how-to-edit-e2e-case.md', 'docs/en/develop/3-4-BaseDetailInfo-introduction.md', 'docs/en/develop/2-catalog-introduction.md', 'docs/en/develop/3-2-BaseTabList-introduction.md', 'docs/en/develop/3-5-BaseStore-introduction.md', 'docs/en/test/1-ready-to-work.md', 'docs/en/develop/3-0-how-to-develop.md', 'docs/zh/develop/3-8-ConfirmAction-introduction.md', 'docs/zh/develop/3-9-StepAction-introduction.md', 'docs/en/develop/3-3-BaseDetail-introduction.md', 'docs/zh/develop/3-1-BaseList-introduction.md', 'docs/zh/develop/3-11-Action-introduction.md', 'docs/en/develop/3-13-Route-introduction.md', 'docs/zh/test/2-catalog-introduction.md', 'docs/en/test/3-0-how-to-edit-e2e-case.md', 'docs/en/develop/3-10-FormItem-introduction.md', 'docs/zh/develop/3-2-BaseTabList-introduction.md', 'docs/zh/test/3-4-E2E-resource-operation.md', 'docs/en/develop/1-ready-to-work.md', 'docs/en/develop/3-7-ModalAction-introduction.md', 'docs/en/develop/3-8-ConfirmAction-introduction.md', 'docs/zh/develop/3-7-ModalAction-introduction.md', 'docs/en/test/3-2-E2E-table-operation.md', 'docs/en/develop/3-9-StepAction-introduction.md', 'docs/zh/develop/3-13-Route-introduction.md', 'docs/en/develop/3-12-Menu-introduction.md', 'docs/en/test/3-4-E2E-resource-operation.md', 'docs/zh/test/3-1-E2E-form-operation.md', 'docs/en/develop/3-14-I18n-introduction.md', 'docs/zh/develop/3-0-how-to-develop.md', 'docs/en/develop/3-11-Action-introduction.md', 'docs/zh/develop/3-4-BaseDetailInfo-introduction.md', 'docs/zh/develop/3-10-FormItem-introduction.md', 'docs/zh/develop/3-12-Menu-introduction.md', 'docs/en/develop/3-1-BaseList-introduction.md', 'docs/zh/develop/3-5-BaseStore-introduction.md', 'docs/zh/test/3-2-E2E-table-operation.md', 'docs/zh/test/3-3-E2E-detail-operation.md', 'docs/zh/test/1-ready-to-work.md', 'docs/zh/develop/2-catalog-introduction.md', 'docs/zh/develop/3-14-I18n-introduction.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bd501ba4168fb8f84c771d211897f7a46a483653', 'message': 'fix: Fix for docs link address\n\nfix for docs link address\n\nChange-Id: I8539ba5a546621e543b2c4c83066489b98e308c5\n'}]",0,806337,bd501ba4168fb8f84c771d211897f7a46a483653,6,2,1,33636,,,0,"fix: Fix for docs link address

fix for docs link address

Change-Id: I8539ba5a546621e543b2c4c83066489b98e308c5
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/37/806337/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/en/develop/3-6-FormAction-introduction.md', 'docs/en/test/3-1-E2E-form-operation.md', 'docs/zh/develop/3-6-FormAction-introduction.md', 'docs/zh/develop/3-3-BaseDetail-introduction.md', 'docs/en/test/3-3-E2E-detail-operation.md', 'docs/zh/develop/1-ready-to-work.md', 'docs/en/test/2-catalog-introduction.md', 'docs/zh/test/3-0-how-to-edit-e2e-case.md', 'docs/en/develop/3-4-BaseDetailInfo-introduction.md', 'docs/en/develop/2-catalog-introduction.md', 'docs/en/develop/3-2-BaseTabList-introduction.md', 'docs/en/develop/3-5-BaseStore-introduction.md', 'docs/en/test/1-ready-to-work.md', 'docs/en/develop/3-0-how-to-develop.md', 'docs/zh/develop/3-8-ConfirmAction-introduction.md', 'docs/zh/develop/3-9-StepAction-introduction.md', 'docs/en/develop/3-3-BaseDetail-introduction.md', 'docs/zh/develop/3-1-BaseList-introduction.md', 'docs/zh/develop/3-11-Action-introduction.md', 'docs/en/develop/3-13-Route-introduction.md', 'docs/zh/test/2-catalog-introduction.md', 'docs/en/test/3-0-how-to-edit-e2e-case.md', 'docs/en/develop/3-10-FormItem-introduction.md', 'docs/zh/develop/3-2-BaseTabList-introduction.md', 'docs/zh/test/3-4-E2E-resource-operation.md', 'docs/en/develop/1-ready-to-work.md', 'docs/en/develop/3-7-ModalAction-introduction.md', 'docs/en/develop/3-8-ConfirmAction-introduction.md', 'docs/zh/develop/3-7-ModalAction-introduction.md', 'docs/en/test/3-2-E2E-table-operation.md', 'docs/en/develop/3-9-StepAction-introduction.md', 'docs/zh/develop/3-13-Route-introduction.md', 'docs/en/develop/3-12-Menu-introduction.md', 'docs/en/test/3-4-E2E-resource-operation.md', 'docs/zh/test/3-1-E2E-form-operation.md', 'docs/en/develop/3-14-I18n-introduction.md', 'docs/zh/develop/3-0-how-to-develop.md', 'docs/en/develop/3-11-Action-introduction.md', 'docs/zh/develop/3-4-BaseDetailInfo-introduction.md', 'docs/zh/develop/3-10-FormItem-introduction.md', 'docs/zh/develop/3-12-Menu-introduction.md', 'docs/en/develop/3-1-BaseList-introduction.md', 'docs/zh/develop/3-5-BaseStore-introduction.md', 'docs/zh/test/3-2-E2E-table-operation.md', 'docs/zh/test/3-3-E2E-detail-operation.md', 'docs/zh/test/1-ready-to-work.md', 'docs/zh/develop/2-catalog-introduction.md', 'docs/zh/develop/3-14-I18n-introduction.md']",48,bd501ba4168fb8f84c771d211897f7a46a483653,,简体中文 | [English](../../en/develop/3-14-I18n-introduction.md) ![i18n](../../zh/develop/images/i18n/i18n.png) ![english](../../zh/develop/images/i18n/english.png),简体中文 | [English](/docs/en/develop/3-14-I18n-introduction.md) ![i18n](/docs/zh/develop/images/i18n/i18n.png) ![english](/docs/zh/develop/images/i18n/english.png),180,180
openstack%2Fskyline-console~master~Ic40d4520d1d62a64f3471e2f169f6f1f99d29f80,openstack/skyline-console,master,Ic40d4520d1d62a64f3471e2f169f6f1f99d29f80,fix: Fix auto resize,MERGED,2021-08-26 08:36:01.000000000,2021-08-27 09:58:01.000000000,2021-08-27 09:58:01.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-26 08:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/936ec3c9a38efac5ada4b4116af8cc86ffca1fd8', 'message': 'fix: Fix auto resize\n\nAuto resize table height when windows size change\n\nChange-Id: Ic40d4520d1d62a64f3471e2f169f6f1f99d29f80\n'}, {'number': 2, 'created': '2021-08-27 08:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2134f73aef07f233f3b06dbf426867d407f2a20b', 'message': 'fix: Fix auto resize\n\nAuto resize table height when windows size change\n\nChange-Id: Ic40d4520d1d62a64f3471e2f169f6f1f99d29f80\n'}, {'number': 3, 'created': '2021-08-27 09:27:30.000000000', 'files': ['src/containers/List/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4f48242fac3c147f5d9a8c9426f25b1eb3adaaf9', 'message': 'fix: Fix auto resize\n\nAuto resize table height when windows size change\n\nChange-Id: Ic40d4520d1d62a64f3471e2f169f6f1f99d29f80\n'}]",0,806110,4f48242fac3c147f5d9a8c9426f25b1eb3adaaf9,10,2,3,33689,,,0,"fix: Fix auto resize

Auto resize table height when windows size change

Change-Id: Ic40d4520d1d62a64f3471e2f169f6f1f99d29f80
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/10/806110/1 && git format-patch -1 --stdout FETCH_HEAD,['src/containers/List/index.jsx'],1,936ec3c9a38efac5ada4b4116af8cc86ffca1fd8,open-36146," debounce, tableHeight: this.getTableHeight(), this.setTableHeight = this.setTableHeight.bind(this); this.debounceSetTableHeight = this.debounceSetTableHeight.call(this); window.addEventListener('resize', this.debounceSetTableHeight); window.removeEventListener('resize', this.debounceSetTableHeight); getTableHeight() { setTableHeight() { const currentTableHeight = this.getTableHeight(); const { tableHeight } = this.state; if (currentTableHeight !== tableHeight) { this.setState({ tableHeight: currentTableHeight, }); } } debounceSetTableHeight() { return debounce(this.setTableHeight, 1000); } const { autoRefresh, tableHeight } = this.state; scrollY={tableHeight}", get tableHeight() { const { autoRefresh } = this.state; scrollY={this.tableHeight},23,3
openstack%2Fcharm-masakari~stable%2F21.04~Ib436e8916cb31fe049bc0a641fbd29fda2e0f260,openstack/charm-masakari,stable/21.04,Ib436e8916cb31fe049bc0a641fbd29fda2e0f260,Fix wrong series in hirsute test bundle,MERGED,2021-08-26 12:13:18.000000000,2021-08-27 09:45:23.000000000,2021-08-27 09:45:23.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-26 12:13:18.000000000', 'files': ['src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/ed2eb9c841934c833d46169937ac1ceef976d607', 'message': 'Fix wrong series in hirsute test bundle\n\nWithout this fix deployment fails with\nERROR cannot deploy bundle: cannot add unit for\napplication ""masakari"": acquiring machine to host\nunit ""masakari/0"": cannot assign unit ""masakari/0""\nto machine 12: series does not match\n\nChange-Id: Ib436e8916cb31fe049bc0a641fbd29fda2e0f260\n(cherry picked from commit 737cea6409dbf9899e9ba985bbfa87232ddb3854)\n'}]",0,806085,ed2eb9c841934c833d46169937ac1ceef976d607,12,4,1,31289,,,0,"Fix wrong series in hirsute test bundle

Without this fix deployment fails with
ERROR cannot deploy bundle: cannot add unit for
application ""masakari"": acquiring machine to host
unit ""masakari/0"": cannot assign unit ""masakari/0""
to machine 12: series does not match

Change-Id: Ib436e8916cb31fe049bc0a641fbd29fda2e0f260
(cherry picked from commit 737cea6409dbf9899e9ba985bbfa87232ddb3854)
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/85/806085/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml']",2,ed2eb9c841934c833d46169937ac1ceef976d607,fix-wrong-series-stable/21.04,, series: groovy,0,2
openstack%2Fkolla-ansible~master~I233d6dd744848ef1f1589a462dbf272ed0f3aaae,openstack/kolla-ansible,master,I233d6dd744848ef1f1589a462dbf272ed0f3aaae,Support monitoring Fluentd with Prometheus,MERGED,2021-04-07 15:56:40.000000000,2021-08-27 09:37:49.000000000,2021-08-27 09:34:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-04-07 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c74b28f9544cfc2d2062533b0e5b83847289f43', 'message': 'Support enabling Prometheus Fluentd exporter\n\nThis patch adds support for enabling the Prometheus exporter\nbuilt into Fluentd. This can be used to extract useful\ninformation about the status of Fluentd, such as output buffer\ncapacity and logging rate, and also to extract metrics from\nlogs via custom Fluentd configuration. More information can be\nfound here in [1].\n\n[1] https://docs.fluentd.org/monitoring-fluentd/monitoring-prometheus\n\nChange-Id: I233d6dd744848ef1f1589a462dbf272ed0f3aaae\n'}, {'number': 2, 'created': '2021-04-08 08:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/095bdfef6b17095d1314f239d42c7ad7734a7ab7', 'message': 'Support enabling Prometheus Fluentd exporter\n\nThis patch adds support for enabling the Prometheus exporter\nbuilt into Fluentd. This can be used to extract useful\ninformation about the status of Fluentd, such as output buffer\ncapacity and logging rate, and also to extract metrics from\nlogs via custom Fluentd configuration. More information can be\nfound here in [1].\n\n[1] https://docs.fluentd.org/monitoring-fluentd/monitoring-prometheus\n\nChange-Id: I233d6dd744848ef1f1589a462dbf272ed0f3aaae\n'}, {'number': 3, 'created': '2021-07-12 14:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/49422e7660c1d562c5c5668ec578e22277862b3b', 'message': 'Support monitoring Fluentd with Prometheus\n\nThis patch adds support for integrating Prometheus with Fluentd.\nThis can be used to extract useful information about the status\nof Fluentd, such as output buffer capacity and logging rate,\nand also to extract metrics from logs via custom Fluentd\nconfiguration. More information can be found here in [1].\n\n[1] https://docs.fluentd.org/monitoring-fluentd/monitoring-prometheus\n\nChange-Id: I233d6dd744848ef1f1589a462dbf272ed0f3aaae\n'}, {'number': 4, 'created': '2021-08-09 09:15:49.000000000', 'files': ['releasenotes/notes/add-support-for-fluentd-exporter-ca02ff9182039e3e.yaml', 'ansible/roles/common/templates/conf/input/08-prometheus.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/common/tasks/config.yml', 'etc/kolla/globals.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b692ce7af1042b4431a04060e066237166531b4d', 'message': 'Support monitoring Fluentd with Prometheus\n\nThis patch adds support for integrating Prometheus with Fluentd.\nThis can be used to extract useful information about the status\nof Fluentd, such as output buffer capacity and logging rate,\nand also to extract metrics from logs via custom Fluentd\nconfiguration. More information can be found here in [1].\n\n[1] https://docs.fluentd.org/monitoring-fluentd/monitoring-prometheus\n\nChange-Id: I233d6dd744848ef1f1589a462dbf272ed0f3aaae\n'}]",16,785229,b692ce7af1042b4431a04060e066237166531b4d,25,4,4,17669,,,0,"Support monitoring Fluentd with Prometheus

This patch adds support for integrating Prometheus with Fluentd.
This can be used to extract useful information about the status
of Fluentd, such as output buffer capacity and logging rate,
and also to extract metrics from logs via custom Fluentd
configuration. More information can be found here in [1].

[1] https://docs.fluentd.org/monitoring-fluentd/monitoring-prometheus

Change-Id: I233d6dd744848ef1f1589a462dbf272ed0f3aaae
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/785229/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-support-for-fluentd-exporter-ca02ff9182039e3e.yaml', 'ansible/roles/common/templates/conf/input/08-prometheus.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/common/tasks/config.yml', 'etc/kolla/globals.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2']",6,7c74b28f9544cfc2d2062533b0e5b83847289f43,,{% if enable_prometheus_fluentd_exporter | bool %} - job_name: fluentd static_configs: - targets: {% for host in groups['fluentd'] %} - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_fluentd_exporter_port'] }}' {% endfor %} {% endif %} ,,58,10
openstack%2Fkolla-ansible~master~I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5,openstack/kolla-ansible,master,I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5,[CI] Test Swift upgrades,MERGED,2020-04-24 14:16:18.000000000,2021-08-27 09:36:33.000000000,2021-08-27 09:31:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-24 14:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32e7afccc82c71c1d7f4ae2cc21c9dfe24376de9', 'message': 'CI: Test Swift upgrades\n\nSwift is a major OpenStack project. It could use testing upgrades.\n\nChange-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5\nRelated-bug: #1874691\n'}, {'number': 2, 'created': '2020-04-24 14:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d166f0c964ab564818bf073f302f5474be26059', 'message': 'CI: Test Swift upgrades\n\nSwift is a major OpenStack project. It could use testing upgrades.\n\nChange-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5\nRelated-bug: #1874691\n'}, {'number': 3, 'created': '2020-04-26 14:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f21582804651a3ba921b4fccf8c3fa3eace4104d', 'message': 'CI: Test Swift upgrades\n\nSwift is a major OpenStack project. It could use testing upgrades.\n\nChange-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5\nRelated-bug: #1874691\n'}, {'number': 4, 'created': '2020-07-31 10:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79c7dfb8703fa48aafe0e7a78e4c002269ee41d7', 'message': 'CI: Test Swift upgrades\n\nSwift is a major OpenStack project. It could use testing upgrades.\n\nChange-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5\nRelated-bug: #1874691\n'}, {'number': 5, 'created': '2020-12-18 19:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52f927fef69cfcca3742366868fc9ac38a843de8', 'message': 'CI: Test Swift upgrades\n\nSwift is a major OpenStack project. It could use testing upgrades.\n\nNew jobs are placed in the experimental pipeline to avoid\nexcessive CI load on general changes.\n\nChange-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5\nRelated-bug: #1874691\n'}, {'number': 6, 'created': '2020-12-18 19:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7bf41abf7b1e76e41042cf382d9f0b222578006', 'message': 'CI: Test Swift upgrades\n\nSwift is a major OpenStack project. It could use testing upgrades.\n\nNew jobs are placed in the experimental pipeline to avoid\nexcessive CI load on general changes.\n\nChange-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5\nRelated-Bug: #1874691\n'}, {'number': 7, 'created': '2021-08-13 13:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ca07fb96981dcfe10c177ade43aacd68c34749c', 'message': 'CI: Test Swift upgrades\n\nSwift is a major OpenStack project. It could use testing upgrades.\n\nNew jobs are placed in the experimental pipeline to avoid\nexcessive CI load on general changes.\n\nChange-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5\nRelated-Bug: #1874691\n'}, {'number': 8, 'created': '2021-08-13 13:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9dd8691e9cd20f2d8621d9b7f1aae3e7ff82259a', 'message': '[CI] Test Swift upgrades\n\nSwift is a major OpenStack project. It could use testing upgrades.\n\nNew jobs are placed in the experimental pipeline to avoid\nexcessive CI load on general changes.\n\nChange-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5\nRelated-Bug: #1874691\n'}, {'number': 9, 'created': '2021-08-13 15:27:07.000000000', 'files': ['tests/test-swift.sh', 'tests/run.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b7e85d528292589831c2380ba3f5ed2bd8e98c75', 'message': '[CI] Test Swift upgrades\n\nSwift is a major OpenStack project. It could use testing upgrades.\n\nNew jobs are placed in the experimental pipeline to avoid\nexcessive CI load on general changes.\n\nChange-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5\nRelated-Bug: #1874691\n'}]",5,722798,b7e85d528292589831c2380ba3f5ed2bd8e98c75,45,4,9,30491,,,0,"[CI] Test Swift upgrades

Swift is a major OpenStack project. It could use testing upgrades.

New jobs are placed in the experimental pipeline to avoid
excessive CI load on general changes.

Change-Id: I8a089fdd1f21eb4c3e00c38ea9dfcecc77565bf5
Related-Bug: #1874691
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/722798/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,32e7afccc82c71c1d7f4ae2cc21c9dfe24376de9,ci-test-swift-upgrade, name: kolla-ansible-centos8-source-swift-upgrade parent: kolla-ansible-swift-base nodeset: kolla-ansible-centos8-multi timeout: 10800 vars: base_distro: centos install_type: source is_upgrade: yes - job: name: kolla-ansible-ubuntu-source-swift-upgrade parent: kolla-ansible-swift-base nodeset: kolla-ansible-bionic-multi timeout: 10800 vars: base_distro: ubuntu install_type: source is_upgrade: yes - job:,,20,0
openstack%2Fkolla-ansible~master~I584c588c20781e6c6567429811aecf97967baea3,openstack/kolla-ansible,master,I584c588c20781e6c6567429811aecf97967baea3,Use Docker healthchecks for nova-spicehtml5proxy service,MERGED,2021-08-12 14:20:30.000000000,2021-08-27 09:07:52.000000000,2021-08-27 09:04:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-12 14:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54ced4b012155875fc9dfa89739ec3fcf3a38ce1', 'message': 'Use Docker healthchecks for nova-spicehtml5proxy service\n\nThis change enables the use of Docker healthchecks for\nnova-spicehtml5proxy service.\n\nImplements: blueprint container-health-check\nChange-Id: I584c588c20781e6c6567429811aecf97967baea3\n'}, {'number': 2, 'created': '2021-08-16 09:20:06.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-nova-spicehtml5proxy-a9cf93c15c0a8966.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b599bdb83dd849927eccbb934db5badd7954af0', 'message': 'Use Docker healthchecks for nova-spicehtml5proxy service\n\nThis change enables the use of Docker healthchecks for\nnova-spicehtml5proxy service.\n\nImplements: blueprint container-health-check\nChange-Id: I584c588c20781e6c6567429811aecf97967baea3\n'}]",2,804391,2b599bdb83dd849927eccbb934db5badd7954af0,14,5,2,27339,,,0,"Use Docker healthchecks for nova-spicehtml5proxy service

This change enables the use of Docker healthchecks for
nova-spicehtml5proxy service.

Implements: blueprint container-health-check
Change-Id: I584c588c20781e6c6567429811aecf97967baea3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/804391/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-nova-spicehtml5proxy-a9cf93c15c0a8966.yaml']",2,54ced4b012155875fc9dfa89739ec3fcf3a38ce1,nova-spicehtml5proxy-healthcheck,--- features: - | Implements container healthchecks for nova-spicehtml5proxy service. See `blueprint <https://blueprints.launchpad.net/kolla-ansible/+spec/container-health-check>`__ ,,20,0
openstack%2Fkolla-ansible~master~I571e6d6cac634fd86429e12b946d6f7b4a2ab02c,openstack/kolla-ansible,master,I571e6d6cac634fd86429e12b946d6f7b4a2ab02c,Use Docker healthchecks for memcached services,MERGED,2021-03-30 03:13:07.000000000,2021-08-27 09:05:55.000000000,2021-08-27 09:02:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-30 03:13:07.000000000', 'files': ['releasenotes/notes/implement-docker-healthchecks-for-memcached-807b9036c3c92596.yaml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/memcached/handlers/main.yml', 'ansible/roles/memcached/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c1fd440928ef2fc2193fb7ca5333f4b723997e0', 'message': 'Use Docker healthchecks for memcached services\n\nThis change enables the use of Docker healthchecks for memcached services.\nImplements: blueprint container-health-check\n\nChange-Id: I571e6d6cac634fd86429e12b946d6f7b4a2ab02c\n'}]",0,783779,3c1fd440928ef2fc2193fb7ca5333f4b723997e0,11,3,1,31506,,,0,"Use Docker healthchecks for memcached services

This change enables the use of Docker healthchecks for memcached services.
Implements: blueprint container-health-check

Change-Id: I571e6d6cac634fd86429e12b946d6f7b4a2ab02c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/783779/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/implement-docker-healthchecks-for-memcached-807b9036c3c92596.yaml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/memcached/handlers/main.yml', 'ansible/roles/memcached/tasks/check-containers.yml']",4,3c1fd440928ef2fc2193fb7ca5333f4b723997e0,container-health-check," healthcheck: ""{{ service.healthcheck | default(omit) }}""",,22,0
openstack%2Fkolla-ansible~master~I17bea723d4109e869cd05d211f6f8e4653f46e17,openstack/kolla-ansible,master,I17bea723d4109e869cd05d211f6f8e4653f46e17,Use Docker healthchecks for keystone-fernet container,MERGED,2021-08-13 20:35:25.000000000,2021-08-27 09:04:25.000000000,2021-08-27 09:02:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-13 20:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40e5c09ec559b349034f67d49f2a4b40f144fbae', 'message': 'Use Docker healthchecks for keystone-fernet container\n\nThis change enables the use of Docker healthchecks for\nkeystone-fernet container. It checks if ""key 0"" has\nright permissions, and if rsync is able to distribute\nkeys to other keystones.\n\nImplements: blueprint container-health-check\nChange-Id: I17bea723d4109e869cd05d211f6f8e4653f46e17\n'}, {'number': 2, 'created': '2021-08-13 21:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9c1a08866612952618f79e3bea90a3eaabbd594', 'message': 'Use Docker healthchecks for keystone-fernet container\n\nThis change enables the use of Docker healthchecks for\nkeystone-fernet container. It checks if ""key 0"" has\nright permissions, and if rsync is able to distribute\nkeys to other keystones.\n\nImplements: blueprint container-health-check\nChange-Id: I17bea723d4109e869cd05d211f6f8e4653f46e17\n'}, {'number': 3, 'created': '2021-08-14 05:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7db93915825594349ef8340a874999f4ebf7210', 'message': 'Use Docker healthchecks for keystone-fernet container\n\nThis change enables the use of Docker healthchecks for\nkeystone-fernet container. It checks if ""key 0"" has\nright permissions, and if rsync is able to distribute\nkeys to other keystones.\n\nImplements: blueprint container-health-check\nChange-Id: I17bea723d4109e869cd05d211f6f8e4653f46e17\n'}, {'number': 4, 'created': '2021-08-14 10:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/974d686bae9bb6f32878f57aa8adce51d4f1d26d', 'message': 'Use Docker healthchecks for keystone-fernet container\n\nThis change enables the use of Docker healthchecks for\nkeystone-fernet container. It checks if ""key 0"" has\nright permissions, and if rsync is able to distribute\nkeys to other keystones.\n\nImplements: blueprint container-health-check\nChange-Id: I17bea723d4109e869cd05d211f6f8e4653f46e17\n'}, {'number': 5, 'created': '2021-08-16 08:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03c7baa8b23d99968ee1cb9b0379c12a73df5b29', 'message': 'Use Docker healthchecks for keystone-fernet container\n\nThis change enables the use of Docker healthchecks for\nkeystone-fernet container. It checks if ""key 0"" has\nright permissions, and if rsync is able to distribute\nkeys to other keystones.\n\nImplements: blueprint container-health-check\nChange-Id: I17bea723d4109e869cd05d211f6f8e4653f46e17\n'}, {'number': 6, 'created': '2021-08-16 10:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63a124fdaa803acd3afb2012a345593013a00590', 'message': 'Use Docker healthchecks for keystone-fernet container\n\nThis change enables the use of Docker healthchecks for\nkeystone-fernet container. It checks if ""key 0"" has\nright permissions, and if rsync is able to distribute\nkeys to other keystones.\n\nImplements: blueprint container-health-check\nChange-Id: I17bea723d4109e869cd05d211f6f8e4653f46e17\n'}, {'number': 7, 'created': '2021-08-16 11:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fcb45294149147a1528bb835a1ae880fa16f904c', 'message': 'Use Docker healthchecks for keystone-fernet container\n\nThis change enables the use of Docker healthchecks for\nkeystone-fernet container. It checks if ""key 0"" has\nright permissions, and if rsync is able to distribute\nkeys to other keystones.\n\nImplements: blueprint container-health-check\nChange-Id: I17bea723d4109e869cd05d211f6f8e4653f46e17\n'}, {'number': 8, 'created': '2021-08-17 13:07:04.000000000', 'files': ['ansible/roles/keystone/templates/keystone-fernet.json.j2', 'ansible/roles/keystone/templates/fernet-push.sh.j2', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2', 'ansible/roles/keystone/templates/fernet-healthcheck.sh.j2', 'releasenotes/notes/implement-docker-healthchecks-for-keystone-fernet-a63033e2b95ecb2f.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/90fd9152a4f4b9c018a28df5cabecb0607cd0af7', 'message': 'Use Docker healthchecks for keystone-fernet container\n\nThis change enables the use of Docker healthchecks for\nkeystone-fernet container. It checks if ""key 0"" has\nright permissions, and if rsync is able to distribute\nkeys to other keystones.\n\nImplements: blueprint container-health-check\nChange-Id: I17bea723d4109e869cd05d211f6f8e4653f46e17\n'}]",2,804546,90fd9152a4f4b9c018a28df5cabecb0607cd0af7,34,5,8,27339,,,0,"Use Docker healthchecks for keystone-fernet container

This change enables the use of Docker healthchecks for
keystone-fernet container. It checks if ""key 0"" has
right permissions, and if rsync is able to distribute
keys to other keystones.

Implements: blueprint container-health-check
Change-Id: I17bea723d4109e869cd05d211f6f8e4653f46e17
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/804546/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone-fernet.json.j2', 'ansible/roles/keystone/templates/fernet-push.sh.j2', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/templates/fernet-node-sync.sh.j2', 'releasenotes/notes/implement-docker-healthchecks-for-keystone-fernet-a63033e2b95ecb2f.yaml']",6,40e5c09ec559b349034f67d49f2a4b40f144fbae,keystone-fernet-healthcheck,--- features: - | Implements container healthchecks for keystone-fernet container. See `blueprint <https://blueprints.launchpad.net/kolla-ansible/+spec/container-health-check>`__ ,,57,12
openstack%2Fskyline-console~master~I7ee66e7688be03863706977a80912f12b9386671,openstack/skyline-console,master,I7ee66e7688be03863706977a80912f12b9386671,fix: Fix locked value in instance download csv etc.,MERGED,2021-08-27 07:54:12.000000000,2021-08-27 09:02:30.000000000,2021-08-27 09:02:30.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 07:54:12.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Instance/index.jsx', 'src/pages/storage/containers/Volume/actions/Migrate.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/925c0ead0b1b2128ab13d2d38c618a80874cb63f', 'message': 'fix: Fix locked value in instance download csv etc.\n\n1. Fix locked value in instance download csv\n2. Hide custom column button in hypervisor page\n3. Fix storage backend name\n\nChange-Id: I7ee66e7688be03863706977a80912f12b9386671\n'}]",0,806327,925c0ead0b1b2128ab13d2d38c618a80874cb63f,6,2,1,30434,,,0,"fix: Fix locked value in instance download csv etc.

1. Fix locked value in instance download csv
2. Hide custom column button in hypervisor page
3. Fix storage backend name

Change-Id: I7ee66e7688be03863706977a80912f12b9386671
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/27/806327/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Instance/index.jsx', 'src/pages/storage/containers/Volume/actions/Migrate.jsx', 'src/pages/compute/containers/Hypervisors/Hypervisor/index.jsx']",5,925c0ead0b1b2128ab13d2d38c618a80874cb63f,master2, get hideCustom() { return true; } ,,13,6
openstack%2Fkolla-ansible~master~I584a83d352c747a799b5dab1d3b8159ba3805454,openstack/kolla-ansible,master,I584a83d352c747a799b5dab1d3b8159ba3805454,Fix Masakari in multi-region deploys,MERGED,2021-08-20 18:54:47.000000000,2021-08-27 08:58:51.000000000,2021-08-27 08:55:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-20 18:54:47.000000000', 'files': ['releasenotes/notes/bug-1939291-bf2e405d286e4b07.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c68e8258580a5d596ba29ad8b92926956f4ba81', 'message': 'Fix Masakari in multi-region deploys\n\nto behave like it is most commonly expected - query Nova in the\nsame region.\n\nCloses-Bug: #1939291\nChange-Id: I584a83d352c747a799b5dab1d3b8159ba3805454\n'}]",0,805451,3c68e8258580a5d596ba29ad8b92926956f4ba81,13,5,1,30491,,,0,"Fix Masakari in multi-region deploys

to behave like it is most commonly expected - query Nova in the
same region.

Closes-Bug: #1939291
Change-Id: I584a83d352c747a799b5dab1d3b8159ba3805454
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/805451/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1939291-bf2e405d286e4b07.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2']",2,3c68e8258580a5d596ba29ad8b92926956f4ba81,bug/1939291,os_region_name = {{ openstack_region_name }},,7,0
openstack%2Fkolla-ansible~master~Ideb0247578afb8cc36bb6ac26d8ef7fda494bee3,openstack/kolla-ansible,master,Ideb0247578afb8cc36bb6ac26d8ef7fda494bee3,Use api-paste.ini from /etc/neutron,MERGED,2021-08-11 17:52:56.000000000,2021-08-27 08:57:26.000000000,2021-08-27 08:55:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-08-11 17:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54212ec253bab9176e642fd2c2182fb1343d290e', 'message': ""Use api-paste.ini from /etc/neutron\n\nCentOS binary packages for Xena have moved Neutron's api-paste.ini file\nto /etc/neutron [1]. Ubuntu packages already provide this file at this\nlocation. Source images should also have api-paste.ini installed there.\n\n[1] https://review.rdoproject.org/r/c/openstack/neutron-distgit/+/34845\n\nChange-Id: Ideb0247578afb8cc36bb6ac26d8ef7fda494bee3\n""}, {'number': 2, 'created': '2021-08-11 22:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5c87106f907f44ecb673596dd4719857ad74b65', 'message': ""Use api-paste.ini from /etc/neutron\n\nCentOS binary packages for Xena have moved Neutron's api-paste.ini file\nto /etc/neutron [1]. Ubuntu packages already provide this file at this\nlocation. Source images should also have api-paste.ini installed there.\n\n[1] https://review.rdoproject.org/r/c/openstack/neutron-distgit/+/34845\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/804307\n\nChange-Id: Ideb0247578afb8cc36bb6ac26d8ef7fda494bee3\n""}, {'number': 3, 'created': '2021-08-12 08:11:01.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcfebaf87a9e986fc9e73bd03395546c0824e816', 'message': ""Use api-paste.ini from /etc/neutron\n\nCentOS binary packages for Xena have moved Neutron's api-paste.ini file\nto /etc/neutron [1]. Ubuntu packages already provide this file at this\nlocation. Source images should also have api-paste.ini installed there.\n\n[1] https://review.rdoproject.org/r/c/openstack/neutron-distgit/+/34845\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/804269\n\nChange-Id: Ideb0247578afb8cc36bb6ac26d8ef7fda494bee3\n""}]",0,804288,bcfebaf87a9e986fc9e73bd03395546c0824e816,30,7,3,15197,,,0,"Use api-paste.ini from /etc/neutron

CentOS binary packages for Xena have moved Neutron's api-paste.ini file
to /etc/neutron [1]. Ubuntu packages already provide this file at this
location. Source images should also have api-paste.ini installed there.

[1] https://review.rdoproject.org/r/c/openstack/neutron-distgit/+/34845

Depends-On: https://review.opendev.org/c/openstack/kolla/+/804269

Change-Id: Ideb0247578afb8cc36bb6ac26d8ef7fda494bee3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/804288/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron.conf.j2'],1,54212ec253bab9176e642fd2c2182fb1343d290e,neutron-api-paste,api_paste_config = /etc/neutron/api-paste.ini,api_paste_config = /usr/share/neutron/api-paste.ini,1,1
openstack%2Fcharm-mysql-innodb-cluster~stable%2F21.04~If3ffa9e9191c057ac7e3d96bfcf84d8a3a2ad45a,openstack/charm-mysql-innodb-cluster,stable/21.04,If3ffa9e9191c057ac7e3d96bfcf84d8a3a2ad45a,Remove instance flags when instance removed,MERGED,2021-07-08 05:11:07.000000000,2021-08-27 08:52:46.000000000,2021-08-27 08:52:46.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-08 05:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/eb3096e3b2d69c2bd2e372935275d4627056009b', 'message': ""Remove instance flags when instance removed\n\nPreviously when an instance was removed the leadership settings and\ncharms.reactive flags remained for that instance's IP address. If a new\ninstance was subsequently added and happened to have the same IP address\nthe charm would never add the new instance to the cluster because it\nbelieved the instance was already configured and clustered based on\nleader settings.\n\nClear leader settings flags for instance cluster configured and\nclustered.\n\nDue to a bug in Juju the previous use of IP addresses with '.' were\nunable to be unset. Transform dotted flags to use '-' instead.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/565\n\nChange-Id: If3ffa9e9191c057ac7e3d96bfcf84d8a3a2ad45a\nCloses-Bug: #1922394\nRelated-Bug: #1889792\n(cherry picked from commit f22ca3b5b4dde7f92edb3a9b1e17835555590d1a)\n""}, {'number': 2, 'created': '2021-07-08 05:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/444bdb62a43a8083cf25039c1c597af43973dc71', 'message': ""Remove instance flags when instance removed\n\nPreviously when an instance was removed the leadership settings and\ncharms.reactive flags remained for that instance's IP address. If a new\ninstance was subsequently added and happened to have the same IP address\nthe charm would never add the new instance to the cluster because it\nbelieved the instance was already configured and clustered based on\nleader settings.\n\nClear leader settings flags for instance cluster configured and\nclustered.\n\nDue to a bug in Juju the previous use of IP addresses with '.' were\nunable to be unset. Transform dotted flags to use '-' instead.\n\nChange-Id: If3ffa9e9191c057ac7e3d96bfcf84d8a3a2ad45a\nCloses-Bug: #1922394\nRelated-Bug: #1889792\n(cherry picked from commit f22ca3b5b4dde7f92edb3a9b1e17835555590d1a)\n""}, {'number': 3, 'created': '2021-08-26 13:19:01.000000000', 'files': ['src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/6d9a50774c4a1c7875bd2d90fe66b5cb5dafe63a', 'message': ""Remove instance flags when instance removed\n\nPreviously when an instance was removed the leadership settings and\ncharms.reactive flags remained for that instance's IP address. If a new\ninstance was subsequently added and happened to have the same IP address\nthe charm would never add the new instance to the cluster because it\nbelieved the instance was already configured and clustered based on\nleader settings.\n\nClear leader settings flags for instance cluster configured and\nclustered.\n\nDue to a bug in Juju the previous use of IP addresses with '.' were\nunable to be unset. Transform dotted flags to use '-' instead.\n\nChange-Id: If3ffa9e9191c057ac7e3d96bfcf84d8a3a2ad45a\nCloses-Bug: #1922394\nRelated-Bug: #1889792\n(cherry picked from commit f22ca3b5b4dde7f92edb3a9b1e17835555590d1a)\n""}]",0,799953,6d9a50774c4a1c7875bd2d90fe66b5cb5dafe63a,21,5,3,935,,,0,"Remove instance flags when instance removed

Previously when an instance was removed the leadership settings and
charms.reactive flags remained for that instance's IP address. If a new
instance was subsequently added and happened to have the same IP address
the charm would never add the new instance to the cluster because it
believed the instance was already configured and clustered based on
leader settings.

Clear leader settings flags for instance cluster configured and
clustered.

Due to a bug in Juju the previous use of IP addresses with '.' were
unable to be unset. Transform dotted flags to use '-' instead.

Change-Id: If3ffa9e9191c057ac7e3d96bfcf84d8a3a2ad45a
Closes-Bug: #1922394
Related-Bug: #1889792
(cherry picked from commit f22ca3b5b4dde7f92edb3a9b1e17835555590d1a)
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/53/799953/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py']",5,eb3096e3b2d69c2bd2e372935275d4627056009b,stable/bug/1926460,"import json charm.use_defaults('update-status') @reactive.hook('upgrade-charm') def custom_upgrade_charm(): """"""Custom upgrade charm. Fix old style dotted flag names during upgrade-charm hook """""" with charm.provide_charm_instance() as instance: if reactive.is_flag_set('leadership.is_leader'): # Change leadership cluster flags with dots in their names instance.update_dotted_flags() instance.upgrade_charm() instance.assess_status() ""leadership.set.{}"" .format( mysql_innodb_cluster.make_cluster_instance_configured_key( unit.received['cluster-address']))): ""leadership.set.{}"" .format( mysql_innodb_cluster.make_cluster_instance_clustered_key( unit.received['cluster-address']))): ""leadership.set.{}"" .format( mysql_innodb_cluster.make_cluster_instance_clustered_key( instance.cluster_address))): ""leadership.set.{}"" .format( mysql_innodb_cluster.make_cluster_instance_clustered_key( instance.cluster_address))):# Only react to cluster.departed @reactive.when('endpoint.cluster.departed') Only react to cluster.departed, not any other departed hook nor a cluster.broken hook. Cluster.departed is only executed once on any given node. We want to shutdown and clean up only in a graceful departing scenario. The remove-instance action will function for all other scenarios. If this is the node departing, stop services and notify peers. If this is the leader node and not the departing node, attempt to remove the instance from cluster metadata. # Intentionally using the charm helper rather than the interface to # guarantee we get only the departing instance's cluster-address _departing_address = ch_core.hookenv.relation_get(""cluster-address"") _departing_unit = ch_core.hookenv.departing_unit() if not _departing_unit: ""In a cluster departing hook but departing unit is unset. "" ""Doing nothing."", ""WARNING"") with charm.provide_charm_instance() as instance: if ch_core.hookenv.local_unit() == _departing_unit: # If this is the departing unit stop mysql and attempt a clean # departure. ch_core.hookenv.log( ""{} is this unit departing. Shutting down."" .format(_departing_unit), ""WARNING"") reactive.set_flag(""local.cluster.unit.departing"") if reactive.is_flag_set('leadership.is_leader'): ch_core.hookenv.log( ""Since this departing instance is the juju leader node it "" ""is not possible to automatically remove it from cluster "" ""metadata. Run the remove-instance action on the newly "" ""elected leader with address={} to remove it from cluster "" ""metadata and clear flags."" .format(instance.cluster_address), ""WARNING"") elif reactive.is_flag_set('leadership.is_leader'): # Attempt to clean up departing unit. # If the departing unit's IP remains in cluster metadata as seen in # the cluster-status action, run the remove-instance action with # the ""MISSING"" instance's IP. if _departing_address: ch_core.hookenv.log( ""Automatically removing departing instance {} from "" ""cluster metadata."" .format(_departing_address), ""WARNING"") instance.remove_instance( json.loads(_departing_address), force=True) else: ch_core.hookenv.log( ""Leader is unable to cleanly remove departing instance "" ""{_du}. No cluster-address provided. Run remove-instance "" ""address={_du} to clear cluster metadata and flags."" .format(_du=_departing_unit), ""WARNING"")"," charm.use_defaults( 'update-status', 'upgrade-charm') ""leadership.set.cluster-instance-configured-{}"" .format(unit.received['cluster-address'])): ""leadership.set.cluster-instance-clustered-{}"" .format(unit.received['cluster-address'])): ""leadership.set.cluster-instance-clustered-{}"" .format(instance.cluster_address)): ""leadership.set.cluster-instance-clustered-{}"" .format(instance.cluster_address)):@reactive.when_any( 'endpoint.coordinator.departed', 'endpoint.cluster.departed', ) If this is the node departing, stop services and notify peers. if not ch_core.hookenv.departing_unit(): ""In a cluster/coordinator departing hook but departing unit is "" ""unset. Doing nothing."" ""WARNING"") if ch_core.hookenv.local_unit() in ch_core.hookenv.departing_unit(): ch_core.hookenv.log( ""{} is this unit departing. Shutting down."" .format(ch_core.hookenv.departing_unit()), ""WARNING"") reactive.set_flag(""local.cluster.unit.departing"") with charm.provide_charm_instance() as instance: else: ch_core.hookenv.log( ""{} is not this unit departing. Do nothing."" .format(ch_core.hookenv.departing_unit()), ""WARNING"")",291,66
openstack%2Fkolla-ansible~stable%2Fwallaby~I74b315443f79d0d7780907fc785e1a29759c1803,openstack/kolla-ansible,stable/wallaby,I74b315443f79d0d7780907fc785e1a29759c1803,[CI] Slim down Masakari job,MERGED,2021-07-29 10:38:02.000000000,2021-08-27 08:44:55.000000000,2021-08-27 08:40:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-07-29 10:38:02.000000000', 'files': ['tests/templates/inventory.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cab226ed000435f12e100acb01b8dde965435bcb', 'message': '[CI] Slim down Masakari job\n\nThe Masakari job uses 4 nodes and defaulted to a quite bulky\nand not really supported config (MariaDB and RMQ on 4 nodes).\nThis change slims it down so that we test only HA of Masakari\nand hacluster. The other services are deployed single-node.\n\nAdditionally, simplify the network group (it does not affect any\nother job, the logic was simply overdone there).\n\nChange-Id: I74b315443f79d0d7780907fc785e1a29759c1803\n(cherry picked from commit 7dfbcc71cb552ed32fa91a6a58bf456be58b259a)\n'}]",0,802870,cab226ed000435f12e100acb01b8dde965435bcb,9,3,1,30491,,,0,"[CI] Slim down Masakari job

The Masakari job uses 4 nodes and defaulted to a quite bulky
and not really supported config (MariaDB and RMQ on 4 nodes).
This change slims it down so that we test only HA of Masakari
and hacluster. The other services are deployed single-node.

Additionally, simplify the network group (it does not affect any
other job, the logic was simply overdone there).

Change-Id: I74b315443f79d0d7780907fc785e1a29759c1803
(cherry picked from commit 7dfbcc71cb552ed32fa91a6a58bf456be58b259a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/802870/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/inventory.j2'],1,cab226ed000435f12e100acb01b8dde965435bcb,ci-slim-down-masakari-job-stable/wallaby," # NOTE(yoctozepto): In CI we want to test Masakari HA but not of other services, # to conserve the resources. Hence, we set Masakari groups to use both # primary and secondary while the parent group (control) uses only primary. {% if scenario == 'masakari' %} {% for host in hostvars if host in ['primary'] %} {{ host }} ansible_host={{ hostvars[host]['ansible_host'] }} ansible_user=kolla ansible_ssh_private_key_file={{ ansible_env.HOME ~ '/.ssh/id_rsa_kolla' }} {% endfor %} {% elif scenario == 'monasca' %} # NOTE(yoctozepto): Until we are able to isolate network namespaces in k-a, # we are forced to separate Pacemaker remotes from full members. # This is not as bad as it sounds, because it would be enforced in # non-containerised environments anyway. # In CI we want Pacemaker remotes to run on ternaries (to test multiple remotes). [compute] {% if scenario == 'masakari' %} {% for host in hostvars if host in ['ternary1', 'ternary2'] %} {{ host }} ansible_host={{ hostvars[host]['ansible_host'] }} ansible_user=kolla ansible_ssh_private_key_file={{ ansible_env.HOME ~ '/.ssh/id_rsa_kolla' }} {% endfor %}# we are forced to separate Pacemaker remotes from full members.# In CI we want Pacemaker to run on primary and secondary (to test with HA). {% if host in ['primary', 'secondary'] %}[hacluster-remote:children] compute# NOTE(yoctozepto): In CI we want to test Masakari HA but not of other services, # to conserve the resources. Hence, we set Masakari groups to use both # primary and secondary while the parent group (control) uses only primary. haclusterhaclusterhacluster","{% if scenario == 'monasca' %}{% if scenario == 'monasca' %}[network][compute] {% for host in hostvars %} {{ host }} ansible_host={{ hostvars[host]['ansible_host'] }} ansible_user=kolla ansible_ssh_private_key_file={{ ansible_env.HOME ~ '/.ssh/id_rsa_kolla' }} {% endfor %} # we are forced to separate remotes from full members.#[hacluster:children] #control{% if 'ternary' not in host %}# NOTE(yoctozepto): Until we are able to isolate network namespaces in k-a, # we are forced to separate remotes from full members. # This is not as bad as it sounds, because it would be enforced in # non-containerised environments anyway. #[hacluster-remote:children] #compute [hacluster-remote] {% for host in hostvars %} {% if 'ternary' in host %} {{ host }} ansible_host={{ hostvars[host]['ansible_host'] }} ansible_user=kolla ansible_ssh_private_key_file={{ ansible_env.HOME ~ '/.ssh/id_rsa_kolla' }} {% endif %} {% endfor %}controlcontrolcontrol",35,27
openstack%2Fkolla-ansible~stable%2Fussuri~I1d26e48e1958f13b854d8afded4bfba5021a2dec,openstack/kolla-ansible,stable/ussuri,I1d26e48e1958f13b854d8afded4bfba5021a2dec,Check config when checking the containers,MERGED,2021-08-06 06:06:53.000000000,2021-08-27 08:43:12.000000000,2021-08-27 08:39:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-06 06:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da4972859cc56939e031c591ee73c44cc0508331', 'message': ""Check config when checking the containers\n\nThe proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would do what we expected rather than being a noop\nin the second part.\n\nWe also lose the need to have notifies\nand whens in config and handler sections respectively.\nThis is optimised in a separate patch.\n\nFuture work:\n- optimise for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n\nChange-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec\nCloses-Bug: #1848775\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/773257\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n(cherry picked from commit c3afbd3c5efb84a1df272bd44a46d4db60c69f0b)\n""}, {'number': 2, 'created': '2021-08-06 06:15:21.000000000', 'files': ['releasenotes/notes/bug-1848775-b0625b7586adac96.yaml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a43ca26734546be18e0bd5c04afca873fc8864ad', 'message': ""Check config when checking the containers\n\nThe proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would do what we expected rather than being a noop\nin the second part.\n\nWe also lose the need to have notifies\nand whens in config and handler sections respectively.\nThis is optimised in a separate patch.\n\nFuture work:\n- optimise for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n\nChange-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec\nCloses-Bug: #1848775\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/773257\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n(cherry picked from commit c3afbd3c5efb84a1df272bd44a46d4db60c69f0b)\n""}]",0,803673,a43ca26734546be18e0bd5c04afca873fc8864ad,11,3,2,30491,,,0,"Check config when checking the containers

The proposed approach allows for checking whether config
files are current, e.g. cases when the deployment was aborted after
config files were generated but before they were injected into the
containers which lead to old config staying in containers.

After this patch we can do:
  kolla-ansible genconfig
  kolla-ansible deploy-containers
and it would do what we expected rather than being a noop
in the second part.

We also lose the need to have notifies
and whens in config and handler sections respectively.
This is optimised in a separate patch.

Future work:
- optimise for large files
  - could we get away with comparing timestamps and sizes?
    container's should have a newer timestamp due to copy,
    could also preserve it

Change-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec
Closes-Bug: #1848775
Depends-On: https://review.opendev.org/c/openstack/kolla/+/773257
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
(cherry picked from commit c3afbd3c5efb84a1df272bd44a46d4db60c69f0b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/803673/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1848775-b0625b7586adac96.yaml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py']",3,da4972859cc56939e031c591ee73c44cc0508331,bug/1848775-stable/wallaby-stable/victoria-stable/ussuri,"COMPARE_CONFIG_CMD = ['/usr/local/bin/kolla_set_configs', '--check'] if (not container or self.check_container_differs() or self.compare_config()):<<<<<<< HEAD (f6f2c1 Fix incorrect config of linuxbridge multiple external networ) ======= def compare_healthcheck(self, container_info): new_healthcheck = self.parse_healthcheck( self.params.get('healthcheck')) current_healthcheck = container_info['Config'].get('Healthcheck') healthcheck_map = { 'test': 'Test', 'retries': 'Retries', 'interval': 'Interval', 'start_period': 'StartPeriod', 'timeout': 'Timeout'} if new_healthcheck: new_healthcheck = new_healthcheck['healthcheck'] if current_healthcheck: new_healthcheck = dict((healthcheck_map.get(k, k), v) for (k, v) in new_healthcheck.items()) return new_healthcheck != current_healthcheck else: return True else: if current_healthcheck: return True def compare_config(self): try: job = self.dc.exec_create( self.params['name'], COMPARE_CONFIG_CMD, user='root', ) output = self.dc.exec_start(job) exec_inspect = self.dc.exec_inspect(job) except docker.errors.APIError as e: # NOTE(yoctozepto): If we have a client error, then the container # cannot be used for config check (e.g., is restarting, or stopped # in the mean time) - assume config is stale = return True. # Else, propagate the server error back. if e.is_client_error(): return True else: raise # Exit codes: # 0: not changed # 1: changed # 137: abrupt exit -> changed # else: error if exec_inspect['ExitCode'] == 0: return False elif exec_inspect['ExitCode'] == 1: return True elif exec_inspect['ExitCode'] == 137: # NOTE(yoctozepto): This is Docker's command exit due to container # exit. It means the container is unstable so we are better off # marking it as requiring a restart due to config update. return True else: raise Exception('Failed to compare container configuration: ' 'ExitCode: %s Message: %s' % (exec_inspect['ExitCode'], output)) >>>>>>> CHANGE (7cc41b Check config when checking the containers)", if not container or self.check_container_differs():,176,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I1d26e48e1958f13b854d8afded4bfba5021a2dec,openstack/kolla-ansible,stable/victoria,I1d26e48e1958f13b854d8afded4bfba5021a2dec,Check config when checking the containers,MERGED,2021-08-06 06:05:46.000000000,2021-08-27 08:43:11.000000000,2021-08-27 08:39:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-06 06:05:46.000000000', 'files': ['releasenotes/notes/bug-1848775-b0625b7586adac96.yaml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7cc41b391e860c91361e70b5b121e8da0baa9fdc', 'message': ""Check config when checking the containers\n\nThe proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would do what we expected rather than being a noop\nin the second part.\n\nWe also lose the need to have notifies\nand whens in config and handler sections respectively.\nThis is optimised in a separate patch.\n\nFuture work:\n- optimise for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n\nChange-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec\nCloses-Bug: #1848775\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/773257\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n(cherry picked from commit c3afbd3c5efb84a1df272bd44a46d4db60c69f0b)\n""}]",0,803672,7cc41b391e860c91361e70b5b121e8da0baa9fdc,11,3,1,30491,,,0,"Check config when checking the containers

The proposed approach allows for checking whether config
files are current, e.g. cases when the deployment was aborted after
config files were generated but before they were injected into the
containers which lead to old config staying in containers.

After this patch we can do:
  kolla-ansible genconfig
  kolla-ansible deploy-containers
and it would do what we expected rather than being a noop
in the second part.

We also lose the need to have notifies
and whens in config and handler sections respectively.
This is optimised in a separate patch.

Future work:
- optimise for large files
  - could we get away with comparing timestamps and sizes?
    container's should have a newer timestamp due to copy,
    could also preserve it

Change-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec
Closes-Bug: #1848775
Depends-On: https://review.opendev.org/c/openstack/kolla/+/773257
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
(cherry picked from commit c3afbd3c5efb84a1df272bd44a46d4db60c69f0b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/803672/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1848775-b0625b7586adac96.yaml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py']",3,7cc41b391e860c91361e70b5b121e8da0baa9fdc,bug/1848775-stable/wallaby-stable/victoria,"COMPARE_CONFIG_CMD = ['/usr/local/bin/kolla_set_configs', '--check'] if (not container or self.check_container_differs() or self.compare_config()): def compare_config(self): try: job = self.dc.exec_create( self.params['name'], COMPARE_CONFIG_CMD, user='root', ) output = self.dc.exec_start(job) exec_inspect = self.dc.exec_inspect(job) except docker.errors.APIError as e: # NOTE(yoctozepto): If we have a client error, then the container # cannot be used for config check (e.g., is restarting, or stopped # in the mean time) - assume config is stale = return True. # Else, propagate the server error back. if e.is_client_error(): return True else: raise # Exit codes: # 0: not changed # 1: changed # 137: abrupt exit -> changed # else: error if exec_inspect['ExitCode'] == 0: return False elif exec_inspect['ExitCode'] == 1: return True elif exec_inspect['ExitCode'] == 137: # NOTE(yoctozepto): This is Docker's command exit due to container # exit. It means the container is unstable so we are better off # marking it as requiring a restart due to config update. return True else: raise Exception('Failed to compare container configuration: ' 'ExitCode: %s Message: %s' % (exec_inspect['ExitCode'], output)) ", if not container or self.check_container_differs():,149,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I81ad7d8642654f8474f11084c6934aab40243d35,openstack/kolla-ansible,stable/wallaby,I81ad7d8642654f8474f11084c6934aab40243d35,Add ability to retry image pulling,MERGED,2021-08-23 13:27:15.000000000,2021-08-27 08:42:27.000000000,2021-08-27 08:39:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-23 13:27:15.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/roles/service-images-pull/tasks/main.yml', 'releasenotes/notes/image-pull-retries-75490c3e6e1e4b54.yaml', 'ansible/roles/service-images-pull/defaults/main.yml', 'ansible/roles/swift/tasks/pull.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/018710221af5991eb4b5c86df20fa4cb43a62800', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\nThe default has been set to make users happier by default. :-)\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n(cherry picked from commit cbb567cb868b3681b82d325cfb712ef4601c91a9)\n'}]",0,805565,018710221af5991eb4b5c86df20fa4cb43a62800,9,3,1,30491,,,0,"Add ability to retry image pulling

Sometimes, the registries may intermittently fail to deliver the
images. This is often seen in the CI, though it also happens with
production deployments, even those with internal registries and/or
registry mirrors - due to sheer load when trying to pull the
images from many hosts.

This patchs adds two new vars to control retry behaviour.
The default has been set to make users happier by default. :-)

Change-Id: I81ad7d8642654f8474f11084c6934aab40243d35
(cherry picked from commit cbb567cb868b3681b82d325cfb712ef4601c91a9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/805565/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/defaults/main.yml', 'ansible/roles/service-images-pull/tasks/main.yml', 'releasenotes/notes/image-pull-retries-75490c3e6e1e4b54.yaml', 'ansible/roles/service-images-pull/defaults/main.yml', 'ansible/roles/swift/tasks/pull.yml']",5,018710221af5991eb4b5c86df20fa4cb43a62800,image-pull-retries-stable/wallaby," retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success",,50,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I81ad7d8642654f8474f11084c6934aab40243d35,openstack/kolla-ansible,stable/victoria,I81ad7d8642654f8474f11084c6934aab40243d35,Add ability to retry image pulling,MERGED,2021-08-23 13:27:23.000000000,2021-08-27 08:41:44.000000000,2021-08-27 08:39:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-23 13:27:23.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/roles/service-images-pull/tasks/main.yml', 'releasenotes/notes/image-pull-retries-75490c3e6e1e4b54.yaml', 'ansible/roles/service-images-pull/defaults/main.yml', 'ansible/roles/swift/tasks/pull.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcc60136a07482bb8a18a2989bd3afa0a44d49bb', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\nThe default has been set to make users happier by default. :-)\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n(cherry picked from commit cbb567cb868b3681b82d325cfb712ef4601c91a9)\n'}]",0,805566,bcc60136a07482bb8a18a2989bd3afa0a44d49bb,9,3,1,30491,,,0,"Add ability to retry image pulling

Sometimes, the registries may intermittently fail to deliver the
images. This is often seen in the CI, though it also happens with
production deployments, even those with internal registries and/or
registry mirrors - due to sheer load when trying to pull the
images from many hosts.

This patchs adds two new vars to control retry behaviour.
The default has been set to make users happier by default. :-)

Change-Id: I81ad7d8642654f8474f11084c6934aab40243d35
(cherry picked from commit cbb567cb868b3681b82d325cfb712ef4601c91a9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/805566/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/defaults/main.yml', 'ansible/roles/service-images-pull/tasks/main.yml', 'releasenotes/notes/image-pull-retries-75490c3e6e1e4b54.yaml', 'ansible/roles/service-images-pull/defaults/main.yml', 'ansible/roles/swift/tasks/pull.yml']",5,bcc60136a07482bb8a18a2989bd3afa0a44d49bb,image-pull-retries-stable/wallaby-stable/victoria," retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success",,50,0
openstack%2Fkolla-ansible~stable%2Fussuri~I7512af573782359a6f01290a55291ac7eb0de867,openstack/kolla-ansible,stable/ussuri,I7512af573782359a6f01290a55291ac7eb0de867,Set changed_when to false for group_by tasks,MERGED,2021-08-19 09:18:09.000000000,2021-08-27 08:41:41.000000000,2021-08-27 08:39:47.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-19 09:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8744e80a97827e02807b634059c3515c47f48f7b', 'message': 'Set changed_when to false for group_by tasks\n\nThis trivial patch is just turning off ansible\nchanged report for group_by tasks as it could\nbe confusing for user.\n\nChange-Id: I7512af573782359a6f01290a55291ac7eb0de867\n(cherry picked from commit 209dc1e9dce0365f0be18faa108eb65e3649a963)\n'}, {'number': 2, 'created': '2021-08-19 09:23:46.000000000', 'files': ['ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/site.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/gather-facts.yml', 'ansible/roles/haproxy/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f440ab10572b13cd681ed0242bba7f1d9b9b3b9', 'message': 'Set changed_when to false for group_by tasks\n\nThis trivial patch is just turning off ansible\nchanged report for group_by tasks as it could\nbe confusing for user.\n\nChange-Id: I7512af573782359a6f01290a55291ac7eb0de867\n(cherry picked from commit 209dc1e9dce0365f0be18faa108eb65e3649a963)\n'}]",3,805133,3f440ab10572b13cd681ed0242bba7f1d9b9b3b9,13,4,2,30491,,,0,"Set changed_when to false for group_by tasks

This trivial patch is just turning off ansible
changed report for group_by tasks as it could
be confusing for user.

Change-Id: I7512af573782359a6f01290a55291ac7eb0de867
(cherry picked from commit 209dc1e9dce0365f0be18faa108eb65e3649a963)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/805133/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/site.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/gather-facts.yml', 'ansible/roles/haproxy/tasks/precheck.yml']",6,8744e80a97827e02807b634059c3515c47f48f7b,, changed_when: false changed_when: false,,60,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I1d26e48e1958f13b854d8afded4bfba5021a2dec,openstack/kolla-ansible,stable/wallaby,I1d26e48e1958f13b854d8afded4bfba5021a2dec,Check config when checking the containers,MERGED,2021-08-06 06:04:26.000000000,2021-08-27 08:40:12.000000000,2021-08-27 08:40:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-06 06:04:26.000000000', 'files': ['releasenotes/notes/bug-1848775-b0625b7586adac96.yaml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/767f1e4b2339aa84d241758e046c490bcf1a1d40', 'message': ""Check config when checking the containers\n\nThe proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would do what we expected rather than being a noop\nin the second part.\n\nWe also lose the need to have notifies\nand whens in config and handler sections respectively.\nThis is optimised in a separate patch.\n\nFuture work:\n- optimise for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n\nChange-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec\nCloses-Bug: #1848775\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/773257\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n(cherry picked from commit c3afbd3c5efb84a1df272bd44a46d4db60c69f0b)\n""}]",0,803671,767f1e4b2339aa84d241758e046c490bcf1a1d40,10,3,1,30491,,,0,"Check config when checking the containers

The proposed approach allows for checking whether config
files are current, e.g. cases when the deployment was aborted after
config files were generated but before they were injected into the
containers which lead to old config staying in containers.

After this patch we can do:
  kolla-ansible genconfig
  kolla-ansible deploy-containers
and it would do what we expected rather than being a noop
in the second part.

We also lose the need to have notifies
and whens in config and handler sections respectively.
This is optimised in a separate patch.

Future work:
- optimise for large files
  - could we get away with comparing timestamps and sizes?
    container's should have a newer timestamp due to copy,
    could also preserve it

Change-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec
Closes-Bug: #1848775
Depends-On: https://review.opendev.org/c/openstack/kolla/+/773257
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
(cherry picked from commit c3afbd3c5efb84a1df272bd44a46d4db60c69f0b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/803671/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1848775-b0625b7586adac96.yaml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py']",3,767f1e4b2339aa84d241758e046c490bcf1a1d40,bug/1848775-stable/wallaby,"COMPARE_CONFIG_CMD = ['/usr/local/bin/kolla_set_configs', '--check'] if (not container or self.check_container_differs() or self.compare_config()): def compare_config(self): try: job = self.dc.exec_create( self.params['name'], COMPARE_CONFIG_CMD, user='root', ) output = self.dc.exec_start(job) exec_inspect = self.dc.exec_inspect(job) except docker.errors.APIError as e: # NOTE(yoctozepto): If we have a client error, then the container # cannot be used for config check (e.g., is restarting, or stopped # in the mean time) - assume config is stale = return True. # Else, propagate the server error back. if e.is_client_error(): return True else: raise # Exit codes: # 0: not changed # 1: changed # 137: abrupt exit -> changed # else: error if exec_inspect['ExitCode'] == 0: return False elif exec_inspect['ExitCode'] == 1: return True elif exec_inspect['ExitCode'] == 137: # NOTE(yoctozepto): This is Docker's command exit due to container # exit. It means the container is unstable so we are better off # marking it as requiring a restart due to config update. return True else: raise Exception('Failed to compare container configuration: ' 'ExitCode: %s Message: %s' % (exec_inspect['ExitCode'], output)) ", if not container or self.check_container_differs():,149,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I45be67df3717f78d78bcdc7df69600ab8681922f,openstack/kolla-ansible,stable/wallaby,I45be67df3717f78d78bcdc7df69600ab8681922f,Add suppress_type_name to stop warnings with ES7,MERGED,2021-08-11 08:22:04.000000000,2021-08-27 08:39:53.000000000,2021-08-27 08:39:53.000000000,"[{'_account_id': 782}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-11 08:22:04.000000000', 'files': ['ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'releasenotes/notes/fix_supress_type_warning-59f87fe62f83bd12.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41896ac79ccd4a71604f8643626747a5eb5ba3c1', 'message': 'Add suppress_type_name to stop warnings with ES7\n\nWhen using elasticsearch 7 with fluentd, you seem to get a lot\nof warnings in the docker logs output that look like:\n\n    [types removal] Specifying types in bulk requests is deprecated.\n\nThe docs suggest adding suppress_type_name to stop these warnings,\nand that seems to work without affecting any functionality.\n\nFurther info here:\nhttps://github.com/uken/fluent-plugin-elasticsearch/issues/785\n\nCloses-Bug: #1930856\nChange-Id: I45be67df3717f78d78bcdc7df69600ab8681922f\n'}]",0,804157,41896ac79ccd4a71604f8643626747a5eb5ba3c1,8,4,1,14826,,,0,"Add suppress_type_name to stop warnings with ES7

When using elasticsearch 7 with fluentd, you seem to get a lot
of warnings in the docker logs output that look like:

    [types removal] Specifying types in bulk requests is deprecated.

The docs suggest adding suppress_type_name to stop these warnings,
and that seems to work without affecting any functionality.

Further info here:
https://github.com/uken/fluent-plugin-elasticsearch/issues/785

Closes-Bug: #1930856
Change-Id: I45be67df3717f78d78bcdc7df69600ab8681922f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/804157/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'releasenotes/notes/fix_supress_type_warning-59f87fe62f83bd12.yaml']",3,41896ac79ccd4a71604f8643626747a5eb5ba3c1,stop-es7-warnings-stable/wallaby,--- fixes: - | Stops Fluentd warning message when posting to Elasticsearch 7 bulk API. ,,10,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d,openstack/kolla-ansible,stable/wallaby,I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d,Use Docker healthchecks for rabbitmq services,MERGED,2021-08-13 13:11:02.000000000,2021-08-27 08:39:51.000000000,2021-08-27 08:39:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 31506}]","[{'number': 1, 'created': '2021-08-13 13:11:02.000000000', 'files': ['ansible/roles/rabbitmq/tasks/restart_services.yml', 'releasenotes/notes/implement-docker-healthchecks-for-rabbitmq-a596f6b063026491.yaml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/rabbitmq/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e7fdb6fe3092b5b26a217f3d44f5c6f3111d2d3', 'message': 'Use Docker healthchecks for rabbitmq services\n\nThis change enables the use of Docker healthchecks for rabbitmq services.\n\nImplements: blueprint container-health-check\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/784562\n\nChange-Id: I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d\n(cherry picked from commit 1ddef85973dc510b642a6c633cf99e72320c17b5)\n'}]",0,804436,1e7fdb6fe3092b5b26a217f3d44f5c6f3111d2d3,12,4,1,27339,,,0,"Use Docker healthchecks for rabbitmq services

This change enables the use of Docker healthchecks for rabbitmq services.

Implements: blueprint container-health-check
Depends-On: https://review.opendev.org/c/openstack/kolla/+/784562

Change-Id: I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d
(cherry picked from commit 1ddef85973dc510b642a6c633cf99e72320c17b5)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/804436/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/tasks/restart_services.yml', 'releasenotes/notes/implement-docker-healthchecks-for-rabbitmq-a596f6b063026491.yaml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/rabbitmq/tasks/check-containers.yml']",4,1e7fdb6fe3092b5b26a217f3d44f5c6f3111d2d3,container-health-check-stable/wallaby," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,22,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I7512af573782359a6f01290a55291ac7eb0de867,openstack/kolla-ansible,stable/victoria,I7512af573782359a6f01290a55291ac7eb0de867,Set changed_when to false for group_by tasks,MERGED,2021-08-19 09:17:41.000000000,2021-08-27 08:39:49.000000000,2021-08-27 08:39:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-19 09:17:41.000000000', 'files': ['ansible/roles/haproxy/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/site.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/gather-facts.yml', 'ansible/roles/haproxy/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c3b7f307da6fe6d60dbad8848de694d32770d33', 'message': 'Set changed_when to false for group_by tasks\n\nThis trivial patch is just turning off ansible\nchanged report for group_by tasks as it could\nbe confusing for user.\n\nChange-Id: I7512af573782359a6f01290a55291ac7eb0de867\n(cherry picked from commit 209dc1e9dce0365f0be18faa108eb65e3649a963)\n'}]",0,805132,3c3b7f307da6fe6d60dbad8848de694d32770d33,10,4,1,30491,,,0,"Set changed_when to false for group_by tasks

This trivial patch is just turning off ansible
changed report for group_by tasks as it could
be confusing for user.

Change-Id: I7512af573782359a6f01290a55291ac7eb0de867
(cherry picked from commit 209dc1e9dce0365f0be18faa108eb65e3649a963)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/805132/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/site.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/gather-facts.yml', 'ansible/roles/haproxy/tasks/precheck.yml']",6,3c3b7f307da6fe6d60dbad8848de694d32770d33,, changed_when: false changed_when: false,,10,0
openstack%2Fkolla-ansible~stable%2Fussuri~I81ad7d8642654f8474f11084c6934aab40243d35,openstack/kolla-ansible,stable/ussuri,I81ad7d8642654f8474f11084c6934aab40243d35,Add ability to retry image pulling,MERGED,2021-08-23 13:27:31.000000000,2021-08-27 08:30:37.000000000,2021-08-27 08:26:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-23 13:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/905631b5d092918300d612c375ccc2f9d2bcde90', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\nThe default has been set to make users happier by default. :-)\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n(cherry picked from commit cbb567cb868b3681b82d325cfb712ef4601c91a9)\n'}, {'number': 2, 'created': '2021-08-23 13:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19806b7552503a4d9363da62a89cbf38db50bb81', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\nThe default has been set to make users happier by default. :-)\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n(cherry picked from commit cbb567cb868b3681b82d325cfb712ef4601c91a9)\n'}, {'number': 3, 'created': '2021-08-23 13:37:52.000000000', 'files': ['ansible/roles/swift/defaults/main.yml', 'ansible/roles/service-images-pull/tasks/main.yml', 'releasenotes/notes/image-pull-retries-75490c3e6e1e4b54.yaml', 'ansible/roles/service-images-pull/defaults/main.yml', 'ansible/roles/swift/tasks/pull.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd8fad8b1135f995bdf733f1303c5839ae4a199f', 'message': 'Add ability to retry image pulling\n\nSometimes, the registries may intermittently fail to deliver the\nimages. This is often seen in the CI, though it also happens with\nproduction deployments, even those with internal registries and/or\nregistry mirrors - due to sheer load when trying to pull the\nimages from many hosts.\n\nThis patchs adds two new vars to control retry behaviour.\nThe default has been set to make users happier by default. :-)\n\nChange-Id: I81ad7d8642654f8474f11084c6934aab40243d35\n(cherry picked from commit cbb567cb868b3681b82d325cfb712ef4601c91a9)\n'}]",0,805567,dd8fad8b1135f995bdf733f1303c5839ae4a199f,11,3,3,30491,,,0,"Add ability to retry image pulling

Sometimes, the registries may intermittently fail to deliver the
images. This is often seen in the CI, though it also happens with
production deployments, even those with internal registries and/or
registry mirrors - due to sheer load when trying to pull the
images from many hosts.

This patchs adds two new vars to control retry behaviour.
The default has been set to make users happier by default. :-)

Change-Id: I81ad7d8642654f8474f11084c6934aab40243d35
(cherry picked from commit cbb567cb868b3681b82d325cfb712ef4601c91a9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/805567/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/defaults/main.yml', 'ansible/roles/service-images-pull/tasks/main.yml', 'releasenotes/notes/image-pull-retries-75490c3e6e1e4b54.yaml', 'ansible/roles/service-images-pull/defaults/main.yml', 'ansible/roles/swift/tasks/pull.yml']",5,905631b5d092918300d612c375ccc2f9d2bcde90,image-pull-retries-stable/wallaby-stable/victoria-stable/ussuri," retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success retries: ""{{ service_images_pull_retries }}"" delay: ""{{ service_images_pull_delay }}"" register: result until: result is success",,50,0
openstack%2Fkolla-ansible~stable%2Fussuri~Iadcbde2f3d127c1294b78798304bdfe707539ba1,openstack/kolla-ansible,stable/ussuri,Iadcbde2f3d127c1294b78798304bdfe707539ba1,Fix regression in image pull action v2,MERGED,2021-08-23 08:29:21.000000000,2021-08-27 08:28:22.000000000,2021-08-27 08:26:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-23 08:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75f2da9a7f42efcb34ae2caaf6c7dbc65cb676b6', 'message': 'Fix regression in image pull action v2\n\nThis time to fix roles other than common. :-)\n\nUssuri-only\nVictoria+ not affected because Victoria dropped the reliance on\nimporting the common role via meta.\n\nThis regression was introduced by 16fe223bcf4e51cb0e1bb3bd05dde0121d621b1c\n""Fix regression in image pull action""\nso the previous attempt to fix the original regression.\n\nThat caused the kolla_role_name to leak everywhere.\nThis patch fixes this in fullest by replacing import with include\nand scoping var.\n\nChange-Id: Iadcbde2f3d127c1294b78798304bdfe707539ba1\n'}, {'number': 2, 'created': '2021-08-23 10:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a7ae7268017fff37d6a595101792feb9313f856', 'message': 'Fix regression in image pull action v2\n\nThis time to fix roles other than common. :-)\n\nUssuri-only\nVictoria+ not affected because Victoria dropped the reliance on\nimporting the common role via meta.\n\nThis regression was introduced by 16fe223bcf4e51cb0e1bb3bd05dde0121d621b1c\n""Fix regression in image pull action""\nso the previous attempt to fix the original regression.\n\nThat caused the kolla_role_name to leak everywhere.\nThis patch fixes this in fullest by wrapping the import in block.\n\nChange-Id: Iadcbde2f3d127c1294b78798304bdfe707539ba1\n'}, {'number': 3, 'created': '2021-08-23 13:37:35.000000000', 'files': ['ansible/roles/common/defaults/main.yml', 'ansible/roles/common/tasks/pull.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/313a6580c3d26b3e5056a162fc7647980cd7f397', 'message': 'Fix regression in image pull action v2\n\nThis time to fix roles other than common. :-)\n\nUssuri-only\nVictoria+ not affected because Victoria dropped the reliance on\nimporting the common role via meta.\n\nThis regression was introduced by 16fe223bcf4e51cb0e1bb3bd05dde0121d621b1c\n""Fix regression in image pull action""\nso the previous attempt to fix the original regression.\n\nThat caused the kolla_role_name to leak everywhere.\nThis patch fixes this in fullest by wrapping the import in block.\n\nRenamed ""role"" to ""name"" to unbreak ansible-lint.\n\nChange-Id: Iadcbde2f3d127c1294b78798304bdfe707539ba1\n'}]",4,805602,313a6580c3d26b3e5056a162fc7647980cd7f397,20,4,3,30491,,,0,"Fix regression in image pull action v2

This time to fix roles other than common. :-)

Ussuri-only
Victoria+ not affected because Victoria dropped the reliance on
importing the common role via meta.

This regression was introduced by 16fe223bcf4e51cb0e1bb3bd05dde0121d621b1c
""Fix regression in image pull action""
so the previous attempt to fix the original regression.

That caused the kolla_role_name to leak everywhere.
This patch fixes this in fullest by wrapping the import in block.

Renamed ""role"" to ""name"" to unbreak ansible-lint.

Change-Id: Iadcbde2f3d127c1294b78798304bdfe707539ba1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/805602/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/defaults/main.yml', 'ansible/roles/common/tasks/pull.yml']",2,75f2da9a7f42efcb34ae2caaf6c7dbc65cb676b6,fix-pulling,"- vars: # NOTE(yoctozepto): we need this in Ussuri for the common role because # it is imported via meta and it could happen that it gets imported by # nova-cell first (a very common case - separate computes) which sets # this variable and makes pull action work for nova_cell twice instead # due to how variable precedence and shadowing work in Ansible. kolla_role_name: ""common"" # NOTE(yoctozepto): and this has to be an include (and not import) to avoid # leaking the variable above to other imports include_role:",- import_role:,10,8
openstack%2Fskyline-console~master~I3ed5cb85ae4f03568b9bdc3f303efa3127bc3dd1,openstack/skyline-console,master,I3ed5cb85ae4f03568b9bdc3f303efa3127bc3dd1,fix: Fix batch actions,MERGED,2021-08-26 08:46:20.000000000,2021-08-27 08:24:48.000000000,2021-08-27 08:24:48.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-26 08:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/50a7db67a490a37bbba065581bede69ba31279ba', 'message': 'fix: Fix batch actions\n\nAdd batch actions for ironic\n\nChange-Id: I3ed5cb85ae4f03568b9bdc3f303efa3127bc3dd1\n'}, {'number': 2, 'created': '2021-08-26 08:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a758c7947cb81aa98b95db2367b28a3426ef8705', 'message': 'fix: Fix batch actions\n\nAdd batch actions for ironic\n\nChange-Id: I3ed5cb85ae4f03568b9bdc3f303efa3127bc3dd1\n'}, {'number': 3, 'created': '2021-08-27 07:52:11.000000000', 'files': ['src/pages/compute/containers/Instance/actions/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Instance/index.jsx', 'src/pages/compute/containers/Instance/actions/SoftReboot.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3fda776217bac68cdd64d3e5942bd4ca421a1d6c', 'message': 'fix: Fix batch actions\n\nAdd batch actions for ironic\n\nChange-Id: I3ed5cb85ae4f03568b9bdc3f303efa3127bc3dd1\n'}]",0,806116,3fda776217bac68cdd64d3e5942bd4ca421a1d6c,9,2,3,33689,,,0,"fix: Fix batch actions

Add batch actions for ironic

Change-Id: I3ed5cb85ae4f03568b9bdc3f303efa3127bc3dd1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/16/806116/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/index.jsx', 'src/pages/compute/containers/Instance/index.jsx']",2,50a7db67a490a37bbba065581bede69ba31279ba,open-36088," get batchActions() { const { selectedRowKeys = [], data = [] } = this.store.list; const slectedRows = selectedRowKeys.map((key) => { return data.find((it) => it.id === key); }); const allIronic = slectedRows.every((it) => isIronicInstance(it)); const noIronic = slectedRows.every((it) => !isIronicInstance(it)); if (allIronic) { return actionConfigs.batchActionsForIronic; } if (noIronic) { return actionConfigs.batchActions; } return actionConfigs.batchActionsForOthers; } const { batchActions } = this; if (this.isAdminPage) { return { ...actionConfigs.adminActions, batchActions, }; batchActions, return { ...actionConfigs.actionConfigs, batchActions, };"," disabled: isIronicInstance(record), if (this.isAdminPage) { return actionConfigs.adminActions; return actionConfigs.actionConfigs;",37,4
openstack%2Fos-net-config~stable%2Fwallaby~I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae,openstack/os-net-config,stable/wallaby,I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae,allow vhost0 to pass list of members,MERGED,2021-08-24 13:49:39.000000000,2021-08-27 08:14:59.000000000,2021-08-27 08:12:56.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 13:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3c59c2d3d57e498aac76f8717ba9f67335440ae7', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n'}, {'number': 2, 'created': '2021-08-24 13:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/606748a9294c953727abe0b0057ac6ddc90c3b0c', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n'}, {'number': 3, 'created': '2021-08-26 11:18:31.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ec3ed231bc5946ed06485c1a8889ed76a2ff4048', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n(cherry picked from commit 178564dccd07b9267b627b3969bde8d3a0045857)\n'}]",0,805820,ec3ed231bc5946ed06485c1a8889ed76a2ff4048,12,3,3,18810,,,0,"allow vhost0 to pass list of members

- in case of L3MH Contrail feature for kernel mode
BIND_INT might be a list

Change-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae
(cherry picked from commit 178564dccd07b9267b627b3969bde8d3a0045857)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/20/805820/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,3c59c2d3d57e498aac76f8717ba9f67335440ae7,," ifnames = "","".join([m.name for m in contrail_vrouter.members]) data += ""BIND_INT=%s\n"" % ifnames"," # Contrail vrouter will have the only member (of type interface, # vlan or linux_bond) ifname = contrail_vrouter.members[0].name data += ""BIND_INT=%s\n"" % ifname",25,4
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751,openstack/puppet-tripleo,stable/ussuri,Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751,Pin puppet-redis to 8.0.0,MERGED,2021-08-27 04:15:38.000000000,2021-08-27 08:13:01.000000000,2021-08-27 08:13:01.000000000,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 04:15:38.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1081ab94169ca51af5d3900517dec54bd551988a', 'message': ""Pin puppet-redis to 8.0.0\n\n... because recent change to adopt to stdlib 8.0.0[1] causes duplicated\ndeclaration of Package['redis'] when stdlib 7.y.z is used.\n\n[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8\n\nConflicts:\n\tPuppetfile_extras\n\nCloses-Bug: #1941772\nChange-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751\n(cherry picked from commit 4931d2cce84c61c764214360e4cf9f9a4083cdd2)\n(cherry picked from commit 73fc6a7f9521f26769b7dcef37efa07219c2f63c)\n(cherry picked from commit 3529a584b3415d6e5f5223a071a0082593995f49)\n""}]",0,806304,1081ab94169ca51af5d3900517dec54bd551988a,7,3,1,9816,,,0,"Pin puppet-redis to 8.0.0

... because recent change to adopt to stdlib 8.0.0[1] causes duplicated
declaration of Package['redis'] when stdlib 7.y.z is used.

[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8

Conflicts:
	Puppetfile_extras

Closes-Bug: #1941772
Change-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751
(cherry picked from commit 4931d2cce84c61c764214360e4cf9f9a4083cdd2)
(cherry picked from commit 73fc6a7f9521f26769b7dcef37efa07219c2f63c)
(cherry picked from commit 3529a584b3415d6e5f5223a071a0082593995f49)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/806304/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,1081ab94169ca51af5d3900517dec54bd551988a,bug/1941772,# NOTE(tkajinam): Pinnned due to LP#1941772 :ref => 'v8.0.0', :ref => 'master',2,1
openstack%2Fpuppet-tripleo~stable%2Fvictoria~Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751,openstack/puppet-tripleo,stable/victoria,Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751,Pin puppet-redis to 8.0.0,MERGED,2021-08-27 04:14:27.000000000,2021-08-27 08:12:59.000000000,2021-08-27 08:12:59.000000000,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 04:14:27.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3529a584b3415d6e5f5223a071a0082593995f49', 'message': ""Pin puppet-redis to 8.0.0\n\n... because recent change to adopt to stdlib 8.0.0[1] causes duplicated\ndeclaration of Package['redis'] when stdlib 7.y.z is used.\n\n[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8\n\nCloses-Bug: #1941772\nChange-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751\n(cherry picked from commit 4931d2cce84c61c764214360e4cf9f9a4083cdd2)\n(cherry picked from commit 73fc6a7f9521f26769b7dcef37efa07219c2f63c)\n""}]",0,806303,3529a584b3415d6e5f5223a071a0082593995f49,7,3,1,9816,,,0,"Pin puppet-redis to 8.0.0

... because recent change to adopt to stdlib 8.0.0[1] causes duplicated
declaration of Package['redis'] when stdlib 7.y.z is used.

[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8

Closes-Bug: #1941772
Change-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751
(cherry picked from commit 4931d2cce84c61c764214360e4cf9f9a4083cdd2)
(cherry picked from commit 73fc6a7f9521f26769b7dcef37efa07219c2f63c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/806303/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,3529a584b3415d6e5f5223a071a0082593995f49,bug/1941772,# NOTE(tkajinam): Pinnned due to LP#1941772 :ref => 'v8.0.0', :ref => 'master',2,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751,openstack/puppet-tripleo,stable/wallaby,Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751,Pin puppet-redis to 8.0.0,MERGED,2021-08-27 04:13:49.000000000,2021-08-27 08:12:57.000000000,2021-08-27 08:12:57.000000000,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 04:13:49.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/73fc6a7f9521f26769b7dcef37efa07219c2f63c', 'message': ""Pin puppet-redis to 8.0.0\n\n... because recent change to adopt to stdlib 8.0.0[1] causes duplicated\ndeclaration of Package['redis'] when stdlib 7.y.z is used.\n\n[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8\n\nCloses-Bug: #1941772\nChange-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751\n(cherry picked from commit 4931d2cce84c61c764214360e4cf9f9a4083cdd2)\n""}]",0,806302,73fc6a7f9521f26769b7dcef37efa07219c2f63c,7,3,1,9816,,,0,"Pin puppet-redis to 8.0.0

... because recent change to adopt to stdlib 8.0.0[1] causes duplicated
declaration of Package['redis'] when stdlib 7.y.z is used.

[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8

Closes-Bug: #1941772
Change-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751
(cherry picked from commit 4931d2cce84c61c764214360e4cf9f9a4083cdd2)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/806302/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,73fc6a7f9521f26769b7dcef37efa07219c2f63c,bug/1941772,# NOTE(tkajinam): Pinnned due to LP#1941772 :ref => 'v8.0.0', :ref => 'master',2,1
openstack%2Ftripleo-common~stable%2Fwallaby~I3a682168d66662c350cbc69885e1420d160f3369,openstack/tripleo-common,stable/wallaby,I3a682168d66662c350cbc69885e1420d160f3369,Install Neutron BGPVPN in neutron-server,MERGED,2021-08-26 16:23:02.000000000,2021-08-27 08:05:46.000000000,2021-08-27 08:04:11.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-26 16:23:02.000000000', 'files': ['container-images/tcib/base/os/neutron-base/neutron-server/neutron-server.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7a51e01001bd7d538d3ab888e30ae904da2f3b39', 'message': 'Install Neutron BGPVPN in neutron-server\n\nThis is needed to be able to support EVPN scenarios and BGPVPN\nsupport. This service plugin needs is only enabled via THT\nBut we need it to be installed in the neutron container in order\nto add support for it.\n\nChange-Id: I3a682168d66662c350cbc69885e1420d160f3369\n'}]",0,806241,7a51e01001bd7d538d3ab888e30ae904da2f3b39,9,5,1,20172,,,0,"Install Neutron BGPVPN in neutron-server

This is needed to be able to support EVPN scenarios and BGPVPN
support. This service plugin needs is only enabled via THT
But we need it to be installed in the neutron container in order
to add support for it.

Change-Id: I3a682168d66662c350cbc69885e1420d160f3369
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/806241/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/neutron-base/neutron-server/neutron-server.yaml'],1,7a51e01001bd7d538d3ab888e30ae904da2f3b39,w, - python3-networking-bgpvpn,,1,0
openstack%2Fopenstack-manuals~master~Ie9dd43d0ca76e8446b874c57ea304809aee7a33b,openstack/openstack-manuals,master,Ie9dd43d0ca76e8446b874c57ea304809aee7a33b,Grammar check and correct the typo.,MERGED,2021-08-27 04:17:37.000000000,2021-08-27 08:05:36.000000000,2021-08-27 07:50:21.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-27 04:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/56f69ef7d8c55d0c5a1766a47d1496201075e1ac', 'message': 'Grammer check and correct the typo.\n\nChange-Id: Ie9dd43d0ca76e8446b874c57ea304809aee7a33b\n'}, {'number': 2, 'created': '2021-08-27 04:24:02.000000000', 'files': ['doc/doc-contrib-guide/source/project-install-guide.rst', 'doc/api-quick-start/source/api-quick-start.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5cab55f943f3b4f439340aa8470ba8f74d63becd', 'message': 'Grammar check and correct the typo.\n\nChange-Id: Ie9dd43d0ca76e8446b874c57ea304809aee7a33b\n'}]",0,806305,5cab55f943f3b4f439340aa8470ba8f74d63becd,10,2,2,33780,,,0,"Grammar check and correct the typo.

Change-Id: Ie9dd43d0ca76e8446b874c57ea304809aee7a33b
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/05/806305/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/doc-contrib-guide/source/project-install-guide.rst', 'doc/api-quick-start/source/api-quick-start.rst']",2,56f69ef7d8c55d0c5a1766a47d1496201075e1ac,docfix,the `expiration <https://docs.openstack.org/keystone/latest/configuration/config-options.html#token.expiration>`__ option in the *Identity Service Configuration Guide*.,the `expiration <https://docs.openstack.org/keystone/latest/configuration/config-options.html#token.expiration>`__ option in the the *Identity Service Configuration Guide*.,2,3
openstack%2Fsushy-oem-idrac~master~Iede5a4b505316601ac81f8c36d5790a2e935869a,openstack/sushy-oem-idrac,master,Iede5a4b505316601ac81f8c36d5790a2e935869a,Fix exposing system constants,MERGED,2021-08-23 14:55:38.000000000,2021-08-27 07:59:56.000000000,2021-08-27 07:59:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-23 14:55:38.000000000', 'files': ['sushy_oem_idrac/resources/__init__.py', 'sushy_oem_idrac/__init__.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/be0b8450bc469d753d4209d6920e4ab048670357', 'message': 'Fix exposing system constants\n\nExposed incorrect file at\nI53964f935d82c349d51c0991c46a3e2b9b0d2682\n\nChange-Id: Iede5a4b505316601ac81f8c36d5790a2e935869a\n'}]",0,805655,be0b8450bc469d753d4209d6920e4ab048670357,7,3,1,27909,,,0,"Fix exposing system constants

Exposed incorrect file at
I53964f935d82c349d51c0991c46a3e2b9b0d2682

Change-Id: Iede5a4b505316601ac81f8c36d5790a2e935869a
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/55/805655/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/resources/__init__.py', 'sushy_oem_idrac/__init__.py']",2,be0b8450bc469d753d4209d6920e4ab048670357,oem-raid,from sushy_oem_idrac.resources.system.constants import * # noqa,,1,15
openstack%2Fmanila-ui~master~Ic0ffc853e0549ff4ae788d3c3969dd469f9dac48,openstack/manila-ui,master,Ic0ffc853e0549ff4ae788d3c3969dd469f9dac48,"API version 2.46, adds default to share_type",ABANDONED,2021-05-01 08:31:10.000000000,2021-08-27 07:34:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 30407}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-05-01 08:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/c90fcd21d8d82c94725b74e06fd85f2638bfebe6', 'message': 'API version 2.46, adds default to share share_type\n\nPartial-Bug: #1920688\nChange-Id: Ic0ffc853e0549ff4ae788d3c3969dd469f9dac48\n'}, {'number': 2, 'created': '2021-05-11 08:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/3031a800f9898092b33a443135da873440974ba2', 'message': 'API version 2.46, adds default to share share_type\n\nPartial-Bug: #1920688\nChange-Id: Ic0ffc853e0549ff4ae788d3c3969dd469f9dac48\n'}, {'number': 3, 'created': '2021-05-11 08:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/7ea3f91b4cb07a075f0aae854ccde14d7e046ce9', 'message': 'API version 2.46, adds default to share_type\n\nPartial-Bug: #1920688\nChange-Id: Ic0ffc853e0549ff4ae788d3c3969dd469f9dac48\n'}, {'number': 4, 'created': '2021-05-20 05:58:24.000000000', 'files': ['manila_ui/tests/dashboards/admin/share_types/test_forms.py', 'releasenotes/notes/bug-1920688-2-add-default-to-share-type-ad2c7a3f1b4bd06c.yaml', 'manila_ui/api/manila.py', 'manila_ui/tests/api/test_manila.py', 'manila_ui/tests/dashboards/admin/share_types/tests.py', 'manila_ui/dashboards/admin/share_types/forms.py', 'manila_ui/dashboards/admin/share_types/tables.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/e914154842b609ac234bc722b4269eeba0963946', 'message': 'API version 2.46, adds default to share_type\n\nPartial-Bug: #1920688\nChange-Id: Ic0ffc853e0549ff4ae788d3c3969dd469f9dac48\n'}]",13,789049,e914154842b609ac234bc722b4269eeba0963946,17,3,4,32493,,,0,"API version 2.46, adds default to share_type

Partial-Bug: #1920688
Change-Id: Ic0ffc853e0549ff4ae788d3c3969dd469f9dac48
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/49/789049/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/tests/dashboards/admin/share_types/test_forms.py', 'releasenotes/notes/bug-1920688-2-add-default-to-share-type-ad2c7a3f1b4bd06c.yaml', 'manila_ui/api/manila.py', 'manila_ui/tests/api/test_manila.py', 'manila_ui/tests/dashboards/admin/share_types/tests.py', 'manila_ui/dashboards/admin/share_types/forms.py', 'manila_ui/dashboards/admin/share_types/tables.py']",7,c90fcd21d8d82c94725b74e06fd85f2638bfebe6,bug/1920688," is_default = tables.Column( ""is_default"", verbose_name=_(""Is default""), filters=(lambda d: 'Yes' if d is True else '-', ), )",,33,22
openstack%2Frenderspec~master~Ic76d58132d5feef008a16f13b1c7890d8a68c93b,openstack/renderspec,master,Ic76d58132d5feef008a16f13b1c7890d8a68c93b,Use py3 as the default runtime for tox,MERGED,2021-04-20 06:47:18.000000000,2021-08-27 07:24:43.000000000,2021-08-27 07:20:09.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 06:47:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/548bd54370df420aa2559de579158a12d13248e5', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Ic76d58132d5feef008a16f13b1c7890d8a68c93b\n'}]",0,787110,548bd54370df420aa2559de579158a12d13248e5,8,3,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Ic76d58132d5feef008a16f13b1c7890d8a68c93b
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/10/787110/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,548bd54370df420aa2559de579158a12d13248e5,,"envlist = py3,pypy,pep8","envlist = py37,pypy,pep8",1,1
openstack%2Fmanila-ui~master~I8d93c2214cb187a763df861555ddd7b444c9ca89,openstack/manila-ui,master,I8d93c2214cb187a763df861555ddd7b444c9ca89,Set parent share az when creating a share from snapshot,MERGED,2021-03-05 18:41:49.000000000,2021-08-27 07:24:38.000000000,2021-08-27 07:21:58.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-03-05 18:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/6eb1f979d8eb8cd23a90bfbccede1f8143bcee4e', 'message': ""fixes  availability zone issue when creating from snapshot\n\nFixes bug #1915706 in Manila UI, availability zone\nnot being picked up correctly. Issue is invaild input\nerror being raised, even when availability_zone provided\nis the same, as parent share's. Removed availability_zone\nfield, when creating from snapshot. So form doesn't send\nany data and None will be sent. Code for this part in [1]\n\n[1]https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200\n\nCloses-Bug: #1915706\nChange-Id: I8d93c2214cb187a763df861555ddd7b444c9ca89\n""}, {'number': 2, 'created': '2021-04-26 06:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/74a92f59548ad68eb07b230e5f6b2ac21e3109ec', 'message': ""fixes  availability zone issue when creating from snapshot\n\nFixes bug #1915706 in Manila UI, availability zone\nnot being picked up correctly. Issue is invaild input\nerror being raised, even when availability_zone provided\nis the same, as parent share's. Made availability_zone value\ndefault as parent share az, and read only.\n\nCloses-Bug: #1915706\nChange-Id: I8d93c2214cb187a763df861555ddd7b444c9ca89\n""}, {'number': 3, 'created': '2021-04-28 14:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/2052c57c6f09488367d98b6f5d931c2325670ee2', 'message': ""Set parent share az when creating a share from snapshot\n\nThis patch-set modifies how we manage user input when creating a share\nfrom snapshot. Since we use the same form for the basic create share workflow\nand for the create share from snapshot workflow, we need to add a check\nto distinguish both cases: when creating a share from snapshot, the\nparent share availability zone is picked by default. Otherwise, if it's a\nregular share create, the user can pick up the availability zone they need.\n\nCloses-Bug: #1915706\n\nChange-Id: I8d93c2214cb187a763df861555ddd7b444c9ca89\n""}, {'number': 4, 'created': '2021-08-19 21:01:10.000000000', 'files': ['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/tests/dashboards/project/shares/tests.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/4d333690c4a95ba9589ec920f34f300a18bdfc8d', 'message': ""Set parent share az when creating a share from snapshot\n\nThis patch-set modifies how we manage user input when creating a share\nfrom snapshot. Since we use the same form for the basic create share workflow\nand for the create share from snapshot workflow, we need to add a check\nto distinguish both cases: when creating a share from snapshot, the\nparent share availability zone is picked by default. Otherwise, if it's a\nregular share create, the user can pick up the availability zone they need.\n\nCloses-Bug: #1915706\n\nChange-Id: I8d93c2214cb187a763df861555ddd7b444c9ca89\n""}]",8,779027,4d333690c4a95ba9589ec920f34f300a18bdfc8d,25,5,4,32531,,,0,"Set parent share az when creating a share from snapshot

This patch-set modifies how we manage user input when creating a share
from snapshot. Since we use the same form for the basic create share workflow
and for the create share from snapshot workflow, we need to add a check
to distinguish both cases: when creating a share from snapshot, the
parent share availability zone is picked by default. Otherwise, if it's a
regular share create, the user can pick up the availability zone they need.

Closes-Bug: #1915706

Change-Id: I8d93c2214cb187a763df861555ddd7b444c9ca89
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/27/779027/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/tests/dashboards/project/shares/tests.py']",2,6eb1f979d8eb8cd23a90bfbccede1f8143bcee4e,bug/1915706, } availability_zone=None)," 'availability_zone': 'fake_az', } mock_az_list.return_value = [self.FakeAZ('fake_az'), ] mock_az_list.assert_called_once_with(mock.ANY) availability_zone=formData['availability_zone'])",3,5
openstack%2Frenderspec~master~I4d7b11ac4ac5725ad0605b03ddabed22bad8d0d3,openstack/renderspec,master,I4d7b11ac4ac5725ad0605b03ddabed22bad8d0d3,drop mock from lower-constraints and requirements,MERGED,2020-06-09 10:07:54.000000000,2021-08-27 07:22:07.000000000,2021-08-27 07:18:15.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 27380}]","[{'number': 1, 'created': '2020-06-09 10:07:54.000000000', 'files': ['test-requirements.txt', 'tests.py'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/cb7b813cfe1f75396e335f50bf33a9775cd98f38', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I4d7b11ac4ac5725ad0605b03ddabed22bad8d0d3\n""}]",0,734538,cb7b813cfe1f75396e335f50bf33a9775cd98f38,9,4,1,28522,,,0,"drop mock from lower-constraints and requirements

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints and requirements.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I4d7b11ac4ac5725ad0605b03ddabed22bad8d0d3
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/38/734538/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tests.py']",2,cb7b813cfe1f75396e335f50bf33a9775cd98f38,drop_mock,"from unittest.mock import Mock, patch","from mock import Mock, patch",1,2
openstack%2Frpm-packaging~master~I5ba42e6a6476272640c142228e431410ecedb592,openstack/rpm-packaging,master,I5ba42e6a6476272640c142228e431410ecedb592,ovsdbapp: update to 1.11.0,MERGED,2021-08-09 18:41:47.000000000,2021-08-27 07:21:25.000000000,2021-08-27 07:21:25.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 18:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/56904e79882ec3b32448c004dc9aed31e44cf063', 'message': 'ovsdbapp: update to 1.11.0\n\nChange-Id: I5ba42e6a6476272640c142228e431410ecedb592\n'}, {'number': 2, 'created': '2021-08-13 06:14:51.000000000', 'files': ['openstack/ovsdbapp/ovsdbapp.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4cfebaa8609e5016c56eeb25c7460af6d771c4d5', 'message': 'ovsdbapp: update to 1.11.0\n\nChange-Id: I5ba42e6a6476272640c142228e431410ecedb592\n'}]",0,803976,4cfebaa8609e5016c56eeb25c7460af6d771c4d5,13,5,2,6593,,,0,"ovsdbapp: update to 1.11.0

Change-Id: I5ba42e6a6476272640c142228e431410ecedb592
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/803976/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ovsdbapp/ovsdbapp.spec.j2'],1,56904e79882ec3b32448c004dc9aed31e44cf063,,{% set upstream_version = upstream_version('1.11.0') %},{% set upstream_version = upstream_version('1.10.0') %},1,1
openstack%2Frenderspec~master~Ic011f19ee0f96339ffff7b316b40663e840c0529,openstack/renderspec,master,Ic011f19ee0f96339ffff7b316b40663e840c0529,Add support for Jinja2 3.x filters,MERGED,2021-08-25 11:26:34.000000000,2021-08-27 07:19:36.000000000,2021-08-27 07:17:01.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-25 11:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/a5c5467274e67e29fd83e06758c78b3803899ee5', 'message': 'Add support for Jinja2 3.x filters\n\nJinja2 3.0 has deprecated the contextfunction() and contextfilter()\nfilters, and recommends to use pass_context() instead [1].\n\nThis commit adds support for pre-3.1 and 3.1 versions of Jinja2.\n\n[1] - https://jinja.palletsprojects.com/en/3.0.x/api/#jinja2.contextfilter\n\nChange-Id: Ic011f19ee0f96339ffff7b316b40663e840c0529\n'}, {'number': 2, 'created': '2021-08-25 11:29:47.000000000', 'files': ['renderspec/contextfuncs.py'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/3bbb1c7a251af2e63af87f3712a0fb2439212a53', 'message': 'Add support for Jinja2 3.x filters\n\nJinja2 3.0 has deprecated the contextfunction() and contextfilter()\nfilters, and recommends to use pass_context() instead [1].\n\nThis commit adds support for pre-3.1 and 3.1 versions of Jinja2.\n\n[1] - https://jinja.palletsprojects.com/en/3.0.x/api/#jinja2.contextfilter\n\nChange-Id: Ic011f19ee0f96339ffff7b316b40663e840c0529\n'}]",0,805985,3bbb1c7a251af2e63af87f3712a0fb2439212a53,8,5,2,13294,,,0,"Add support for Jinja2 3.x filters

Jinja2 3.0 has deprecated the contextfunction() and contextfilter()
filters, and recommends to use pass_context() instead [1].

This commit adds support for pre-3.1 and 3.1 versions of Jinja2.

[1] - https://jinja.palletsprojects.com/en/3.0.x/api/#jinja2.contextfilter

Change-Id: Ic011f19ee0f96339ffff7b316b40663e840c0529
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/85/805985/1 && git format-patch -1 --stdout FETCH_HEAD,['renderspec/contextfuncs.py'],1,a5c5467274e67e29fd83e06758c78b3803899ee5,,"import jinja2if hasattr(jinja2, ""pass_context""): contextfilter = jinja2.pass_context contextfunction = jinja2.pass_context else: from jinja2 import contextfilter from jinja2 import contextfunction ",from jinja2 import contextfilter from jinja2 import contextfunction,8,2
openstack%2Frpm-packaging~master~Iea090d34edd9223a544913eed7f133e4bd8476a5,openstack/rpm-packaging,master,Iea090d34edd9223a544913eed7f133e4bd8476a5,neutron: add os-resource-classes dependency,MERGED,2021-08-10 06:20:58.000000000,2021-08-27 07:17:59.000000000,2021-08-27 07:17:59.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-10 06:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/494d4b20480d4dca056d257a466e4c8b8632a1c6', 'message': 'neutron: add os-resource-classes dependency\n\nthis was recently introduced in I33ecd6f32410f9b7ab1e87a6640201ea157bc383\n\nChange-Id: Iea090d34edd9223a544913eed7f133e4bd8476a5\n'}, {'number': 2, 'created': '2021-08-12 20:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/003fbdb790d06d2ec6e83116a1c68b5783758969', 'message': 'neutron: add os-resource-classes dependency\n\nthis was recently introduced in I33ecd6f32410f9b7ab1e87a6640201ea157bc383\n\nChange-Id: Iea090d34edd9223a544913eed7f133e4bd8476a5\n'}, {'number': 3, 'created': '2021-08-12 21:07:49.000000000', 'files': ['openstack/neutron/neutron.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8510633af284e8289a6554149e8807dda33e7681', 'message': 'neutron: add os-resource-classes dependency\n\nthis was recently introduced in I33ecd6f32410f9b7ab1e87a6640201ea157bc383\n\nChange-Id: Iea090d34edd9223a544913eed7f133e4bd8476a5\n'}]",0,804041,8510633af284e8289a6554149e8807dda33e7681,17,5,3,6593,,,0,"neutron: add os-resource-classes dependency

this was recently introduced in I33ecd6f32410f9b7ab1e87a6640201ea157bc383

Change-Id: Iea090d34edd9223a544913eed7f133e4bd8476a5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/41/804041/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron/neutron.spec.j2'],1,494d4b20480d4dca056d257a466e4c8b8632a1c6,,BuildRequires: {{ py3('os-resource-classes') }}Requires: {{ py3('os-resource-classes') }},,2,0
openstack%2Fskyline-console~master~I312c38e764cdcdca605d4c94006b836d8dc61d7c,openstack/skyline-console,master,I312c38e764cdcdca605d4c94006b836d8dc61d7c,fix: Support download 1W data when total count is more,MERGED,2021-08-27 06:35:07.000000000,2021-08-27 07:14:18.000000000,2021-08-27 07:14:18.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 06:35:07.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/components/Tables/Base/Download/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1f80bdee8d5c01646dbfc594e4fcc78a6a3b8149', 'message': 'fix: Support download 1W data when total count is more\n\nSupport download 1W data when total count is more than 1W\n\nChange-Id: I312c38e764cdcdca605d4c94006b836d8dc61d7c\n'}]",0,806316,1f80bdee8d5c01646dbfc594e4fcc78a6a3b8149,6,2,1,30434,,,0,"fix: Support download 1W data when total count is more

Support download 1W data when total count is more than 1W

Change-Id: I312c38e764cdcdca605d4c94006b836d8dc61d7c
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/16/806316/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/components/Tables/Base/Download/index.jsx']",3,1f80bdee8d5c01646dbfc594e4fcc78a6a3b8149,master2,"import Confirm from 'components/Confirm'; totalMax: PropTypes.number, totalMax: 10000, confirmExportMax = () => { const { totalMax, total } = this.props; Confirm.warn({ title: t('Are you sure to download data?'), content: t( 'The total amount of data is { total }, and the interface can support downloading { totalMax } pieces of data. If you need to download all the data, please contact the administrator.', { totalMax, total } ), onCancel: this.onConfirmCancel, onOk: this.beginDownload, }); }; downloadAllData = () => { const { total, totalMax } = this.props; if (total && total > totalMax) { this.confirmExportMax(); } else { this.beginDownload(); } const { totalMax } = this.props; const counts = Math.min(this.total || 0, totalMax); const isFinish = items.length < this.pageSize || newDatas.length >= counts;", downloadAllData = () => { this.beginDownload(); const counts = this.total || 0; const isFinish = items.length < this.pageSize;,29,3
openstack%2Fpython-zunclient~master~Id372db061990133808940694530fa53e07d8e222,openstack/python-zunclient,master,Id372db061990133808940694530fa53e07d8e222,fix function name error of image pull,NEW,2021-08-27 06:14:31.000000000,2021-08-27 06:46:12.000000000,,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 06:14:31.000000000', 'files': ['zunclient/v1/images_shell.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/9c77b78d3cc321d796ba4be1a2fabb7c3fcd91aa', 'message': 'fix function name error of image pull\n\nChange-Id: Id372db061990133808940694530fa53e07d8e222\n'}]",0,806314,9c77b78d3cc321d796ba4be1a2fabb7c3fcd91aa,2,3,1,22170,,,0,"fix function name error of image pull

Change-Id: Id372db061990133808940694530fa53e07d8e222
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/14/806314/1 && git format-patch -1 --stdout FETCH_HEAD,['zunclient/v1/images_shell.py'],1,9c77b78d3cc321d796ba4be1a2fabb7c3fcd91aa,fix_image_pull,"def do_image_pull(cs, args):","def do_pull(cs, args):",1,1
openstack%2Fskyline-console~master~Icdd9ceeb78b5820b32ccce8a1b13e785b5258330,openstack/skyline-console,master,Icdd9ceeb78b5820b32ccce8a1b13e785b5258330,feat: Action log in instance,MERGED,2021-08-26 08:06:18.000000000,2021-08-27 06:33:21.000000000,2021-08-27 06:33:21.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-26 08:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ea75c6019df6d5d7f1d2f3bb9b886e4fcbfb098d', 'message': 'feat: Action log in instance\n\nAdd action log in instance to better monitor\n\nChange-Id: Icdd9ceeb78b5820b32ccce8a1b13e785b5258330\n'}, {'number': 2, 'created': '2021-08-27 03:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/34407e6bf9194084e5990d299a2deccd824a7d93', 'message': 'feat: Action log in instance\n\nAdd action log in instance to better monitor\n\nChange-Id: Icdd9ceeb78b5820b32ccce8a1b13e785b5258330\n'}, {'number': 3, 'created': '2021-08-27 03:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/06085866d7d08e07c7afc6aa5f807a6c5ae1e753', 'message': 'feat: Action log in instance\n\nAdd action log in instance to better monitor\n\nChange-Id: Icdd9ceeb78b5820b32ccce8a1b13e785b5258330\n'}, {'number': 4, 'created': '2021-08-27 03:46:51.000000000', 'files': ['src/pages/compute/containers/Instance/Detail/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/resources/instance.jsx', 'src/styles/base.less', 'src/pages/compute/containers/Instance/Detail/ActionLog/index.jsx', 'src/stores/nova/action-log.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f04aec1749aa5ec53f8514cefb065772acd63799', 'message': 'feat: Action log in instance\n\nAdd action log in instance to better monitor\n\nChange-Id: Icdd9ceeb78b5820b32ccce8a1b13e785b5258330\n'}]",2,806100,f04aec1749aa5ec53f8514cefb065772acd63799,12,2,4,33689,,,0,"feat: Action log in instance

Add action log in instance to better monitor

Change-Id: Icdd9ceeb78b5820b32ccce8a1b13e785b5258330
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/00/806100/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/Detail/index.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/resources/instance.jsx', 'src/styles/base.less', 'src/pages/compute/containers/Instance/Detail/ActionLog/index.jsx', 'src/stores/nova/action-log.js']",7,ea75c6019df6d5d7f1d2f3bb9b886e4fcbfb098d,open-35996,"// Copyright 2021 99cloud // // Licensed under the Apache License, Version 2.0 (the ""License""); // you may not use this file except in compliance with the License. // You may obtain a copy of the License at // // http://www.apache.org/licenses/LICENSE-2.0 // // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an ""AS IS"" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. // See the License for the specific language governing permissions and // limitations under the License. import client from 'client'; import Base from '../base'; export class ActionLogStore extends Base { get client() { return client.nova.servers.instanceActions; } get isSubResource() { return true; } get paramsFunc() { return () => ({}); } detailFetchByClient(resourceParams) { const { id, requestId } = resourceParams; return this.client.show(id, requestId); } } const globalActionLogStore = new ActionLogStore(); export default globalActionLogStore; ",,308,1
openstack%2Fskyline-console~master~I471d7688f73e78155bffbe34908ba2abadb05a5f,openstack/skyline-console,master,I471d7688f73e78155bffbe34908ba2abadb05a5f,feat: Update console && administrator to link,MERGED,2021-08-27 03:08:14.000000000,2021-08-27 06:33:20.000000000,2021-08-27 06:33:20.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-27 03:08:14.000000000', 'files': ['src/components/Layout/GlobalHeader/RightContent.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/52bb5159166e9cfb3a54e4e9f20a7f6fefb78d9a', 'message': 'feat: Update console && administrator to link\n\nUpdate console && administrator to link\n\nChange-Id: I471d7688f73e78155bffbe34908ba2abadb05a5f\n'}]",0,806297,52bb5159166e9cfb3a54e4e9f20a7f6fefb78d9a,6,2,1,30434,,,0,"feat: Update console && administrator to link

Update console && administrator to link

Change-Id: I471d7688f73e78155bffbe34908ba2abadb05a5f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/97/806297/1 && git format-patch -1 --stdout FETCH_HEAD,['src/components/Layout/GlobalHeader/RightContent.jsx'],1,52bb5159166e9cfb3a54e4e9f20a7f6fefb78d9a,master2,"// eslint-disable-next-line no-unused-vars href=""/base/overview"" href=""/base/overview-admin"""," onClick={() => gotoConsole(0, props)} onClick={() => gotoConsole(1, props)} to=""/base/overview-admin"" // import React from 'react'; // import Avatar from './AvatarDropdown'; // import { Divider } from 'antd'; // import styles from './index.less'; // import Message from './Message'; // import { Link } from 'react-router-dom'; // const GlobalHeaderRight = (props) => { // const { isAdminPage = false, rootStore: { hasAdminRole = false } = {} } = props; // let linkRender = null; // if (hasAdminRole) { // const consoleLink = isAdminPage ? // <Link to=""/base/overview"" className={styles.link}>{ t('Console') }</Link> : // <span className={styles.active}>{t('Console')}</span>; // const adminLink = !isAdminPage ? // <Link to=""/base/overview-admin"" className={styles.link}>{ t('Administrator') }</Link> : // <span className={styles.active}>{t('Administrator')}</span>; // linkRender = <div className={styles.links}> // { consoleLink } // <Divider type=""vertical"" /> // { adminLink } // </div>; // } // return <div className={styles.right}> // {linkRender} // <Message /> // <Avatar menu /> // </div>; // }; // export default GlobalHeaderRight;",3,36
openstack%2Ftrove~master~Iebac740e982a89fcf882a2cfc3e447ac53ee6656,openstack/trove,master,Iebac740e982a89fcf882a2cfc3e447ac53ee6656,Allow regular user to get quotas,MERGED,2021-08-25 05:15:27.000000000,2021-08-27 04:15:59.000000000,2021-08-27 04:14:15.000000000,"[{'_account_id': 6732}, {'_account_id': 12932}, {'_account_id': 22348}, {'_account_id': 33822}]","[{'number': 1, 'created': '2021-08-25 05:15:27.000000000', 'files': ['trove/common/wsgi.py', 'api-ref/source/quotas.inc', 'trove/tests/unittests/extensions/mgmt/quota/__init__.py', 'releasenotes/notes/xena-allow-project-show-resource-quota.yaml', 'trove/extensions/mgmt/quota/service.py', 'trove/tests/unittests/extensions/mgmt/quota/test_service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/f3459e2662e86b275ac3baf01330753df4d3f092', 'message': ""Allow regular user to get quotas\n\nThe project user can query the project's own resource quota.\n\nStory: 2009140\nTask: 43082\n\nChange-Id: Iebac740e982a89fcf882a2cfc3e447ac53ee6656\n""}]",0,805941,f3459e2662e86b275ac3baf01330753df4d3f092,7,4,1,6732,,,0,"Allow regular user to get quotas

The project user can query the project's own resource quota.

Story: 2009140
Task: 43082

Change-Id: Iebac740e982a89fcf882a2cfc3e447ac53ee6656
",git fetch https://review.opendev.org/openstack/trove refs/changes/41/805941/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/wsgi.py', 'api-ref/source/quotas.inc', 'trove/tests/unittests/extensions/mgmt/quota/__init__.py', 'releasenotes/notes/xena-allow-project-show-resource-quota.yaml', 'trove/extensions/mgmt/quota/service.py', 'trove/tests/unittests/extensions/mgmt/quota/test_service.py']",6,f3459e2662e86b275ac3baf01330753df4d3f092,fix-show-user-quota,"# Copyright 2021 Catalyst Cloud # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from unittest import mock from trove.common import exception from trove.common import wsgi from trove.extensions.mgmt.quota import service as quota_service from trove.tests.unittests import trove_testtools from trove.tests.unittests.util import util class TestQuotaController(trove_testtools.TestCase): @classmethod def setUpClass(cls): util.init_db() cls.controller = quota_service.QuotaController() cls.admin_project_id = cls.random_uuid() super(TestQuotaController, cls).setUpClass() @classmethod def tearDownClass(cls): util.cleanup_db() super(TestQuotaController, cls).tearDownClass() def test_show_admin_query(self): user_project_id = self.random_uuid() req_mock = mock.MagicMock( environ={ wsgi.CONTEXT_KEY: mock.MagicMock( project_id=self.admin_project_id, is_admin=True ) } ) result = self.controller.show(req_mock, self.admin_project_id, user_project_id) self.assertEqual(200, result.status) def test_show_user_query(self): """"""Show the tenant's own quota."""""" user_project_id = self.random_uuid() req_mock = mock.MagicMock( environ={ wsgi.CONTEXT_KEY: mock.MagicMock( is_admin=False ) } ) result = self.controller.show(req_mock, user_project_id, user_project_id) self.assertEqual(200, result.status) def test_show_user_query_not_allowed(self): """"""Show other tenant's quota should fail."""""" user_project_id = self.random_uuid() req_mock = mock.MagicMock( environ={ wsgi.CONTEXT_KEY: mock.MagicMock( is_admin=False ) } ) self.assertRaises( exception.TroveOperationAuthError, self.controller.show, req_mock, user_project_id, self.random_uuid() ) ",,98,3
openstack%2Fpuppet-ironic~master~I93ae9c8160820b1afc43e8b4f55a6d0faa5ce329,openstack/puppet-ironic,master,I93ae9c8160820b1afc43e8b4f55a6d0faa5ce329,Change puppet-vcsrepo to git_resource,ABANDONED,2019-02-25 22:47:47.000000000,2021-08-27 04:10:23.000000000,,"[{'_account_id': 5263}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-25 22:47:47.000000000', 'files': ['manifests/bifrost.pp', 'metadata.json', 'spec/classes/ironic_bifrost_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f1449db8aed43c12ccc78d0e13c398b0fec7faca', 'message': 'Change puppet-vcsrepo to git_resource\n\nChanges usages of puppet-vcsrepo to use the Apache licensed puppet/git_resource\n\nChange-Id: I93ae9c8160820b1afc43e8b4f55a6d0faa5ce329\n'}]",0,639213,f1449db8aed43c12ccc78d0e13c398b0fec7faca,8,5,1,29935,,,0,"Change puppet-vcsrepo to git_resource

Changes usages of puppet-vcsrepo to use the Apache licensed puppet/git_resource

Change-Id: I93ae9c8160820b1afc43e8b4f55a6d0faa5ce329
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/13/639213/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/bifrost.pp', 'metadata.json', 'spec/classes/ironic_bifrost_spec.rb']",3,f1449db8aed43c12ccc78d0e13c398b0fec7faca,," it { should contain_git('/opt/stack/bifrost').with( :commit => 'master', :origin => 'https://git.openstack.org/openstack/bifrost',"," it { should contain_vcsrepo('/opt/stack/bifrost').with( :provider => 'git', :revision => 'master', :source => 'https://git.openstack.org/openstack/bifrost',",9,10
openstack%2Fpuppet-cinder~master~Id4688cb7362d4be5161a8ea243448a2c269b2414,openstack/puppet-cinder,master,Id4688cb7362d4be5161a8ea243448a2c269b2414,Dropping explicit unicode literal,ABANDONED,2021-07-06 09:39:53.000000000,2021-08-27 03:53:11.000000000,,"[{'_account_id': 5314}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 09:39:53.000000000', 'files': ['lib/puppet/provider/cinder_type/openstack.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8d5976c8716f11bbdd4c1c5ddb22e46610a6bf6a', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: Id4688cb7362d4be5161a8ea243448a2c269b2414\n'}]",1,799614,8d5976c8716f11bbdd4c1c5ddb22e46610a6bf6a,6,5,1,30615,,,0,"Dropping explicit unicode literal

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: Id4688cb7362d4be5161a8ea243448a2c269b2414
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/14/799614/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/cinder_type/openstack.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb', 'releasenotes/source/conf.py']",3,8d5976c8716f11bbdd4c1c5ddb22e46610a6bf6a,,"copyright = '2017, Puppet OpenStack Developers' ('index', 'puppet-cinderReleaseNotes.tex', 'puppet-cinder Release Notes Documentation', '2017, Puppet OpenStack Developers', 'manual'), ('index', 'puppet-cinderreleasenotes', 'puppet-cinder Release Notes Documentation', ['2017, Puppet OpenStack Developers'], 1) ('index', 'puppet-cinderReleaseNotes', 'puppet-cinder Release Notes Documentation', '2017, Puppet OpenStack Developers', 'puppet-cinderReleaseNotes', 'One line description of project.',","copyright = u'2017, Puppet OpenStack Developers' ('index', 'puppet-cinderReleaseNotes.tex', u'puppet-cinder Release Notes Documentation', u'2017, Puppet OpenStack Developers', 'manual'), ('index', 'puppet-cinderreleasenotes', u'puppet-cinder Release Notes Documentation', [u'2017, Puppet OpenStack Developers'], 1) ('index', 'puppet-cinderReleaseNotes', u'puppet-cinder Release Notes Documentation', u'2017, Puppet OpenStack Developers', 'puppet-cinderReleaseNotes', 'One line description of project.',",10,10
openstack%2Fcinder~master~I46fa6e1f7a5d6ad0147f17c2bafbf4fb8fa89eb8,openstack/cinder,master,I46fa6e1f7a5d6ad0147f17c2bafbf4fb8fa89eb8,Update snapshot api microversion docs and tests,MERGED,2021-05-13 13:50:33.000000000,2021-08-27 03:41:37.000000000,2021-08-26 13:08:31.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-05-13 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/940e6e58ff1e6840cc614b9d06d74b17d82b48d4', 'message': 'Update snapshot api microversion docs and tests\n\nOur docs and tests are not up to date with the changes introduced to the\nsnapshot details introduced by the different microversion.\n\nThis patch updates the docs, samples, and tests.\n\nChange-Id: I46fa6e1f7a5d6ad0147f17c2bafbf4fb8fa89eb8\n'}, {'number': 2, 'created': '2021-05-20 15:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9210570eceffba1a3cba60fd3809d667a49326a0', 'message': 'Update snapshot api microversion docs and tests\n\nOur docs and tests are not up to date with the changes introduced to the\nsnapshot details introduced by the different microversion.\n\nThis patch updates the docs, samples, and tests.\n\nChange-Id: I46fa6e1f7a5d6ad0147f17c2bafbf4fb8fa89eb8\n'}, {'number': 3, 'created': '2021-05-25 14:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de43aa2627bf5a99f0ae150d5e667f82bef29424', 'message': 'Update snapshot api microversion docs and tests\n\nOur docs and tests are not up to date with the changes introduced to the\nsnapshot details introduced by the different microversion.\n\nThis patch updates the docs, samples, and tests.\n\nChange-Id: I46fa6e1f7a5d6ad0147f17c2bafbf4fb8fa89eb8\n'}, {'number': 4, 'created': '2021-05-31 10:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa1dcae0d9f1fdaa7629870a031b0353f8eabf05', 'message': 'Update snapshot api microversion docs and tests\n\nOur docs and tests are not up to date with the changes introduced to the\nsnapshot details introduced by the different microversion.\n\nThis patch updates the docs, samples, and tests.\n\nChange-Id: I46fa6e1f7a5d6ad0147f17c2bafbf4fb8fa89eb8\n'}, {'number': 5, 'created': '2021-08-25 16:16:32.000000000', 'files': ['api-ref/source/v3/samples/snapshots/v3.14/snapshot-show-response.json', 'api-ref/source/v3/samples/snapshots/v3.41/snapshot-show-response.json', 'api-ref/source/v3/samples/snapshots/v3.41/snapshot-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.14/snapshots-list-detailed-response.json.tpl', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/snapshots/v3.14/snapshots-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.41/snapshot-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.41/snapshot-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.41/snapshot-show-response.json.tpl', 'api-ref/source/v3/samples/snapshots/v3.14/snapshot-update-response.json', 'api-ref/source/v3/samples/snapshots/v3.41/snapshot-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.14/snapshot-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_snapshots.py', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.14/snapshot-update-response.json.tpl', 'api-ref/source/v3/samples/snapshots/v3.14/snapshot-create-response.json', 'api-ref/source/v3/samples/snapshots/v3.41/snapshots-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.14/snapshot-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.41/snapshots-list-detailed-response.json.tpl'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d29f12117e220eda6f2e8a3d4288701c7e98096f', 'message': 'Update snapshot api microversion docs and tests\n\nOur docs and tests are not up to date with the changes introduced to the\nsnapshot details introduced by the different microversion.\n\nThis patch updates the docs, samples, and tests.\n\nChange-Id: I46fa6e1f7a5d6ad0147f17c2bafbf4fb8fa89eb8\n'}]",4,791240,d29f12117e220eda6f2e8a3d4288701c7e98096f,60,3,5,9535,,,0,"Update snapshot api microversion docs and tests

Our docs and tests are not up to date with the changes introduced to the
snapshot details introduced by the different microversion.

This patch updates the docs, samples, and tests.

Change-Id: I46fa6e1f7a5d6ad0147f17c2bafbf4fb8fa89eb8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/791240/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/snapshots/v3.14/snapshot-show-response.json', 'api-ref/source/v3/samples/snapshots/v3.41/snapshot-show-response.json', 'api-ref/source/v3/samples/snapshots/v3.41/snapshot-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.14/snapshots-list-detailed-response.json.tpl', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/snapshots/v3.14/snapshots-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.41/snapshot-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.41/snapshot-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.41/snapshot-show-response.json.tpl', 'api-ref/source/v3/samples/snapshots/v3.14/snapshot-update-response.json', 'api-ref/source/v3/samples/snapshots/v3.41/snapshot-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.14/snapshot-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_snapshots.py', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.14/snapshot-update-response.json.tpl', 'api-ref/source/v3/samples/snapshots/v3.14/snapshot-create-response.json', 'api-ref/source/v3/samples/snapshots/v3.41/snapshots-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.14/snapshot-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshots/v3.41/snapshots-list-detailed-response.json.tpl']",19,940e6e58ff1e6840cc614b9d06d74b17d82b48d4,off-book,"{ ""snapshots"": [ { ""created_at"": ""%(strtime)s"", ""description"": ""Daily backup"", ""id"": ""%(uuid)s"", ""metadata"": { ""key"": ""v3"" }, ""name"": ""snap-001"", ""os-extended-snapshot-attributes:progress"": ""0%"", ""os-extended-snapshot-attributes:project_id"": ""%(uuid)s"", ""size"": 10, ""status"": ""creating"", ""updated_at"": null, ""volume_id"": ""%(uuid)s"", ""group_snapshot_id"": null, ""user_id"": ""%(uuid)s"" } ] } ",,352,34
openstack%2Fhorizon~master~I97149aed20a4f9a21dcb893f2fd65eab0ad7116c,openstack/horizon,master,I97149aed20a4f9a21dcb893f2fd65eab0ad7116c,Changes for tacker-horizon integration tests,ABANDONED,2021-08-27 03:36:08.000000000,2021-08-27 03:36:50.000000000,,[],"[{'number': 1, 'created': '2021-08-27 03:36:08.000000000', 'files': ['openstack_dashboard/test/integration_tests/regions/menus.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3b62c02fe0385902d033e5596c5249ba58f36269', 'message': 'Changes for tacker-horizon integration tests\n\nThe tacker-horizon integration test framework has been implemented[1]\nWhile adding integration test cases a selenium exception [2] was\nobserved for test cases under directory [3].\n\nTacker-horizon UI Details:\n\n* Most of the Horizon plugins, such as manila-ui and vitrage-dashboard\n  support integration tests, these plugins reside under ""Project"" tab.\n* Whereas, tacker-horizon, mistral-dashboard are horizon plugins which\n  have their dashboard anchored directly at the top-level alongside\n  ""Project"" tab.\n* The tacker-horizon has two-panel groups,\n   * VNF Management\n   * NFV Orchestration\n* The ""VNF Management"" is a default panel and remains expanded in NFV\n  dashboard, whereas ""NFV Orchestration"" is collapsed initially.\n\nSelenium Exception Details:\n\n* The horizon framework reports an exception\n  ElementNotInteractableException, while opening pages under\n  ""NFV Orchestration"" panel group.\n* This error occurs when an element is not clicked or it is not visible\n  yet.\n* The menu item expansion code in the horizon integration framework\n  expands only those menu items (level first, second or third) if only\n  the previous menu item at the same level was expanded earlier.\n* For example, in order to open a page[4] under NVF Orchestration panel\n  group, the framework collapses ""Project"" tab and clicks ""NFV""\n  dashboard.\n  But it never expands ""NFV Orchestration"" panel as in second-level no\n  such transition occured hence it remains collapsed. So test case fails\n  to find desired page.\n  On the other hand, test cases for pages under ""VNF Management"" succeed\n  as the panel group by default remains open.\n\nThis patch adds functionality to detect collapsed menu items and expand\nthe items.\n\n[1] https://review.opendev.org/c/openstack/tacker-horizon/+/790958\n[2] https://zuul.opendev.org/t/openstack/build/b8bd1618206945b68ebdbcdc7f1bdf10/console\n[3] tacker_horizon/test/integration/pages/nfv/nfv_orchestration/\n[4] tacker_horizon/test/integration/pages/nfv/nfv_orchestration/vimmanagementpage.py\nChange-Id: I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26\n\nChange-Id: I97149aed20a4f9a21dcb893f2fd65eab0ad7116c\n'}]",0,806299,3b62c02fe0385902d033e5596c5249ba58f36269,2,0,1,32102,,,0,"Changes for tacker-horizon integration tests

The tacker-horizon integration test framework has been implemented[1]
While adding integration test cases a selenium exception [2] was
observed for test cases under directory [3].

Tacker-horizon UI Details:

* Most of the Horizon plugins, such as manila-ui and vitrage-dashboard
  support integration tests, these plugins reside under ""Project"" tab.
* Whereas, tacker-horizon, mistral-dashboard are horizon plugins which
  have their dashboard anchored directly at the top-level alongside
  ""Project"" tab.
* The tacker-horizon has two-panel groups,
   * VNF Management
   * NFV Orchestration
* The ""VNF Management"" is a default panel and remains expanded in NFV
  dashboard, whereas ""NFV Orchestration"" is collapsed initially.

Selenium Exception Details:

* The horizon framework reports an exception
  ElementNotInteractableException, while opening pages under
  ""NFV Orchestration"" panel group.
* This error occurs when an element is not clicked or it is not visible
  yet.
* The menu item expansion code in the horizon integration framework
  expands only those menu items (level first, second or third) if only
  the previous menu item at the same level was expanded earlier.
* For example, in order to open a page[4] under NVF Orchestration panel
  group, the framework collapses ""Project"" tab and clicks ""NFV""
  dashboard.
  But it never expands ""NFV Orchestration"" panel as in second-level no
  such transition occured hence it remains collapsed. So test case fails
  to find desired page.
  On the other hand, test cases for pages under ""VNF Management"" succeed
  as the panel group by default remains open.

This patch adds functionality to detect collapsed menu items and expand
the items.

[1] https://review.opendev.org/c/openstack/tacker-horizon/+/790958
[2] https://zuul.opendev.org/t/openstack/build/b8bd1618206945b68ebdbcdc7f1bdf10/console
[3] tacker_horizon/test/integration/pages/nfv/nfv_orchestration/
[4] tacker_horizon/test/integration/pages/nfv/nfv_orchestration/vimmanagementpage.py
Change-Id: I8fec54eb5f2a9bf218ee36e9c0a1ce9c15c97a26

Change-Id: I97149aed20a4f9a21dcb893f2fd65eab0ad7116c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/99/806299/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/regions/menus.py'],1,3b62c02fe0385902d033e5596c5249ba58f36269,bp/tacker-horizon-integration-test," # In case menu item is collapsed, then below code detects the same # and disable is_already_within_required_item flag. # For instance, in case of tacker-horizon, selenium report an # exception ElementNotInteractableException while opening pages # under 'NFV Orchestration' panel group. This error occurs when # element is not clickable or it is not visible yet. # The panel group 'NFV Orchestration' is never clicked/open hence # requested pages are not visible/clickable. item = self._get_item(text, loc_craft_func, src_elem) if ""collapsed"" == item.get_attribute( 'class') and is_already_within_required_item is True: is_already_within_required_item = False if not is_already_within_required_item:"," if not is_already_within_required_item: item = self._get_item(text, loc_craft_func, src_elem)",13,1
openstack%2Ftrove~master~I3929511a621790c504cba16be17933211c26107a,openstack/trove,master,I3929511a621790c504cba16be17933211c26107a,Support port was created from user's network should visible with user,ABANDONED,2021-08-27 02:24:28.000000000,2021-08-27 03:36:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-27 02:24:28.000000000', 'files': ['trove/instance/models.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/0c88cc5507f84373ab00b0eb66849756b779cb77', 'message': ""Support port was created from user's network should visible with user\n\nTask: #43101\nStory: #2009147\nChange-Id: I3929511a621790c504cba16be17933211c26107a\n""}]",2,806295,0c88cc5507f84373ab00b0eb66849756b779cb77,3,1,1,28691,,,0,"Support port was created from user's network should visible with user

Task: #43101
Story: #2009147
Change-Id: I3929511a621790c504cba16be17933211c26107a
",git fetch https://review.opendev.org/openstack/trove refs/changes/95/806295/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/instance/models.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py']",3,0c88cc5507f84373ab00b0eb66849756b779cb77,add_user_client,"from unittest.mock import call from unittest.mock import patch import cinderclient.v3.client as cinderclient import neutronclient.v2_0.client as neutronclient import novaclient.v2.flavors import novaclient.v2.serversimport trove.backup.models import trove.common.context import trove.common.template as template import trove.db.models import trove.guestagent.api from trove.common import exception @patch('trove.common.clients.neutron_client') mock_user_neutron_client, mock_user_neutron_client.return_value = mock_client",from unittest.mock import callfrom unittest.mock import patchimport cinderclient.v3.client as cinderclient import neutronclient.v2_0.client as neutronclientimport novaclient.v2.flavors import novaclient.v2.serversimport trove.backup.modelsimport trove.common.context from trove.common import exceptionimport trove.common.template as templateimport trove.db.modelsimport trove.guestagent.api,57,33
openstack%2Fcinder-tempest-plugin~master~I85fffd7abbe8939a703b6c0573f6de0d00ba4087,openstack/cinder-tempest-plugin,master,I85fffd7abbe8939a703b6c0573f6de0d00ba4087,setup.cfg: Replace dashes with underscores,ABANDONED,2021-07-12 06:14:47.000000000,2021-08-27 02:49:38.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-12 06:14:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fa34c8309bd49e8f8e634c19749875002adb2a4e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I85fffd7abbe8939a703b6c0573f6de0d00ba4087\n""}]",0,800419,fa34c8309bd49e8f8e634c19749875002adb2a4e,5,5,1,30615,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead
[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I85fffd7abbe8939a703b6c0573f6de0d00ba4087
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/19/800419/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fa34c8309bd49e8f8e634c19749875002adb2a4e,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fskyline-console~master~I1b7b0e0ed58cfbae778ee52e44a2a9e4c7cc907f,openstack/skyline-console,master,I1b7b0e0ed58cfbae778ee52e44a2a9e4c7cc907f,fix: Fix ip name of topology to match the route list,MERGED,2021-08-26 06:02:11.000000000,2021-08-27 02:42:23.000000000,2021-08-27 02:42:23.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-26 06:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/43e127b003c50e80b7aedd7a40082b8b71f0f6ab', 'message': ""fix: Fix ip name of topology to match the route list\n\nChange the name from 'Floating IP' to 'External Fixed IP'\n\nChange-Id: I1b7b0e0ed58cfbae778ee52e44a2a9e4c7cc907f\n""}, {'number': 2, 'created': '2021-08-26 06:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8759e96a0a2dca4ffefa6c62e5898923d4121ac4', 'message': ""fix: Fix ip name of topology to match the route list\n\nChange the name from 'Floating IP' to 'External Fixed IP'\n\nChange-Id: I1b7b0e0ed58cfbae778ee52e44a2a9e4c7cc907f\n""}, {'number': 3, 'created': '2021-08-27 02:13:15.000000000', 'files': ['src/pages/network/containers/Topology/NodeCard.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/39ad45b55adbe2d0aeec7c0486ca880a668d514e', 'message': ""fix: Fix ip name of topology to match the route list\n\nChange the name from 'Floating IP' to 'External Fixed IP'\n\nChange-Id: I1b7b0e0ed58cfbae778ee52e44a2a9e4c7cc907f\n""}]",0,806069,39ad45b55adbe2d0aeec7c0486ca880a668d514e,10,2,3,33689,,,0,"fix: Fix ip name of topology to match the route list

Change the name from 'Floating IP' to 'External Fixed IP'

Change-Id: I1b7b0e0ed58cfbae778ee52e44a2a9e4c7cc907f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/69/806069/2 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/Topology/NodeCard.jsx'],1,43e127b003c50e80b7aedd7a40082b8b71f0f6ab,open-35898," title: t('External Fixed IP'),"," title: t('Floating IP'),",1,1
openstack%2Fskyline-console~master~I58e3b9ed224370df78fef0b0271d1a0e6c51c7a3,openstack/skyline-console,master,I58e3b9ed224370df78fef0b0271d1a0e6c51c7a3,feature: Update instance batch action error hint,MERGED,2021-08-26 10:00:10.000000000,2021-08-27 02:38:29.000000000,2021-08-27 02:38:29.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-26 10:00:10.000000000', 'files': ['src/pages/compute/containers/Instance/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/SoftDelete.jsx', 'src/pages/compute/containers/Instance/actions/Stop.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Instance/actions/Start.jsx', 'src/pages/compute/containers/Instance/actions/Reboot.jsx', 'src/pages/compute/containers/Instance/actions/SoftReboot.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/558b2d56a3187c752d783661dde7c6d5d4be8550', 'message': 'feature: Update instance batch action error hint\n\nUpdate instance batch action error hint:\ndelete, start, stop, soft delete, reboot, soft reboot\n\nChange-Id: I58e3b9ed224370df78fef0b0271d1a0e6c51c7a3\n'}]",0,806130,558b2d56a3187c752d783661dde7c6d5d4be8550,6,2,1,30434,,,0,"feature: Update instance batch action error hint

Update instance batch action error hint:
delete, start, stop, soft delete, reboot, soft reboot

Change-Id: I58e3b9ed224370df78fef0b0271d1a0e6c51c7a3
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/30/806130/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/SoftDelete.jsx', 'src/pages/compute/containers/Instance/actions/Stop.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/pages/compute/containers/Instance/actions/Start.jsx', 'src/pages/compute/containers/Instance/actions/Reboot.jsx', 'src/pages/compute/containers/Instance/actions/SoftReboot.jsx']",8,558b2d56a3187c752d783661dde7c6d5d4be8550,master2,"import React from 'react'; const items = isArray(failedItems) ? failedItems : [failedItems]; const notActiveItems = items.filter((it) => !this.isActive(it)); const lockedItems = items.filter( (it) => !isNotLockedOrAdmin(it, this.isAdminPage) ); const msgs = []; if (notActiveItems.length) { msgs.push( t('Instance ""{ name }"" status is not active, can not soft reboot it.', { name: this.getName(notActiveItems), }) } if (lockedItems.length) { msgs.push( t('Instance ""{ name }"" is locked, can not soft reboot it.', { name: this.getName(lockedItems), }) ); } return msgs.map((it) => <p>{it}</p>);"," const instance = isArray(failedItems) ? failedItems[0] : failedItems; let errorMsg = t('You are not allowed to { action } ""{ name }"".', { action: this.actionName, name: instance.name, }); if (!this.isActive(instance)) { errorMsg = t( 'Instance ""{ name }"" status is not active, can not soft reboot it.', { name: instance.name } } else if (!isNotLockedOrAdmin(instance, this.isAdminPage)) { errorMsg = t('Instance ""{ name }"" is locked, can not soft reboot it.', { name: instance.name, }); } return errorMsg;",100,74
openstack%2Fmanila~master~I42d76c7a085e3ded04b45f89469b4b66d6a426ce,openstack/manila,master,I42d76c7a085e3ded04b45f89469b4b66d6a426ce,Add missing oslo.service options,MERGED,2021-08-14 14:08:25.000000000,2021-08-27 02:29:37.000000000,2021-08-26 23:33:18.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-08-14 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9bdceef52dfb3c2675056a69ec3477b79956f9f4', 'message': 'Add missing oslo.service options\n\nChange-Id: I42d76c7a085e3ded04b45f89469b4b66d6a426ce\n'}, {'number': 2, 'created': '2021-08-14 14:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6f06de3eb54bea2af3a3c0e0e63af82bf6dac5cb', 'message': 'Add missing oslo.service options\n\nChange-Id: I42d76c7a085e3ded04b45f89469b4b66d6a426ce\n'}, {'number': 3, 'created': '2021-08-21 08:33:36.000000000', 'files': ['etc/oslo-config-generator/manila.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/c1eaf108f8bdec5d34bcd8d59a843d3c3bfa1880', 'message': 'Add missing oslo.service options\n\nCloses-Bug: #1940734\nChange-Id: I42d76c7a085e3ded04b45f89469b4b66d6a426ce\n'}]",0,804565,c1eaf108f8bdec5d34bcd8d59a843d3c3bfa1880,36,3,3,9816,,,0,"Add missing oslo.service options

Closes-Bug: #1940734
Change-Id: I42d76c7a085e3ded04b45f89469b4b66d6a426ce
",git fetch https://review.opendev.org/openstack/manila refs/changes/65/804565/3 && git format-patch -1 --stdout FETCH_HEAD,['etc/oslo-config-generator/manila.conf'],1,9bdceef52dfb3c2675056a69ec3477b79956f9f4,bug/1940734,namespace = oslo.service.periodic_task namespace = oslo.service.servicenamespace = oslo.service.wsgi,,3,0
openstack%2Ftripleo-puppet-elements~master~I4f24a09e0c7c6c23835d68258977743b38b97a5f,openstack/tripleo-puppet-elements,master,I4f24a09e0c7c6c23835d68258977743b38b97a5f,Install yum plugin priorities only on centos7 and fedora,MERGED,2021-08-23 13:05:20.000000000,2021-08-27 02:06:08.000000000,2021-08-27 02:06:08.000000000,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-23 13:05:20.000000000', 'files': ['elements/overcloud-base/pre-install.d/01-install-yum-priorities'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/67b6e40b1badac777b9cb5ecd661dc046e61a129', 'message': 'Install yum plugin priorities only on centos7 and fedora\n\nCurrently this condition match all centos distros, not only\ncentos7.\n\nChange-Id: I4f24a09e0c7c6c23835d68258977743b38b97a5f\n'}]",0,805635,67b6e40b1badac777b9cb5ecd661dc046e61a129,9,5,1,10969,,,0,"Install yum plugin priorities only on centos7 and fedora

Currently this condition match all centos distros, not only
centos7.

Change-Id: I4f24a09e0c7c6c23835d68258977743b38b97a5f
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/35/805635/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pre-install.d/01-install-yum-priorities'],1,67b6e40b1badac777b9cb5ecd661dc046e61a129,c9img,"if [[ ""$DISTRO_NAME"" == ""centos7"" || ""$DISTRO_NAME"" == ""fedora"" ]]; then","if [[ ""centos7 fedora"" =~ ""$DISTRO_NAME"" ]]; then",1,1
openstack%2Frequirements~master~I99743445d5a96515cee0c2ce88e1650aacfa4901,openstack/requirements,master,I99743445d5a96515cee0c2ce88e1650aacfa4901,update constraint for osc-lib to new release 2.4.2,MERGED,2021-08-25 07:53:24.000000000,2021-08-27 02:05:19.000000000,2021-08-27 02:04:00.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-25 07:53:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/00d7d9ad65f2a211af1ebcaca88e9fa37f58237c', 'message': 'update constraint for osc-lib to new release 2.4.2\n\nmeta: version: 2.4.2\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I5b43120f291a14e0c37f8fcb9199947399f6e5f5\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I99743445d5a96515cee0c2ce88e1650aacfa4901\n'}]",0,805959,00d7d9ad65f2a211af1ebcaca88e9fa37f58237c,26,3,1,11131,,,0,"update constraint for osc-lib to new release 2.4.2

meta: version: 2.4.2
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I5b43120f291a14e0c37f8fcb9199947399f6e5f5
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I99743445d5a96515cee0c2ce88e1650aacfa4901
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/805959/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,00d7d9ad65f2a211af1ebcaca88e9fa37f58237c,new-release,osc-lib===2.4.2,osc-lib===2.4.1,1,1
openstack%2Frequirements~stable%2Fwallaby~I784b24e2fad176c61d7b067d97f71ad43a2b631a,openstack/requirements,stable/wallaby,I784b24e2fad176c61d7b067d97f71ad43a2b631a,update constraint for ironic-lib to new release 4.6.2,MERGED,2021-08-26 12:27:52.000000000,2021-08-27 01:01:48.000000000,2021-08-27 01:01:48.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-26 12:27:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/56024cd3d6eca0880873098f63e52662dd49312f', 'message': 'update constraint for ironic-lib to new release 4.6.2\n\nmeta: version: 4.6.2\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Change-Id: Ibe1a1bbdcb003470e43309093686ac14037d9d0b\nmeta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I784b24e2fad176c61d7b067d97f71ad43a2b631a\n'}]",0,806166,56024cd3d6eca0880873098f63e52662dd49312f,13,3,1,11131,,,0,"update constraint for ironic-lib to new release 4.6.2

meta: version: 4.6.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Change-Id: Ibe1a1bbdcb003470e43309093686ac14037d9d0b
meta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I784b24e2fad176c61d7b067d97f71ad43a2b631a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/806166/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,56024cd3d6eca0880873098f63e52662dd49312f,new-release,ironic-lib===4.6.2,ironic-lib===4.6.1,1,1
openstack%2Fcinder~master~Ibed1e92dd63d7bcc60b4a9c4a05b15402c9eefa9,openstack/cinder,master,Ibed1e92dd63d7bcc60b4a9c4a05b15402c9eefa9,Fix cinder-manage clean_locks command,MERGED,2021-08-10 12:10:42.000000000,2021-08-27 00:40:12.000000000,2021-08-27 00:38:00.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32238}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-08-10 12:10:42.000000000', 'files': ['cinder/cmd/manage.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4c112de26c415d430d8bac629b23b5c0f1fff66', 'message': ""Fix cinder-manage clean_locks command\n\nOn change I2535017e112c8bcb9a2e516876f52a945e9c7da8 the cinder-manage\nclean_locks command was introduced, but it has a bug where the OVO\n`exists` method is incorrectly called, since it's missing a context.\n\nThis patch fixes this issue and properly calls the Snapshot and Volume\n`exists` method.\n\nRelated-Bug: #1432387\nChange-Id: Ibed1e92dd63d7bcc60b4a9c4a05b15402c9eefa9\n""}]",0,804071,d4c112de26c415d430d8bac629b23b5c0f1fff66,37,7,1,9535,,,0,"Fix cinder-manage clean_locks command

On change I2535017e112c8bcb9a2e516876f52a945e9c7da8 the cinder-manage
clean_locks command was introduced, but it has a bug where the OVO
`exists` method is incorrectly called, since it's missing a context.

This patch fixes this issue and properly calls the Snapshot and Volume
`exists` method.

Related-Bug: #1432387
Change-Id: Ibed1e92dd63d7bcc60b4a9c4a05b15402c9eefa9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/804071/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/manage.py', 'cinder/tests/unit/test_cmd.py']",2,d4c112de26c415d430d8bac629b23b5c0f1fff66,fix-cinder-manage-remove-locks," mock_vol_exists.assert_has_calls( (mock.call(mock_ctxt.return_value, fake.VOLUME_ID), mock.call(mock_ctxt.return_value, fake.VOLUME2_ID))) mock_snap_exists.assert_called_once_with(mock_ctxt.return_value, fake.SNAPSHOT_ID)"," mock_vol_exists.assert_has_calls((mock.call(fake.VOLUME_ID), mock.call(fake.VOLUME2_ID))) mock_snap_exists.assert_called_once_with(fake.SNAPSHOT_ID)",7,5
openstack%2Fpuppet-tripleo~master~Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751,openstack/puppet-tripleo,master,Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751,Pin puppet-redis to 8.0.0,MERGED,2021-08-26 17:12:57.000000000,2021-08-26 23:25:28.000000000,2021-08-26 23:25:28.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 17:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/20ff173b8fadf8836930ea338d9313858395ae56', 'message': ""Pin puppet-redis to 8.0.0\n\n... because recent change to adopt to stdlib 8.0.0[1] causes duplicated\ndeclaration of Package['redis'] when stdlib 7.y.z is used.\n\n[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8\n\nChange-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751\nCloses-Bug: #1941772\n""}, {'number': 2, 'created': '2021-08-26 17:13:46.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4931d2cce84c61c764214360e4cf9f9a4083cdd2', 'message': ""Pin puppet-redis to 8.0.0\n\n... because recent change to adopt to stdlib 8.0.0[1] causes duplicated\ndeclaration of Package['redis'] when stdlib 7.y.z is used.\n\n[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8\n\nCloses-Bug: #1941772\nChange-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751\n""}]",0,806251,4931d2cce84c61c764214360e4cf9f9a4083cdd2,9,3,2,9816,,,0,"Pin puppet-redis to 8.0.0

... because recent change to adopt to stdlib 8.0.0[1] causes duplicated
declaration of Package['redis'] when stdlib 7.y.z is used.

[1] https://github.com/voxpupuli/puppet-redis/commit/a5cc0a194afd2b17564e90939ff5e08f63d3d3f8

Closes-Bug: #1941772
Change-Id: Ibb4ad7bf54b1e41f1cd62373e711c8efa00d7751
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/51/806251/2 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,20ff173b8fadf8836930ea338d9313858395ae56,bug/1941772, :ref => 'v8.0.0', :ref => 'master',1,1
openstack%2Fmanila~master~I0c64e574301baf2a41a475af3b3848cbec8d495f,openstack/manila,master,I0c64e574301baf2a41a475af3b3848cbec8d495f,Change cifs value from string to list for Dell manila drivers,MERGED,2021-08-17 04:27:21.000000000,2021-08-26 22:56:48.000000000,2021-08-26 22:55:02.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 26114}, {'_account_id': 32919}]","[{'number': 1, 'created': '2021-08-17 04:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3f0c9adcd5f326402b98f3a2ae680e2e30f6b151', 'message': ""Change cifs value from string to list for Dell manila drivers\n\nDell manila drivers use string as value for 'cifs' in\ndhss_mandatory_security_service_association.\nThis fix changes it to a list.\n\nChange-Id: I0c64e574301baf2a41a475af3b3848cbec8d495f\nCloses-Bug: #1940072\n""}, {'number': 2, 'created': '2021-08-18 01:39:36.000000000', 'files': ['manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'releasenotes/notes/bug-1940072-dell-manila-fix-cifs-value-type-f65e162ee27d3e67.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/5bd44e0be35a8710dd0e5ad9c35f924b0199e971', 'message': ""Change cifs value from string to list for Dell manila drivers\n\nDell manila drivers use string as value for 'cifs' in\ndhss_mandatory_security_service_association.\nThis fix changes it to a list.\n\nChange-Id: I0c64e574301baf2a41a475af3b3848cbec8d495f\nCloses-Bug: #1940072\n""}]",0,804814,5bd44e0be35a8710dd0e5ad9c35f924b0199e971,39,5,2,14624,,,0,"Change cifs value from string to list for Dell manila drivers

Dell manila drivers use string as value for 'cifs' in
dhss_mandatory_security_service_association.
This fix changes it to a list.

Change-Id: I0c64e574301baf2a41a475af3b3848cbec8d495f
Closes-Bug: #1940072
",git fetch https://review.opendev.org/openstack/manila refs/changes/14/804814/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py']",3,3f0c9adcd5f326402b98f3a2ae680e2e30f6b151,bug/1940072," 'cifs': ['active_directory', ]"," 'cifs': 'active_directory',",3,3
openstack%2Ftripleo-quickstart-extras~master~If985fbfea93042e6cd046a7e38839a4f0a1a5481,openstack/tripleo-quickstart-extras,master,If985fbfea93042e6cd046a7e38839a4f0a1a5481,Mount whole-disk lvm volumes in modify-image,ABANDONED,2021-07-22 22:24:27.000000000,2021-08-26 22:53:30.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-22 22:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a885faedc5e061cee6dab5cae96fc8b78e4c0148', 'message': 'Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 2, 'created': '2021-07-23 05:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/16848eb53a4bb135abf85b586b8707890eaed1a5', 'message': 'WIP Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nWIP debugging\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 3, 'created': '2021-07-25 21:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4fa66d33d163bb85b8290e50a10f6c579e2e86b2', 'message': 'WIP Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nWIP debugging\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 4, 'created': '2021-07-27 03:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b6c8ddbeeb275325816ae6f3596330709113cb2a', 'message': 'WIP Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nWIP debugging\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 5, 'created': '2021-07-28 03:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/07418ffaa66618d73e6826906ae61416447ac7e9', 'message': 'WIP Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nWIP debugging\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 6, 'created': '2021-07-28 22:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/834e06deed6a0ec073af8c5984965cbc9198e0e5', 'message': 'WIP Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nWIP debugging\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 7, 'created': '2021-07-28 23:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/716bd9cd13f17b68c9a1b7b5ccf6a94936a7ce9a', 'message': 'WIP Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nWIP debugging\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 8, 'created': '2021-07-29 21:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5619151c8f963cb4bbce98ab11841245d50b00fb', 'message': 'WIP Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nWIP debugging\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 9, 'created': '2021-08-02 21:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c029fc9019812e90914a4518dc3e9424bd5ba885', 'message': 'WIP Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nLonger term kpartx should be replaced with qemu-nbd, and so should\nother quickstart uses of virt-customize.\n\nWIP debugging\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 10, 'created': '2021-08-03 03:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/77e190293eec8a4cf4d34708e8ec729e47ac89df', 'message': 'Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nLonger term kpartx should be replaced with qemu-nbd, and so should\nother quickstart uses of virt-customize.\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 11, 'created': '2021-08-24 04:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bc07decb18d542dac45e4960ced396a7d91a10ae', 'message': 'Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nLonger term kpartx should be replaced with qemu-nbd, and so should\nother quickstart uses of virt-customize.\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 12, 'created': '2021-08-24 20:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7870b2ac6211010ad9c1067d821b6772edc01c5c', 'message': 'Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nLonger term kpartx should be replaced with qemu-nbd, and so should\nother quickstart uses of virt-customize.\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}, {'number': 13, 'created': '2021-08-25 02:45:57.000000000', 'files': ['roles/modify-image/tasks/manual.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0544395a2caed403015a5af8ecd47b6205cd4f6f', 'message': 'Mount whole-disk lvm volumes in modify-image\n\nWhole disk images use LVM for partition volumes, so the modify-image\nrole needs to mount these volumes instead of the single\n/dev/mapper/loop0p1 for partition images.\n\nLonger term kpartx should be replaced with qemu-nbd, and so should\nother quickstart uses of virt-customize.\n\nChange-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481\n'}]",1,801927,0544395a2caed403015a5af8ecd47b6205cd4f6f,49,3,13,4571,,,0,"Mount whole-disk lvm volumes in modify-image

Whole disk images use LVM for partition volumes, so the modify-image
role needs to mount these volumes instead of the single
/dev/mapper/loop0p1 for partition images.

Longer term kpartx should be replaced with qemu-nbd, and so should
other quickstart uses of virt-customize.

Change-Id: If985fbfea93042e6cd046a7e38839a4f0a1a5481
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/27/801927/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/tasks/manual.yml'],1,a885faedc5e061cee6dab5cae96fc8b78e4c0148,bp/whole-disk-default," - name: Mount partition image when: not whole_disk_images|bool - name: Mount whole-disk image shell: > kpartx -avs {{ image_to_modify_raw }}; mount /dev/mapper/vg-lv_root {{ mount_tempdir }}; if [ -b ""/dev/mapper/vg-lv_var"" ]; then mount /dev/mapper/vg-lv_var {{ mount_tempdir }}/var; fi; if [ -b ""/dev/mapper/vg-lv_log"" ]; then mount /dev/mapper/vg-lv_log {{ mount_tempdir }}/var/log; fi; if [ -b ""/dev/mapper/vg-lv_audit"" ]; then mount /dev/mapper/vg-lv_audit {{ mount_tempdir }}/var/log/audit; fi; if [ -b ""/dev/mapper/vg-lv_home"" ]; then mount /dev/mapper/vg-lv_home {{ mount_tempdir }}/home; fi; if [ -b ""/dev/mapper/vg-lv_tmp"" ]; then mount /dev/mapper/vg-lv_tmp {{ mount_tempdir }}/tmp; fi; if [ -b ""/dev/mapper/vg-lv_srv"" ]; then mount /dev/mapper/vg-lv_srv {{ mount_tempdir }}/srv; fi; become: true when: whole_disk_images|bool umount {{ mount_tempdir }}/var || true; umount {{ mount_tempdir }}/var/log || true; umount {{ mount_tempdir }}/var/log/audit || true; umount {{ mount_tempdir }}/home || true; umount {{ mount_tempdir }}/tmp || true; umount {{ mount_tempdir }}/srv || true;", - name: Mount image,34,1
openstack%2Fneutron-tempest-plugin~master~I28c1cec324046df5b062e1b9d991ca7413c075fc,openstack/neutron-tempest-plugin,master,I28c1cec324046df5b062e1b9d991ca7413c075fc,Add new scenario jobs for distributed dhcp,MERGED,2021-08-04 12:15:21.000000000,2021-08-26 21:57:57.000000000,2021-08-26 21:57:57.000000000,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 12:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2d39fdbeed0b77886b45b67fbf171eaaa796d7e2', 'message': 'Add new scenario jobs for distributed dhcp\n\nThose new jobs are based on the openvswitch and\nopenvswitch-iptables_hybrid job. The only difference in those new jobs\nis disabled DHCP agent and enabled distributed dhcp L2 extension.\n\nNew jobs are added to the experimental queue for now. We can discuss\nlater if we should add them to the check/gate queues later.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/803469\nChange-Id: I28c1cec324046df5b062e1b9d991ca7413c075fc\n'}, {'number': 2, 'created': '2021-08-09 07:19:51.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e7198c052c095a476c9e06dc092f25cf83bc04ae', 'message': 'Add new scenario jobs for distributed dhcp\n\nThose new jobs are based on the openvswitch and\nopenvswitch-iptables_hybrid job. The only difference in those new jobs\nis disabled DHCP agent and enabled distributed dhcp L2 extension.\n\nNew jobs are added to the experimental queue for now. We can discuss\nlater if we should add them to the check/gate queues later.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/803469\nChange-Id: I28c1cec324046df5b062e1b9d991ca7413c075fc\n'}]",0,803470,e7198c052c095a476c9e06dc092f25cf83bc04ae,30,4,2,11975,,,0,"Add new scenario jobs for distributed dhcp

Those new jobs are based on the openvswitch and
openvswitch-iptables_hybrid job. The only difference in those new jobs
is disabled DHCP agent and enabled distributed dhcp L2 extension.

New jobs are added to the experimental queue for now. We can discuss
later if we should add them to the check/gate queues later.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/803469
Change-Id: I28c1cec324046df5b062e1b9d991ca7413c075fc
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/70/803470/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",2,2d39fdbeed0b77886b45b67fbf171eaaa796d7e2,bp/distributed-dhcp-for-ml2-ovs, - neutron-tempest-plugin-scenario-openvswitch-distributed-dhcp - neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-distributed-dhcp,,20,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I9250953a179ba9a81b0289bc5e1239c4e0e54784,openstack/tripleo-heat-templates,stable/wallaby,I9250953a179ba9a81b0289bc5e1239c4e0e54784,Compute HA: Remove workaround for Newton and older,MERGED,2021-08-12 08:52:39.000000000,2021-08-26 21:49:38.000000000,2021-08-26 21:49:38.000000000,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-12 08:52:39.000000000', 'files': ['scripts/check-run-nova-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8bc05693d966830267670d4ddffe4dd91b7c7526', 'message': 'Compute HA: Remove workaround for Newton and older\n\nThis change removes workaround in check-run-nova-compute script which\nwas implemented for ancient versions.\n\nChange-Id: I9250953a179ba9a81b0289bc5e1239c4e0e54784\n(cherry picked from commit e04f4a618799b632f131074c67d21cc118f7769e)\n'}]",0,804335,8bc05693d966830267670d4ddffe4dd91b7c7526,11,3,1,9816,,,0,"Compute HA: Remove workaround for Newton and older

This change removes workaround in check-run-nova-compute script which
was implemented for ancient versions.

Change-Id: I9250953a179ba9a81b0289bc5e1239c4e0e54784
(cherry picked from commit e04f4a618799b632f131074c67d21cc118f7769e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/804335/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/check-run-nova-compute'],1,8bc05693d966830267670d4ddffe4dd91b7c7526,getargspec-stable/wallaby," nova = client.Client(version, region_name=region, session=keystone_session, auth=keystone_auth, http_log_debug=""verbose"" in options, endpoint_type=nova_endpoint_type)"," clientargs = inspect.getargspec(client.Client).varargs # Some versions of Openstack prior to Ocata only # supported positional arguments for username, # password, and tenant. # # Versions since Ocata only support named arguments. # # So we need to use introspection to figure out how to # create a Nova client. # # Happy days # if clientargs: # OSP < Ocata # ArgSpec(args=['version', 'username', 'password', 'project_id', 'auth_url'], # varargs=None, # keywords='kwargs', defaults=(None, None, None, None)) nova = client.Client(version, None, # User None, # Password None, # Tenant None, # Auth URL insecure=options[""insecure""], region_name=region, session=keystone_session, auth=keystone_auth, http_log_debug=""verbose"" in options, endpoint_type=nova_endpoint_type) else: # OSP >= Ocata # ArgSpec(args=['version'], varargs='args', keywords='kwargs', defaults=None) nova = client.Client(version, region_name=region, session=keystone_session, auth=keystone_auth, http_log_debug=""verbose"" in options, endpoint_type=nova_endpoint_type)",5,35
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I408560ffbecd145b476aa5205c4fd1c780491d0c,openstack/python-tripleoclient,stable/wallaby,I408560ffbecd145b476aa5205c4fd1c780491d0c,Moving the 'export_data' dict into constants,MERGED,2021-08-20 08:22:26.000000000,2021-08-26 21:36:48.000000000,2021-08-26 21:35:30.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-20 08:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/526009fb432740b628cb46d9667c79789df4fc9e', 'message': ""Moving the 'export_data' dict into constants\n\nThe 'export_data' variable in the 'tripleoclient.export.export_stack'\nis accessed in read-only manner and is used to determine\nparameters selected for export.\n\nIt is, effectivelly, a constant, but placed within a function\nbody, without declaration of it's exact contents in the docstrings.\n\nBy moving the 'export_data' among constants, we expose the information\nabout exported parameters, with minimal change to the original code,\nas the 'tripleoclient.constants' is already imported by the module.\n\nCloses-Bug: #1916505\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I408560ffbecd145b476aa5205c4fd1c780491d0c\n(cherry picked from commit 2400624bd46cde003287ce0234a5dfb982679dcf)\n""}, {'number': 2, 'created': '2021-08-23 15:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/04430fb757c3560710e79fdae2dd9420948c1335', 'message': ""Moving the 'export_data' dict into constants\n\nThe 'export_data' variable in the 'tripleoclient.export.export_stack'\nis accessed in read-only manner and is used to determine\nparameters selected for export.\n\nIt is, effectivelly, a constant, but placed within a function\nbody, without declaration of it's exact contents in the docstrings.\n\nBy moving the 'export_data' among constants, we expose the information\nabout exported parameters, with minimal change to the original code,\nas the 'tripleoclient.constants' is already imported by the module.\n\nCloses-Bug: #1916505\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I408560ffbecd145b476aa5205c4fd1c780491d0c\n(cherry picked from commit 2400624bd46cde003287ce0234a5dfb982679dcf)\n""}, {'number': 3, 'created': '2021-08-26 13:02:17.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1450b166a99d39d5a0066c06eb310591ee0d3bb8', 'message': ""Moving the 'export_data' dict into constants\n\nThe 'export_data' variable in the 'tripleoclient.export.export_stack'\nis accessed in read-only manner and is used to determine\nparameters selected for export.\n\nIt is, effectivelly, a constant, but placed within a function\nbody, without declaration of it's exact contents in the docstrings.\n\nBy moving the 'export_data' among constants, we expose the information\nabout exported parameters, with minimal change to the original code,\nas the 'tripleoclient.constants' is already imported by the module.\n\nCloses-Bug: #1916505\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I408560ffbecd145b476aa5205c4fd1c780491d0c\n(cherry picked from commit 2400624bd46cde003287ce0234a5dfb982679dcf)\n""}]",0,805355,1450b166a99d39d5a0066c06eb310591ee0d3bb8,12,9,3,32926,,,0,"Moving the 'export_data' dict into constants

The 'export_data' variable in the 'tripleoclient.export.export_stack'
is accessed in read-only manner and is used to determine
parameters selected for export.

It is, effectivelly, a constant, but placed within a function
body, without declaration of it's exact contents in the docstrings.

By moving the 'export_data' among constants, we expose the information
about exported parameters, with minimal change to the original code,
as the 'tripleoclient.constants' is already imported by the module.

Closes-Bug: #1916505

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I408560ffbecd145b476aa5205c4fd1c780491d0c
(cherry picked from commit 2400624bd46cde003287ce0234a5dfb982679dcf)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/805355/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/export.py']",2,526009fb432740b628cb46d9667c79789df4fc9e,," for export_key, export_param in constants.EXPORT_DATA.items():"," export_data = { ""EndpointMap"": { ""parameter"": ""EndpointMapOverride"", }, ""HostsEntry"": { ""parameter"": ""ExtraHostFileEntries"", }, ""GlobalConfig"": { ""parameter"": ""GlobalConfigExtraMapData"", }, ""AllNodesConfig"": { ""file"": ""group_vars/overcloud.json"", ""parameter"": ""AllNodesExtraMapData"", ""filter"": [""oslo_messaging_notify_short_bootstrap_node_name"", ""oslo_messaging_notify_node_names"", ""oslo_messaging_rpc_node_names"", ""memcached_node_ips"", ""ovn_dbs_vip"", ""redis_vip""]}, } for export_key, export_param in export_data.items():",22,21
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id9e14913168fd57c73d36f48aa6c31ac444d7ab3,openstack/tripleo-heat-templates,stable/train,Id9e14913168fd57c73d36f48aa6c31ac444d7ab3,Move CA cert injection to host_prep_tasks,ABANDONED,2020-12-18 04:43:51.000000000,2021-08-26 21:31:33.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-18 04:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8737293c8b0b9ed954a8f34eafc2b6beb23cce4', 'message': 'Move CA cert injection to host_prep_tasks\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1840886\n\nDepends-On: https://review.opendev.org/#/c/743620/\nChange-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3\n(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)\n'}, {'number': 2, 'created': '2020-12-18 04:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8270452386215d68de5c09d1e41494e0945ab50c', 'message': 'Move CA cert injection to host_prep_tasks\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1840886\n\nDepends-On: https://review.opendev.org/#/c/766090\nChange-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3\n(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)\n'}, {'number': 3, 'created': '2020-12-18 04:59:28.000000000', 'files': ['deployment/certs/ca-certs-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a7e6f532bb099c978804cc82fbfb39ef4c3f016', 'message': 'Move CA cert injection to host_prep_tasks\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1840886\n\nDepends-On: https://review.opendev.org/#/c/766090\nChange-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3\n(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)\n'}]",0,767548,5a7e6f532bb099c978804cc82fbfb39ef4c3f016,11,3,3,9914,,,0,"Move CA cert injection to host_prep_tasks

See https://bugzilla.redhat.com/show_bug.cgi?id=1840886

Depends-On: https://review.opendev.org/#/c/766090
Change-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3
(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/767548/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/certs/ca-certs-baremetal-puppet.yaml'],1,b8737293c8b0b9ed954a8f34eafc2b6beb23cce4,add_ca_update_role-stable/victoria-stable/ussuri-stable/train,"<<<<<<< HEAD (82b3b3 Merge ""Use bind mounts for tls certificates"" into stable/tra)======= description: Extra hieradata needed to inject CA certificates value: null host_prep_tasks: description: Extra ansible tasks needed to inject CA certificates value: - name: inject CA certs into the system store import_role: name: tripleo_update_trusted_cas vars: tripleo_update_trusted_cas_ca_map: {get_param: CAMap} >>>>>>> CHANGE (576859 Move CA cert injection to host_prep_tasks)",,14,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id9e14913168fd57c73d36f48aa6c31ac444d7ab3,openstack/tripleo-heat-templates,stable/ussuri,Id9e14913168fd57c73d36f48aa6c31ac444d7ab3,Move CA cert injection to host_prep_tasks,ABANDONED,2020-12-18 04:43:21.000000000,2021-08-26 21:31:22.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-18 04:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5768596f13d8712691916d72d52dd0f76f1ac406', 'message': 'Move CA cert injection to host_prep_tasks\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1840886\n\nDepends-On: https://review.opendev.org/#/c/743620/\nChange-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3\n(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)\n'}, {'number': 2, 'created': '2020-12-18 04:48:27.000000000', 'files': ['deployment/certs/ca-certs-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65eb5e1a6689b7c16f803aad853aaf3cf4889179', 'message': 'Move CA cert injection to host_prep_tasks\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1840886\n\nDepends-On: https://review.opendev.org/#/c/765954\nChange-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3\n(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)\n'}]",0,767547,65eb5e1a6689b7c16f803aad853aaf3cf4889179,16,4,2,9914,,,0,"Move CA cert injection to host_prep_tasks

See https://bugzilla.redhat.com/show_bug.cgi?id=1840886

Depends-On: https://review.opendev.org/#/c/765954
Change-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3
(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/767547/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/certs/ca-certs-baremetal-puppet.yaml'],1,5768596f13d8712691916d72d52dd0f76f1ac406,add_ca_update_role-stable/victoria-stable/ussuri, description: Extra hieradata needed to inject CA certificates value: null host_prep_tasks: description: Extra ansible tasks needed to inject CA certificates value: - name: inject CA certs into the system store import_role: name: tripleo_update_trusted_cas vars: tripleo_update_trusted_cas_ca_map: {get_param: CAMap} , tripleo::trusted_cas::ca_map: {get_param: CAMap} step_config: | include tripleo::trusted_cas,11,3
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id9e14913168fd57c73d36f48aa6c31ac444d7ab3,openstack/tripleo-heat-templates,stable/victoria,Id9e14913168fd57c73d36f48aa6c31ac444d7ab3,Move CA cert injection to host_prep_tasks,ABANDONED,2020-12-18 04:42:55.000000000,2021-08-26 21:30:47.000000000,,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-18 04:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a337e46a0d69d92096111a49c5336793e38ea434', 'message': 'Move CA cert injection to host_prep_tasks\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1840886\n\nDepends-On: https://review.opendev.org/#/c/743620/\nChange-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3\n(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)\n'}, {'number': 2, 'created': '2020-12-18 04:46:32.000000000', 'files': ['deployment/certs/ca-certs-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b438b7a542061cb14deb0754b73479033b0ea29e', 'message': 'Move CA cert injection to host_prep_tasks\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1840886\n\nDepends-On: https://review.opendev.org/#/c/765953/\nChange-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3\n(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)\n'}]",0,767546,b438b7a542061cb14deb0754b73479033b0ea29e,14,5,2,9914,,,0,"Move CA cert injection to host_prep_tasks

See https://bugzilla.redhat.com/show_bug.cgi?id=1840886

Depends-On: https://review.opendev.org/#/c/765953/
Change-Id: Id9e14913168fd57c73d36f48aa6c31ac444d7ab3
(cherry picked from commit 8e5d5283cc466b07616a57eeeee28859300022ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/767546/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/certs/ca-certs-baremetal-puppet.yaml'],1,a337e46a0d69d92096111a49c5336793e38ea434,add_ca_update_role-stable/victoria, description: Extra hieradata needed to inject CA certificates value: null host_prep_tasks: description: Extra ansible tasks needed to inject CA certificates value: - name: inject CA certs into the system store import_role: name: tripleo_update_trusted_cas vars: tripleo_update_trusted_cas_ca_map: {get_param: CAMap} , tripleo::trusted_cas::ca_map: {get_param: CAMap} step_config: | include tripleo::trusted_cas,11,3
openstack%2Fwhitebox-tempest-plugin~master~I614d45dce01ec561c659d3c62bb1db95f8c029b4,openstack/whitebox-tempest-plugin,master,I614d45dce01ec561c659d3c62bb1db95f8c029b4,Add vgpu resize tests,MERGED,2021-05-07 20:51:53.000000000,2021-08-26 21:30:28.000000000,2021-08-26 21:30:28.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 31033}, {'_account_id': 33602}]","[{'number': 1, 'created': '2021-05-07 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3f2bb5539a43b62885967063d39c176be6e0dfaa', 'message': 'Add vgpu resize tests\n\nCommit addes two new test methods to validate a vgpu instance can be\nresized to a flavor that does not contain the vgpu property and back.\nSince the test pattern for VGPUTest attempts to use the same instance\nfor all of its test methods, the order of these two new test methods are\ncritical to ensure the instance is not left in a state without a vGPU\ndevice. These test methods are design to execute as the last two tests\nof the class to avoid this situation. Since tests are executed\nalphabetically in test class, ordered is maintained by adding a _z_\nafter the start of the test method name:\n\ntest_z_gpu_to_standard_resize\ntest_z_standard_to_gpu_resize\n\nThese test methods will execute at the end of the class and the gpu to\nstandard resize will execute before the standard to gpu resize.\n\nChange-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4\n'}, {'number': 2, 'created': '2021-05-10 18:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ba708a12eceadca52b5acac759ac2dcd546b3deb', 'message': 'Add vgpu resize tests\n\nCommit adds two new test methods that verify a vgpu instance can be\nresized to a flavor without the vgpu property and back again. Commit\nalso refactors test methods and creates a single large multi-action test\nmethod called test_multiple_vgpu_server_action. This test method\ncontains tests the below actions against the same instance in this\norder:\n  * vGPU guest creation\n  * Cold-migrate a vGPU guest\n  * Cold-migrate and revert migration of vGPU guest\n  * Resize vgpu guest to a flavor without vgpu property\n  * Resize guest without vgpu property to a flavor that does\n\nChange-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4\n'}, {'number': 3, 'created': '2021-05-19 15:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8f0c0652c43c698eaa24b6bd76d4a66f6bbbb1ab', 'message': 'Add vgpu resize tests\n\nCommit reorganizes test cases to a single test method\ntest_multiple_vgpu_server_actions. The reason for this to test multiple\nactions against a single guest instance, rather than spawing up new\nresources for every testable server action. Test flow for the new method\nis detailed below in this order:\n\n  * vGPU guest creation\n  * Cold-migrate a vGPU guest\n  * Cold-migrate and revert migration of vGPU guest\n  * Resize vgpu guest to a flavor without vgpu property\n  * Resize guest without vgpu property to a flavor that does\n\nAs noted above, besides reorganzing test case structure this commit adds\ntwo new test actions that validate vGPU instance resize to a flavor\nwithout the vGPU property and back to a flavor with the property.\n\nChange-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4\n'}, {'number': 4, 'created': '2021-07-21 21:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/14cc1edbd487df4066375c58f1549eeef0814cb7', 'message': 'Add vgpu resize tests\n\nCommit reorganizes test cases into two test classes. The first is for\nstandard sanity tests VGPUSanityTest and the second class is for more\nscneario style tests, VGPUScenarioTests. VGPUSanityTest contains a basic\ntest method validating the creation of an instance with a vgpu resource,\ntest_boot_instance_with_vgpu. VGPUScenarioTests has single test method\ntest_multiple_vgpu_server_actions. This test method contains multiple\ntests. The reason for this to test multiple actions against a single\nguest instance, rather than spawing up new resources for every testable\nserver action. Test flow for the new method is detailed below in this\norder:\n\n  * vGPU guest creation\n  * Cold-migrate a vGPU guest\n  * Cold-migrate and revert migration of vGPU guest\n  * Resize vgpu guest to a flavor without vgpu property\n  * Resize guest without vgpu property to a flavor that does\n\nAs noted above, besides reorganzing test case structure this commit adds\ntwo new test actions that validate vGPU instance resize to a flavor\nwithout the vGPU property and back to a flavor with the property.\n\nChange-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4\n'}, {'number': 5, 'created': '2021-07-22 13:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5ed2745f57fdd2c024bad1bb7f1572c35f0b0081', 'message': 'Add vgpu resize tests\n\nCommit reorganizes test cases into two test classes. The first is for\nstandard sanity tests VGPUSanityTest and the second class is for more\nscneario style tests, VGPUMultiActionTests. VGPUSanityTest contains a\nbasic test method validating the creation of an instance with a vgpu\nresource, test_boot_instance_with_vgpu. VGPUMultiActionTests has single\ntest method test_multiple_vgpu_server_actions. This test method contains\nmultiple tests actions against a single guest instance, rather than\nspawing up new resources for every testable server action. Test flow for\nthe new method is detailed below in this order:\n\n  * vGPU guest creation\n  * Cold-migrate a vGPU guest\n  * Cold-migrate and revert migration of vGPU guest\n  * Resize vgpu guest to a flavor without vgpu property\n  * Resize guest without vgpu property to a flavor that does\n\nAs noted above, besides reorganzing test case structure this commit adds\ntwo new test actions that validate vGPU instance resize to a flavor\nwithout the vGPU property and back to a flavor with the property.\n\nChange-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4\n'}, {'number': 6, 'created': '2021-07-27 21:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/48f3617e94bb8e3d674c8f8913b361836e319760', 'message': 'Add vgpu resize tests\n\nCommit reorganizes test cases into two test classes. The first is for\nstandard sanity tests VGPUSanityTest and the second class is for more\nscneario style tests, VGPUMultiActionTests. VGPUSanityTest contains a\nbasic test method validating the creation of an instance with a vgpu\nresource, test_boot_instance_with_vgpu. VGPUMultiActionTests has single\ntest method test_multiple_vgpu_server_actions. This test method contains\nmultiple tests actions against a single guest instance, rather than\nspawing up new resources for every testable server action. Test flow for\nthe new method is detailed below in this order:\n\n  * vGPU guest creation\n  * Cold-migrate a vGPU guest\n  * Cold-migrate and revert migration of vGPU guest\n  * Resize vgpu guest to a flavor without vgpu property\n  * Resize guest without vgpu property to a flavor that does\n\nAs noted above, besides reorganzing test case structure this commit adds\ntwo new test actions that validate vGPU instance resize to a flavor\nwithout the vGPU property and back to a flavor with the property.\n\nLastly added a tempest flag for skip checking around tests that validate\ncold migration and resize.\n\nChange-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4\n'}, {'number': 7, 'created': '2021-08-03 16:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5e2a9ceace6779d31c3b83087c205e98b636c24a', 'message': 'Add vgpu resize tests\n\nCommit creates three classes that organizes tests around sanity, cold\nmigration, and resizing vGPU instances; VGPUSanity, VGPUColdMigration,\nand VGPUResizeInstance respectively. This allows more percise grouping\nbased around skip checks/requirements, e.g. VGPUColdMigration requires a\nminimum placement version, compute node count, vGPU vendor id,  and vgpu\ncold migration support in order to run. While sanity vGPU only requires\nvendor id.\n\nCommit also adds two new tests to the test class VGPUResizeInstance\nwhich tests the following:\n  * Resize vgpu guest to a flavor without vgpu property\n  * Resize guest without vgpu property to a flavor that does\n\nLastly added a tempest flag for skip checking around tests that validate\ncold migration and resize.\n\nChange-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4\n'}, {'number': 8, 'created': '2021-08-04 15:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/53def30485833b62b802b856e9808f3a9898360a', 'message': 'Add vgpu resize tests\n\nCommit creates three classes that organizes tests around sanity, cold\nmigration, and resizing vGPU instances; VGPUSanity, VGPUColdMigration,\nand VGPUResizeInstance respectively. This allows more percise grouping\nbased around skip checks/requirements, e.g. VGPUColdMigration requires a\nminimum placement version, compute node count, vGPU vendor id,  and vgpu\ncold migration support in order to run. While sanity vGPU only requires\nvendor id.\n\nCommit also adds two new tests to the test class VGPUResizeInstance\nwhich tests the following:\n  * Resize vgpu guest to a flavor without vgpu property\n  * Resize guest without vgpu property to a flavor that does\n\nLastly added a tempest flag for skip checking around tests that validate\ncold migration and resize.\n\nChange-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4\n'}, {'number': 9, 'created': '2021-08-09 21:31:02.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_vgpu.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/81ae49ea00eb16cf086338299a15af971d578568', 'message': 'Add vgpu resize tests\n\nCommit creates three classes that organizes tests around sanity, cold\nmigration, and resizing vGPU instances; VGPUSanity, VGPUColdMigration,\nand VGPUResizeInstance respectively. This allows more percise grouping\nbased around skip checks/requirements, e.g. VGPUColdMigration requires a\nminimum placement version, compute node count, vGPU vendor id,  and vgpu\ncold migration support in order to run. While sanity vGPU only requires\nvendor id.\n\nCommit also adds two new tests to the test class VGPUResizeInstance\nwhich tests the following:\n  * Resize vgpu guest to a flavor without vgpu property\n  * Resize guest without vgpu property to a flavor that does\n\nLastly added a tempest flag for skip checking around tests that validate\ncold migration and resize.\n\nChange-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4\n'}]",44,790304,81ae49ea00eb16cf086338299a15af971d578568,57,9,9,31033,,,0,"Add vgpu resize tests

Commit creates three classes that organizes tests around sanity, cold
migration, and resizing vGPU instances; VGPUSanity, VGPUColdMigration,
and VGPUResizeInstance respectively. This allows more percise grouping
based around skip checks/requirements, e.g. VGPUColdMigration requires a
minimum placement version, compute node count, vGPU vendor id,  and vgpu
cold migration support in order to run. While sanity vGPU only requires
vendor id.

Commit also adds two new tests to the test class VGPUResizeInstance
which tests the following:
  * Resize vgpu guest to a flavor without vgpu property
  * Resize guest without vgpu property to a flavor that does

Lastly added a tempest flag for skip checking around tests that validate
cold migration and resize.

Change-Id: I614d45dce01ec561c659d3c62bb1db95f8c029b4
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/04/790304/8 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_vgpu.py'],1,3f2bb5539a43b62885967063d39c176be6e0dfaa,vgpu_resize," def test_z_gpu_to_standard_resize(self): # NOTE: (jparker) Since this method resizes the vGPU guest used # throughout the class it needs to be executed in a speific order to # avoid vGPU related test execution against a standard guest. To ensure # tests are executed at the end, a z is added in the method name to # ensure it will run at the end of the class. # Create a standard flavor that does not use vGPU resources standard_flavor = self.create_flavor() # Determine the starting host the vGPU enabled guest is currently on # and then resize the guest, after the resize gather the host the # guest lands on src_host = self.get_host_for_server(self.server['id']) self.resize_server(self.server['id'], standard_flavor['id']) dest_host = self.get_host_for_server(self.server['id']) # Regather the VGPU resource usage on both compute the starting host # and destination host as a result of the resize. Since the instance # has been resized to no longer use vGPU, there shoul be 0 vGPU usage # reported by the resource providers src_usage = self._get_vgpu_util_for_host(src_host) dest_usage = self._get_vgpu_util_for_host(dest_host) self.assertEqual( 0, src_usage + dest_usage, 'Expected vGPU usage after resize ' 'should be 0, but instead found %d' % (src_usage + dest_usage)) # Check the guest's XML and confirm the mdev device is no longer # present vgpu_devices = self.get_server_xml(self.server['id']).findall( ""./devices/hostdev[@type='mdev']"" ) self.assertEqual( 0, len(vgpu_devices), ""Expected %d xml hostdev vgpu element(s) "" ""on instance %s but instead found %d"" % (0, self.server['id'], len(vgpu_devices))) def test_z_standard_to_gpu_resize(self): # NOTE: (jparker) this test method interacts with the guest instance # that is used by all other test methods of the class. Since the method # expects an instance that does not use vGPU it needs to run # immediately after test_z_gpu_to_standard_resize. Naming scheme has # been setup for these two methods to run at the end of the class # and in proper order. # Gather the starting host for the standard guest, resize the guest # back to a vGPU enabled guest, finally determine the guest's host # after resizing src_host = self.get_host_for_server(self.server['id']) self.resize_server(self.server['id'], self.flavor['id']) dest_host = self.get_host_for_server(self.server['id']) # Regather the VGPU resource usage on all compute hosts involved in the # resize. Confirm the host with the guest instance reports vGPU usage # correctly. If the instance migrated hosts during the resize, confirm # source host does not report any vGPU resource usage current_usage = self._get_vgpu_util_for_host(dest_host) if src_host != dest_host: src_usage = self._get_vgpu_util_for_host(src_host) self.assertEqual( 0, src_usage, 'Host %s should not have any vGPU usage ' 'reported but instead reports %d' % (src_host, src_usage)) self.assertEqual( self.vgpu_amount_per_instance, current_usage, 'After instance ' 'resize, host %s expected to have vGPU usage of %d, but instead ' 'reports %d' % (dest_host, self.vgpu_amount_per_instance, current_usage)) # Check the guest's XML and confirm that the correct number of vGPU # devices are present vgpu_devices = self.get_server_xml(self.server['id']).findall( ""./devices/hostdev[@type='mdev']"" ) self.assertEqual( self.vgpu_amount_per_instance, len(vgpu_devices), ""Expected %d "" ""xml hostdev vgpu element(s) on instance %s but instead found %d"" % (self.vgpu_amount_per_instance, self.server['id'], len(vgpu_devices))) # Determine the pci address of the vgpu hostdev element and use this # address to search for the vendor id in the guest sysfs for vgpu_xml_element in vgpu_devices: pci_address = self._get_pci_addr_from_device(vgpu_xml_element) # Validate the vendor id is present in guest instance self._assert_vendor_id_in_guest(pci_address)",,87,0
openstack%2Ftripleo-quickstart~master~I3ff962dceb393a700b6eb6b6b337a7f2c5945710,openstack/tripleo-quickstart,master,I3ff962dceb393a700b6eb6b6b337a7f2c5945710,Run featureset001 job with tempest-allow,MERGED,2021-08-12 14:53:31.000000000,2021-08-26 21:14:20.000000000,2021-08-26 21:12:30.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-12 14:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a3210cfb5586d8981865eff61e68f8e8af94f2f9', 'message': 'Run featureset001 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/804396\nChange-Id: I3ff962dceb393a700b6eb6b6b337a7f2c5945710\n'}, {'number': 2, 'created': '2021-08-16 09:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/95c4296b07790e80c1b62296b6081f56854196c1', 'message': 'Run featureset001 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/804396\nChange-Id: I3ff962dceb393a700b6eb6b6b337a7f2c5945710\n'}, {'number': 3, 'created': '2021-08-16 12:24:38.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/71160696d39f39ae264943b4861238261824e4e7', 'message': 'Run featureset001 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/804396\nChange-Id: I3ff962dceb393a700b6eb6b6b337a7f2c5945710\n'}]",5,804399,71160696d39f39ae264943b4861238261824e4e7,34,8,3,8367,,,0,"Run featureset001 job with tempest-allow

This patch replace the tempest_test_whitelist with tempest_allowed_group
that is to be used by tempest-allow.

Depends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/804396
Change-Id: I3ff962dceb393a700b6eb6b6b337a7f2c5945710
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/99/804399/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,a3210cfb5586d8981865eff61e68f8e8af94f2f9,tempest-allow,tempest_allowed_group: >- 'featureset001' 'featureset001_periodic',test_white_regex: '' tempest_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' # For periodic pipeline run tempest *.api tests in fs001 # See https://tree.taiga.io/project/tripleo-ci-board/task/1383 tempest_periodic_whitelist: - 'tempest.api' - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps' tempest_check_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps' tempest_test_whitelist: >- {{ tempest_periodic_whitelist }} {{ tempest_check_whitelist }},3,16
openstack%2Frequirements~stable%2Fwallaby~If623acea402b4024be43c198bb38c18332ded54a,openstack/requirements,stable/wallaby,If623acea402b4024be43c198bb38c18332ded54a,update constraint for python-ironicclient to new release 4.6.2,MERGED,2021-08-26 12:35:36.000000000,2021-08-26 21:10:07.000000000,2021-08-26 21:10:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-26 12:35:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6370449140e7eadc3a8e3d140dd637388a2dfb6b', 'message': 'update constraint for python-ironicclient to new release 4.6.2\n\nmeta: version: 4.6.2\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Change-Id: Ibab34b5478f9d86fa10004dee113e75c5f17c05b\nmeta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: If623acea402b4024be43c198bb38c18332ded54a\n'}]",0,806168,6370449140e7eadc3a8e3d140dd637388a2dfb6b,8,3,1,11131,,,0,"update constraint for python-ironicclient to new release 4.6.2

meta: version: 4.6.2
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Change-Id: Ibab34b5478f9d86fa10004dee113e75c5f17c05b
meta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: If623acea402b4024be43c198bb38c18332ded54a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/806168/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6370449140e7eadc3a8e3d140dd637388a2dfb6b,new-release,python-ironicclient===4.6.2,python-ironicclient===4.6.1,1,1
openstack%2Frequirements~stable%2Fwallaby~I50aee4879b6d0439a50931739cd4cc624d6bc732,openstack/requirements,stable/wallaby,I50aee4879b6d0439a50931739cd4cc624d6bc732,update constraint for sushy to new release 3.7.3,MERGED,2021-08-26 12:27:48.000000000,2021-08-26 21:07:18.000000000,2021-08-26 21:07:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-26 12:27:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/38f94ab3e0afa94fb0890d72645c07d7985cb7fe', 'message': 'update constraint for sushy to new release 3.7.3\n\nmeta: version: 3.7.3\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Change-Id: I74906613ef9b52eba0772c973e00c1dbfc0dbce2\nmeta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I50aee4879b6d0439a50931739cd4cc624d6bc732\n'}]",0,806165,38f94ab3e0afa94fb0890d72645c07d7985cb7fe,8,3,1,11131,,,0,"update constraint for sushy to new release 3.7.3

meta: version: 3.7.3
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Change-Id: I74906613ef9b52eba0772c973e00c1dbfc0dbce2
meta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I50aee4879b6d0439a50931739cd4cc624d6bc732
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/806165/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,38f94ab3e0afa94fb0890d72645c07d7985cb7fe,new-release,sushy===3.7.3,sushy===3.7.2,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4,openstack/python-tripleoclient,stable/wallaby,Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4,"Introduce ""openstack overcloud ceph deploy""",MERGED,2021-08-24 19:54:30.000000000,2021-08-26 20:59:49.000000000,2021-08-26 20:58:05.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-24 19:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/99bdd05c3a01ef80ddac23002a62f5793be29c41', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n(cherry picked from commit 61e4f4c7889b44979cd56fe5b5a24b0965151bfa)\n'}, {'number': 2, 'created': '2021-08-24 20:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea6e0ca3e0a2fee1e124da12e3ebb7384a91b85d', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n(cherry picked from commit 61e4f4c7889b44979cd56fe5b5a24b0965151bfa)\n'}, {'number': 3, 'created': '2021-08-25 17:26:10.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v2/overcloud_ceph/__init__.py', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'setup.cfg', 'releasenotes/notes/overcloud_ceph_deploy-485f59b64eb93c70.yaml', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a5d144ff3c488e1006424debdd2387837e339d79', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n(cherry picked from commit 61e4f4c7889b44979cd56fe5b5a24b0965151bfa)\n'}]",6,805828,a5d144ff3c488e1006424debdd2387837e339d79,17,3,3,18002,,,0,"Introduce ""openstack overcloud ceph deploy""

The new ""openstack overcloud ceph deploy"" is used to deploy
Ceph after the hardware has been provisioned with networking
and before the overcloud is deployed. The command takes the
output of ""openstack overcloud node provision"" as input and
returns a Heat enviornment file, e.g. deployed_ceph.yaml,
as output. The deployed_ceph.yaml file may then be passed
to the ""openstack overcloud deploy"" command as input.

Change-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4
(cherry picked from commit 61e4f4c7889b44979cd56fe5b5a24b0965151bfa)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/28/805828/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v2/overcloud_ceph/__init__.py', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'setup.cfg', 'releasenotes/notes/overcloud_ceph_deploy-485f59b64eb93c70.yaml', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",7,99bdd05c3a01ef80ddac23002a62f5793be29c41,deployed_ceph-stable/wallaby,"# Copyright 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import mock from osc_lib import exceptions as osc_lib_exc from tripleoclient.tests import fakes from tripleoclient.v2 import overcloud_ceph class TestOvercloudCephDeploy(fakes.FakePlaybookExecution): def setUp(self): super(TestOvercloudCephDeploy, self).setUp() # Get the command object to test app_args = mock.Mock() app_args.verbose_level = 1 self.app.options = fakes.FakeOptions() self.cmd = overcloud_ceph.OvercloudCephDeploy(self.app, app_args) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_overcloud_deploy_ceph(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs): arglist = ['deployed-metal.yaml', '--yes', '--stack', 'overcloud', '--output', 'deployed-ceph.yaml', '--container-namespace', 'quay.io/ceph', '--container-image', 'ceph', '--container-tag', 'latest'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( playbook='cli-deployed-ceph.yaml', inventory=mock.ANY, workdir=mock.ANY, playbook_dir=mock.ANY, verbosity=3, extra_vars={ ""baremetal_deployed_path"": mock.ANY, ""deployed_ceph_tht_path"": mock.ANY, ""working_dir"": mock.ANY, ""stack_name"": 'overcloud', 'tripleo_roles_path': mock.ANY, 'tripleo_cephadm_container_ns': 'quay.io/ceph', 'tripleo_cephadm_container_image': 'ceph', 'tripleo_cephadm_container_tag': 'latest', } ) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) def test_overcloud_deploy_ceph_no_overwrite(self, mock_abspath, mock_path_exists): arglist = ['deployed-metal.yaml', '--stack', 'overcloud', '--output', 'deployed-ceph.yaml'] parsed_args = self.check_parser(self.cmd, arglist, []) self.assertRaises(osc_lib_exc.CommandError, self.cmd.take_action, parsed_args) ",,504,0
openstack%2Fmanila~master~I55270b330d1fe98817df4d419e8c26c90440e3a6,openstack/manila,master,I55270b330d1fe98817df4d419e8c26c90440e3a6,Use oslo-config-generator conf to load options from libraries,MERGED,2021-08-14 13:49:22.000000000,2021-08-26 20:52:36.000000000,2021-08-26 18:43:36.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-08-14 13:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/006e56860abdeeb6b08d1473bf0b3b0e85079f59', 'message': 'Use oslo-config-generator conf to load options from libraries\n\n... instead of importing library modules just to load options. With\nthis change the oslo-config-generator command renders parameters with\nwith the original module name instead of ""manila""\n\nChange-Id: I55270b330d1fe98817df4d419e8c26c90440e3a6\n'}, {'number': 2, 'created': '2021-08-14 13:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/785e491cb47b56e94026ae69c55cf82dcd47ce14', 'message': 'Use oslo-config-generator conf to load options from libraries\n\n... instead of importing library modules just to load options.\n\nChange-Id: I55270b330d1fe98817df4d419e8c26c90440e3a6\n'}, {'number': 3, 'created': '2021-08-14 14:43:44.000000000', 'files': ['etc/oslo-config-generator/manila.conf', 'manila/opts.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7f35a177d3e65333a34188a41813ea6440301929', 'message': 'Use oslo-config-generator conf to load options from libraries\n\n... instead of importing library modules just to load options.\n\nChange-Id: I55270b330d1fe98817df4d419e8c26c90440e3a6\n'}]",0,804564,7f35a177d3e65333a34188a41813ea6440301929,47,3,3,9816,,,0,"Use oslo-config-generator conf to load options from libraries

... instead of importing library modules just to load options.

Change-Id: I55270b330d1fe98817df4d419e8c26c90440e3a6
",git fetch https://review.opendev.org/openstack/manila refs/changes/64/804564/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/oslo-config-generator/manila.conf', 'manila/opts.py']",2,006e56860abdeeb6b08d1473bf0b3b0e85079f59,config-generator,,import oslo_concurrency.opts import oslo_log._options import oslo_middleware.opts import oslo_policy.opts import oslo_service.sslutils _opts.extend(oslo_concurrency.opts.list_opts()) _opts.extend(oslo_log._options.list_opts()) _opts.extend(oslo_middleware.opts.list_opts()) _opts.extend(oslo_policy.opts.list_opts())_opts.extend(oslo_service.sslutils.list_opts()),6,14
openstack%2Ftripleo-heat-templates~master~Ibfef67aac7730accbffbb3973b9087dfd15dcef4,openstack/tripleo-heat-templates,master,Ibfef67aac7730accbffbb3973b9087dfd15dcef4,Stop rotating rabbitmq crash.log files via erlang's lager,MERGED,2020-09-29 21:44:17.000000000,2021-08-26 19:48:57.000000000,2021-08-26 19:48:57.000000000,"[{'_account_id': 6926}, {'_account_id': 19489}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-29 21:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12a14b3aa4f5c11b2ec85740328056c696d8759a', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 2, 'created': '2020-09-30 09:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6af7deb454aa962f5359d68e966a6e5367babb46', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 3, 'created': '2020-09-30 13:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e79482e8df2caf1459335f5aff5687d8b661a872', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 4, 'created': '2020-09-30 20:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a64caa0f4a894702618fb7983ebcd5d2ca83ac75', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 5, 'created': '2021-03-17 09:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9fa68dd59cdedce262e0091de64a0d73816eb05e', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 6, 'created': '2021-03-20 10:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0efd1b9e091d6cf4dce18463d75a27e08e6a897f', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 7, 'created': '2021-04-08 09:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f3eda3e59f2b123b50222fd9f44452b108670ca', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 8, 'created': '2021-04-08 11:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71ca55e2b6553f41afb080bebcb24eaa8a3ec5a8', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 9, 'created': '2021-04-11 19:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9bf9aef7b27c0b8934ae9a4eb0c640c675763cdc', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 10, 'created': '2021-04-12 10:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1eed54aa43df14776adf63b45c09ff2351f30f47', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 11, 'created': '2021-06-08 18:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f5ec863ba457ac1b582aeb9a2b7c715f68bef72', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 12, 'created': '2021-06-08 20:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf8509d567892e2499db6369becde219441dcc40', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 13, 'created': '2021-06-08 20:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6305c9f1d769417aca3103e659268eb16fca1f40', 'message': 'wip rabbitmq stop rotating logs\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n'}, {'number': 14, 'created': '2021-08-26 05:54:33.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/236f14fe89b1699fab4f3b8dd1e222a0a670d3da', 'message': ""Stop rotating rabbitmq crash.log files via erlang's lager\n\nThe log file `/var/log/containers/rabbitmq/log/crash.log` is currently\nbeing rotated by both the lager logging framework and the\nlogrotate_crond container.\nThis will give us logs like:\n$ ll /var/log/containers/rabbitmq/log/\ntotal 4\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log\n-rw-r-----. 1 42439 42439 0 Aug 25 00:00 crash.log.0\n-rw-r-----. 1 42439 42439 0 Aug 24 00:01 crash.log.1\n-rw-r-----. 1 42439 42439 0 Aug 23 00:01 crash.log.2\n-rw-r-----. 1 42439 42439 20 Aug 25 00:00 crash.log-20200825.gz\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log-20200826\n-rw-r-----. 1 42439 42439 0 Aug 22 00:00 crash.log.3\n-rw-r-----. 1 42439 42439 0 Aug 21 00:01 crash.log.4\n\nWe need to disable the lager rotation and let logrotate do its job.\n\nTested by applying the patch and confirming, after some days,\nthat there is no double-rotation taking place.\n\nCloses-Bug: #1941698\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n""}]",4,755134,236f14fe89b1699fab4f3b8dd1e222a0a670d3da,64,6,14,20172,,,0,"Stop rotating rabbitmq crash.log files via erlang's lager

The log file `/var/log/containers/rabbitmq/log/crash.log` is currently
being rotated by both the lager logging framework and the
logrotate_crond container.
This will give us logs like:
$ ll /var/log/containers/rabbitmq/log/
total 4
-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log
-rw-r-----. 1 42439 42439 0 Aug 25 00:00 crash.log.0
-rw-r-----. 1 42439 42439 0 Aug 24 00:01 crash.log.1
-rw-r-----. 1 42439 42439 0 Aug 23 00:01 crash.log.2
-rw-r-----. 1 42439 42439 20 Aug 25 00:00 crash.log-20200825.gz
-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log-20200826
-rw-r-----. 1 42439 42439 0 Aug 22 00:00 crash.log.3
-rw-r-----. 1 42439 42439 0 Aug 21 00:01 crash.log.4

We need to disable the lager rotation and let logrotate do its job.

Tested by applying the patch and confirming, after some days,
that there is no double-rotation taking place.

Closes-Bug: #1941698

Change-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/755134/10 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rabbitmq/rabbitmq-container-puppet.yaml'],1,12a14b3aa4f5c11b2ec85740328056c696d8759a,rabbitmq-log-rotation," log: ""[ { file, [ { rotation: [ { date: '' }, { size: 0 } ] } ] } ]""",,1,0
openstack%2Fneutron-lib~master~I594aa2837b38347a471be4e98c7d838c12c2e32b,openstack/neutron-lib,master,I594aa2837b38347a471be4e98c7d838c12c2e32b,Fix hostroute validation with BFD,MERGED,2021-08-24 12:03:45.000000000,2021-08-26 19:35:44.000000000,2021-08-26 19:34:11.000000000,"[{'_account_id': 841}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 12:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fc2a166fbeced92f184bf1aebf205b2fcca83bf8', 'message': 'Fix hostroute validation with BFD\n\nChange-Id: I594aa2837b38347a471be4e98c7d838c12c2e32b\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 2, 'created': '2021-08-25 12:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f7b4eaa01c8728e412ab08f5924de2a708809533', 'message': 'Fix hostroute validation with BFD\n\nChange-Id: I594aa2837b38347a471be4e98c7d838c12c2e32b\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 3, 'created': '2021-08-26 10:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e221df519ce9620ad579032f7f2025f9521ecaa0', 'message': 'Fix hostroute validation with BFD\n\nChange-Id: I594aa2837b38347a471be4e98c7d838c12c2e32b\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}, {'number': 4, 'created': '2021-08-26 14:43:52.000000000', 'files': ['neutron_lib/tests/unit/api/validators/test_validators.py', 'neutron_lib/api/validators/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5ff14c63c86cd24720d41822d871a0a096aa821e', 'message': 'Fix hostroute validation with BFD\n\nChange-Id: I594aa2837b38347a471be4e98c7d838c12c2e32b\nRelated-Bug: #1907089\nSee-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337\n'}]",5,805834,5ff14c63c86cd24720d41822d871a0a096aa821e,25,3,4,8313,,,0,"Fix hostroute validation with BFD

Change-Id: I594aa2837b38347a471be4e98c7d838c12c2e32b
Related-Bug: #1907089
See-Also: https://review.opendev.org/c/openstack/neutron-specs/+/767337
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/34/805834/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/api/validators/test_validators.py', 'neutron_lib/api/validators/__init__.py']",2,fc2a166fbeced92f184bf1aebf205b2fcca83bf8,bug/1907089, elif (hostroute and 'bfd_monitor_id' not in hostroute and 'bfd_monitor_id' in expected_keys): expected_keys.remove('bfd_monitor_id'),,10,1
openstack%2Fopenstack-ansible-os_neutron~master~I82c2c35acbeb55ac5ae15121acbe457347de5f49,openstack/openstack-ansible-os_neutron,master,I82c2c35acbeb55ac5ae15121acbe457347de5f49,Set OVN jobs to voting,MERGED,2021-08-12 03:50:46.000000000,2021-08-26 19:35:15.000000000,2021-08-26 19:30:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28752}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-12 03:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ab1559e5491083d373d3c0af686f15a73f2d2cbd', 'message': 'Set OVN jobs to voting\n\nChange-Id: I82c2c35acbeb55ac5ae15121acbe457347de5f49\n'}, {'number': 2, 'created': '2021-08-16 11:37:31.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/764609af5afa201a040977a26cc45f5a7af3e381', 'message': 'Set OVN jobs to voting\n\nChange-Id: I82c2c35acbeb55ac5ae15121acbe457347de5f49\n'}]",1,804324,764609af5afa201a040977a26cc45f5a7af3e381,30,4,2,28619,,,0,"Set OVN jobs to voting

Change-Id: I82c2c35acbeb55ac5ae15121acbe457347de5f49
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/24/804324/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ab1559e5491083d373d3c0af686f15a73f2d2cbd,osa/neutron-ovn, - openstack-ansible-deploy-aio_ovn_lxc-centos-8-stream - openstack-ansible-deploy-aio_ovn_metal-centos-8-stream - openstack-ansible-deploy-aio_ovn_lxc-ubuntu-focal2 - openstack-ansible-deploy-aio_metal_ovn-ubuntu-focal2 - openstack-ansible-deploy-aio_ovn_lxc-centos-8-stream - openstack-ansible-deploy-aio_ovn_metal-centos-8-stream - openstack-ansible-deploy-aio_ovn_lxc-ubuntu-focal2 - openstack-ansible-deploy-aio_metal_ovn-ubuntu-focal2, - openstack-ansible-deploy-aio_ovn_lxc-centos-8-stream: voting: false - openstack-ansible-deploy-aio_ovn_metal-centos-8-stream: voting: false - openstack-ansible-deploy-aio_ovn_lxc-ubuntu-focal2: voting: false - openstack-ansible-deploy-aio_metal_ovn-ubuntu-focal2: voting: false - openstack-ansible-deploy-aio_ovn_lxc-centos-8-stream: voting: false - openstack-ansible-deploy-aio_ovn_metal-centos-8-stream: voting: false - openstack-ansible-deploy-aio_ovn_lxc-ubuntu-focal2: voting: false - openstack-ansible-deploy-aio_metal_ovn-ubuntu-focal2: voting: false,8,16
openstack%2Fkeystone~master~Id9d89a04b480cbdcefead93ce55a1f174f948f5d,openstack/keystone,master,Id9d89a04b480cbdcefead93ce55a1f174f948f5d,Fix oslo policy DeprecatedRule warnings,MERGED,2021-07-04 22:56:07.000000000,2021-08-26 19:25:58.000000000,2021-08-26 19:22:50.000000000,"[{'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-04 22:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3cd9355f2befc746ba485592ee94c1f1b9bc90a', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Id9d89a04b480cbdcefead93ce55a1f174f948f5d\n'}, {'number': 2, 'created': '2021-07-05 16:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bbf53de34f81280e7fc55b1343890e5df2c99bd1', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Id9d89a04b480cbdcefead93ce55a1f174f948f5d\n'}, {'number': 3, 'created': '2021-07-06 16:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d05828f39bf734dc27fe58261061eee705860d61', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Id9d89a04b480cbdcefead93ce55a1f174f948f5d\n'}, {'number': 4, 'created': '2021-07-15 14:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a6b83c989567e836bc268c1fb702503c661079db', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Id9d89a04b480cbdcefead93ce55a1f174f948f5d\n'}, {'number': 5, 'created': '2021-07-23 01:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/79fd1c4c21788e05139337629f026e62267e4f25', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Id9d89a04b480cbdcefead93ce55a1f174f948f5d\n'}, {'number': 6, 'created': '2021-08-20 19:30:35.000000000', 'files': ['keystone/common/policies/endpoint_group.py', 'keystone/common/policies/mapping.py', 'keystone/common/policies/consumer.py', 'keystone/common/policies/domain_config.py', 'keystone/common/policies/ec2_credential.py', 'keystone/common/policies/policy.py', 'keystone/common/policies/identity_provider.py', 'keystone/common/policies/implied_role.py', 'keystone/common/policies/endpoint.py', 'requirements.txt', 'keystone/common/policies/role.py', 'keystone/common/policies/application_credential.py', 'keystone/common/policies/region.py', 'keystone/common/policies/credential.py', 'keystone/common/policies/group.py', 'keystone/common/policies/policy_association.py', 'keystone/common/policies/user.py', 'keystone/common/policies/grant.py', 'keystone/common/policies/service.py', 'keystone/common/policies/project.py', 'lower-constraints.txt', 'keystone/common/policies/role_assignment.py', 'keystone/common/policies/token.py', 'keystone/common/policies/project_endpoint.py', 'keystone/common/policies/domain.py', 'keystone/common/policies/protocol.py', 'keystone/common/policies/trust.py', 'keystone/common/policies/service_provider.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e057378b82efe27c2ac9dd277ead587836c759b5', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Id9d89a04b480cbdcefead93ce55a1f174f948f5d\n'}]",29,799423,e057378b82efe27c2ac9dd277ead587836c759b5,51,3,6,8556,,,0,"Fix oslo policy DeprecatedRule warnings

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

These warnings are logged for every test which increase the
log size and sometime can full the log buffer and fail the
job.

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: Id9d89a04b480cbdcefead93ce55a1f174f948f5d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/23/799423/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/mapping.py', 'keystone/common/policies/consumer.py', 'keystone/common/policies/domain_config.py', 'keystone/common/policies/ec2_credential.py', 'keystone/common/policies/policy.py', 'keystone/common/policies/identity_provider.py', 'keystone/common/policies/implied_role.py', 'keystone/common/policies/endpoint.py', 'requirements.txt', 'keystone/common/policies/role.py', 'keystone/common/policies/application_credential.py', 'keystone/common/policies/region.py', 'keystone/common/policies/credential.py', 'keystone/common/policies/group.py', 'keystone/common/policies/policy_association.py', 'keystone/common/policies/user.py', 'keystone/common/policies/grant.py', 'keystone/common/policies/service.py', 'keystone/common/policies/project.py', 'lower-constraints.txt', 'keystone/common/policies/role_assignment.py', 'keystone/common/policies/token.py', 'keystone/common/policies/project_endpoint.py', 'keystone/common/policies/domain.py', 'keystone/common/policies/protocol.py', 'keystone/common/policies/trust.py', 'keystone/common/policies/service_provider.py']",27,b3cd9355f2befc746ba485592ee94c1f1b9bc90a,fix-oslo-policy-warnings,"deprecated_get_sp = policy.DeprecatedRule( name=base.IDENTITY % 'get_service_provider', check_str=base.RULE_ADMIN_REQUIRED, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN ) deprecated_list_sp = policy.DeprecatedRule( name=base.IDENTITY % 'list_service_providers', check_str=base.RULE_ADMIN_REQUIRED, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN ) deprecated_update_sp = policy.DeprecatedRule( name=base.IDENTITY % 'update_service_provider', check_str=base.RULE_ADMIN_REQUIRED, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN ) deprecated_create_sp = policy.DeprecatedRule( name=base.IDENTITY % 'create_service_provider', check_str=base.RULE_ADMIN_REQUIRED, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN ) deprecated_delete_sp = policy.DeprecatedRule( name=base.IDENTITY % 'delete_service_provider', check_str=base.RULE_ADMIN_REQUIRED, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN ) deprecated_rule=deprecated_create_sp), deprecated_rule=deprecated_list_sp deprecated_rule=deprecated_get_sp deprecated_rule=deprecated_update_sp), deprecated_rule=deprecated_delete_sp)","deprecated_get_sp = policy.DeprecatedRule( name=base.IDENTITY % 'get_service_provider', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_list_sp = policy.DeprecatedRule( name=base.IDENTITY % 'list_service_providers', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_update_sp = policy.DeprecatedRule( name=base.IDENTITY % 'update_service_provider', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_create_sp = policy.DeprecatedRule( name=base.IDENTITY % 'create_service_provider', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_delete_sp = policy.DeprecatedRule( name=base.IDENTITY % 'delete_service_provider', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_rule=deprecated_create_sp, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN), deprecated_rule=deprecated_list_sp, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN deprecated_rule=deprecated_get_sp, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN deprecated_rule=deprecated_update_sp, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN), deprecated_rule=deprecated_delete_sp, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN)",799,796
openstack%2Fopenstack-tempest-skiplist~master~I80ff72785e955e1715cb7c7c40ea3cb5a934bf4b,openstack/openstack-tempest-skiplist,master,I80ff72785e955e1715cb7c7c40ea3cb5a934bf4b,Update skip TestSnapshotPattern and TestVolumeBootPattern,MERGED,2021-08-26 18:39:17.000000000,2021-08-26 19:01:06.000000000,2021-08-26 18:58:42.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 18:39:17.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/c8ebacada7d977e7eefec2801f8bd728fee5c713', 'message': 'Update skip TestSnapshotPattern and TestVolumeBootPattern\n\nAs described in bug #1940866, these tests are frequently failing,\nso we are moving them to skiplist to unblock the following jobs:\n  - periodic-tripleo-ci-centos-8-scenario001-standalone-cinder-wallaby\n  - periodic-tripleo-ci-centos-8-scenario001-standalone-cloudops-wallaby\n  - periodic-tripleo-ci-centos-8-scenario001-standalone-common-wallaby\n  - periodic-tripleo-ci-centos-8-scenario001-standalone-glance-wallaby\n  - periodic-tripleo-ci-centos-8-scenario001-standalone-cinder-master\n  - periodic-tripleo-ci-centos-8-scenario001-standalone-cloudops-master\n  - periodic-tripleo-ci-centos-8-scenario001-standalone-common-master\n  - periodic-tripleo-ci-centos-8-scenario001-standalone-glance-master\n\nRelated-Bug: #1940866\nChange-Id: I80ff72785e955e1715cb7c7c40ea3cb5a934bf4b\n'}]",0,806261,c8ebacada7d977e7eefec2801f8bd728fee5c713,7,2,1,30002,,,0,"Update skip TestSnapshotPattern and TestVolumeBootPattern

As described in bug #1940866, these tests are frequently failing,
so we are moving them to skiplist to unblock the following jobs:
  - periodic-tripleo-ci-centos-8-scenario001-standalone-cinder-wallaby
  - periodic-tripleo-ci-centos-8-scenario001-standalone-cloudops-wallaby
  - periodic-tripleo-ci-centos-8-scenario001-standalone-common-wallaby
  - periodic-tripleo-ci-centos-8-scenario001-standalone-glance-wallaby
  - periodic-tripleo-ci-centos-8-scenario001-standalone-cinder-master
  - periodic-tripleo-ci-centos-8-scenario001-standalone-cloudops-master
  - periodic-tripleo-ci-centos-8-scenario001-standalone-common-master
  - periodic-tripleo-ci-centos-8-scenario001-standalone-glance-master

Related-Bug: #1940866
Change-Id: I80ff72785e955e1715cb7c7c40ea3cb5a934bf4b
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/61/806261/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,c8ebacada7d977e7eefec2801f8bd728fee5c713,skip_volume_boot_pattern, - periodic-tripleo-ci-centos-8-scenario001-standalone-cinder-master - periodic-tripleo-ci-centos-8-scenario001-standalone-cloudops-master - periodic-tripleo-ci-centos-8-scenario001-standalone-common-master - periodic-tripleo-ci-centos-8-scenario001-standalone-glance-master - periodic-tripleo-ci-centos-8-scenario001-standalone-cinder-wallaby - periodic-tripleo-ci-centos-8-scenario001-standalone-cloudops-wallaby - periodic-tripleo-ci-centos-8-scenario001-standalone-common-wallaby - periodic-tripleo-ci-centos-8-scenario001-standalone-glance-wallaby,,8,0
openstack%2Fopenstack-helm~master~Ie7bd8909f1c93b76b2242748318f892a6ff9c53d,openstack/openstack-helm,master,Ie7bd8909f1c93b76b2242748318f892a6ff9c53d,Add logic to Cinder bootstrap to handle timing issue,MERGED,2021-08-23 20:52:11.000000000,2021-08-26 18:20:28.000000000,2021-08-26 18:18:02.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-08-23 20:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f2b39dbbc1d6e54b24fe4265f1e6bd71aac46fe', 'message': '[WIP] debug\n\nChange-Id: Ie7bd8909f1c93b76b2242748318f892a6ff9c53d\n'}, {'number': 2, 'created': '2021-08-23 21:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3e334b351fe901f0fe69d37be60c8ca51b3a0be', 'message': '[WIP] debug\n\nChange-Id: Ie7bd8909f1c93b76b2242748318f892a6ff9c53d\n'}, {'number': 3, 'created': '2021-08-24 19:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84ba920850b58932164b1a552fc88bad177d4df9', 'message': 'Add logic to Cinder bootstrap to handle timing issue\n\nDuring upgrade, the Cinder pods go through the upgrade\nprocess. Sometimes, the pods are unavailable to handle\nthe requests in bootstrap even the Cinder services are\nup. This patchset gives the bootstrap job additional\nattempt to finish the tasks\n\nChange-Id: Ie7bd8909f1c93b76b2242748318f892a6ff9c53d\n'}, {'number': 4, 'created': '2021-08-24 21:08:44.000000000', 'files': ['cinder/templates/bin/_bootstrap.sh.tpl', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ea0e2789238cdbb513785b711848771f4748769', 'message': 'Add logic to Cinder bootstrap to handle timing issue\n\nDuring upgrade, the Cinder pods go through the upgrade\nprocess. Sometimes, the pods are unavailable to handle\nthe requests in bootstrap even the Cinder services are\nup. This patchset gives the bootstrap job additional\nattempt to finish the tasks\n\nChange-Id: Ie7bd8909f1c93b76b2242748318f892a6ff9c53d\n'}]",0,805706,8ea0e2789238cdbb513785b711848771f4748769,16,5,4,18236,,,0,"Add logic to Cinder bootstrap to handle timing issue

During upgrade, the Cinder pods go through the upgrade
process. Sometimes, the pods are unavailable to handle
the requests in bootstrap even the Cinder services are
up. This patchset gives the bootstrap job additional
attempt to finish the tasks

Change-Id: Ie7bd8909f1c93b76b2242748318f892a6ff9c53d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/06/805706/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/bin/_bootstrap.sh.tpl', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml']",3,0f2b39dbbc1d6e54b24fe4265f1e6bd71aac46fe,, - 0.2.8 Add debug option to openstack commands in boostrap,,3,1
openstack%2Fopenstack-helm-images~master~I528c1c17d2131256097cac5a67ec7ea17541c685,openstack/openstack-helm-images,master,I528c1c17d2131256097cac5a67ec7ea17541c685,Fix issue with retry logic querying prometheus,MERGED,2021-08-26 15:54:21.000000000,2021-08-26 17:54:09.000000000,2021-08-26 17:52:20.000000000,"[{'_account_id': 8863}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 15:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9d747e232f11f08666f217310ddb3db7725ecb56', 'message': ""Fix issue with retry logic querying prometheus\n\nThe issue is that the successful response from prometheus wasn't\ntriggering of the exit from the retry loop. Now on successful queries\nthe while retry loop will break into a successful exit strategy.\n\nChange-Id: I528c1c17d2131256097cac5a67ec7ea17541c685\n""}, {'number': 2, 'created': '2021-08-26 16:00:49.000000000', 'files': ['nagios/plugins/query_prometheus_alerts.py', 'nagios/plugins/check_exporter_health_metric.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a21cb2a0af5be96eb8cebb8445d03ed2c1cb110a', 'message': ""Fix issue with retry logic querying prometheus\n\nThe issue is that the successful response from prometheus wasn't\ntriggering of the exit from the retry loop. Now on successful queries\nthe while retry loop will break into a successful exit strategy.\n\nChange-Id: I528c1c17d2131256097cac5a67ec7ea17541c685\n""}]",2,806234,a21cb2a0af5be96eb8cebb8445d03ed2c1cb110a,12,4,2,30882,,,0,"Fix issue with retry logic querying prometheus

The issue is that the successful response from prometheus wasn't
triggering of the exit from the retry loop. Now on successful queries
the while retry loop will break into a successful exit strategy.

Change-Id: I528c1c17d2131256097cac5a67ec7ea17541c685
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/34/806234/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/plugins/query_prometheus_alerts.py', 'nagios/plugins/check_exporter_health_metric.py']",2,9d747e232f11f08666f217310ddb3db7725ecb56,, break,,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I03f0171a289f42437c3c9239f05d22168f5e2e87,openstack/tripleo-heat-templates,stable/train,I03f0171a289f42437c3c9239f05d22168f5e2e87,Add standalone upgrade job for train,ABANDONED,2020-01-10 15:35:11.000000000,2021-08-26 17:52:53.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-10 15:35:11.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/845f8a0f07b39b17c9dacd7c1c16ab78c5cc341b', 'message': 'Add standalone upgrade job for train\n\nChange-Id: I03f0171a289f42437c3c9239f05d22168f5e2e87\n'}]",7,701983,845f8a0f07b39b17c9dacd7c1c16ab78c5cc341b,17,7,1,16515,,,0,"Add standalone upgrade job for train

Change-Id: I03f0171a289f42437c3c9239f05d22168f5e2e87
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/701983/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,845f8a0f07b39b17c9dacd7c1c16ab78c5cc341b,upgrade/standalone/job, - tripleo-ci-centos-7-standalone-upgrade-train:, - tripleo-ci-centos-7-standalone-upgrade-stein:,1,1
openstack%2Ftripleo-puppet-elements~master~Ifd9a4f9312641b4e1474b4e0bc298724e02d75e9,openstack/tripleo-puppet-elements,master,Ifd9a4f9312641b4e1474b4e0bc298724e02d75e9,Add config for CentOS 9 in yum_plugin_priorities,MERGED,2021-08-25 16:04:27.000000000,2021-08-26 17:34:20.000000000,2021-08-26 17:34:20.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-25 16:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/380ed55c087e014d64c14fdd2bd9bb73506a2dec', 'message': 'Add config for CentOS 9 in yum_plugin_priorities\n\nChange-Id: Ifd9a4f9312641b4e1474b4e0bc298724e02d75e9\n'}, {'number': 2, 'created': '2021-08-25 17:49:30.000000000', 'files': ['elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/4d183e9dddba39b747d44d9ca06e143e043e002c', 'message': 'Add config for CentOS 9 in yum_plugin_priorities\n\nChange-Id: Ifd9a4f9312641b4e1474b4e0bc298724e02d75e9\n'}]",0,806019,4d183e9dddba39b747d44d9ca06e143e043e002c,12,4,2,10969,,,0,"Add config for CentOS 9 in yum_plugin_priorities

Change-Id: Ifd9a4f9312641b4e1474b4e0bc298724e02d75e9
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/19/806019/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,380ed55c087e014d64c14fdd2bd9bb73506a2dec,c9img," }, ""9"": { ""yum_plugin_priorities_package"": """", ""python_ipaddr"": """"", },4,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5,openstack/tripleo-upgrade,stable/ussuri,I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5,Move build_extra_template before upgrade prepare,MERGED,2021-08-26 09:05:11.000000000,2021-08-26 17:34:05.000000000,2021-08-26 17:34:05.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 09:05:11.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c848c34c49dc0e6904e6b60549c96d7996b39892', 'message': 'Move build_extra_template before upgrade prepare\n\nbuild_extra_template.yaml specifies config_heat_extra_yaml fact which is\nused in overcloud_upgrade_prepare.sh.j2. This patch moves it before\nupgrade prepare to render upgrade prepare script properly.\n\nChange-Id: I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5\n(cherry picked from commit 0ee1f0dcf05581b3a43d539a0625a4f2b8f50c36)\n'}]",0,806080,c848c34c49dc0e6904e6b60549c96d7996b39892,6,2,1,6816,,,0,"Move build_extra_template before upgrade prepare

build_extra_template.yaml specifies config_heat_extra_yaml fact which is
used in overcloud_upgrade_prepare.sh.j2. This patch moves it before
upgrade prepare to render upgrade prepare script properly.

Change-Id: I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5
(cherry picked from commit 0ee1f0dcf05581b3a43d539a0625a4f2b8f50c36)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/80/806080/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,c848c34c49dc0e6904e6b60549c96d7996b39892,move_render_master-stable/ussuri,"- name: create overcloud upgrade prepare script vars: old_img: ""{{ working_dir }}/{{ container_registry_file }}"" template: src: ""overcloud_upgrade_prepare.sh.j2"" dest: ""{{ overcloud_upgrade_prepare_script }}"" mode: 0775 force: true ","- name: create overcloud upgrade prepare script vars: old_img: ""{{ working_dir }}/{{ container_registry_file }}"" template: src: ""overcloud_upgrade_prepare.sh.j2"" dest: ""{{ overcloud_upgrade_prepare_script }}"" mode: 0775 force: true ",9,9
openstack%2Fpuppet-tripleo~master~I16c5151e7759acabc18061b25027c4aa1f6853bd,openstack/puppet-tripleo,master,I16c5151e7759acabc18061b25027c4aa1f6853bd,DNM: Check unit tests,ABANDONED,2021-08-26 17:28:37.000000000,2021-08-26 17:33:26.000000000,,[],"[{'number': 1, 'created': '2021-08-26 17:28:37.000000000', 'files': ['spec/classes/tripleo_profile_base_keystone_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d2fe3d6018784589268f10d5269faf7ce80abf62', 'message': 'DNM: Check unit tests\n\nChange-Id: I16c5151e7759acabc18061b25027c4aa1f6853bd\n'}]",0,806258,d2fe3d6018784589268f10d5269faf7ce80abf62,2,0,1,9816,,,0,"DNM: Check unit tests

Change-Id: I16c5151e7759acabc18061b25027c4aa1f6853bd
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/58/806258/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tripleo_profile_base_keystone_spec.rb'],1,d2fe3d6018784589268f10d5269faf7ce80abf62,,,,1,0
openstack%2Ftripleo-ci~master~Idc5310eef6308829581e9b0ff4129ba055780e31,openstack/tripleo-ci,master,Idc5310eef6308829581e9b0ff4129ba055780e31,Enable some designate tempest tests,ABANDONED,2020-08-11 13:34:22.000000000,2021-08-26 17:31:29.000000000,,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 13:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ee8237d0ceee70ed095dbe4bcc92f683bef583d9', 'message': 'Enable some designate tempest tests\n\nDepends-On: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a\nChange-Id: Idc5310eef6308829581e9b0ff4129ba055780e31\n'}, {'number': 2, 'created': '2020-08-11 15:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3421b3449500dbca25793a892a7a4626558c56cb', 'message': 'Enable some designate tempest tests\n\nDepends-On: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a\nChange-Id: Idc5310eef6308829581e9b0ff4129ba055780e31\n'}, {'number': 3, 'created': '2020-09-08 16:31:40.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/42fe4908211d565929214d580fcc607497e11f82', 'message': 'Enable some designate tempest tests\n\nDepends-On: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a\nChange-Id: Idc5310eef6308829581e9b0ff4129ba055780e31\n'}]",0,745673,42fe4908211d565929214d580fcc607497e11f82,16,4,3,6681,,,0,"Enable some designate tempest tests

Depends-On: I44e8f60e618683473a4e6099afb5dcbf3b6abf5a
Change-Id: Idc5310eef6308829581e9b0ff4129ba055780e31
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/73/745673/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,ee8237d0ceee70ed095dbe4bcc92f683bef583d9,designate/enable-tempest, - 'designate_tempest_plugin.tests.api.v2.test_tld.TldAdminTest',,1,0
openstack%2Fopenstack-ansible~stable%2Fussuri~I0ab8c9ef8d895abcb9f60f3d1770bd2f4e2ec248,openstack/openstack-ansible,stable/ussuri,I0ab8c9ef8d895abcb9f60f3d1770bd2f4e2ec248,Bump OpenStack-Ansible Ussuri,MERGED,2021-08-26 11:33:20.000000000,2021-08-26 17:14:28.000000000,2021-08-26 17:11:53.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-08-26 11:33:20.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1d4cba92d91843e24432d4b21644cefae36600a2', 'message': 'Bump OpenStack-Ansible Ussuri\n\nChange-Id: I0ab8c9ef8d895abcb9f60f3d1770bd2f4e2ec248\n'}]",0,806139,1d4cba92d91843e24432d4b21644cefae36600a2,8,3,1,28619,,,0,"Bump OpenStack-Ansible Ussuri

Change-Id: I0ab8c9ef8d895abcb9f60f3d1770bd2f4e2ec248
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/806139/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,1d4cba92d91843e24432d4b21644cefae36600a2,bump_osa, version: 9f2ee988163c1cd0ee220c5d54e99b2d5985bffb version: c512282bb4f4c7db625d18256055f2e24de119e7, version: 57c10221fef3f9eb5ab8e448fbf0f4e58a760455 version: d106eabcb897f678ecc1c0501614abd7fdee2f2d,53,53
openstack%2Fopenstack-ansible~stable%2Fvictoria~I07e5e66ef615e3656c77b84b91576e7be96db497,openstack/openstack-ansible,stable/victoria,I07e5e66ef615e3656c77b84b91576e7be96db497,Bump OpenStack-Ansible Victoria,MERGED,2021-08-25 14:08:14.000000000,2021-08-26 17:03:41.000000000,2021-08-26 17:00:45.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-25 14:08:14.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/os-upgrade-requirements-fix-bcc81b049339e9b5.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/619ec4c784a9d70f779558f0f2db5d184fad41ce', 'message': 'Bump OpenStack-Ansible Victoria\n\nChange-Id: I07e5e66ef615e3656c77b84b91576e7be96db497\n'}]",0,806003,619ec4c784a9d70f779558f0f2db5d184fad41ce,8,3,1,28619,,,0,"Bump OpenStack-Ansible Victoria

Change-Id: I07e5e66ef615e3656c77b84b91576e7be96db497
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/806003/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/os-upgrade-requirements-fix-bcc81b049339e9b5.yaml', 'ansible-role-requirements.yml']",5,619ec4c784a9d70f779558f0f2db5d184fad41ce,bump_osa, version: 61a78b75a73613fd56740bdc15275308a943e894 version: 2e084ae35b4ac541cab9417623d31599bcaff863 version: 9610ccd18de02721db83fe5f741251743be42ecd version: 911f6a7bf86aa856ebad8af063fceba4a299c1ad version: 6baa6e6b84bd2fc6f8a314e6b6ec09d710aae6e0 version: b4bee91508bb7905233ed4d77c79281985946ec9, version: bb03f36108a6b92de9d6eaef27583ebc10457f83 version: 31fbbb2d8952aaf88337d307b68f9119aa1a725a version: c81740773db15b32393413ef3fd3036774832365 version: bd355fc461b5adc82d2478c93e908b05a5edb847 version: d7edc71fd557d18531c90b803159b7d526156c1c version: e2517a992eb91d89481ac197ae34baa9606fa6f5,72,65
openstack%2Fproject-config~master~If662a2422c7699350399f4dc5bf5cdced3509888,openstack/project-config,master,If662a2422c7699350399f4dc5bf5cdced3509888,Retire puppet-monasca - Step 3: Remove Project,MERGED,2021-08-19 02:32:42.000000000,2021-08-26 16:53:07.000000000,2021-08-26 16:11:46.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 02:32:42.000000000', 'files': ['gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/puppet-monasca.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bf001c8d0e4eefa6e510600054b41cb972ee5471', 'message': 'Retire puppet-monasca - Step 3: Remove Project\n\nDepends-on: https://review.opendev.org/805099\nChange-Id: If662a2422c7699350399f4dc5bf5cdced3509888\n'}]",0,805103,bf001c8d0e4eefa6e510600054b41cb972ee5471,10,5,1,9816,,,0,"Retire puppet-monasca - Step 3: Remove Project

Depends-on: https://review.opendev.org/805099
Change-Id: If662a2422c7699350399f4dc5bf5cdced3509888
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/805103/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/puppet-monasca.config']",5,bf001c8d0e4eefa6e510600054b41cb972ee5471,retire-puppet-monasca,,"[access] inheritFrom = openstack/meta-config [access ""refs/heads/*""] abandon = group puppet-manager-core abandon = group puppet-monasca-core label-Code-Review = -2..+2 group puppet-manager-core label-Code-Review = -2..+2 group puppet-monasca-core label-Workflow = -1..+1 group puppet-manager-core label-Workflow = -1..+1 group puppet-monasca-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",2,26
openstack%2Fopenstack-ansible~stable%2Fwallaby~If49b5f52c5505c9508e0f1deeb6facb39bccb967,openstack/openstack-ansible,stable/wallaby,If49b5f52c5505c9508e0f1deeb6facb39bccb967,Add shallow_since for ceph-ansible,MERGED,2021-08-18 09:47:15.000000000,2021-08-26 16:37:38.000000000,2021-08-26 16:33:58.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-08-18 09:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ea030bba2632a37b89392c2f58221e56ab9d0c6b', 'message': 'Add shallow_since for ceph-ansible\n\nSince ceph-ansible tends to merge a lot of changes at the same time,\nthis often leads to the issues once depth is set, because git is unable\nto find required commit within provided depth.\nSo we add shallow_since for this repo to be sure that mentioned hash\ncan be retrieved\n\nChange-Id: If49b5f52c5505c9508e0f1deeb6facb39bccb967\n'}, {'number': 2, 'created': '2021-08-18 09:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0c36b843c54de1f11092a302b54178112fdf8d71', 'message': 'Add shallow_since for ceph-ansible\n\nSince ceph-ansible tends to merge a lot of changes at the same time,\nthis often leads to the issues once depth is set, because git is unable\nto find required commit within provided depth.\nSo we add shallow_since for this repo to be sure that mentioned hash\ncan be retrieved\n\nChange-Id: If49b5f52c5505c9508e0f1deeb6facb39bccb967\n'}, {'number': 3, 'created': '2021-08-18 15:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f470e749ba3ff33084fa9c957927fa0d1f4b6259', 'message': 'Add shallow_since for ceph-ansible\n\nSince ceph-ansible tends to merge a lot of changes at the same time,\nthis often leads to the issues once depth is set, because git is unable\nto find required commit within provided depth.\nSo we add shallow_since for this repo to be sure that mentioned hash\ncan be retrieved\n\nChange-Id: If49b5f52c5505c9508e0f1deeb6facb39bccb967\n'}, {'number': 4, 'created': '2021-08-24 05:44:47.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c8cd5eef5c25406a2da938b3598fd35038464591', 'message': 'Add shallow_since for ceph-ansible\n\nSince ceph-ansible tends to merge a lot of changes at the same time,\nthis often leads to the issues once depth is set, because git is unable\nto find required commit within provided depth.\nSo we add shallow_since for this repo to be sure that mentioned hash\ncan be retrieved\n\nChange-Id: If49b5f52c5505c9508e0f1deeb6facb39bccb967\n'}]",0,804976,c8cd5eef5c25406a2da938b3598fd35038464591,19,3,4,28619,,,0,"Add shallow_since for ceph-ansible

Since ceph-ansible tends to merge a lot of changes at the same time,
this often leads to the issues once depth is set, because git is unable
to find required commit within provided depth.
So we add shallow_since for this repo to be sure that mentioned hash
can be retrieved

Change-Id: If49b5f52c5505c9508e0f1deeb6facb39bccb967
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/804976/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,ea030bba2632a37b89392c2f58221e56ab9d0c6b,," shallow_since: ""2021-07-31""", depth: 50,1,1
openstack%2Fkayobe~master~I097b826cb477577fc9482bbc3b8875b71a505a99,openstack/kayobe,master,I097b826cb477577fc9482bbc3b8875b71a505a99,Fix documentation links for routed control plane networks,MERGED,2021-08-12 14:52:47.000000000,2021-08-26 16:20:13.000000000,2021-08-26 16:18:02.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-12 14:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e049cb4641df51d075130aa4363ed14d0fbd66ba', 'message': 'Fix documentation links for routed control plane networks\n\nChange-Id: I097b826cb477577fc9482bbc3b8875b71a505a99\n'}, {'number': 2, 'created': '2021-08-12 15:03:07.000000000', 'files': ['doc/source/configuration/reference/routed-control-plane-networks.rst', 'doc/source/configuration/reference/kolla-ansible.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/acc8cd786ba2d66477bf3cda4d902b534452dc0e', 'message': 'Fix documentation links for routed control plane networks\n\nChange-Id: I097b826cb477577fc9482bbc3b8875b71a505a99\n'}]",0,804398,acc8cd786ba2d66477bf3cda4d902b534452dc0e,10,4,2,15197,,,0,"Fix documentation links for routed control plane networks

Change-Id: I097b826cb477577fc9482bbc3b8875b71a505a99
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/98/804398/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/reference/routed-control-plane-networks.rst', 'doc/source/configuration/reference/kolla-ansible.rst']",2,e049cb4641df51d075130aa4363ed14d0fbd66ba,routed-networks-doc, ``fqdn`` :ref:`network attributes <configuration-network-global>`., ``fqdn`` `network attributes <configuration-network-global>`,3,3
openstack%2Fkayobe~stable%2Fvictoria~I0c41d59123aba3351ac3b0a5a76cff517cca93e4,openstack/kayobe,stable/victoria,I0c41d59123aba3351ac3b0a5a76cff517cca93e4,Add twentyFiveGigE to port descriptions in inspector rules,MERGED,2021-08-24 09:01:19.000000000,2021-08-26 16:20:00.000000000,2021-08-26 16:17:57.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-24 09:01:19.000000000', 'files': ['ansible/group_vars/all/inspector', 'releasenotes/notes/inspector-25gbe-port-9bdc3bb354e3dfb6.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9e98ce3b64d54a834dd4c1162bb2dbf91ccd4bbc', 'message': 'Add twentyFiveGigE to port descriptions in inspector rules\n\nChange-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4\n(cherry picked from commit 91b2dddc415e1a5ca6aa66fdd65d7f97f5781cc3)\n'}]",0,805764,9e98ce3b64d54a834dd4c1162bb2dbf91ccd4bbc,10,4,1,14826,,,0,"Add twentyFiveGigE to port descriptions in inspector rules

Change-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4
(cherry picked from commit 91b2dddc415e1a5ca6aa66fdd65d7f97f5781cc3)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/805764/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/inspector', 'releasenotes/notes/inspector-25gbe-port-9bdc3bb354e3dfb6.yaml']",2,9e98ce3b64d54a834dd4c1162bb2dbf91ccd4bbc,inspector-port-desc-stable/victoria,--- fixes: - | Filter out 25 Gigabit Ethernet interface names in the Ironic inspector rule setting node names from interface LLDP switch port descriptions. ,,9,0
openstack%2Fpython-blazarclient~master~Idf423a87402894c131e6a57a86edc78ddcfd3ff6,openstack/python-blazarclient,master,Idf423a87402894c131e6a57a86edc78ddcfd3ff6,Default client service type to reservation,MERGED,2021-03-19 03:46:18.000000000,2021-08-26 16:10:23.000000000,2021-08-26 16:10:23.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}, {'_account_id': 33582}]","[{'number': 1, 'created': '2021-03-19 03:46:18.000000000', 'files': ['blazarclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/c9114b7eb82620db8d4bee7ce660e9d03670fd2d', 'message': 'Default client service type to reservation\n\nProvide a default service type to avoid having to specify one,\nthis brings it inline with other openstack clients.\n\nChange-Id: Idf423a87402894c131e6a57a86edc78ddcfd3ff6\n'}]",0,781592,c9114b7eb82620db8d4bee7ce660e9d03670fd2d,8,4,1,3031,,,0,"Default client service type to reservation

Provide a default service type to avoid having to specify one,
this brings it inline with other openstack clients.

Change-Id: Idf423a87402894c131e6a57a86edc78ddcfd3ff6
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/92/781592/1 && git format-patch -1 --stdout FETCH_HEAD,['blazarclient/client.py'],1,c9114b7eb82620db8d4bee7ce660e9d03670fd2d,,"def Client(version=1, service_type='reservation', *args, **kwargs):","def Client(version=1, *args, **kwargs):",1,1
openstack%2Fnova~master~I31f9130cdcd13558605070f0d0889867616c5904,openstack/nova,master,I31f9130cdcd13558605070f0d0889867616c5904,[FUP] minor cleanup in db URL tests,ABANDONED,2021-08-26 11:47:28.000000000,2021-08-26 16:09:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-26 11:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9214f00ea8448a91aff0f6b93050206488a7ca15', 'message': '[FUP] minor cleanup in db migration tests\n\nThis patch adresses some minor nits in change\nI74de55107a80af13df348f2bce49415b08028746\n\nChange-Id: I31f9130cdcd13558605070f0d0889867616c5904\n'}, {'number': 2, 'created': '2021-08-26 11:48:10.000000000', 'files': ['nova/tests/unit/db/test_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9da21b1b503cbeff60e370d852a5ae7fe899106b', 'message': '[FUP] minor cleanup in db URL tests\n\nThis patch adresses some minor nits in change\nI74de55107a80af13df348f2bce49415b08028746\n\nChange-Id: I31f9130cdcd13558605070f0d0889867616c5904\n'}]",0,806143,9da21b1b503cbeff60e370d852a5ae7fe899106b,8,1,2,11604,,,0,"[FUP] minor cleanup in db URL tests

This patch adresses some minor nits in change
I74de55107a80af13df348f2bce49415b08028746

Change-Id: I31f9130cdcd13558605070f0d0889867616c5904
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/806143/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/db/test_migration.py'],1,9214f00ea8448a91aff0f6b93050206488a7ca15,bp/remove-sqlalchemy-migrate," import urllib qargs = 'read_default_group=data with/a+percent_%-and%20symbols!' expected = ( ""sqlite:///:memory:?read_default_group=data+with%2Fa"" ""+percent_%25-and+symbols%21"" )","import urllib qargs = ('read_default_group=data with/a+percent_%-and%20symbols!') expected = (""sqlite:///:memory:?read_default_group=data+with%2Fa"" ""+percent_%25-and+symbols%21"")",8,4
openstack%2Ftripleo-common~master~I3a682168d66662c350cbc69885e1420d160f3369,openstack/tripleo-common,master,I3a682168d66662c350cbc69885e1420d160f3369,Install Neutron BGPVPN in neutron-server,MERGED,2021-05-05 13:51:53.000000000,2021-08-26 15:45:28.000000000,2021-08-26 15:43:53.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-05-05 13:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/28eae28b6f7623188fca660ca7adbaa4deff8b0f', 'message': 'Install Neutron BGPVPN in neutron-server\n\nChange-Id: I3a682168d66662c350cbc69885e1420d160f3369\n'}, {'number': 2, 'created': '2021-08-02 09:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3131dff4d8702d56c3f09f3bfecaed9a0c0285f2', 'message': 'Install Neutron BGPVPN in neutron-server\n\nChange-Id: I3a682168d66662c350cbc69885e1420d160f3369\n'}, {'number': 3, 'created': '2021-08-25 09:36:31.000000000', 'files': ['container-images/tcib/base/os/neutron-base/neutron-server/neutron-server.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1debbea54868567686325dc143fba003e6109238', 'message': 'Install Neutron BGPVPN in neutron-server\n\nThis is needed to be able to support EVPN scenarios and BGPVPN\nsupport. This service plugin needs is only enabled via THT\nBut we need it to be installed in the neutron container in order\nto add support for it.\n\nChange-Id: I3a682168d66662c350cbc69885e1420d160f3369\n'}]",0,789836,1debbea54868567686325dc143fba003e6109238,21,8,3,6469,,,0,"Install Neutron BGPVPN in neutron-server

This is needed to be able to support EVPN scenarios and BGPVPN
support. This service plugin needs is only enabled via THT
But we need it to be installed in the neutron container in order
to add support for it.

Change-Id: I3a682168d66662c350cbc69885e1420d160f3369
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/789836/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/neutron-base/neutron-server/neutron-server.yaml'],1,28eae28b6f7623188fca660ca7adbaa4deff8b0f,bgpsupport, - python3-networking-bgpvpn,,1,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I36e7d177e50ddd56d2d254941f0ebf181765e304,openstack/tripleo-upgrade,stable/train,I36e7d177e50ddd56d2d254941f0ebf181765e304,Improve node_upgrade_pre.sh,MERGED,2021-08-25 16:35:26.000000000,2021-08-26 15:43:49.000000000,2021-08-26 15:43:49.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 16:35:26.000000000', 'files': ['templates/node_upgrade_pre.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ed6722aa854556dee4235fe3ff31057a45ee38f1', 'message': 'Improve node_upgrade_pre.sh\n\nSome CI jobs failed with the following message in computehci-2_upgrade_pre.log\n\n2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local\n\n* increase timeout as 60 seconds is not enough for some CI\n  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.\n* add instances to migrate to the log\n\nChange-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304\n(cherry picked from commit 53861a47ddbd984343f62e5fa8039c5ee37996f3)\n'}]",0,806024,ed6722aa854556dee4235fe3ff31057a45ee38f1,6,3,1,33080,,,0,"Improve node_upgrade_pre.sh

Some CI jobs failed with the following message in computehci-2_upgrade_pre.log

2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local

* increase timeout as 60 seconds is not enough for some CI
  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.
* add instances to migrate to the log

Change-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304
(cherry picked from commit 53861a47ddbd984343f62e5fa8039c5ee37996f3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/24/806024/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade_pre.sh.j2'],1,ed6722aa854556dee4235fe3ff31057a45ee38f1,improve_node_upgrade,"echo ""Instances to migrate"" openstack server list --all --host ${HOST}timeout_seconds=$(( 120 * ( $INSTANCE_COUNT + 1 ) )) echo ""Instances left"" openstack server list --all --host ${HOST} exit 1",timeout_seconds=$(( 60 * ( $INSTANCE_COUNT + 1 ) )) exit 1,6,2
openstack%2Ftripleo-upgrade~stable%2Fussuri~I36e7d177e50ddd56d2d254941f0ebf181765e304,openstack/tripleo-upgrade,stable/ussuri,I36e7d177e50ddd56d2d254941f0ebf181765e304,Improve node_upgrade_pre.sh,MERGED,2021-08-25 16:57:02.000000000,2021-08-26 15:43:48.000000000,2021-08-26 15:43:48.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 16:57:02.000000000', 'files': ['templates/node_upgrade_pre.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/babe066a5d5046b416f12d3ebeaa5a913cdb91d1', 'message': 'Improve node_upgrade_pre.sh\n\nSome CI jobs failed with the following message in computehci-2_upgrade_pre.log\n\n2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local\n\n* increase timeout as 60 seconds is not enough for some CI\n  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.\n* add instances to migrate to the log\n\nChange-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304\n(cherry picked from commit 53861a47ddbd984343f62e5fa8039c5ee37996f3)\n'}]",0,806033,babe066a5d5046b416f12d3ebeaa5a913cdb91d1,6,3,1,33080,,,0,"Improve node_upgrade_pre.sh

Some CI jobs failed with the following message in computehci-2_upgrade_pre.log

2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local

* increase timeout as 60 seconds is not enough for some CI
  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.
* add instances to migrate to the log

Change-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304
(cherry picked from commit 53861a47ddbd984343f62e5fa8039c5ee37996f3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/33/806033/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade_pre.sh.j2'],1,babe066a5d5046b416f12d3ebeaa5a913cdb91d1,improve_node_upgrade_ussuri,"echo ""Instances to migrate"" openstack server list --all --host ${HOST}timeout_seconds=$(( 120 * ( $INSTANCE_COUNT + 1 ) )) echo ""Instances left"" openstack server list --all --host ${HOST} exit 1",timeout_seconds=$(( 60 * ( $INSTANCE_COUNT + 1 ) )) exit 1,6,2
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I36e7d177e50ddd56d2d254941f0ebf181765e304,openstack/tripleo-upgrade,stable/victoria,I36e7d177e50ddd56d2d254941f0ebf181765e304,Improve node_upgrade_pre.sh,MERGED,2021-08-25 16:54:00.000000000,2021-08-26 15:43:46.000000000,2021-08-26 15:43:46.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 16:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3ba9bb2062be1bac129345048246b8a5103eb955', 'message': 'Improve node_upgrade_pre.sh\n\nSome CI jobs failed with the following message in computehci-2_upgrade_pre.log\n\n2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local\n\n* increase timeout as 60 seconds is not enough for some CI\n  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.\n* add instances to migrate to the log\n\nChange-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304\n(cherry picked from commit 53861a47ddbd984343f62e5fa8039c5ee37996f3)\n'}, {'number': 2, 'created': '2021-08-26 09:06:46.000000000', 'files': ['templates/node_upgrade_pre.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/563cb78699564e2051746abcf80683e5122659ba', 'message': 'Improve node_upgrade_pre.sh\n\nSome CI jobs failed with the following message in computehci-2_upgrade_pre.log\n\n2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...\n2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local\n\n* increase timeout as 60 seconds is not enough for some CI\n  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.\n* add instances to migrate to the log\n\nChange-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304\n(cherry picked from commit 53861a47ddbd984343f62e5fa8039c5ee37996f3)\n'}]",0,806032,563cb78699564e2051746abcf80683e5122659ba,8,3,2,33080,,,0,"Improve node_upgrade_pre.sh

Some CI jobs failed with the following message in computehci-2_upgrade_pre.log

2021-08-17 23:26:32 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:37 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:42 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:48 | Waiting for computehci-2.redhat.local to get quiesced ...
2021-08-17 23:26:53 | FAILURE: Could not quiesce compute node computehci-2.redhat.local

* increase timeout as 60 seconds is not enough for some CI
  hypervisors on large environments such as 3cont_3db_3msg_2net_3hci.
* add instances to migrate to the log

Change-Id: I36e7d177e50ddd56d2d254941f0ebf181765e304
(cherry picked from commit 53861a47ddbd984343f62e5fa8039c5ee37996f3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/32/806032/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade_pre.sh.j2'],1,3ba9bb2062be1bac129345048246b8a5103eb955,improve_node_upgrade-stable/victoria,"echo ""Instances to migrate"" openstack server list --all --host ${HOST}timeout_seconds=$(( 120 * ( $INSTANCE_COUNT + 1 ) )) echo ""Instances left"" openstack server list --all --host ${HOST} exit 1",timeout_seconds=$(( 60 * ( $INSTANCE_COUNT + 1 ) )) exit 1,6,2
openstack%2Freleases~master~Iff10cee7c7fef06b855f9c536b47aaacd1b4646b,openstack/releases,master,Iff10cee7c7fef06b855f9c536b47aaacd1b4646b,Release final oslo.privsep for Xena,MERGED,2021-08-26 08:37:33.000000000,2021-08-26 15:34:43.000000000,2021-08-26 15:34:43.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 08:37:33.000000000', 'files': ['deliverables/xena/oslo.privsep.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2e52a9eda38f6f77cd768d2f20c0841898d0460a', 'message': 'Release final oslo.privsep for Xena\n\nThis proposed a release for oslo.privsep to get any final merged changes\nout prior to the lib freeze for Xena going into effect. We previously\nannounced a wrong date for the final lib series, this is a convenience\npatch to allow to release latest changes before freezing the libs.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 30.\n\n$ git log --oneline --no-merges 2.6.1..a3256ac\n4f14506 Add except path with exception debug to send_recv\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Iff10cee7c7fef06b855f9c536b47aaacd1b4646b\n'}]",0,806112,2e52a9eda38f6f77cd768d2f20c0841898d0460a,9,3,1,28522,,,0,"Release final oslo.privsep for Xena

This proposed a release for oslo.privsep to get any final merged changes
out prior to the lib freeze for Xena going into effect. We previously
announced a wrong date for the final lib series, this is a convenience
patch to allow to release latest changes before freezing the libs.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 30.

$ git log --oneline --no-merges 2.6.1..a3256ac
4f14506 Add except path with exception debug to send_recv

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Iff10cee7c7fef06b855f9c536b47aaacd1b4646b
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/806112/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.privsep.yaml'],1,2e52a9eda38f6f77cd768d2f20c0841898d0460a,xena-final-non-client-libs, - version: 2.6.2 projects: - repo: openstack/oslo.privsep hash: a3256ac9d33204e3d01cb09bc82aa417bac917b9,,4,0
openstack%2Freleases~master~Ic4256e444489b060b31fa5b7f3542a8044ed6958,openstack/releases,master,Ic4256e444489b060b31fa5b7f3542a8044ed6958,Release final oslo.messaging for Xena,MERGED,2021-08-26 08:36:29.000000000,2021-08-26 15:28:55.000000000,2021-08-26 15:28:55.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 08:36:29.000000000', 'files': ['deliverables/xena/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e80b06537f54f53cc9fcbddec0cccf500f3a9547', 'message': 'Release final oslo.messaging for Xena\n\nThis proposed a release for oslo.messaging to get any final merged changes\nout prior to the lib freeze for Xena going into effect. We previously\nannounced a wrong date for the final lib series, this is a convenience\npatch to allow to release latest changes before freezing the libs.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 30.\n\n$ git log --oneline --no-merges 12.9.0..f9de265f\nf9de265f amqp1: Do not reuse _socket_connection on reconnect\n01f5b378 amqp1: re-organize TestFailover to be reused by TestSSL\nfc49e04e Revert ""Disable AMQP 1.0 SSL unit tests""\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ic4256e444489b060b31fa5b7f3542a8044ed6958\n'}]",0,806111,e80b06537f54f53cc9fcbddec0cccf500f3a9547,9,3,1,28522,,,0,"Release final oslo.messaging for Xena

This proposed a release for oslo.messaging to get any final merged changes
out prior to the lib freeze for Xena going into effect. We previously
announced a wrong date for the final lib series, this is a convenience
patch to allow to release latest changes before freezing the libs.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 30.

$ git log --oneline --no-merges 12.9.0..f9de265f
f9de265f amqp1: Do not reuse _socket_connection on reconnect
01f5b378 amqp1: re-organize TestFailover to be reused by TestSSL
fc49e04e Revert ""Disable AMQP 1.0 SSL unit tests""

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ic4256e444489b060b31fa5b7f3542a8044ed6958
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/806111/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.messaging.yaml'],1,e80b06537f54f53cc9fcbddec0cccf500f3a9547,xena-final-non-client-libs, - version: 12.9.1 projects: - repo: openstack/oslo.messaging hash: f9de265f392dca5386491120593d57b124342c5f,,4,0
openstack%2Fopenstack-helm-infra~master~I1dd2ac9e11086a0103ade1ac0c981bcbb7c446e9,openstack/openstack-helm-infra,master,I1dd2ac9e11086a0103ade1ac0c981bcbb7c446e9,[WIP] Allow for userpassword for remote http webhook,ABANDONED,2021-06-10 17:41:28.000000000,2021-08-26 15:23:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-10 17:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05b3fa46dc62b9183650a03278a2c53a1c10d6b6', 'message': 'Allow for userpassword for remote http webhook\n\nExternal systems may require authentication for http posts\nthis change allows for basic_auth\n\nChange-Id: I1dd2ac9e11086a0103ade1ac0c981bcbb7c446e9\n'}, {'number': 2, 'created': '2021-06-10 17:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8fa63dd2616d7a3c33022b3099e00d434153c5a', 'message': '[WIP] Allow for userpassword for remote http webhook\n\nExternal systems may require authentication for http posts\nthis change allows for basic_auth\n\nChange-Id: I1dd2ac9e11086a0103ade1ac0c981bcbb7c446e9\n'}, {'number': 3, 'created': '2021-06-10 18:52:33.000000000', 'files': ['prometheus-alertmanager/values.yaml', 'prometheus-alertmanager/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96057d111ac44364e066eda2c24cb31ed940c24b', 'message': '[WIP] Allow for userpassword for remote http webhook\n\nExternal systems may require authentication for http posts\nthis change allows for basic_auth\n\nChange-Id: I1dd2ac9e11086a0103ade1ac0c981bcbb7c446e9\n'}]",0,795857,96057d111ac44364e066eda2c24cb31ed940c24b,6,1,3,27499,,,0,"[WIP] Allow for userpassword for remote http webhook

External systems may require authentication for http posts
this change allows for basic_auth

Change-Id: I1dd2ac9e11086a0103ade1ac0c981bcbb7c446e9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/57/795857/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-alertmanager/values.yaml'],1,05b3fa46dc62b9183650a03278a2c53a1c10d6b6,, http: username: remote password: changeme,,3,0
openstack%2Fkeystone~master~If0f962c8a5724bd0733d4cc8d559762360378846,openstack/keystone,master,If0f962c8a5724bd0733d4cc8d559762360378846,Merge branch 'master' of https://opendev.org/openstack/keystone,ABANDONED,2021-08-26 14:53:29.000000000,2021-08-26 14:54:16.000000000,,[],"[{'number': 1, 'created': '2021-08-26 14:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0c3d2d656371feb509aee5def1b73da438ace0bf', 'message': ""Merge branch 'master' of https://opendev.org/openstack/keystone\n\nChange-Id: If0f962c8a5724bd0733d4cc8d559762360378846\n""}]",0,806204,0c3d2d656371feb509aee5def1b73da438ace0bf,2,0,1,5046,,,0,"Merge branch 'master' of https://opendev.org/openstack/keystone

Change-Id: If0f962c8a5724bd0733d4cc8d559762360378846
",git fetch https://review.opendev.org/openstack/keystone refs/changes/04/806204/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,0c3d2d656371feb509aee5def1b73da438ace0bf,,,,0,0
openstack%2Fkayobe~stable%2Fwallaby~I0c41d59123aba3351ac3b0a5a76cff517cca93e4,openstack/kayobe,stable/wallaby,I0c41d59123aba3351ac3b0a5a76cff517cca93e4,Add twentyFiveGigE to port descriptions in inspector rules,MERGED,2021-08-24 09:01:12.000000000,2021-08-26 14:47:12.000000000,2021-08-26 14:45:16.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-24 09:01:12.000000000', 'files': ['ansible/group_vars/all/inspector', 'releasenotes/notes/inspector-25gbe-port-9bdc3bb354e3dfb6.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/39fbb06309fd0b500d51bf1d534388350e485750', 'message': 'Add twentyFiveGigE to port descriptions in inspector rules\n\nChange-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4\n(cherry picked from commit 91b2dddc415e1a5ca6aa66fdd65d7f97f5781cc3)\n'}]",0,805763,39fbb06309fd0b500d51bf1d534388350e485750,8,4,1,14826,,,0,"Add twentyFiveGigE to port descriptions in inspector rules

Change-Id: I0c41d59123aba3351ac3b0a5a76cff517cca93e4
(cherry picked from commit 91b2dddc415e1a5ca6aa66fdd65d7f97f5781cc3)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/63/805763/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/inspector', 'releasenotes/notes/inspector-25gbe-port-9bdc3bb354e3dfb6.yaml']",2,39fbb06309fd0b500d51bf1d534388350e485750,inspector-port-desc-stable/wallaby,--- fixes: - | Filter out 25 Gigabit Ethernet interface names in the Ironic inspector rule setting node names from interface LLDP switch port descriptions. ,,9,0
openstack%2Fcharm-deployment-guide~master~I2fff29e0b7901e5b5c86b39971c92452df6d371e,openstack/charm-deployment-guide,master,I2fff29e0b7901e5b5c86b39971c92452df6d371e,Add operation: Use OpenStack as a backing cloud for Juju,MERGED,2021-07-20 22:04:33.000000000,2021-08-26 14:45:03.000000000,2021-08-26 14:42:58.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-20 22:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1268faf58b5de75d2f2eaa93b3aacd2886f22ab1', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use g-s-s and\nceph-radosgw in the context of a TLS-enabled cloud.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 2, 'created': '2021-07-22 21:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3cc51f798bd415f04a1408e8ecb53a48c819aa6e', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use g-s-s and\nceph-radosgw in the context of a TLS-enabled cloud.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 3, 'created': '2021-08-03 16:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/42a5e0caf4116e5da50b026f8c57c3728b59bfbc', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 4, 'created': '2021-08-04 00:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/be8f0d0013db1154998571f9f0070ad613ab2832', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 5, 'created': '2021-08-05 21:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c73034e5bca6584a5b1fb14538e228b9c4e269a3', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 6, 'created': '2021-08-06 00:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/451ad5a90f35433c1d33f9111b15dadffc9c0497', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 7, 'created': '2021-08-06 02:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/164a5c193b78a0197c94062a0e56a6298b428a36', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 8, 'created': '2021-08-06 17:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/2ab137f3d6bf77af2a0e166d4a4b2307c189e7a3', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 9, 'created': '2021-08-06 18:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e374d4cb0036061bb69dbae8c49006eb233af22a', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 10, 'created': '2021-08-06 18:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/163642481a7038d7576b1b5d01c3d11724486595', 'message': 'Add operation: Using OpenStack to back Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 11, 'created': '2021-08-10 17:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c32017694bbfbae97915cee6e35bde66bf69ce9d', 'message': 'Add operation: Use OpenStack as a backing cloud for Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}, {'number': 12, 'created': '2021-08-26 14:22:50.000000000', 'files': ['deploy-guide/source/ops-use-openstack-to-back-juju.rst', 'deploy-guide/source/operational-tasks.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/8fc8356461c92055fe72ded2779f9ab683cdf5be', 'message': 'Add operation: Use OpenStack as a backing cloud for Juju\n\nAdd a cloud operation showing how to use OpenStack\nas a backing cloud for Juju.\n\nChange-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e\n'}]",2,801541,8fc8356461c92055fe72ded2779f9ab683cdf5be,34,3,12,30561,,,0,"Add operation: Use OpenStack as a backing cloud for Juju

Add a cloud operation showing how to use OpenStack
as a backing cloud for Juju.

Change-Id: I2fff29e0b7901e5b5c86b39971c92452df6d371e
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/41/801541/10 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-using-openstack-to-back-juju.rst']",2,1268faf58b5de75d2f2eaa93b3aacd2886f22ab1,cdg-ops,:orphan: ============================ Using OpenStack to back Juju ============================ Preamble -------- An OpenStack cloud can be used as a backing cloud to Juju. This involves setting up a mechanism for downloading (and keeping in sync) cloud images as well as the creation of a metadata service for Juju to consult in order to access those images. The images will be used to provision the eventual (OpenStack-based) machines that Juju will spawn for its charmed workloads. .. important:: Procedure --------- .. note:: .. code-block:: none juju deploy --to 1 cs:glance-simplestreams-sync juju add-relation glance-simplestreams-sync:identity-service keystone:identity-service juju add-relation glance-simplestreams-sync:certificates vault:certificates openstack endpoint list juju deploy --to lxd:1 ceph-radosgw juju add-relation ceph-radosgw:mon ceph-mon:radosgw juju add-relation ceph-radosgw:identity-service keystone:identity-service juju add-relation ceph-radosgw:certificates vault:certificates env | grep OS_CACERT echo $OS_CACERT cat $OS_CACERT +----------------------------------+-----------+--------------+-----------------+---------+-----------+---------------------------------------------------+ | ID | Region | Service Name | Service Type | Enabled | Interface | URL | +----------------------------------+-----------+--------------+-----------------+---------+-----------+---------------------------------------------------+ | 043b73545d804457ac0033e822b9f03f | RegionOne | image-stream | product-streams | True | admin | http://10.0.0.224:80/swift | | ad06281ba76e4cdfaeacc19eeaeb49c7 | RegionOne | image-stream | product-streams | True | public | http://10.0.0.224:80/swift/v1/simplestreams/data/ | | e1baedce6e004da8be0df5bc7fff9bdf | RegionOne | image-stream | product-streams | True | internal | http://10.0.0.224:80/swift/v1/simplestreams/data/ | +----------------------------------+-----------+--------------+-----------------+---------+-----------+---------------------------------------------------+ +----------------------------------+-----------+--------------+-----------------+---------+-----------+---------------------------------------------------+ | ID | Region | Service Name | Service Type | Enabled | Interface | URL | +----------------------------------+-----------+--------------+-----------------+---------+-----------+---------------------------------------------------+ | 07aa449ef010482ca8a33c7cc1e30d7b | RegionOne | s3 | s3 | True | public | http://10.0.0.224:80/ | | 2f68571f79f34d5999d861e2b46265bb | RegionOne | s3 | s3 | True | admin | http://10.0.0.224:80/ | | 797ac66f7dd647f7bf120e88a80f48bf | RegionOne | s3 | s3 | True | internal | http://10.0.0.224:80/ | +----------------------------------+-----------+--------------+-----------------+---------+-----------+---------------------------------------------------+ juju add-cloud --client mystack mystack-cloud.yaml juju add-credential --client mystack -f mystack-creds.yaml ,,60,0
openstack%2Ftripleo-heat-templates~master~Ia3f4de0028a4c264a9f2d1277878221969e180d5,openstack/tripleo-heat-templates,master,Ia3f4de0028a4c264a9f2d1277878221969e180d5,Remove StackAction from Octavia deployment,MERGED,2021-07-19 13:07:04.000000000,2021-08-26 14:43:02.000000000,2021-08-23 20:02:19.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-19 13:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0272de4c2c85ea7dd28966eddc24e32f5e2e6f9a', 'message': 'Remove StackAction from Octavia deployment\n\nSince ephemeral Heat, StackAction is now always\nCREATE. Subsequentaly, it no longer serves the\nintended purpose for the Octavia deployment.\n\nThis change removes StackAction from the template.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/801299\nChange-Id: Ia3f4de0028a4c264a9f2d1277878221969e180d5\n'}, {'number': 2, 'created': '2021-07-22 14:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6adab74432922d0afb38670930471931e9a9129b', 'message': 'Remove StackAction from Octavia deployment\n\nSince ephemeral Heat, StackAction is now always\nCREATE. Subsequentaly, it no longer serves the\nintended purpose for the Octavia deployment.\n\nThis change removes StackAction from the template.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/801299\nChange-Id: Ia3f4de0028a4c264a9f2d1277878221969e180d5\n'}, {'number': 3, 'created': '2021-07-22 18:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1ba8dc8b9bf90ad810c2d7171b622a1c75fc8ad', 'message': 'Remove StackAction from Octavia deployment\n\nSince ephemeral Heat, StackAction is now always\nCREATE. Subsequentaly, it no longer serves the\nintended purpose for the Octavia deployment.\n\nThis change removes StackAction from the template.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/801299\nChange-Id: Ia3f4de0028a4c264a9f2d1277878221969e180d5\n'}, {'number': 4, 'created': '2021-08-17 02:33:45.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5771d93182862592fa69d20662b9fcaa339bbf5a', 'message': 'Remove StackAction from Octavia deployment\n\nSince ephemeral Heat, StackAction is now always\nCREATE. Subsequentaly, it no longer serves the\nintended purpose for the Octavia deployment.\n\nThis change removes StackAction from the template.\n\nPartial-Bug: #1936138\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/801299\nChange-Id: Ia3f4de0028a4c264a9f2d1277878221969e180d5\n'}]",2,801301,5771d93182862592fa69d20662b9fcaa339bbf5a,35,7,4,30073,,,0,"Remove StackAction from Octavia deployment

Since ephemeral Heat, StackAction is now always
CREATE. Subsequentaly, it no longer serves the
intended purpose for the Octavia deployment.

This change removes StackAction from the template.

Partial-Bug: #1936138
Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/801299
Change-Id: Ia3f4de0028a4c264a9f2d1277878221969e180d5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/801301/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,0272de4c2c85ea7dd28966eddc24e32f5e2e6f9a,remove_stack_action,," StackAction: type: string description: > Heat action on performed top-level stack. Note StackUpdateType is set to UPGRADE when a major-version upgrade is in progress. constraints: - allowed_values: ['CREATE', 'UPDATE'] stack_action: { get_param: StackAction }",0,8
openstack%2Fneutron-lib~master~I8611e140305636685c1532dc36812d24a234dc9b,openstack/neutron-lib,master,I8611e140305636685c1532dc36812d24a234dc9b,"Disable ""oslo.messaging"" metrics",MERGED,2021-08-26 09:59:53.000000000,2021-08-26 14:16:46.000000000,2021-08-26 14:15:03.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 09:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7cbfd77acdbf857bdc9aeb2172a26c8bd23c84b3', 'message': 'Provide int value for oslo.messaging ""metrics_buffer_size""\n\nSince [1], the ""oslo_messaging_metrics.metrics_buffer_size"" should be\na integer value, not a mocked value, to be used with the new\noslo.messaging metrics collection.\n\nThis patch also provides ""metrics_thread_stop_timeout"" value to avoid\nwarning messages during the UT execution.\n\nThe values provided are the default ones.\n\n[1]https://review.opendev.org/c/openstack/oslo.messaging/+/761848\n\nChange-Id: I8611e140305636685c1532dc36812d24a234dc9b\nCloses-Bug: #1941725\n'}, {'number': 2, 'created': '2021-08-26 10:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3cb5c0dcd62c84bcaa33e248261f1193f53e0d87', 'message': 'Provide int value for oslo.messaging ""metrics_buffer_size""\n\nSince [1], the ""oslo_messaging_metrics.metrics_buffer_size"" should be\na integer value, not a mocked value, to be used with the new\noslo.messaging metrics collection.\n\nThis patch also provides ""metrics_thread_stop_timeout"" value to avoid\nwarning messages during the UT execution.\n\nThe values provided are the default ones.\n\n[1]https://review.opendev.org/c/openstack/oslo.messaging/+/761848\n\nChange-Id: I8611e140305636685c1532dc36812d24a234dc9b\nCloses-Bug: #1941725\n'}, {'number': 3, 'created': '2021-08-26 10:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/46023e36050f37e6091be38c30a6b8c1d469f5df', 'message': 'Provide int value for oslo.messaging ""metrics_buffer_size""\n\nSince [1], the ""oslo_messaging_metrics.metrics_buffer_size"" should be\na integer value, not a mocked value, to be used with the new\noslo.messaging metrics collection.\n\nThe value provided is the default one: 1000.\n\nThis patch also provides ""metrics_thread_stop_timeout"" value to avoid\nwarning messages during the UT execution.\n\nThe values provided is 0, that will prevent from trying to send any\nmetric during the unit tests.\n\n[1]https://review.opendev.org/c/openstack/oslo.messaging/+/761848\n\nChange-Id: I8611e140305636685c1532dc36812d24a234dc9b\nCloses-Bug: #1941725\n'}, {'number': 4, 'created': '2021-08-26 10:57:20.000000000', 'files': ['neutron_lib/tests/unit/test_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c3f540a4cd252a4147e4e013df114a2303c810b7', 'message': 'Disable ""oslo.messaging"" metrics\n\nSince [1], ""oslo.messaging"" provides a feature to send RPC metrics\nto ""oslo.metrics"". This patch is breaking the CI unit tests jobs.\n\nBecause those metrics are not needed in this CI, this patch disables\nthis feature.\n\n[1]https://review.opendev.org/c/openstack/oslo.messaging/+/761848\n\nChange-Id: I8611e140305636685c1532dc36812d24a234dc9b\nCloses-Bug: #1941725\n'}]",3,806129,c3f540a4cd252a4147e4e013df114a2303c810b7,15,4,4,16688,,,0,"Disable ""oslo.messaging"" metrics

Since [1], ""oslo.messaging"" provides a feature to send RPC metrics
to ""oslo.metrics"". This patch is breaking the CI unit tests jobs.

Because those metrics are not needed in this CI, this patch disables
this feature.

[1]https://review.opendev.org/c/openstack/oslo.messaging/+/761848

Change-Id: I8611e140305636685c1532dc36812d24a234dc9b
Closes-Bug: #1941725
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/29/806129/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/tests/unit/test_rpc.py'],1,7cbfd77acdbf857bdc9aeb2172a26c8bd23c84b3,bug/1941725, rpc.TRANSPORT.conf.oslo_messaging_metrics.metrics_buffer_size = 1000 rpc.TRANSPORT.conf.oslo_messaging_metrics.\ metrics_thread_stop_timeout = 10,,3,0
openstack%2Fpython-manilaclient~master~I7feb6219b0c684d2e88d0d077f776bfb331e3955,openstack/python-manilaclient,master,I7feb6219b0c684d2e88d0d077f776bfb331e3955,[OSC] Add Share Snapshot Instances commands,MERGED,2021-08-19 17:33:30.000000000,2021-08-26 13:55:19.000000000,2021-08-26 13:52:32.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}, {'_account_id': 33301}, {'_account_id': 33380}]","[{'number': 1, 'created': '2021-08-19 17:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5950fd6654d6c9a0ccd55c84885e4947f6f1f9a7', 'message': '[WIP][OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caique_mellosbo@hotmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 2, 'created': '2021-08-19 17:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b342ab632d35f8957f39901a1ed99c88a09014ad', 'message': '[WIP][OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 3, 'created': '2021-08-19 19:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/67c236a29af1151b71aaf42f7119dfd6968b8ad8', 'message': '[WIP][OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 4, 'created': '2021-08-19 20:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/73122c8cf4c696e48a6ee8db4ab23e0f6e6e6022', 'message': '[WIP][OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 5, 'created': '2021-08-19 23:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a08fa3b390a12eca913f955b6dad2d2f705a0720', 'message': '[WIP][OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 6, 'created': '2021-08-20 11:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/26b6bbee5f8d135ec7ec78e796141ad2c3e11049', 'message': '[WIP][OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 7, 'created': '2021-08-20 11:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2570f17d8749f8478cbbeca2b99cc8742f3c2119', 'message': '[WIP][OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 8, 'created': '2021-08-20 12:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c4b0a94eb6a195ba56b752c87814673d2e569fc7', 'message': '[WIP][OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 9, 'created': '2021-08-20 14:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f882f9082a4039b86d410c23703fc3eb7e9f8fb8', 'message': '[OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 10, 'created': '2021-08-20 15:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/20e3d96b4a3ff647d3845bf25ac086c0940ce8fd', 'message': '[OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 11, 'created': '2021-08-20 17:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2f0d23aa2bb42cb69ad64e8b5b5b4fc2722c4f2c', 'message': '[OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 12, 'created': '2021-08-23 14:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/56514180c642f11773b36cd7c0644d3365027b6d', 'message': '[OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 13, 'created': '2021-08-24 12:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a0a39980265d61cef34ec621db5f938ce09b3be9', 'message': '[OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 14, 'created': '2021-08-24 14:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/08105fc017ae8e7d2f3af07bfd458f9215c56cbe', 'message': '[OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}, {'number': 15, 'created': '2021-08-25 13:15:54.000000000', 'files': ['manilaclient/osc/v2/share_snapshot_instance_export_locations.py', 'manilaclient/osc/v2/share_snapshot_instances.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_snapshot_instance_export_locations.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/tests/unit/osc/v2/test_share_snapshot_instances.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1d591270bd9bcb553e8a88ebc4e9b9962114fcaf', 'message': '[OSC] Add Share Snapshot Instances commands\n\nIn this patch we add the following openstack share commands:\n\nshare snapshot instance list\nshare snapshot instance show\nshare snapshot instance set --status\nshare snapshot instance export location list\nshare snapshot instance export location show\n\nPartially-implements: bp openstack-client-support\n\nCo-Authored-By: Caique Mello <caiquemellosbo@gmail.com>\nChange-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955\n'}]",37,805259,1d591270bd9bcb553e8a88ebc4e9b9962114fcaf,43,6,15,33431,,,0,"[OSC] Add Share Snapshot Instances commands

In this patch we add the following openstack share commands:

share snapshot instance list
share snapshot instance show
share snapshot instance set --status
share snapshot instance export location list
share snapshot instance export location show

Partially-implements: bp openstack-client-support

Co-Authored-By: Caique Mello <caiquemellosbo@gmail.com>
Change-Id: I7feb6219b0c684d2e88d0d077f776bfb331e3955
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/59/805259/3 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share_snapshot_instances.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_snapshot_instances.py', 'setup.cfg']",4,5950fd6654d6c9a0ccd55c84885e4947f6f1f9a7,bp/openstack-client-support, share_snapshot_instance_list = manilaclient.osc.v2.share_snapshot_instances:ListShareSnapshotInstances,,244,0
openstack%2Fcharm-guide~master~Ic9ca80633f65052576f0eb71f038ba7a0a9c4bb9,openstack/charm-guide,master,Ic9ca80633f65052576f0eb71f038ba7a0a9c4bb9,Improve RN entry for ceph-radosgw Beast,MERGED,2021-07-20 23:44:13.000000000,2021-08-26 13:52:06.000000000,2021-08-26 13:50:00.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-20 23:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/16acf31551715328ecdac679e2aa9d4718268993', 'message': ""Improve RN entry for ceph-radosgw Beast\n\nImprove wording for the new 'http-frontend' option in\nthe ceph-radosgw charm.\n\nChange-Id: Ic9ca80633f65052576f0eb71f038ba7a0a9c4bb9\n""}, {'number': 2, 'created': '2021-08-20 16:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e9852bea29e682b36ea0aac7504b5f8dbbc3c514', 'message': ""Improve RN entry for ceph-radosgw Beast\n\nImprove wording for the new 'http-frontend' option in\nthe ceph-radosgw charm.\n\nChange-Id: Ic9ca80633f65052576f0eb71f038ba7a0a9c4bb9\n""}, {'number': 3, 'created': '2021-08-23 14:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0627722954dd3878d9c0449de3ad33f47b1d9e79', 'message': ""Improve RN entry for ceph-radosgw Beast\n\nImprove wording for the new 'http-frontend' option in\nthe ceph-radosgw charm.\n\nChange-Id: Ic9ca80633f65052576f0eb71f038ba7a0a9c4bb9\n""}, {'number': 4, 'created': '2021-08-26 13:33:21.000000000', 'files': ['doc/source/2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ee7d8d70cbed154d040838599e77014c4a70aa97', 'message': ""Improve RN entry for ceph-radosgw Beast\n\nImprove wording for the new 'http-frontend' option in\nthe ceph-radosgw charm.\n\nChange-Id: Ic9ca80633f65052576f0eb71f038ba7a0a9c4bb9\n""}]",3,801549,ee7d8d70cbed154d040838599e77014c4a70aa97,18,3,4,30561,,,0,"Improve RN entry for ceph-radosgw Beast

Improve wording for the new 'http-frontend' option in
the ceph-radosgw charm.

Change-Id: Ic9ca80633f65052576f0eb71f038ba7a0a9c4bb9
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/49/801549/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2110.rst'],1,16acf31551715328ecdac679e2aa9d4718268993,2110-docs,"ceph-radosgw charm: availability of the Beast HTTP frontend ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ceph-radosgw charm has a new configuration option: ``http-frontend``. With the availability of the Beast frontend the ceph-radosgw charm now supports two Ceph RADOS Gateway HTTP frontends. Starting with Ceph Octopus the default value will become 'beast', and for older releases 'civetweb' will continue to be used.Ubuntu packages were required.",ceph-radosgw charm: use of beast HTTP frontend ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ceph-radosgw charm has a new configuration option ``http-frontend`` to allow selection of the HTTP frontend to use for the Ceph RADOS Gateway. The charm will automatically select the best frontend to use if no explicit configuration is provided. For Ceph Octopus and later the beast frontend will be used and for older releases civetweb will continue to be the default.Ubuntu packages were required. ,8,8
openstack%2Fbarbican~master~Iaf5bc590e06e088b0a055ad46d0e1791af849859,openstack/barbican,master,Iaf5bc590e06e088b0a055ad46d0e1791af849859,Fix importing keys into a KMIP backend,NEW,2021-06-24 15:54:55.000000000,2021-08-26 13:51:16.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 15:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/2ada46d4aed6b6616c64d4fdcf2dd1d512caae93', 'message': ""Remove the names property on kmip objects to ensure that it's possible to store mulitple objects of the same type in a kmip backend server. The KMIP spec specifies that a name should be unique and the pyKmip library inserts a default name attribute value when a name parameter is not provided. The name attribute ends up being the same value for every object of the same type leading to errors when trying to store them.\n\nChange-Id: Iaf5bc590e06e088b0a055ad46d0e1791af849859\n""}, {'number': 2, 'created': '2021-06-24 18:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e4f69d911f6331fa74cec028858b312a0a758043', 'message': ""Remove the names property on kmip objects to ensure that it's possible to store mulitple objects of the same type in a kmip backend server. The KMIP spec specifies that a name should be unique and the pyKmip library inserts a default name attribute value when a name parameter is not provided. The name attribute ends up being the same value for every object of the same type leading to errors when trying to store them.\n\nChange-Id: Iaf5bc590e06e088b0a055ad46d0e1791af849859\n""}, {'number': 3, 'created': '2021-07-15 18:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/032db913342b0d59fc054e9b5e0366cdff863130', 'message': ""Fix importing keys into a KMIP backend\n\nRemove the names property on kmip objects to ensure that it's possible to store mulitple objects of the same type in a kmip backend server. The KMIP spec specifies that a name should be unique and the pyKmip library inserts a default name attribute value when a name parameter is not provided. The name attribute ends up being the same value for every object of the same type leading to errors when trying to store them.\n\nStory: 2009006\nTask: 42684\n\nChange-Id: Iaf5bc590e06e088b0a055ad46d0e1791af849859\n""}, {'number': 4, 'created': '2021-07-16 16:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ad5c75cee9d7b01ab7ee6a53dbecba859e7663d5', 'message': ""Fix importing keys into a KMIP backend\n\nRemove the names property on kmip objects to ensure that it's possible to store mulitple objects of the same type in a kmip backend server. The KMIP spec specifies that a name should be unique and the pyKmip library inserts a default name attribute value when a name parameter is not provided. The name attribute ends up being the same value for every object of the same type leading to errors when trying to store them.\n\nStory: 2009006\nTask: 42684\n\nChange-Id: Iaf5bc590e06e088b0a055ad46d0e1791af849859\n""}, {'number': 5, 'created': '2021-07-16 18:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/132369532ec45276f82c9e3458ded828c698f761', 'message': ""Fix importing keys into a KMIP backend\n\nRemove the names property on kmip objects to ensure that it's possible to store mulitple objects of the same type in a kmip backend server. The KMIP spec specifies that a name should be unique and the pyKmip library inserts a default name attribute value when a name parameter is not provided. The name attribute ends up being the same value for every object of the same type leading to errors when trying to store them.\n\nStory: 2009006\nTask: 42684\n\nChange-Id: Iaf5bc590e06e088b0a055ad46d0e1791af849859\n""}, {'number': 6, 'created': '2021-07-16 18:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e326dc9e0f78d433c86b4b977c3a7a08268a28f8', 'message': ""Fix importing keys into a KMIP backend\n\nRemove the names property on kmip objects to ensure that it's possible to store mulitple objects of the same type in a kmip backend server. The KMIP spec specifies that a name should be unique and the pyKmip library inserts a default name attribute value when a name parameter is not provided. The name attribute ends up being the same value for every object of the same type leading to errors when trying to store them.\n\nStory: 2009006\nTask: 42684\n\nChange-Id: Iaf5bc590e06e088b0a055ad46d0e1791af849859\n""}, {'number': 7, 'created': '2021-07-16 18:11:03.000000000', 'files': ['barbican/tests/plugin/test_kmip.py', 'barbican/plugin/kmip_secret_store.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/8e3c9f6bac9d2582188ac446ad655ba8be80d3cf', 'message': ""Fix importing keys into a KMIP backend\n\nRemove the names property on kmip objects to ensure that it's possible to store mulitple objects of the same type in a kmip backend server. The KMIP spec specifies that a name should be unique and the pyKmip library inserts a default name attribute value when a name parameter is not provided. The name attribute ends up being the same value for every object of the same type leading to errors when trying to store them.\n\nStory: 2009006\nTask: 42684\n\nChange-Id: Iaf5bc590e06e088b0a055ad46d0e1791af849859\n""}]",43,797965,8e3c9f6bac9d2582188ac446ad655ba8be80d3cf,18,3,7,33669,,,0,"Fix importing keys into a KMIP backend

Remove the names property on kmip objects to ensure that it's possible to store mulitple objects of the same type in a kmip backend server. The KMIP spec specifies that a name should be unique and the pyKmip library inserts a default name attribute value when a name parameter is not provided. The name attribute ends up being the same value for every object of the same type leading to errors when trying to store them.

Story: 2009006
Task: 42684

Change-Id: Iaf5bc590e06e088b0a055ad46d0e1791af849859
",git fetch https://review.opendev.org/openstack/barbican refs/changes/65/797965/7 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/kmip_secret_store.py'],1,2ada46d4aed6b6616c64d4fdcf2dd1d512caae93,bug/42684-fix-barbican-kmip-store," if hasattr(kmip_object, 'names'): kmip_object.names = [] ",,4,0
openstack%2Fcharm-deployment-guide~master~I5518af89e11c2f2f5de008f89050b73c286cf22a,openstack/charm-deployment-guide,master,I5518af89e11c2f2f5de008f89050b73c286cf22a,Add operation: Implement automatic Glance image updates,MERGED,2021-07-23 20:26:13.000000000,2021-08-26 13:51:11.000000000,2021-08-26 13:49:18.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-23 20:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/bc15f5a021e8a544adf5ce320a233f0fbb2d5928', 'message': 'Add operation: Enable automatic Glance image updates\n\nWIP - No need for review at this time\n\nAdd a cloud operation for enabling automatic Glance\nimage updates using the glance-simplestreams-sync charm\n\nChange-Id: I5518af89e11c2f2f5de008f89050b73c286cf22a\n'}, {'number': 2, 'created': '2021-07-24 01:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/356230111f51debb4cfcec85dc5ce06e64e32aa1', 'message': 'Add operation: Enable automatic Glance image updates\n\nAdd a cloud operation for enabling automatic Glance\nimage updates using the glance-simplestreams-sync charm\n\nChange-Id: I5518af89e11c2f2f5de008f89050b73c286cf22a\n'}, {'number': 3, 'created': '2021-08-02 16:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5fd6c28b21a1c8a1478775d0b1ceaf7757bc2612', 'message': 'Add operation: Enable automatic Glance image updates\n\nAdd a cloud operation for enabling automatic Glance\nimage updates using the glance-simplestreams-sync charm\n\nChange-Id: I5518af89e11c2f2f5de008f89050b73c286cf22a\n'}, {'number': 4, 'created': '2021-08-03 00:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5a9c057cd13364ae91d4b8515ee28d33f9c03969', 'message': 'Add operation: Enable automatic Glance image updates\n\nAdd a cloud operation for enabling automatic Glance\nimage updates using the glance-simplestreams-sync charm\n\nChange-Id: I5518af89e11c2f2f5de008f89050b73c286cf22a\n'}, {'number': 5, 'created': '2021-08-20 16:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/84302a2e4508cae0d0ed0090f0731a9dc19b890f', 'message': 'Add operation: Implement automatic Glance image updates\n\nAdd a cloud operation for enabling automatic Glance\nimage updates using the glance-simplestreams-sync charm\n\nChange-Id: I5518af89e11c2f2f5de008f89050b73c286cf22a\n'}, {'number': 6, 'created': '2021-08-26 13:26:51.000000000', 'files': ['deploy-guide/source/ops-auto-glance-image-updates.rst', 'deploy-guide/source/operational-tasks.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9ae87fc96fcd2e87bba96265b673c633d213b10a', 'message': 'Add operation: Implement automatic Glance image updates\n\nAdd a cloud operation for enabling automatic Glance\nimage updates using the glance-simplestreams-sync charm\n\nChange-Id: I5518af89e11c2f2f5de008f89050b73c286cf22a\n'}]",7,802114,9ae87fc96fcd2e87bba96265b673c633d213b10a,21,3,6,30561,,,0,"Add operation: Implement automatic Glance image updates

Add a cloud operation for enabling automatic Glance
image updates using the glance-simplestreams-sync charm

Change-Id: I5518af89e11c2f2f5de008f89050b73c286cf22a
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/14/802114/3 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/operational-tasks.rst', 'deploy-guide/source/ops-enable-auto-glance-image-updates.rst']",2,bc15f5a021e8a544adf5ce320a233f0fbb2d5928,cdg-ops,":orphan: ======================================== Implement automatic Glance image updates ======================================== Preamble -------- An OpenStack cloud can benefit from having its VMs be provisioned with the latest cloud images. Instead of manually managing Glance images it is possible to automate the process. This article will show how accomplish this with the glance-simgplestreams-sync charm. Requirements ------------ The glance-simgplestreams-sync charm places Simplestreams metadata in Object Storage via the cloud's ``swift`` API endpoint. The cloud will therefore require the presence of either Swift (swift-proxy and swift-storage charms) or the Ceph RADOS Gateway (ceph-radosgw charm). Procedure --------- Deployment ~~~~~~~~~~ .. code-block:: none juju deploy --to lxd:1 cs:glance-simplestreams-sync juju add-relation glance-simplestreams-sync:identity-service keystone:identity-service juju add-relation glance-simplestreams-sync:certificates vault:certificates .. note:: The glance-simgplestreams-sync charm sets up its own ``image-stream`` endpoint. However, it is only utilised when using OpenStack as a backing cloud to Juju. Perform an initial image download ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Perform an initial image download using the ``sync-images`` action: .. code-block:: none juju run-action --wait glance-simplestreams-sync/leader sync-images This can take a while. The latest cloud images for the last four LTS releases (on the current architecture) will be downloaded. Here is some sample output: .. code-block:: console unit-glance-simplestreams-sync-0: UnitId: glance-simplestreams-sync/0 id: ""20"" results: . . . created 76cff6cd-8e9a-4b22-98fc-ceafb092cfc7: auto-sync/ubuntu-trusty-14.04-amd64-server-20191107-disk1.img created 48e4fef2-e658-4760-839b-982cc3a10d21: auto-sync/ubuntu-xenial-16.04-amd64-server-20210429-disk1.img created d430a4a2-d255-4e74-8c96-bb65391624bf: auto-sync/ubuntu-bionic-18.04-amd64-server-20210720-disk1.img created 9fb5c3ec-f54a-4105-b759-b5e620b83694: auto-sync/ubuntu-focal-20.04-amd64-server-20210720-disk1.img status: completed timing: completed: 2021-07-22 22:45:47 +0000 UTC enqueued: 2021-07-22 22:40:21 +0000 UTC started: 2021-07-22 22:40:21 +0000 UTC This output should correspond to the output of command :command:`openstack image list`: .. code-block:: console +--------------------------------------+---------------------------------------------------------------+--------+ | ID | Name | Status | +--------------------------------------+---------------------------------------------------------------+--------+ | cb291214-d437-4a07-9196-36d6506cd55b | auto-sync/ubuntu-bionic-18.04-amd64-server-20210720-disk1.img | active | | 448fde41-786a-4753-be29-ba6413b7422a | auto-sync/ubuntu-focal-20.04-amd64-server-20210720-disk1.img | active | | a85440c0-a8c2-45c4-82c0-c50e737ef438 | auto-sync/ubuntu-trusty-14.04-amd64-server-20191107-disk1.img | active | | e3906960-067d-4f2e-a35f-63e8d45cd227 | auto-sync/ubuntu-xenial-16.04-amd64-server-20210429-disk1.img | active | +--------------------------------------+---------------------------------------------------------------+--------+ Enable automatic image updates ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Configure the glance-simgplestreams-sync charm to have the cloud images updated regularly: .. code-block:: none juju config glance-simplestreams-sync run=true This causes a daily cron job to be run on the glance-simplestreams-sync unit. ",,97,0
openstack%2Freleases~master~I804ca2a491b65f82bd6d6be61fb69e486ee1b0b0,openstack/releases,master,I804ca2a491b65f82bd6d6be61fb69e486ee1b0b0,Release final sushy for Xena,MERGED,2021-08-26 08:38:22.000000000,2021-08-26 13:43:41.000000000,2021-08-26 13:43:41.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-26 08:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7978f1ac38e4430229297acac14bc363c64ef12d', 'message': 'Release final sushy for Xena\n\nThis proposed a release for sushy to get any final merged changes\nout prior to the lib freeze for Xena going into effect. We previously\nannounced a wrong date for the final lib series, this is a convenience\npatch to allow to release latest changes before freezing the libs.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 30.\n\n$ git log --oneline --no-merges 3.11.1..e8c29cc\ne8c29cc Change default value: insert_media write_protected\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I804ca2a491b65f82bd6d6be61fb69e486ee1b0b0\n'}, {'number': 2, 'created': '2021-08-26 12:50:03.000000000', 'files': ['deliverables/xena/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9bd8a1785ab92f5868737aa0c6c77c0913475258', 'message': 'Release final sushy for Xena\n\nThis proposed a release for sushy to get any final merged changes\nout prior to the lib freeze for Xena going into effect. We previously\nannounced a wrong date for the final lib series, this is a convenience\npatch to allow to release latest changes before freezing the libs.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 30.\n\n$ git log --oneline --no-merges 3.11.1..e8c29cc\ne8c29cc Change default value: insert_media write_protected\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I804ca2a491b65f82bd6d6be61fb69e486ee1b0b0\n'}]",0,806115,9bd8a1785ab92f5868737aa0c6c77c0913475258,13,7,2,28522,,,0,"Release final sushy for Xena

This proposed a release for sushy to get any final merged changes
out prior to the lib freeze for Xena going into effect. We previously
announced a wrong date for the final lib series, this is a convenience
patch to allow to release latest changes before freezing the libs.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 30.

$ git log --oneline --no-merges 3.11.1..e8c29cc
e8c29cc Change default value: insert_media write_protected

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I804ca2a491b65f82bd6d6be61fb69e486ee1b0b0
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/806115/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/sushy.yaml'],1,7978f1ac38e4430229297acac14bc363c64ef12d,xena-final-non-client-libs, - version: 3.11.2 projects: - repo: openstack/sushy hash: e8c29ccad2b4fd71ed25532c055af697b16a5c35,,4,0
openstack%2Fglance~master~I7b5bcbce9375df5b0826120df5cdf5d4cb788af2,openstack/glance,master,I7b5bcbce9375df5b0826120df5cdf5d4cb788af2,Check policies for Image Tags in API,MERGED,2021-08-15 17:26:22.000000000,2021-08-26 13:34:32.000000000,2021-08-26 04:45:51.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-15 17:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5f5a5e8d7e330bb1b136b15fc40e92314990ec4c', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}, {'number': 2, 'created': '2021-08-20 06:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9099e270055e87929f5fdd3ca423a1bc2e54493', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}, {'number': 3, 'created': '2021-08-20 19:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2c1b6dae7dda2d27a98b7e2915ba3e650a82936d', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}, {'number': 4, 'created': '2021-08-23 07:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f55c44a260004e771ddc0bf5718a263b16dfcc80', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}, {'number': 5, 'created': '2021-08-24 06:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/56d7a8e57e87f6c7cb9eb264b6093171b15c9de7', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}, {'number': 6, 'created': '2021-08-24 09:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d7ae622853007fe1841eb4dbeebe49c162233656', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}, {'number': 7, 'created': '2021-08-24 18:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/acd22a2588a348c386e6ef1c1a3ee61641050cbb', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}, {'number': 8, 'created': '2021-08-24 20:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/abf34a17413332369817f92602d596843587c604', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}, {'number': 9, 'created': '2021-08-25 06:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7ea1427d38553e168d4cfe1ec667da1f1976482b', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}, {'number': 10, 'created': '2021-08-25 15:52:23.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/image_tags.py', 'glance/tests/unit/v2/test_image_tags_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/869a39d9e55849c7de7b3ee086cea1017d4f60d5', 'message': 'Check policies for Image Tags in API\n\nThis patch enforces policy checks required for adding/deleting tags\nfor image in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2\n'}]",14,804588,869a39d9e55849c7de7b3ee086cea1017d4f60d5,61,3,10,9303,,,0,"Check policies for Image Tags in API

This patch enforces policy checks required for adding/deleting tags
for image in API layer.

Partially-Implements: blueprint policy-refactor

Change-Id: I7b5bcbce9375df5b0826120df5cdf5d4cb788af2
",git fetch https://review.opendev.org/openstack/glance refs/changes/88/804588/7 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/image_tags.py', 'glance/tests/unit/v2/test_image_tags_resource.py']",3,5f5a5e8d7e330bb1b136b15fc40e92314990ec4c,policy-refactor," def get_fake_repo(self, authorization_layer=False):", def get_fake_repo(self):,166,3
openstack%2Frequirements~master~Ieb200cdfd0a9e0218b7b929c28583c3bb81db5e5,openstack/requirements,master,Ieb200cdfd0a9e0218b7b929c28583c3bb81db5e5,Updated from generate-constraints,ABANDONED,2021-08-26 06:40:22.000000000,2021-08-26 13:32:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-26 06:40:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cc864eda433ac89e06a6203ca1c0713bb63b7ca6', 'message': 'Updated from generate-constraints\n\nChange-Id: Ieb200cdfd0a9e0218b7b929c28583c3bb81db5e5\n'}]",0,806091,cc864eda433ac89e06a6203ca1c0713bb63b7ca6,4,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ieb200cdfd0a9e0218b7b929c28583c3bb81db5e5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/806091/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cc864eda433ac89e06a6203ca1c0713bb63b7ca6,openstack/requirements/constraints,XStatic-Angular===1.8.2.1pkg_resources===0.0.0ruamel.yaml===0.17.14cliff===3.9.0importlib-metadata===4.7.0boto3===1.18.29osc-lib===2.4.2botocore===1.21.29oslo.db===11.0.0fasteners===0.16.3,XStatic-Angular===1.5.8.0ruamel.yaml===0.17.13cliff===3.8.0importlib-metadata===4.6.4boto3===1.18.28osc-lib===2.4.1botocore===1.21.28oslo.db===10.0.0fasteners===0.14.1setuptools===57.4.0,10,10
openstack%2Fkeystone-tempest-plugin~master~Iff27abb8305735444ef6509348c9aae0a6242d29,openstack/keystone-tempest-plugin,master,Iff27abb8305735444ef6509348c9aae0a6242d29,Fix RBAC tests to be compatible with py2.7,ABANDONED,2021-05-17 09:48:06.000000000,2021-08-26 13:09:48.000000000,,"[{'_account_id': 7414}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 31661}]","[{'number': 1, 'created': '2021-05-17 09:48:06.000000000', 'files': ['keystone_tempest_plugin/tests/rbac/v3/test_user.py', 'keystone_tempest_plugin/tests/rbac/v3/test_token.py', 'keystone_tempest_plugin/tests/rbac/v3/test_service.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain_config.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint_group.py', 'keystone_tempest_plugin/tests/rbac/v3/test_group.py', 'keystone_tempest_plugin/tests/rbac/v3/test_project.py', 'keystone_tempest_plugin/tests/rbac/v3/test_grant.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain.py', 'keystone_tempest_plugin/tests/rbac/v3/test_policy.py', 'keystone_tempest_plugin/tests/rbac/v3/test_identity_provider.py', 'keystone_tempest_plugin/tests/rbac/v3/test_trust.py', 'keystone_tempest_plugin/tests/rbac/v3/test_consumer.py', 'requirements.txt', 'keystone_tempest_plugin/tests/rbac/v3/test_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_access_rule.py', 'keystone_tempest_plugin/tests/rbac/v3/test_limit.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint.py', 'keystone_tempest_plugin/tests/rbac/v3/test_role_assignment.py', 'keystone_tempest_plugin/tests/rbac/v3/test_implied_role.py', 'keystone_tempest_plugin/tests/rbac/v3/test_service_provider.py', 'keystone_tempest_plugin/tests/rbac/v3/test_mapping.py', 'keystone_tempest_plugin/tests/rbac/v3/test_role.py', 'keystone_tempest_plugin/tests/rbac/v3/test_project_endpoint.py', 'keystone_tempest_plugin/tests/rbac/v3/test_region.py', 'keystone_tempest_plugin/tests/rbac/v3/test_application_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_project_tag.py', 'keystone_tempest_plugin/tests/rbac/v3/test_protocol.py', 'keystone_tempest_plugin/tests/rbac/v3/test_registered_limit.py', 'keystone_tempest_plugin/tests/rbac/v3/test_policy_association.py', 'keystone_tempest_plugin/tests/rbac/v3/test_ec2_credential.py'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/0401f2822bc9cf96f4ceb80d12bd9faa97a50612', 'message': 'Fix RBAC tests to be compatible with py2.7\n\nBecause of the Python 3.0 features used, the CI started failing on\nrocky and queens.\n\nCloses-Bug: 1928650\nChange-Id: Iff27abb8305735444ef6509348c9aae0a6242d29\n'}]",0,791709,0401f2822bc9cf96f4ceb80d12bd9faa97a50612,12,8,1,14250,,,0,"Fix RBAC tests to be compatible with py2.7

Because of the Python 3.0 features used, the CI started failing on
rocky and queens.

Closes-Bug: 1928650
Change-Id: Iff27abb8305735444ef6509348c9aae0a6242d29
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/09/791709/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone_tempest_plugin/tests/rbac/v3/test_user.py', 'keystone_tempest_plugin/tests/rbac/v3/test_token.py', 'keystone_tempest_plugin/tests/rbac/v3/test_service.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain_config.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint_group.py', 'keystone_tempest_plugin/tests/rbac/v3/test_group.py', 'keystone_tempest_plugin/tests/rbac/v3/test_project.py', 'keystone_tempest_plugin/tests/rbac/v3/test_grant.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain.py', 'keystone_tempest_plugin/tests/rbac/v3/test_policy.py', 'keystone_tempest_plugin/tests/rbac/v3/test_identity_provider.py', 'keystone_tempest_plugin/tests/rbac/v3/test_trust.py', 'keystone_tempest_plugin/tests/rbac/v3/test_consumer.py', 'requirements.txt', 'keystone_tempest_plugin/tests/rbac/v3/test_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_access_rule.py', 'keystone_tempest_plugin/tests/rbac/v3/test_limit.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint.py', 'keystone_tempest_plugin/tests/rbac/v3/test_role_assignment.py', 'keystone_tempest_plugin/tests/rbac/v3/test_implied_role.py', 'keystone_tempest_plugin/tests/rbac/v3/test_service_provider.py', 'keystone_tempest_plugin/tests/rbac/v3/test_mapping.py', 'keystone_tempest_plugin/tests/rbac/v3/test_role.py', 'keystone_tempest_plugin/tests/rbac/v3/test_project_endpoint.py', 'keystone_tempest_plugin/tests/rbac/v3/test_region.py', 'keystone_tempest_plugin/tests/rbac/v3/test_application_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_project_tag.py', 'keystone_tempest_plugin/tests/rbac/v3/test_protocol.py', 'keystone_tempest_plugin/tests/rbac/v3/test_registered_limit.py', 'keystone_tempest_plugin/tests/rbac/v3/test_policy_association.py', 'keystone_tempest_plugin/tests/rbac/v3/test_ec2_credential.py']",31,0401f2822bc9cf96f4ceb80d12bd9faa97a50612,,import six@six.add_metaclass(abc.ABCMeta) class IdentityV3RbacEc2CredentialTest(rbac_base.IdentityV3RbacBaseTests):,"class IdentityV3RbacEc2CredentialTest(rbac_base.IdentityV3RbacBaseTests, metaclass=abc.ABCMeta):",92,59
openstack%2Fcharm-nova-cloud-controller~master~Ibb3b1429820a4188fe3d2c1142c295c0de4ee24e,openstack/charm-nova-cloud-controller,master,Ibb3b1429820a4188fe3d2c1142c295c0de4ee24e,Drop placement endpoints from relation in train+,MERGED,2021-06-17 21:16:42.000000000,2021-08-26 13:06:58.000000000,2021-08-26 13:06:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-06-17 21:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/cddb1ab5076a3f6844d4b1e646ba95e2e6a073c2', 'message': 'Drop placement endpoints from relation in train+\n\nWhen a cloud is deployed earlier than the Train release, the placement\nservice is provided by nova-cloud-controller. As part of an upgrade to\nTrain, the new placement service is added and updates the placement\nendpoint in the service catalog. The nova-cloud-controller charm no\nlonger advertises the placement service URL, but because the data\nexists on the relation until removed, the service catalog changes the\nplacement URL to the placement endpoints advertised from\nnova-cloud-controller.\n\nFix this by explicitly removing the placement service URLs when the\nplacement service is not provided by nova-cloud-controller.\n\nChange-Id: Ibb3b1429820a4188fe3d2c1142c295c0de4ee24e\nCloses-Bug: #1928992\n'}, {'number': 2, 'created': '2021-07-27 18:24:18.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/231a0f1459eb2a9273dc9b752f10ff184c0b7e35', 'message': 'Drop placement endpoints from relation in train+\n\nWhen a cloud is deployed earlier than the Train release, the placement\nservice is provided by nova-cloud-controller. As part of an upgrade to\nTrain, the new placement service is added and updates the placement\nendpoint in the service catalog. The nova-cloud-controller charm no\nlonger advertises the placement service URL, but because the data\nexists on the relation until removed, the service catalog changes the\nplacement URL to the placement endpoints advertised from\nnova-cloud-controller.\n\nFix this by explicitly removing the placement service URLs when the\nplacement service is not provided by nova-cloud-controller.\n\nChange-Id: Ibb3b1429820a4188fe3d2c1142c295c0de4ee24e\nCloses-Bug: #1928992\n'}]",0,796953,231a0f1459eb2a9273dc9b752f10ff184c0b7e35,27,4,2,8992,,,0,"Drop placement endpoints from relation in train+

When a cloud is deployed earlier than the Train release, the placement
service is provided by nova-cloud-controller. As part of an upgrade to
Train, the new placement service is added and updates the placement
endpoint in the service catalog. The nova-cloud-controller charm no
longer advertises the placement service URL, but because the data
exists on the relation until removed, the service catalog changes the
placement URL to the placement endpoints advertised from
nova-cloud-controller.

Fix this by explicitly removing the placement service URLs when the
placement service is not provided by nova-cloud-controller.

Change-Id: Ibb3b1429820a4188fe3d2c1142c295c0de4ee24e
Closes-Bug: #1928992
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/53/796953/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,cddb1ab5076a3f6844d4b1e646ba95e2e6a073c2,bug/1928992," else: # NOTE(wolsen) drop placement endpoints when placement api is not # enabled. This prevents the ncc charm from overriding services # from placement in Train and newer. See LP#1928992 endpoints.update({ 'placement_service': None, 'placement_region': None, 'placement_public_url': None, 'placement_admin_url': None, 'placement_internal_url': None, })",,49,1
openstack%2Fsushy~master~Ib1bec12d58e159d748367e26ba227aabe148caf9,openstack/sushy,master,Ib1bec12d58e159d748367e26ba227aabe148caf9,Support credentials for VirtualMedia URI,MERGED,2021-08-20 11:53:05.000000000,2021-08-26 12:48:52.000000000,2021-08-26 12:46:26.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-08-20 11:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/c4c3b3b3bd9d586a44326311c8001457b65c0cdc', 'message': 'Support credentials for VirtualMedia URI\n\nChange-Id: Ib1bec12d58e159d748367e26ba227aabe148caf9\n'}, {'number': 2, 'created': '2021-08-23 14:16:27.000000000', 'files': ['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/vmedia-credentials-14b7705c3c94cc07.yaml', 'sushy/tests/unit/resources/manager/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/8af5725f9a7c80a78e0ef269d6a4882bbdf6c9b0', 'message': 'Support credentials for VirtualMedia URI\n\nChange-Id: Ib1bec12d58e159d748367e26ba227aabe148caf9\n'}]",0,805367,8af5725f9a7c80a78e0ef269d6a4882bbdf6c9b0,17,4,2,10239,,,0,"Support credentials for VirtualMedia URI

Change-Id: Ib1bec12d58e159d748367e26ba227aabe148caf9
",git fetch https://review.opendev.org/openstack/sushy refs/changes/67/805367/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/vmedia-credentials-14b7705c3c94cc07.yaml', 'sushy/tests/unit/resources/manager/test_virtual_media.py']",3,c4c3b3b3bd9d586a44326311c8001457b65c0cdc,vmedia-credentials," def test_insert_media_credentials(self): self.assertFalse(self.sys_virtual_media._is_stale) self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False, username=""admin"", password=""pwd"") self.sys_virtual_media._conn.post.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1/Actions"" ""/VirtualMedia.InsertMedia""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""WriteProtected"": False, ""UserName"": ""admin"", ""Password"": ""pwd""} ) self.assertTrue(self.sys_virtual_media._is_stale) ",,28,1
openstack%2Fcharm-deployment-guide~master~I220ad1a178a253ca04e1667e8c5727f8a54aa5cd,openstack/charm-deployment-guide,master,I220ad1a178a253ca04e1667e8c5727f8a54aa5cd,Create NFV page from nova-compute README,MERGED,2021-07-09 23:45:44.000000000,2021-08-26 12:38:31.000000000,2021-08-26 12:36:53.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-09 23:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/838f29fd008ef561bfcd29d9c07323b669e20ed1', 'message': ""Create NFV page from nova-compute README\n\nTo streamline the nova-compute charm README the\nlatter's NFV section is being moved to the CDG.\n\nThis PR copies the contents over wholesale.\nChanges were only made to make the new page work\nin its new location.\n\nWhen merged, the charm's README contents will be\nreplaced by a summary of NFV support and linked to\nthe new page.\n\nChange-Id: I220ad1a178a253ca04e1667e8c5727f8a54aa5cd\n""}, {'number': 2, 'created': '2021-08-20 16:30:49.000000000', 'files': ['deploy-guide/source/index.rst', 'deploy-guide/source/nfv.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ba3316438ae1b4355ab6e5d02383c270d89c398d', 'message': ""Create NFV page from nova-compute README\n\nTo streamline the nova-compute charm README the\nlatter's NFV section is being moved to the CDG.\n\nThis PR copies the contents over wholesale.\nChanges were only made to make the new page work\nin its new location.\n\nWhen merged, the charm's README contents will be\nreplaced by a summary of NFV support and linked to\nthe new page.\n\nChange-Id: I220ad1a178a253ca04e1667e8c5727f8a54aa5cd\n""}]",0,800316,ba3316438ae1b4355ab6e5d02383c270d89c398d,9,2,2,30561,,,0,"Create NFV page from nova-compute README

To streamline the nova-compute charm README the
latter's NFV section is being moved to the CDG.

This PR copies the contents over wholesale.
Changes were only made to make the new page work
in its new location.

When merged, the charm's README contents will be
replaced by a summary of NFV support and linked to
the new page.

Change-Id: I220ad1a178a253ca04e1667e8c5727f8a54aa5cd
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/16/800316/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/index.rst', 'deploy-guide/source/nfv.rst']",2,838f29fd008ef561bfcd29d9c07323b669e20ed1,add-nfv-page,"====================================== Network Functions Virtualization (NFV) ====================================== The nova-compute charm (in conjunction with the nova-cloud-controller and neutron-api charms) supports compute nodes configured for the use in Telco NFV deployments, specifically the following configuration options (YAML excerpt): .. code-block:: yaml nova-compute: hugepages: 60% vcpu-pin-set: ""^0,^2"" reserved-host-memory: 1024 pci-passthrough-whitelist: {""vendor_id"":""1137"",""product_id"":""0071"",""address"":""*:0a:00.*"",""physical_network"":""physnet1""} In this example, compute nodes will be configured with 60% of available RAM for hugepage use (decreasing memory fragmentation in virtual machines, improving performance), and Nova will be configured to reserve CPU cores 0 and 2 and 1024M of RAM for host usage and use the supplied PCI device whitelist as PCI devices that as consumable by virtual machines, including any mapping to underlying provider network names (used for SR-IOV VF/PF port scheduling with Nova and Neutron's SR-IOV support). The ``vcpu-pin-set`` configuration option is a comma-separated list of physical CPU numbers that virtual CPUs can be allocated to by default. Each element should be either a single CPU number, a range of CPU numbers, or a caret followed by a CPU number to be excluded from a previous range. For example: .. code-block:: yaml vcpu-pin-set: ""4-12,^8,15"" The pci-passthrough-whitelist configuration must be specified as follows: A JSON dictionary which describe a whitelisted PCI device. It should take the following format: .. code-block:: console [""device_id"": ""<id>"",] [""product_id"": ""<id>"",] [""address"": ""[[[[<domain>]:]<bus>]:][<slot>][.[<function>]]"" | ""devname"": ""PCI Device Name"",] {""tag"": ""<tag_value>"",} Where '[' indicates zero or one occurrences, '{' indicates zero or multiple occurrences, and '|' mutually exclusive options. Note that any missing fields are automatically wildcarded. Valid examples are: .. code-block:: yaml pci-passthrough-whitelist: {""devname"":""eth0"", ""physical_network"":""physnet""} pci-passthrough-whitelist: {""address"":""*:0a:00.*""} pci-passthrough-whitelist: {""address"":"":0a:00."", ""physical_network"":""physnet1""} pci-passthrough-whitelist: {""vendor_id"":""1137"", ""product_id"":""0071""} pci-passthrough-whitelist: {""vendor_id"":""1137"", ""product_id"":""0071"", ""address"": ""0000:0a:00.1"", ""physical_network"":""physnet1""} The following is invalid, as it specifies mutually exclusive options: .. code-block:: yaml pci-passthrough-whitelist: {""devname"":""eth0"", ""physical_network"":""physnet"", ""address"":""*:0a:00.*""} A JSON list of JSON dictionaries corresponding to the above format. For example: .. code-block:: yaml pci-passthrough-whitelist: [{""product_id"":""0001"", ""vendor_id"":""8086""}, {""product_id"":""0002"", ""vendor_id"":""8086""}] The `OpenStack advanced networking documentation`_ provides further details on whitelist configuration and how to create instances with Neutron ports wired to SR-IOV devices. .. LINKS .. _OpenStack advanced networking documentation: http://docs.openstack.org/mitaka/networking-guide/adv-config-sriov.html ",,81,0
openstack%2Fcharm-masakari-monitors~master~Ic209723fe7bfdf030310cf8a3e5607caf6a73853,openstack/charm-masakari-monitors,master,Ic209723fe7bfdf030310cf8a3e5607caf6a73853,Fixing a Masakari service paths,MERGED,2021-08-25 18:38:34.000000000,2021-08-26 12:34:16.000000000,2021-08-26 12:34:16.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-25 18:38:34.000000000', 'files': ['src/templates/masakarimonitors.conf', 'src/templates/process_list.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/37a22da2fdb665983e08319212e5672618bda794', 'message': 'Fixing a Masakari service paths\n\nUpstream process_list.yaml.sample, which was likely\na source for the charm version, has slightly different\nbinaries paths. This patch provides correct systemd service\nnames and binaries locations for the masakari-process-monitor\nservice.\n\nCloses-Bug: #1941644\nChange-Id: Ic209723fe7bfdf030310cf8a3e5607caf6a73853\n'}]",0,806042,37a22da2fdb665983e08319212e5672618bda794,7,3,1,28899,,,0,"Fixing a Masakari service paths

Upstream process_list.yaml.sample, which was likely
a source for the charm version, has slightly different
binaries paths. This patch provides correct systemd service
names and binaries locations for the masakari-process-monitor
service.

Closes-Bug: #1941644
Change-Id: Ic209723fe7bfdf030310cf8a3e5607caf6a73853
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/42/806042/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/masakarimonitors.conf', 'src/templates/process_list.yaml']",2,37a22da2fdb665983e08319212e5672618bda794,lp1941644,# WARNING: Maintained by Juju. # Any manual changes will be overridden. start_command: systemctl start libvirtd restart_command: systemctl restart libvirtd process_name: /usr/bin/masakari-instancemonitor start_command: systemctl start masakari-instance-monitor restart_command: systemctl restart masakari-instance-monitor process_name: /usr/bin/masakari-hostmonitor start_command: systemctl start masakari-host-monitor restart_command: systemctl restart masakari-host-monitor, start_command: systemctl start libvirt-bin restart_command: systemctl restart libvirt-bin process_name: /usr/local/bin/masakari-instancemonitor start_command: systemctl start masakari-instancemonitor restart_command: systemctl restart masakari-instancemonitor process_name: /usr/local/bin/masakari-hostmonitor start_command: systemctl start masakari-hostmonitor restart_command: systemctl restart masakari-hostmonitor,14,8
openstack%2Fpython-tripleoclient~master~I04f8eb15e58a2bec125f5de23ec2da7e51454e1c,openstack/python-tripleoclient,master,I04f8eb15e58a2bec125f5de23ec2da7e51454e1c,New test case and documentation for the export_stack function.,MERGED,2021-08-20 07:55:59.000000000,2021-08-26 12:15:14.000000000,2021-08-26 12:11:25.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22318}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-20 07:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/377337545c7b15a8356ea0a557ceeec21a60e5fb', 'message': ""Tests and documentation for the export_stack function.\n\nNew test case for handling a decoding error encountered\nwhile reading a file.\n\nFunction documentation moved to docstring from comment,\nand expanded to cover necessary API and implementation facts.\n\nToo general 'Exception', raised if there are no data to export\nfor the specific key, was changed to 'RuntimeError'.\n\nSome vars were renamed in order to improve readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c\n""}, {'number': 2, 'created': '2021-08-20 07:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d7cbf6a84ee7f394a3877fdee0dc5132ba0a2e4d', 'message': ""New test case and documentation for the export_stack function.\n\nNew test case for handling a decoding error encountered\nwhile reading a file.\n\nFunction documentation moved to docstring from comment,\nand expanded to cover necessary API and implementation facts.\n\nToo general 'Exception', raised if there are no data to export\nfor the specific key, was changed to 'RuntimeError'.\n\nSome vars were renamed in order to improve readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c\n""}, {'number': 3, 'created': '2021-08-20 08:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/68ea3c3f273f4b994c2038afc974a8cfd03f8516', 'message': ""New test case and documentation for the export_stack function.\n\nNew test case for handling a decoding error encountered\nwhile reading a file.\n\nFunction documentation moved to docstring from comment,\nand expanded to cover necessary API and implementation facts.\n\nToo general 'Exception', raised if there are no data to export\nfor the specific key, was changed to 'RuntimeError'.\n\nSome vars were renamed in order to improve readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c\n""}, {'number': 4, 'created': '2021-08-23 06:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d72f1f7d5ee4e692ea713249738dc64f84f83e37', 'message': ""New test case and documentation for the export_stack function.\n\nNew test case for handling a decoding error encountered\nwhile reading a file.\n\nFunction documentation moved to docstring from comment,\nand expanded to cover necessary API and implementation facts.\n\nToo general 'Exception', raised if there are no data to export\nfor the specific key, was changed to 'RuntimeError'.\n\nSome vars were renamed in order to improve readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c\n""}, {'number': 5, 'created': '2021-08-25 14:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/640dc7b6487b9d550feaf6ec167f0b9ec4cd470c', 'message': ""New test case and documentation for the export_stack function.\n\nNew test case for handling a decoding error encountered\nwhile reading a file.\n\nFunction documentation moved to docstring from comment,\nand expanded to cover necessary API and implementation facts.\n\nToo general 'Exception', raised if there are no data to export\nfor the specific key, was changed to 'RuntimeError'.\n\nSome vars were renamed in order to improve readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c\n""}, {'number': 6, 'created': '2021-08-25 15:17:06.000000000', 'files': ['tripleoclient/tests/test_export.py', 'tripleoclient/export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2939ed85bdcc73b1a061e5a0ad0eb9fa90fe1f09', 'message': ""New test case and documentation for the export_stack function.\n\nNew test case for handling a decoding error encountered\nwhile reading a file.\n\nFunction documentation moved to docstring from comment,\nand expanded to cover necessary API and implementation facts.\n\nToo general 'Exception', raised if there are no data to export\nfor the specific key, was changed to 'RuntimeError'.\n\nSome vars were renamed in order to improve readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c\n""}]",0,805347,2939ed85bdcc73b1a061e5a0ad0eb9fa90fe1f09,15,10,6,32926,,,0,"New test case and documentation for the export_stack function.

New test case for handling a decoding error encountered
while reading a file.

Function documentation moved to docstring from comment,
and expanded to cover necessary API and implementation facts.

Too general 'Exception', raised if there are no data to export
for the specific key, was changed to 'RuntimeError'.

Some vars were renamed in order to improve readability.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I04f8eb15e58a2bec125f5de23ec2da7e51454e1c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/805347/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_export.py', 'tripleoclient/export.py']",2,377337545c7b15a8356ea0a557ceeec21a60e5fb,export_stack," """"""Export stack information. Iterates over parameters selected for export and loads additional data from the referenced files. :param heat: tht client :type heat: Client :param stack: stack name for password generator :type stack: string :params should_filter: should the export only include values with keys defined in the 'filter' list. Defaults to `False` :type should_filter: bool :param config_download_dir: path to download directory, defaults to `constants.DEFAULT_WORK_DIR` :type config_download_dir: string :returns: data to export :rtype: dict The function detetermines what data to export using information, obtained from the preset `tripleoclient.constants.EXPORT_DATA` dictionary. parameter: Parameter to be exported file: If file is specified it is taken as source instead of heat output. File is relative to <config-download-dir>/stack. filter: in case only specific settings should be exported from parameter data. """""" with open(file, 'r') as parameter_file: try: export_data = json.load(parameter_file) raise RuntimeError("," # data to export # parameter: Parameter to be exported # file: IF file specified it is taken as source instead of heat # output.File is relative to <config-download-dir>/stack. # filter: in case only specific settings should be # exported from parameter data. with open(file, 'r') as ff: try: export_data = json.load(ff) raise Exception(",53,10
openstack%2Fneutron~stable%2Fwallaby~I0ca07d1a1aaf05c1992aea9e29575580d7933324,openstack/neutron,stable/wallaby,I0ca07d1a1aaf05c1992aea9e29575580d7933324,Use elevated context to get default SG from database,MERGED,2021-08-04 13:04:22.000000000,2021-08-26 12:14:31.000000000,2021-08-26 12:11:31.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 13:04:22.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b8ebdef8d545dd5df7e5765eccc82b9136c92b0', 'message': ""Use elevated context to get default SG from database\n\nWith new system/project scopes it may happen that project admin\nwill try to list security groups for different project and during\nthat call Neutron will ensure that default security group is created.\n\nIn such case elevated context needs to be used to get SG object from\nthe database otherwise, SG will not be found and error 500 will be\nreturned through the API.\n\nUse of elevated context is fine here as if user don't have access to\nthe SG, it will be filtered out by policy mechanism and it will not\nbe returned through API.\n\nCloses-Bug: #1934115\nChange-Id: I0ca07d1a1aaf05c1992aea9e29575580d7933324\n(cherry picked from commit f6c3747caeac08df9d865312686be8eccb7f0472)\n""}]",0,803439,4b8ebdef8d545dd5df7e5765eccc82b9136c92b0,36,3,1,11975,,,0,"Use elevated context to get default SG from database

With new system/project scopes it may happen that project admin
will try to list security groups for different project and during
that call Neutron will ensure that default security group is created.

In such case elevated context needs to be used to get SG object from
the database otherwise, SG will not be found and error 500 will be
returned through the API.

Use of elevated context is fine here as if user don't have access to
the SG, it will be filtered out by policy mechanism and it will not
be returned through API.

Closes-Bug: #1934115
Change-Id: I0ca07d1a1aaf05c1992aea9e29575580d7933324
(cherry picked from commit f6c3747caeac08df9d865312686be8eccb7f0472)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/803439/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,4b8ebdef8d545dd5df7e5765eccc82b9136c92b0,bug/1934115-stable/wallaby," # NOTE(slaweq): With new system/project scopes it may happen that # project admin will try to list security groups for different # project and during that call Neutron will ensure that default # security group is created. In such case elevated context needs to # be used here otherwise, SG will not be found and error 500 will # be returned through the API get_context = context.elevated() if default_sg else context sg = sg_obj.SecurityGroup.get_object(get_context, id=sg.id)"," sg = sg_obj.SecurityGroup.get_object(context, id=sg.id)",8,1
openstack%2Ftripleo-common~master~Id8d99560ccd412014fe1d13faad19c2a114cd6e6,openstack/tripleo-common,master,Id8d99560ccd412014fe1d13faad19c2a114cd6e6,Re-add tripleoclient and tempest container,MERGED,2021-07-23 08:05:37.000000000,2021-08-26 12:14:05.000000000,2021-08-26 12:11:24.000000000,"[{'_account_id': 360}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-23 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f2dc05cbe38e85074715d3cd1257d47820729d21', 'message': 'Re-add tripleoclient and tempest container\n\nIn the osp-director-operator [1] effort which uses tripleo to deploy\nopenstack using openshift to manage the hardware/vm provisioning.\nTo do so we rely on the tripleoclient and tempest container for\ndeployment/testing. Lets add the containers back to be built,\nbut not adding it to tripleo_containers.yaml.j2 as its not\nrequired to have them available via container image prepare on the\nundercloud.\n\n[1] https://github.com/openstack-k8s-operators/osp-director-operator\n\nChange-Id: Id8d99560ccd412014fe1d13faad19c2a114cd6e6\n'}, {'number': 2, 'created': '2021-07-23 09:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/44265ef3efc36b040545b1d701c7ff3de2a88ffa', 'message': 'Re-add tripleoclient and tempest container\n\nIn the osp-director-operator [1] effort which uses tripleo to deploy\nopenstack using openshift to manage the hardware/vm provisioning.\nTo do so we rely on the tripleoclient and tempest container for\ndeployment/testing. Lets add the containers back to be built.\n\n[1] https://github.com/openstack-k8s-operators/osp-director-operator\n\nChange-Id: Id8d99560ccd412014fe1d13faad19c2a114cd6e6\n'}, {'number': 3, 'created': '2021-08-05 12:48:02.000000000', 'files': ['container-images/tripleo_containers.yaml.j2', 'container-images/kolla/base/uid_gid_manage.sh', 'container-images/tcib/base/os/tempest/tempest.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ede41284e02d4783e580d639c0ba650b91f98eee', 'message': 'Re-add tripleoclient and tempest container\n\nIn the osp-director-operator [1] effort which uses tripleo to deploy\nopenstack using openshift to manage the hardware/vm provisioning.\nTo do so we rely on the tripleoclient and tempest container for\ndeployment/testing. Lets add the containers back to be built.\n\n[1] https://github.com/openstack-k8s-operators/osp-director-operator\n\nChange-Id: Id8d99560ccd412014fe1d13faad19c2a114cd6e6\n'}]",2,801987,ede41284e02d4783e580d639c0ba650b91f98eee,24,8,3,17216,,,0,"Re-add tripleoclient and tempest container

In the osp-director-operator [1] effort which uses tripleo to deploy
openstack using openshift to manage the hardware/vm provisioning.
To do so we rely on the tripleoclient and tempest container for
deployment/testing. Lets add the containers back to be built.

[1] https://github.com/openstack-k8s-operators/osp-director-operator

Change-Id: Id8d99560ccd412014fe1d13faad19c2a114cd6e6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/801987/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml'],1,f2dc05cbe38e85074715d3cd1257d47820729d21,readd_tripleoclient,- imagename: quay.io/tripleomaster/openstack-tempest:current-tripleo image_source: tripleo - imagename: quay.io/tripleomaster/openstack-tripleoclient:current-tripleo image_source: tripleo,,4,0
openstack%2Ftripleo-heat-templates~master~I4bc97cc3f361b5ada15fee81ccc1036485d4529c,openstack/tripleo-heat-templates,master,I4bc97cc3f361b5ada15fee81ccc1036485d4529c,Make default of NovaSyncPowerStateInterval consistent with nova,MERGED,2021-02-21 09:29:04.000000000,2021-08-26 12:14:02.000000000,2021-08-26 12:11:19.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-21 09:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d09d7953aed5ca67451b5856725dcae2c1116512', 'message': 'Make default of NovaSyncPowerStateInterval consistent with nova\n\nCurrently default of the NovaSyncPowerStateInterval parameter is 0, but\nthis makes the parameter use the default value defined in oslo.service\n(which is 60 seconds) instead of the default defined in nova(which is\n600 seconds).\nBecause it is more reasonable to use the default defined in service\nitlself, this change updates the default of that parameter to be\nconsistent with the default defined in nova.\n\nChange-Id: I4bc97cc3f361b5ada15fee81ccc1036485d4529c\n'}, {'number': 2, 'created': '2021-02-21 09:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b533a720dc715e81cc893afee1c6edd1a27c6f79', 'message': 'Make default of NovaSyncPowerStateInterval consistent with nova\n\nCurrently default of the NovaSyncPowerStateInterval parameter is 0, but\nthis makes the parameter use the default value defined in oslo.service\n(which is 60 seconds) instead of the default defined in nova(which is\n600 seconds).\nBecause it is more reasonable to use the default defined in service\nitlself, this change updates the default of that parameter to be\nconsistent with the default defined in nova.\n\nCloses-Bug: #1916380\nChange-Id: I4bc97cc3f361b5ada15fee81ccc1036485d4529c\n'}, {'number': 3, 'created': '2021-08-18 14:44:18.000000000', 'files': ['releasenotes/notes/fix-default-of-nova-sync-power-state-interval-90778dbcb0104130.yaml', 'deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ff2741130bcfeee18563eb8e0da86396e1cb10c', 'message': 'Make default of NovaSyncPowerStateInterval consistent with nova\n\nCurrently default of the NovaSyncPowerStateInterval parameter is 0, but\nthis makes the parameter use the default value defined in oslo.service\n(which is 60 seconds) instead of the default defined in nova(which is\n600 seconds).\nBecause it is more reasonable to use the default defined in service\nitlself, this change updates the default of that parameter to be\nconsistent with the default defined in nova.\n\nCloses-Bug: #1916380\nChange-Id: I4bc97cc3f361b5ada15fee81ccc1036485d4529c\n'}]",2,776825,5ff2741130bcfeee18563eb8e0da86396e1cb10c,21,8,3,9816,,,0,"Make default of NovaSyncPowerStateInterval consistent with nova

Currently default of the NovaSyncPowerStateInterval parameter is 0, but
this makes the parameter use the default value defined in oslo.service
(which is 60 seconds) instead of the default defined in nova(which is
600 seconds).
Because it is more reasonable to use the default defined in service
itlself, this change updates the default of that parameter to be
consistent with the default defined in nova.

Closes-Bug: #1916380
Change-Id: I4bc97cc3f361b5ada15fee81ccc1036485d4529c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/776825/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-default-of-nova-sync-power-state-interval-90778dbcb0104130.yaml', 'deployment/nova/nova-base-puppet.yaml']",2,d09d7953aed5ca67451b5856725dcae2c1116512,bug/1916380, to -1 to disable. Setting this to 0 will run at the default rate(60) defined in oslo.service. default: 600, to -1 to disable. Setting this to 0 will run at the default rate. default: 0,9,2
openstack%2Fpython-tripleoclient~master~I751fc605cb09ad9fcf169b3e2eab0532feb379a5,openstack/python-tripleoclient,master,I751fc605cb09ad9fcf169b3e2eab0532feb379a5,Unmount heat-all tmpfs dir when done,MERGED,2021-07-08 11:58:05.000000000,2021-08-26 12:13:24.000000000,2021-08-26 12:11:22.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 11:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42e97fe47b60da6bd234502b497758bfcbd62d2a', 'message': 'Unmount heat-all tmpfs dir when done\n\nAdds a step to unmount the tmpfs dir used by the HeatNativeLauncher\n(heat-all aio process) when the process is stopped. Previously, the\nmount was kept and would hang around until the next reboot.\n\nThe tmpfs mount dir is also changed to be at the generated temporary\ndirectory within the heat launcher dir (heat_dir), instead of one level\nhigher up. This provides a location to backup the files before\nunmounting. The default value for the launcher dir is also changed from\n/var/log/heat_launcher to ~/tripleo-deploy/<stack>/heat_launcher, so\nthat the artifacts are saved in the generated tarball.\n\nThe step to backup the files is added such that the files are not lost\nwhen the unmount is done.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I751fc605cb09ad9fcf169b3e2eab0532feb379a5\n'}, {'number': 2, 'created': '2021-07-15 12:06:08.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6a0adcbbf6daa941a264fc0f1b575cb5dbb68678', 'message': ""Unmount heat-all tmpfs dir when done\n\nAdds a step to unmount the tmpfs dir used by the HeatNativeLauncher\n(heat-all aio process) when the process is stopped. Previously, the\nmount was kept and would hang around until the next reboot.\n\nAs part of this change, the following is also included:\n\n- The tmpfs mount dir is also changed to be at the generated temporary\n  directory within the heat launcher dir (heat_dir), instead of one level\n  higher up. This provides a location to backup the files before\n  unmounting.\n- The default value for the heat_dir directory is also changed from\n  /var/log/heat_launcher to ~/tripleo-deploy/<stack>/heat_launcher, so\n  that the artifacts are saved in the generated tarball.\n- heat-all is started as the deployment user ($SUDO_USER, e.g. stack)\n  instead of heat. There is no reason to run heat-all as heat. This\n  enables keeping the generated files within the home directory of the\n  deployment user\n- The heat_dir directory, owned by root, has it's mode changed from 700\n  to 755. This is safe as the directory is now in the deployment user\n  home directory.  This is necessary so that the deployment user can\n  read the directory.\n- A step to backup the heat-all files is added such that the files are\n  not lost when the unmount is done, and they are saved as part of the\n  deployment artifacts.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I751fc605cb09ad9fcf169b3e2eab0532feb379a5\n""}]",0,800021,6a0adcbbf6daa941a264fc0f1b575cb5dbb68678,11,3,2,7144,,,0,"Unmount heat-all tmpfs dir when done

Adds a step to unmount the tmpfs dir used by the HeatNativeLauncher
(heat-all aio process) when the process is stopped. Previously, the
mount was kept and would hang around until the next reboot.

As part of this change, the following is also included:

- The tmpfs mount dir is also changed to be at the generated temporary
  directory within the heat launcher dir (heat_dir), instead of one level
  higher up. This provides a location to backup the files before
  unmounting.
- The default value for the heat_dir directory is also changed from
  /var/log/heat_launcher to ~/tripleo-deploy/<stack>/heat_launcher, so
  that the artifacts are saved in the generated tarball.
- heat-all is started as the deployment user ($SUDO_USER, e.g. stack)
  instead of heat. There is no reason to run heat-all as heat. This
  enables keeping the generated files within the home directory of the
  deployment user
- The heat_dir directory, owned by root, has it's mode changed from 700
  to 755. This is safe as the directory is now in the deployment user
  home directory.  This is necessary so that the deployment user can
  read the directory.
- A step to backup the heat-all files is added such that the files are
  not lost when the unmount is done, and they are saved as part of the
  deployment artifacts.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I751fc605cb09ad9fcf169b3e2eab0532feb379a5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/800021/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",5,42e97fe47b60da6bd234502b497758bfcbd62d2a,heat-all," mock_launchheat.assert_called_with(parsed_args, self.cmd.output_dir) mock_launchheat.assert_called_with(parsed_args, self.cmd.output_dir) mock_launchheat.assert_called_with(parsed_args, self.cmd.output_dir)", mock_launchheat.assert_called_with(parsed_args) mock_launchheat.assert_called_with(parsed_args) mock_launchheat.assert_called_with(parsed_args),58,41
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iad255451726867dc172404513fdac4ad0599c4c0,openstack/tripleo-heat-templates,stable/wallaby,Iad255451726867dc172404513fdac4ad0599c4c0,Distribute iscsid.conf to all containers using iscsi,MERGED,2021-08-06 15:54:18.000000000,2021-08-26 12:11:16.000000000,2021-08-26 12:11:16.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-06 15:54:18.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/922680c4017f33efd8493a6ba7e5e53d2f5d7ebd', 'message': 'Distribute iscsid.conf to all containers using iscsi\n\nThis patch updates the way files related to iscsi are distributed\nto the cinder, glance and nova containers that use the protocol.\n\nPreviously it was thought that only the iscsid container needs\naccess to /etc/iscsi/iscsid.conf, but the LP bug reveals the client\nside also reads the file in order to determine the list of chap\nalgorithms to offer when initiating an iscsi connection.\n\nThe bug was exposed when testing a secure environment that uses a\nnon-default list of chap algorithms. The iscsid container was using\nthe customized list, but the client containers (e.g. nova) were\nusing the default list, which caused iscsid to reject connections.\n\nCloses-Bug: #1932181\nChange-Id: Iad255451726867dc172404513fdac4ad0599c4c0\n(cherry picked from commit 48fd886a03b8d8249b6ea539b76bbd50e081a85e)\n'}]",0,803777,922680c4017f33efd8493a6ba7e5e53d2f5d7ebd,14,7,1,21129,,,0,"Distribute iscsid.conf to all containers using iscsi

This patch updates the way files related to iscsi are distributed
to the cinder, glance and nova containers that use the protocol.

Previously it was thought that only the iscsid container needs
access to /etc/iscsi/iscsid.conf, but the LP bug reveals the client
side also reads the file in order to determine the list of chap
algorithms to offer when initiating an iscsi connection.

The bug was exposed when testing a secure environment that uses a
non-default list of chap algorithms. The iscsid container was using
the customized list, but the client containers (e.g. nova) were
using the default list, which caused iscsid to reject connections.

Closes-Bug: #1932181
Change-Id: Iad255451726867dc172404513fdac4ad0599c4c0
(cherry picked from commit 48fd886a03b8d8249b6ea539b76bbd50e081a85e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/803777/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",4,922680c4017f33efd8493a6ba7e5e53d2f5d7ebd,iscsid-fips-fix, - /var/lib/config-data/puppet-generated/iscsid/etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro - /var/lib/config-data/puppet-generated/iscsid/etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro, - /etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro - /etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro,9,5
openstack%2Freleases~master~Ib27dc6de6aeb28d5d2b248deb2283c7e2ff87ea5,openstack/releases,master,Ib27dc6de6aeb28d5d2b248deb2283c7e2ff87ea5,Release ironic-inspector 10.6.1 for Wallaby,MERGED,2021-08-25 16:50:17.000000000,2021-08-26 12:10:36.000000000,2021-08-26 12:10:36.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-25 16:50:17.000000000', 'files': ['deliverables/wallaby/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9c54c0e4765360f9130ca4af11c01c4d49d3886a', 'message': 'Release ironic-inspector 10.6.1 for Wallaby\n\nChange-Id: Ib27dc6de6aeb28d5d2b248deb2283c7e2ff87ea5\n'}]",0,806031,9c54c0e4765360f9130ca4af11c01c4d49d3886a,9,6,1,10239,,,0,"Release ironic-inspector 10.6.1 for Wallaby

Change-Id: Ib27dc6de6aeb28d5d2b248deb2283c7e2ff87ea5
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/806031/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic-inspector.yaml'],1,9c54c0e4765360f9130ca4af11c01c4d49d3886a,inspector-wallaby, - version: 10.6.1 projects: - repo: openstack/ironic-inspector hash: f0327574e27ec16573fbceda84797b51f54b135a,,4,0
openstack%2Freleases~master~Ibe1a1bbdcb003470e43309093686ac14037d9d0b,openstack/releases,master,Ibe1a1bbdcb003470e43309093686ac14037d9d0b,Release ironic-lib 4.6.2 for Wallaby,MERGED,2021-08-25 16:34:47.000000000,2021-08-26 12:09:25.000000000,2021-08-26 12:09:25.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-25 16:34:47.000000000', 'files': ['deliverables/wallaby/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f5df52b1758a7fd803329de0ffbe05d84a853313', 'message': 'Release ironic-lib 4.6.2 for Wallaby\n\nChange-Id: Ibe1a1bbdcb003470e43309093686ac14037d9d0b\n'}]",0,806023,f5df52b1758a7fd803329de0ffbe05d84a853313,9,6,1,10239,,,0,"Release ironic-lib 4.6.2 for Wallaby

Change-Id: Ibe1a1bbdcb003470e43309093686ac14037d9d0b
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/806023/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic-lib.yaml'],1,f5df52b1758a7fd803329de0ffbe05d84a853313,sushy-wallaby, - version: 4.6.2 projects: - repo: openstack/ironic-lib hash: ca2e4bae045ce90e632f68dd24510e0f9258fa19,,4,0
openstack%2Freleases~master~Ibab34b5478f9d86fa10004dee113e75c5f17c05b,openstack/releases,master,Ibab34b5478f9d86fa10004dee113e75c5f17c05b,Release python-ironicclient 4.6.2 for Wallaby,MERGED,2021-08-25 16:39:14.000000000,2021-08-26 12:09:23.000000000,2021-08-26 12:09:23.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-25 16:39:14.000000000', 'files': ['deliverables/wallaby/python-ironicclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/111a8c2b5c65119fda90ef48fd93f0201189a0f5', 'message': 'Release python-ironicclient 4.6.2 for Wallaby\n\nChange-Id: Ibab34b5478f9d86fa10004dee113e75c5f17c05b\n'}]",0,806027,111a8c2b5c65119fda90ef48fd93f0201189a0f5,9,6,1,10239,,,0,"Release python-ironicclient 4.6.2 for Wallaby

Change-Id: Ibab34b5478f9d86fa10004dee113e75c5f17c05b
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/806027/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-ironicclient.yaml'],1,111a8c2b5c65119fda90ef48fd93f0201189a0f5,ironicclient-wallaby, - version: 4.6.2 projects: - repo: openstack/python-ironicclient hash: 702e22805fad1c6f5451e91e474d0215d5d2bab4,,4,0
openstack%2Freleases~master~I74906613ef9b52eba0772c973e00c1dbfc0dbce2,openstack/releases,master,I74906613ef9b52eba0772c973e00c1dbfc0dbce2,Release sushy 3.7.3 for Wallaby,MERGED,2021-08-25 16:37:13.000000000,2021-08-26 12:09:21.000000000,2021-08-26 12:09:21.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-25 16:37:13.000000000', 'files': ['deliverables/wallaby/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/77857ca06ad02cfa73e8267ca401c9f802f69879', 'message': 'Release sushy 3.7.3 for Wallaby\n\nChange-Id: I74906613ef9b52eba0772c973e00c1dbfc0dbce2\n'}]",2,806025,77857ca06ad02cfa73e8267ca401c9f802f69879,11,6,1,10239,,,0,"Release sushy 3.7.3 for Wallaby

Change-Id: I74906613ef9b52eba0772c973e00c1dbfc0dbce2
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/806025/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/sushy.yaml'],1,77857ca06ad02cfa73e8267ca401c9f802f69879,sushy-wallaby, - version: 3.7.3 projects: - repo: openstack/sushy hash: b76050c5c162e78572976dd4b199cab389d1d2d5,,4,0
openstack%2Freleases~master~I1bcd6bfecdd3c52fd27db7070d7d5b1215c21644,openstack/releases,master,I1bcd6bfecdd3c52fd27db7070d7d5b1215c21644,Release ironic-python-agent 7.0.2 for Wallaby,MERGED,2021-08-25 16:43:17.000000000,2021-08-26 12:08:31.000000000,2021-08-26 12:08:31.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-25 16:43:17.000000000', 'files': ['deliverables/wallaby/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fc169794e990f40a654144113e2f7ea82d66f620', 'message': 'Release ironic-python-agent 7.0.2 for Wallaby\n\nChange-Id: I1bcd6bfecdd3c52fd27db7070d7d5b1215c21644\n'}]",3,806029,fc169794e990f40a654144113e2f7ea82d66f620,11,6,1,10239,,,0,"Release ironic-python-agent 7.0.2 for Wallaby

Change-Id: I1bcd6bfecdd3c52fd27db7070d7d5b1215c21644
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/806029/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic-python-agent.yaml'],1,fc169794e990f40a654144113e2f7ea82d66f620,ironic-python-agent-wallaby, - version: 7.0.2 projects: - repo: openstack/ironic-python-agent hash: c3ad0e6a58e9d2247c6228a8bddefade1e7060b9,,4,0
openstack%2Freleases~master~I6cc3c10935824acd19b2b84141900674768e978c,openstack/releases,master,I6cc3c10935824acd19b2b84141900674768e978c,Add initial Xena cycle highlights for Kolla,MERGED,2021-08-25 16:20:40.000000000,2021-08-26 12:03:56.000000000,2021-08-26 12:03:56.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-25 16:20:40.000000000', 'files': ['deliverables/xena/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4506b917a3ba35f4e562f1e04d471524cc62337b', 'message': 'Add initial Xena cycle highlights for Kolla\n\nChange-Id: I6cc3c10935824acd19b2b84141900674768e978c\n'}]",0,806021,4506b917a3ba35f4e562f1e04d471524cc62337b,10,5,1,14826,,,0,"Add initial Xena cycle highlights for Kolla

Change-Id: I6cc3c10935824acd19b2b84141900674768e978c
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/806021/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/kolla.yaml'],1,4506b917a3ba35f4e562f1e04d471524cc62337b,,cycle-highlights: - Updated Ansible playbooks to allow tuning of facts for improved performance - Added integration with Hashicorp Vault for control plane secrets,,3,0
openstack%2Fcharm-designate~master~Ice5eada838626059f8cb2c427f7b9b0884317660,openstack/charm-designate,master,Ice5eada838626059f8cb2c427f7b9b0884317660,Add NRPE checks for services,MERGED,2020-10-02 05:23:46.000000000,2021-08-26 11:31:13.000000000,2021-08-26 11:31:13.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-10-02 05:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/e1fb345225ffa557477f8b3f909ba1ee5f314f16', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 2, 'created': '2020-10-19 02:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/6ee3e22dcaef5b4580978bc69e891e89f1024eed', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 3, 'created': '2020-12-10 18:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/c7c37bcf65af8339d4eae764fed99b74d1d4bfb6', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 4, 'created': '2020-12-11 02:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/7339a0ae05dcf6f5961e3795bc81ca57fa19b14f', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 5, 'created': '2021-01-25 21:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/e0a8d18a097af3b823d06ed402f0cd5067984f1f', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 6, 'created': '2021-02-11 23:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/f70e08f4d302932b0d2263449b57d5208a1b6523', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 7, 'created': '2021-03-07 21:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/70f7f9e34f2ba8e3e47b3cf5413f9525bce7276e', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 8, 'created': '2021-06-24 10:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/17529db87d33718e083f6a19b97980664f02be75', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 9, 'created': '2021-06-24 21:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/61ba28900bb9b6cc274bb778607d8f1b87835a86', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 10, 'created': '2021-06-25 06:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/3c8b00e5c1f0760250b23133b80c5f495a5ed1de', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 11, 'created': '2021-08-26 06:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/6bd3bd012e8569286128cd11a51499f317099c20', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 12, 'created': '2021-08-26 06:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/cf32b10a7400ecf9653a0892e744d849de73f05a', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\n'}, {'number': 13, 'created': '2021-08-26 09:19:04.000000000', 'files': ['src/tests/bundles/xenial-mitaka.yaml', 'unit_tests/test_designate_handlers.py', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'unit_tests/__init__.py', 'src/metadata.yaml', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'src/layer.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/config.yaml', 'src/lib/charm/openstack/designate.py', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/bundles/xenial-pike.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/3ae0be599b4433919e3db6526a26070fea536db5', 'message': 'Add NRPE checks for services\n\nAdds the nrpe-external-master layer and checks for services managed by\nthis charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436\n\nChange-Id: Ice5eada838626059f8cb2c427f7b9b0884317660\nCloses-Bug: #1897809\nRelated-Bug: #1933643\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",2,755691,3ae0be599b4433919e3db6526a26070fea536db5,68,5,13,10086,,,0,"Add NRPE checks for services

Adds the nrpe-external-master layer and checks for services managed by
this charm.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/436

Change-Id: Ice5eada838626059f8cb2c427f7b9b0884317660
Closes-Bug: #1897809
Related-Bug: #1933643
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/91/755691/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/xenial-mitaka.yaml', 'unit_tests/test_designate_handlers.py', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'unit_tests/__init__.py', 'src/metadata.yaml', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'src/layer.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/config.yaml', 'src/lib/charm/openstack/designate.py', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/xenial-pike.yaml']",21,e1fb345225ffa557477f8b3f909ba1ee5f314f16,bug/1897809, nrpe: charm: cs:nrpe - 'rabbitmq-server:amqp' - - 'designate:nrpe-external-master' - 'nrpe:nrpe-external-master' , - 'rabbitmq-server:amqp',127,9
openstack%2Fnova~master~I7e120aeb2c41f36f8e0c1ca6be9f05b2f34429bb,openstack/nova,master,I7e120aeb2c41f36f8e0c1ca6be9f05b2f34429bb,nova-api add flavorid value to server's flavor part,NEW,2021-08-25 13:25:16.000000000,2021-08-26 11:26:07.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 33154}]","[{'number': 1, 'created': '2021-08-25 13:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3649a1c956842f0def2fd634d7f357fa8867e209', 'message': ""nova-api add flavorid value to server's flavor part\n\nChange-Id: I7e120aeb2c41f36f8e0c1ca6be9f05b2f34429bb\n""}, {'number': 2, 'created': '2021-08-25 13:40:48.000000000', 'files': ['nova/api/openstack/compute/views/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/46bc1b494a618f4504cc3c3a8c4e5ae28954c764', 'message': ""nova-api add flavorid value to server's flavor part\n\nChange-Id: I7e120aeb2c41f36f8e0c1ca6be9f05b2f34429bb\n""}]",0,805995,46bc1b494a618f4504cc3c3a8c4e5ae28954c764,13,3,2,33154,,,0,"nova-api add flavorid value to server's flavor part

Change-Id: I7e120aeb2c41f36f8e0c1ca6be9f05b2f34429bb
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/805995/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/views/servers.py'],1,3649a1c956842f0def2fd634d7f357fa8867e209,," ""id"": instance_type.flavorid,",,1,0
openstack%2Fneutron~stable%2Ftrain~I6aab65cf3c0224cfb417562239461393546fb115,openstack/neutron,stable/train,I6aab65cf3c0224cfb417562239461393546fb115,[DNM] Check train CI status,ABANDONED,2021-08-26 08:34:05.000000000,2021-08-26 11:23:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-26 08:34:05.000000000', 'files': ['neutron/agent/l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e7d0e0683ec6d8dd5ad7fa9997d0515e2760fd9', 'message': '[DNM] Check train CI status\n\nConfirm if it has similar issue to:\nhttps://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_bcc/804720/2/check/neutron-tempest-plugin-scenario-linuxbridge-rocky/bccc908/job-output.txt\n\nChange-Id: I6aab65cf3c0224cfb417562239461393546fb115\n'}]",0,806108,7e7d0e0683ec6d8dd5ad7fa9997d0515e2760fd9,5,1,1,21798,,,0,"[DNM] Check train CI status

Confirm if it has similar issue to:
https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_bcc/804720/2/check/neutron-tempest-plugin-scenario-linuxbridge-rocky/bccc908/job-output.txt

Change-Id: I6aab65cf3c0224cfb417562239461393546fb115
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/806108/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3_agent.py'],1,7e7d0e0683ec6d8dd5ad7fa9997d0515e2760fd9,, # Dummy change,,1,0
openstack%2Fmonasca-persister~stable%2Ftrain~I02df01d7ea55533b3c7f2b2b91a21eb05264700a,openstack/monasca-persister,stable/train,I02df01d7ea55533b3c7f2b2b91a21eb05264700a,Fix testes,MERGED,2021-08-22 20:02:32.000000000,2021-08-26 11:21:22.000000000,2021-08-26 11:19:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-08-22 20:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/2acc78e64831fd1bb1beb2091b138ed848ff61fe', 'message': 'Fix testes\n\nChange-Id: I02df01d7ea55533b3c7f2b2b91a21eb05264700a\n'}, {'number': 2, 'created': '2021-08-23 20:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/854c37ce0b7bc8d5dd51b3047fd1ca3431aa4b5a', 'message': 'Fix testes\n\nChange-Id: I02df01d7ea55533b3c7f2b2b91a21eb05264700a\n'}, {'number': 3, 'created': '2021-08-24 20:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/b0a7f95560aac80bd2954afb8467fa8fa356a309', 'message': 'Fix testes\n\nChange-Id: I02df01d7ea55533b3c7f2b2b91a21eb05264700a\n'}, {'number': 4, 'created': '2021-08-25 22:43:40.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/8fe97473f1ca5db8e9603d430b4ea0c257e505a3', 'message': 'Fix testes\n\nChange-Id: I02df01d7ea55533b3c7f2b2b91a21eb05264700a\n'}]",0,805535,8fe97473f1ca5db8e9603d430b4ea0c257e505a3,13,2,4,26141,,,0,"Fix testes

Change-Id: I02df01d7ea55533b3c7f2b2b91a21eb05264700a
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/35/805535/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,2acc78e64831fd1bb1beb2091b138ed848ff61fe,fix_tests,flake8==2.6.0,flake8==2.5.5,2,2
openstack%2Fskyline-console~master~Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3,openstack/skyline-console,master,Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3,docs: Add doc link in README,MERGED,2021-08-26 02:29:30.000000000,2021-08-26 11:12:31.000000000,2021-08-26 11:12:31.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-26 02:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/847bbd04b096b9f328ab7eb70d85103e9217d8fd', 'message': 'Add doc link in README\n\nadd doc link in README\n\nChange-Id: Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3\n'}, {'number': 2, 'created': '2021-08-26 02:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6877c2171e1d6e16bc2f967e77be6dff69113df4', 'message': 'Add doc link in README\n\nadd doc link in README\n\nChange-Id: Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3\n'}, {'number': 3, 'created': '2021-08-26 02:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7859a8400b62e35965ea2b8eefb7f14ea8858102', 'message': 'Add doc link in README\n\nadd doc link in README\n\nChange-Id: Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3\n'}, {'number': 4, 'created': '2021-08-26 03:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0e42c06fb5e44bddc5c6f1024b4556ab5c40c471', 'message': 'Add doc link in README\n\nadd doc link in README\n\nChange-Id: Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3\n'}, {'number': 5, 'created': '2021-08-26 05:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/626d17c373a1525a0f6f21677ea9d9cd6f28355c', 'message': 'docs: Add doc link in README\n\nadd doc link in README\n\nChange-Id: Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3\n'}, {'number': 6, 'created': '2021-08-26 05:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7fbccce507b4eb26b96f4d5757d919a1dc7f5684', 'message': 'docs: Add doc link in README\n\nadd doc link in README\n\nChange-Id: Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3\n'}, {'number': 7, 'created': '2021-08-26 06:27:16.000000000', 'files': ['README-zh_CN.md', 'docs/en/test/1-ready-to-work.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/241b52fad0ccea31e898f97d6222fa2b9a210d15', 'message': 'docs: Add doc link in README\n\nadd doc link in README\n\nChange-Id: Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3\n'}]",0,806066,241b52fad0ccea31e898f97d6222fa2b9a210d15,16,2,7,33636,,,0,"docs: Add doc link in README

add doc link in README

Change-Id: Ibc5f0f36ea230fefe54aa4946fb8157ca13071f3
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/66/806066/5 && git format-patch -1 --stdout FETCH_HEAD,"['docs/en/test/1-ready-to-work.md', 'README.md']",2,847bbd04b096b9f328ab7eb70d85103e9217d8fd,, ## Docs ### Develop - [1-ready-to-work.md](docs/en/develop/1-ready-to-work.md) - [2-catalog-introduction.md](docs/en/develop/2-catalog-introduction.md) - [3-0-how-to-develop.md](docs/en/develop/3-0-how-to-develop.md) - [3-1-BaseList-introduction.md](docs/en/develop/3-1-BaseList-introduction.md) - [3-10-FormItem-introduction.md](docs/en/develop/3-10-FormItem-introduction.md) - [3-11-Action-introduction.md](docs/en/develop/3-11-Action-introduction.md) - [3-12-Menu-introduction.md](docs/en/develop/3-12-Menu-introduction.md) - [3-13-Route-introduction.md](docs/en/develop/3-13-Route-introduction.md) - [3-14-I18n-introduction.md](docs/en/develop/3-14-I18n-introduction.md) - [3-2-BaseTabList-introduction.md](docs/en/develop/3-2-BaseTabList-introduction.md) - [3-3-BaseDetail-introduction.md](docs/en/develop/3-3-BaseDetail-introduction.md) - [3-4-BaseDetailInfo-introduction.md](docs/en/develop/3-4-BaseDetailInfo-introduction.md) - [3-5-BaseStore-introduction.md](docs/en/develop/3-5-BaseStore-introduction.md) - [3-6-FormAction-introduction.md](docs/en/develop/3-6-FormAction-introduction.md) - [3-7-ModalAction-introduction.md](docs/en/develop/3-7-ModalAction-introduction.md) - [3-8-ConfirmAction-introduction.md](docs/en/develop/3-8-ConfirmAction-introduction.md) - [3-9-StepAction-introduction.md](docs/en/develop/3-9-StepAction-introduction.md) ### test - [1-ready-to-work.md](docs/en/develop/1-ready-to-work.md) - [2-catalog-introduction.md](docs/en/develop/2-catalog-introduction.md) - [3-0-how-to-edit-e2e-case.md](docs/en/develop/3-0-how-to-edit-e2e-case.md) - [3-1-E2E-form-operation.md](docs/en/develop/3-1-E2E-form-operation.md) - [3-2-E2E-table-operation.md](docs/en/develop/3-2-E2E-table-operation.md) - [3-3-E2E-detail-operation.md](docs/en/develop/3-3-E2E-detail-operation.md) - [3-4-E2E-resource-operation.md](docs/en/develop/3-4-E2E-resource-operation.md),,32,0
openstack%2Fheat~stable%2Fussuri~Ie1c9075623d85b27aaf1ac67a3063e219726bc6f,openstack/heat,stable/ussuri,Ie1c9075623d85b27aaf1ac67a3063e219726bc6f,Use Block Storage API v3 instead of API v2,MERGED,2021-08-16 17:59:08.000000000,2021-08-26 11:04:20.000000000,2021-08-26 06:39:38.000000000,"[{'_account_id': 4264}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}, {'_account_id': 33786}]","[{'number': 1, 'created': '2021-08-16 17:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5f3bd78afe11a05232e04048eed74c2b8fc0ff1e', 'message': 'Move testing to Fedora 33\n\nNow that the gate is unblocked, we can also test F33 for gating purposes\nhere.\n\nChange-Id: Ie1c9075623d85b27aaf1ac67a3063e219726bc6f\n(cherry picked from commit 6a9c35d89804057b56e1b0b995265ce3eb68129d)\n'}, {'number': 2, 'created': '2021-08-25 08:15:10.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', 'heat/tests/openstack/cinder/test_volume.py', 'heat_integrationtests/common/test.py', '.zuul.yaml', 'heat/tests/openstack/cinder/test_volume_type.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'devstack/lib/heat', 'heat_integrationtests/common/clients.py', 'heat_integrationtests/cleanup_test_env.sh', 'heat/tests/clients/test_cinder_client.py', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/c0d82c5e312309320e6c9e5ca84cd3635375cce7', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nAlso, changes to use fedora 33 for tests.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n\nMove testing to Fedora 33\n\nNow that the gate is unblocked, we can also test F33 for gating purposes\nhere.\n\nChange-Id: Ie1c9075623d85b27aaf1ac67a3063e219726bc6f\n(cherry picked from commit 6a9c35d89804057b56e1b0b995265ce3eb68129d)\n'}]",0,804727,c0d82c5e312309320e6c9e5ca84cd3635375cce7,13,6,2,4264,,,0,"Use Block Storage API v3 instead of API v2

Block Storage API v2 was deprecated during Pike cycle and is being
removed during Xena cycle, and current v3 API should be used instead.
Unused volume_client and network_client in integration test code are
also removed by this change.

Note:
granade tests is made non-voting temporally until the same issue is
fixed in stable/victoria.

Also, changes to use fedora 33 for tests.

Depends-on: https://review.opendev.org/802150/
Change-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294
(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)

Move testing to Fedora 33

Now that the gate is unblocked, we can also test F33 for gating purposes
here.

Change-Id: Ie1c9075623d85b27aaf1ac67a3063e219726bc6f
(cherry picked from commit 6a9c35d89804057b56e1b0b995265ce3eb68129d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/804727/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",5,5f3bd78afe11a05232e04048eed74c2b8fc0ff1e,volumev2-removal-stable/wallaby-stable/ussuri, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-33-1.2.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-32-1.6.x86_64,7,7
openstack%2Fpython-cyborgclient~master~I382d9691301c74c6426668de39c4f05f4b2619fd,openstack/python-cyborgclient,master,I382d9691301c74c6426668de39c4f05f4b2619fd,Fix the bug of making device_profile_group_id parameter is optional,MERGED,2021-08-23 08:15:59.000000000,2021-08-26 10:57:46.000000000,2021-08-26 10:55:54.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-08-23 08:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/c84cc7d5e3504843da0555dc53b712cf8a7db1aa', 'message': 'Fix the bug of creating arq with device profile group id required\n\nCloses-Bug: #1940509\nChange-Id: I382d9691301c74c6426668de39c4f05f4b2619fd\n'}, {'number': 2, 'created': '2021-08-24 02:16:01.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_accelerator_request.py', 'cyborgclient/tests/unit/osc/fakes.py', 'cyborgclient/osc/v2/accelerator_request.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/686ebac114d946a8317d005799d8fbfe1e5a1307', 'message': 'Fix the bug of making device_profile_group_id parameter is optional\n\nCloses-Bug: #1940509\nChange-Id: I382d9691301c74c6426668de39c4f05f4b2619fd\n'}]",8,805595,686ebac114d946a8317d005799d8fbfe1e5a1307,20,5,2,31412,,,0,"Fix the bug of making device_profile_group_id parameter is optional

Closes-Bug: #1940509
Change-Id: I382d9691301c74c6426668de39c4f05f4b2619fd
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/95/805595/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/osc/v2/accelerator_request.py'],1,c84cc7d5e3504843da0555dc53b712cf8a7db1aa,bug/1940509," '--group-id', dest='group_id', 'device_profile_group_id': parsed_args.group_id,"," 'device_profile_group_id', 'device_profile_group_id': parsed_args.device_profile_group_id,",3,2
openstack%2Fskyline-console~master~Ia5c6ec82667b6e55437555c30f38144c101309d3,openstack/skyline-console,master,Ia5c6ec82667b6e55437555c30f38144c101309d3,fix: Fix auto refresh in volume detail,MERGED,2021-08-25 09:21:37.000000000,2021-08-26 10:49:38.000000000,2021-08-26 10:49:38.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 09:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/78204eb35d1f038ad0816862e6065db6dad7815c', 'message': 'fix: Fix auto refresh in volume detail\n\n1. Add refresh button in detail top\n2. Remove useless codes\n\nChange-Id: Ia5c6ec82667b6e55437555c30f38144c101309d3\n'}, {'number': 2, 'created': '2021-08-26 09:36:50.000000000', 'files': ['src/pages/identity/containers/Role/Detail/index.less', 'src/containers/TabDetail/index.jsx', 'src/pages/identity/containers/Role/Detail/index.jsx', 'src/pages/identity/containers/Project/Detail/index.jsx', 'src/pages/identity/containers/User/Detail/index.jsx', 'src/pages/identity/containers/Domain/Detail/index.jsx', 'src/pages/identity/containers/User/Detail/index.less', 'src/pages/identity/containers/Domain/Detail/index.less', 'src/pages/identity/containers/Project/Detail/index.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/008dde73fb4b601c968c9a5d83a5f2c5d4c7ac30', 'message': 'fix: Fix auto refresh in volume detail\n\n1. Add refresh button in detail top\n2. Remove useless codes\n\nChange-Id: Ia5c6ec82667b6e55437555c30f38144c101309d3\n'}]",0,805975,008dde73fb4b601c968c9a5d83a5f2c5d4c7ac30,8,2,2,33689,,,0,"fix: Fix auto refresh in volume detail

1. Add refresh button in detail top
2. Remove useless codes

Change-Id: Ia5c6ec82667b6e55437555c30f38144c101309d3
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/75/805975/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/identity/containers/Role/Detail/index.less', 'src/containers/TabDetail/index.jsx', 'src/pages/identity/containers/Role/Detail/index.jsx', 'src/pages/identity/containers/Project/Detail/index.jsx', 'src/pages/identity/containers/User/Detail/index.jsx', 'src/pages/identity/containers/Domain/Detail/index.jsx', 'src/pages/identity/containers/User/Detail/index.less', 'src/pages/identity/containers/Domain/Detail/index.less', 'src/pages/identity/containers/Project/Detail/index.less']",9,78204eb35d1f038ad0816862e6065db6dad7815c,open-35616,,} .tablewrapper { min-height: calc(100vh - 108px); margin-top: -@body-padding; } .collapse { // background: #FFFFFF; overflow: hidden; margin-bottom: 24px; } .panel { background: #FFFFFF; font-size: larger; padding-bottom: 12px; padding-top: 12px; margin-bottom: 24px; } .header-divider { margin: 0 5px 0 5px; background-color: @color-text-caption; width: 2px; } .image { width: 100px; padding: 10px; } .radio-button { :global { .ant-radio-button-wrapper { width: 250px; height: 100px; margin-right: 40px; padding: 15px; } } } .security-group-text { font-size: 14px; } .header-title { font-style: italic; } .title-label { font-style: italic; margin-right: 8px; } .header-button { float: right; } .header-divider { margin: 0 14px 0 24px; background-color: @color-text-caption; width: 2px;,24,345
openstack%2Fbifrost~stable%2Fwallaby~Ibcc7819ebb9bb4600b6b96aef52834b38e332078,openstack/bifrost,stable/wallaby,Ibcc7819ebb9bb4600b6b96aef52834b38e332078,Use stable/wallaby branch to install dependencies,MERGED,2021-08-26 08:27:52.000000000,2021-08-26 10:34:37.000000000,2021-08-26 10:32:25.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-26 08:27:52.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b31845d6f172f8130d3bfa98e3536a23bb2a994b', 'message': 'Use stable/wallaby branch to install dependencies\n\nChange-Id: Ibcc7819ebb9bb4600b6b96aef52834b38e332078\n'}]",0,806104,b31845d6f172f8130d3bfa98e3536a23bb2a994b,8,3,1,14826,,,0,"Use stable/wallaby branch to install dependencies

Change-Id: Ibcc7819ebb9bb4600b6b96aef52834b38e332078
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/04/806104/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml']",4,b31845d6f172f8130d3bfa98e3536a23bb2a994b,,"git_branch: stable/wallabyipa_builder_git_branch: ""{{ git_branch }}""",git_branch: masteripa_builder_git_branch: master,6,6
openstack%2Fheat~stable%2Fwallaby~Ia65dabd7e357ad4ed8076fef3a3134c87100d4ed,openstack/heat,stable/wallaby,Ia65dabd7e357ad4ed8076fef3a3134c87100d4ed,Make grenade job voting again,MERGED,2021-08-26 06:37:47.000000000,2021-08-26 10:34:34.000000000,2021-08-26 10:29:19.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-26 06:37:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/ead4022533807b69ee913292f9ff9d84855cafa9', 'message': 'Make grenade job voting again\n\nChange-Id: Ia65dabd7e357ad4ed8076fef3a3134c87100d4ed\n(cherry picked from commit 42b5f68bf047252a7ec6e0db98f0546c042286f3)\n'}]",0,806078,ead4022533807b69ee913292f9ff9d84855cafa9,8,3,1,8833,,,0,"Make grenade job voting again

Change-Id: Ia65dabd7e357ad4ed8076fef3a3134c87100d4ed
(cherry picked from commit 42b5f68bf047252a7ec6e0db98f0546c042286f3)
",git fetch https://review.opendev.org/openstack/heat refs/changes/78/806078/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ead4022533807b69ee913292f9ff9d84855cafa9,,, voting: false,0,1
openstack%2Fceilometer~stable%2Fvictoria~I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,openstack/ceilometer,stable/victoria,I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,Fix CA file for Swift pollster,MERGED,2021-08-23 13:24:56.000000000,2021-08-26 10:32:28.000000000,2021-08-26 10:27:59.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 13:24:56.000000000', 'files': ['ceilometer/tests/unit/objectstore/test_swift.py', 'releasenotes/notes/fix-1940660-5226988f2e7ae1bd.yaml', 'ceilometer/objectstore/swift.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3f73d8baeec85703ac307830772d3b3372fbe10f', 'message': 'Fix CA file for Swift pollster\n\nMost OpenStack API communication uses the cafile option in the\nservice_credentials config. For swift the client is created differently,\nand does not get this option. When TLS is used, we may get an error like\nthe following:\n\nexceptions.SSLError: HTTPSConnectionPool(host=\'1.2.3.4\', port=443): Max\nretries exceeded with url: /swift/v1/AUTH_XXXX (Caused by\nSSLError(SSLError(""bad handshake: Error([(\'SSL routines\',\n\'tls_process_server_certificate\', \'certificate verify failed\')],)"",),))\n\nThis change fixes the issue by creating an HTTP connection for the Swift\nclient that uses the configured CA file.\n\nCloses-Bug: #1940660\nChange-Id: I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127\n(cherry picked from commit ed404c5f66e874779d58d3ac81f28ae22c55cf09)\n'}]",0,805563,3f73d8baeec85703ac307830772d3b3372fbe10f,10,2,1,14826,,,0,"Fix CA file for Swift pollster

Most OpenStack API communication uses the cafile option in the
service_credentials config. For swift the client is created differently,
and does not get this option. When TLS is used, we may get an error like
the following:

exceptions.SSLError: HTTPSConnectionPool(host='1.2.3.4', port=443): Max
retries exceeded with url: /swift/v1/AUTH_XXXX (Caused by
SSLError(SSLError(""bad handshake: Error([('SSL routines',
'tls_process_server_certificate', 'certificate verify failed')],)"",),))

This change fixes the issue by creating an HTTP connection for the Swift
client that uses the configured CA file.

Closes-Bug: #1940660
Change-Id: I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127
(cherry picked from commit ed404c5f66e874779d58d3ac81f28ae22c55cf09)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/63/805563/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/objectstore/test_swift.py', 'releasenotes/notes/fix-1940660-5226988f2e7ae1bd.yaml', 'ceilometer/objectstore/swift.py']",3,3f73d8baeec85703ac307830772d3b3372fbe10f,," http_conn = swift.http_connection( cacert=self.conf.service_credentials.cafile) yield (t.id, swift_api_method( None, keystone_client.get_auth_token(ksclient), http_conn))"," yield (t.id, swift_api_method( keystone_client.get_auth_token(ksclient)))",40,17
openstack%2Fceilometer~stable%2Fwallaby~I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,openstack/ceilometer,stable/wallaby,I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127,Fix CA file for Swift pollster,MERGED,2021-08-23 13:24:45.000000000,2021-08-26 10:26:56.000000000,2021-08-26 10:25:10.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 13:24:45.000000000', 'files': ['ceilometer/tests/unit/objectstore/test_swift.py', 'releasenotes/notes/fix-1940660-5226988f2e7ae1bd.yaml', 'ceilometer/objectstore/swift.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8fd515773bc98309dc9c9a5b1f1363f2f98a85f8', 'message': 'Fix CA file for Swift pollster\n\nMost OpenStack API communication uses the cafile option in the\nservice_credentials config. For swift the client is created differently,\nand does not get this option. When TLS is used, we may get an error like\nthe following:\n\nexceptions.SSLError: HTTPSConnectionPool(host=\'1.2.3.4\', port=443): Max\nretries exceeded with url: /swift/v1/AUTH_XXXX (Caused by\nSSLError(SSLError(""bad handshake: Error([(\'SSL routines\',\n\'tls_process_server_certificate\', \'certificate verify failed\')],)"",),))\n\nThis change fixes the issue by creating an HTTP connection for the Swift\nclient that uses the configured CA file.\n\nCloses-Bug: #1940660\nChange-Id: I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127\n(cherry picked from commit ed404c5f66e874779d58d3ac81f28ae22c55cf09)\n'}]",0,805562,8fd515773bc98309dc9c9a5b1f1363f2f98a85f8,8,2,1,14826,,,0,"Fix CA file for Swift pollster

Most OpenStack API communication uses the cafile option in the
service_credentials config. For swift the client is created differently,
and does not get this option. When TLS is used, we may get an error like
the following:

exceptions.SSLError: HTTPSConnectionPool(host='1.2.3.4', port=443): Max
retries exceeded with url: /swift/v1/AUTH_XXXX (Caused by
SSLError(SSLError(""bad handshake: Error([('SSL routines',
'tls_process_server_certificate', 'certificate verify failed')],)"",),))

This change fixes the issue by creating an HTTP connection for the Swift
client that uses the configured CA file.

Closes-Bug: #1940660
Change-Id: I38f9ff2bec0a2a3cb9dfc5c362284e33c12f3127
(cherry picked from commit ed404c5f66e874779d58d3ac81f28ae22c55cf09)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/62/805562/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/objectstore/test_swift.py', 'releasenotes/notes/fix-1940660-5226988f2e7ae1bd.yaml', 'ceilometer/objectstore/swift.py']",3,8fd515773bc98309dc9c9a5b1f1363f2f98a85f8,," http_conn = swift.http_connection( cacert=self.conf.service_credentials.cafile) yield (t.id, swift_api_method( None, keystone_client.get_auth_token(ksclient), http_conn))"," yield (t.id, swift_api_method( keystone_client.get_auth_token(ksclient)))",40,17
openstack%2Faodh~master~Id5bac2f317deceefe625d91f0dc91b071a6f8037,openstack/aodh,master,Id5bac2f317deceefe625d91f0dc91b071a6f8037,"Revert ""Support Ceilometer API""",MERGED,2021-03-01 17:25:26.000000000,2021-08-26 10:21:45.000000000,2021-08-26 10:20:15.000000000,"[{'_account_id': 4264}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 33786}]","[{'number': 1, 'created': '2021-03-01 17:25:26.000000000', 'files': ['requirements.txt', 'aodh/api/controllers/v2/alarm_rules/threshold.py', 'aodh/evaluator/composite.py', 'setup.cfg', 'aodh/evaluator/ceilometer.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/9b50734bf748fca1f34ea2e92d97c21807bae986', 'message': 'Revert ""Support Ceilometer API""\n\nceilometerclient is deprecated and not supported since 2017.\n\nThis reverts commit d32ca244539650aaa2e6e85d438a79600e7cb701.\n\nChange-Id: Id5bac2f317deceefe625d91f0dc91b071a6f8037\n'}]",0,778038,9b50734bf748fca1f34ea2e92d97c21807bae986,17,4,1,4264,,,0,"Revert ""Support Ceilometer API""

ceilometerclient is deprecated and not supported since 2017.

This reverts commit d32ca244539650aaa2e6e85d438a79600e7cb701.

Change-Id: Id5bac2f317deceefe625d91f0dc91b071a6f8037
",git fetch https://review.opendev.org/openstack/aodh refs/changes/38/778038/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'aodh/api/controllers/v2/alarm_rules/threshold.py', 'aodh/evaluator/composite.py', 'setup.cfg', 'aodh/evaluator/ceilometer.py']",5,9b50734bf748fca1f34ea2e92d97c21807bae986,remove_ceiloclient,,"# Copyright 2019 Catalyst Cloud Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import copy import datetime import operator from ceilometerclient import client as ceiloclient from oslo_log import log from oslo_utils import timeutils from aodh import evaluator from aodh.evaluator import utils from aodh.i18n import _ from aodh import keystone_client LOG = log.getLogger(__name__) COMPARATORS = { 'gt': operator.gt, 'lt': operator.lt, 'ge': operator.ge, 'le': operator.le, 'eq': operator.eq, 'ne': operator.ne, } TYPE = ""threshold"" class InsufficientDataError(Exception): def __init__(self, reason, statistics): self.reason = reason self.statistics = statistics super(InsufficientDataError, self).__init__(reason) class ThresholdEvaluator(evaluator.Evaluator): # the sliding evaluation window is extended to allow # the reporting/ingestion lag. look_back = 1 def __init__(self, conf): super(ThresholdEvaluator, self).__init__(conf) self._cm_client = None @property def cm_client(self): if self._cm_client is None: auth_config = self.conf.service_credentials self._cm_client = ceiloclient.get_client( version=2, session=keystone_client.get_session(self.conf), region_name=auth_config.region_name, interface=auth_config.interface, ) return self._cm_client def _bound_duration(self, rule): """"""Bound the duration of the statistics query."""""" now = timeutils.utcnow() # when exclusion of weak datapoints is enabled, we extend # the look-back period so as to allow a clearer sample count # trend to be established if rule.get('exclude_outliers'): look_back = rule['evaluation_periods'] else: look_back = self.look_back window = rule['period'] * (rule['evaluation_periods'] + look_back) start = now - datetime.timedelta(seconds=window) return start.isoformat(), now.isoformat() @staticmethod def _sanitize(rule, statistics): """"""Sanitize statistics."""""" orig_count = len(statistics) if rule.get('exclude_outliers'): key = operator.attrgetter('count') mean = utils.mean(statistics, key) stddev = utils.stddev(statistics, key, mean) lower = mean - 2 * stddev upper = mean + 2 * stddev inliers, outliers = utils.anomalies(statistics, key, lower, upper) if outliers: LOG.debug('excluded weak datapoints with sample counts %s', [s.count for s in outliers]) statistics = inliers else: LOG.debug('no excluded weak datapoints') # in practice statistics are always sorted by period start, not # strictly required by the API though statistics = statistics[-rule['evaluation_periods']:] result_statistics = [getattr(stat, rule['statistic']) for stat in statistics] LOG.debug('pruned statistics from %d to %d', orig_count, len(statistics)) return result_statistics def _statistics(self, rule, start, end): """"""Retrieve statistics over the current window."""""" after = dict(field='timestamp', op='ge', value=start) before = dict(field='timestamp', op='le', value=end) query = copy.copy(rule['query']) query.extend([before, after]) LOG.info('statistics query for meter: %s, period: %s, query: %s', rule['meter_name'], rule['period'], query) try: return self.cm_client.statistics.list( meter_name=rule['meter_name'], q=query, period=rule['period']) except Exception: LOG.exception(_('alarm stats retrieval failed')) return [] @staticmethod def _reason_data(disposition, count, most_recent): """"""Create a reason data dictionary for this evaluator type."""""" return {'type': TYPE, 'disposition': disposition, 'count': count, 'most_recent': most_recent} @classmethod def _reason(cls, alarm, statistics, state, count): """"""Fabricate reason string."""""" if state == evaluator.OK: disposition = 'inside' count = len(statistics) - count else: disposition = 'outside' last = statistics[-1] if statistics else None reason_data = cls._reason_data(disposition, count, last) transition = alarm.state != state if transition: return ('Transition to %(state)s due to %(count)d samples' ' %(disposition)s threshold, most recent:' ' %(most_recent)s' % dict(reason_data, state=state), reason_data) return ('Remaining as %(state)s due to %(count)d samples' ' %(disposition)s threshold, most recent: %(most_recent)s' % dict(reason_data, state=state), reason_data) def evaluate_rule(self, alarm_rule): """"""Evaluate alarm rule. :returns: state, trending state and statistics. """""" start, end = self._bound_duration(alarm_rule) statistics = self._statistics(alarm_rule, start, end) statistics = self._sanitize(alarm_rule, statistics) sufficient = len(statistics) >= alarm_rule['evaluation_periods'] if not sufficient: raise InsufficientDataError( '%d datapoints are unknown' % alarm_rule['evaluation_periods'], statistics) def _compare(value): op = COMPARATORS[alarm_rule['comparison_operator']] limit = alarm_rule['threshold'] LOG.debug('comparing value %(value)s against threshold' ' %(limit)s', {'value': value, 'limit': limit}) return op(value, limit) compared = list(map(_compare, statistics)) distilled = all(compared) unequivocal = distilled or not any(compared) number_outside = len([c for c in compared if c]) if unequivocal: state = evaluator.ALARM if distilled else evaluator.OK return state, None, statistics, number_outside, None else: trending_state = evaluator.ALARM if compared[-1] else evaluator.OK return None, trending_state, statistics, number_outside, None def _transition_alarm(self, alarm, state, trending_state, statistics, outside_count, unknown_reason): unknown = alarm.state == evaluator.UNKNOWN continuous = alarm.repeat_actions if trending_state: if unknown or continuous: state = trending_state if unknown else alarm.state reason, reason_data = self._reason(alarm, statistics, state, outside_count) self._refresh(alarm, state, reason, reason_data) return if state == evaluator.UNKNOWN and not unknown: LOG.warning('Expecting %(expected)d datapoints but only get ' '%(actual)d' % {'expected': alarm.rule['evaluation_periods'], 'actual': len(statistics)}) # Reason is not same as log message because we want to keep # consistent since thirdparty software may depend on old format. last = None if not statistics else statistics[-1] reason_data = self._reason_data('unknown', alarm.rule['evaluation_periods'], last) self._refresh(alarm, state, unknown_reason, reason_data) elif state and (alarm.state != state or continuous): reason, reason_data = self._reason(alarm, statistics, state, outside_count) self._refresh(alarm, state, reason, reason_data) def evaluate(self, alarm): if not self.within_time_constraint(alarm): LOG.debug('Attempted to evaluate alarm %s, but it is not ' 'within its time constraint.', alarm.alarm_id) return try: evaluation = self.evaluate_rule(alarm.rule) except InsufficientDataError as e: evaluation = (evaluator.UNKNOWN, None, e.statistics, 0, e.reason) self._transition_alarm(alarm, *evaluation) ",1,363
openstack%2Fneutron-lib~master~Ida9115cb6d80296921eb04144396bfe6830facb2,openstack/neutron-lib,master,Ida9115cb6d80296921eb04144396bfe6830facb2,DNM: test muster,ABANDONED,2021-08-26 08:23:29.000000000,2021-08-26 10:21:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-26 08:23:29.000000000', 'files': ['neutron_lib/utils/net.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/295e843eafad4b82c26af38757a95793b2bacaee', 'message': 'DNM: test muster\n\nChange-Id: Ida9115cb6d80296921eb04144396bfe6830facb2\n'}]",1,806102,295e843eafad4b82c26af38757a95793b2bacaee,3,1,1,8313,,,0,"DNM: test muster

Change-Id: Ida9115cb6d80296921eb04144396bfe6830facb2
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/02/806102/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/utils/net.py'],1,295e843eafad4b82c26af38757a95793b2bacaee,dnm," foo = ':'.join([""%02x"" % x for x in mac]) return foo"," return ':'.join([""%02x"" % x for x in mac])",2,1
openstack%2Fneutron-lib~master~I15117ca345c65f95dda7b9c0d3775d469b502cd4,openstack/neutron-lib,master,I15117ca345c65f95dda7b9c0d3775d469b502cd4,Cap oslo.messaging to be lower than 12.9.0,ABANDONED,2021-08-26 08:37:55.000000000,2021-08-26 10:20:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-26 08:37:55.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5d2319ad87793b77fe63b6b2df67390c75754ff7', 'message': 'Cap oslo.messaging to be lower than 12.9.0\n\nIn oslo.messaging 12.9.0 support for metrics (see [0]) is a new feature,\nand it breaks some rpc related neutron-lib unit tests.\n\n[0]: https://review.opendev.org/c/openstack/oslo.messaging/+/761848\n\nChange-Id: I15117ca345c65f95dda7b9c0d3775d469b502cd4\n'}]",0,806113,5d2319ad87793b77fe63b6b2df67390c75754ff7,3,1,1,8313,,,0,"Cap oslo.messaging to be lower than 12.9.0

In oslo.messaging 12.9.0 support for metrics (see [0]) is a new feature,
and it breaks some rpc related neutron-lib unit tests.

[0]: https://review.opendev.org/c/openstack/oslo.messaging/+/761848

Change-Id: I15117ca345c65f95dda7b9c0d3775d469b502cd4
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/13/806113/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5d2319ad87793b77fe63b6b2df67390c75754ff7,cap_oslo_messaging,"# Cap oslo.messaging till a proper fix for # failing rpc tests is found, which fails # due to new metrics support in oslo.messaging oslo.messaging>=7.0.0,<12.9.0 # Apache-2.0",oslo.messaging>=7.0.0 # Apache-2.0,4,1
openstack%2Fskyline-console~master~Ib2a4e341b8cfe9432c406f5dd33b9bffd2304f33,openstack/skyline-console,master,Ib2a4e341b8cfe9432c406f5dd33b9bffd2304f33,fix: Fix styles in Form & renderBadge & external network,MERGED,2021-08-25 08:39:18.000000000,2021-08-26 09:24:48.000000000,2021-08-26 09:24:48.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 08:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1da567b8efd128e8e8d0f7248b3d11f14d21333b', 'message': 'fix: Fix styles in Form & renderBadge & external network\n\n1. Fix the footer of Form component with flex layout to get better showing\n2. Add initial value in renderBadeg to hide Badge\n3. Use isExternalNetwork function to judge network to prevent unknown bug\n\nChange-Id: Ib2a4e341b8cfe9432c406f5dd33b9bffd2304f33\n'}, {'number': 2, 'created': '2021-08-25 08:40:35.000000000', 'files': ['src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/components/Form/index.less', 'src/components/StepForm/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/components/StepForm/index.less', 'src/pages/compute/containers/Instance/actions/StepCreate/index.less', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a66c8316c8a0db35e70f2320f6e212c988d664e9', 'message': 'fix: Fix styles in Form & renderBadge & external network\n\n1. Fix the footer of Form component with flex layout to get better showing\n2. Add initial value in renderBadeg to hide Badge\n3. Use isExternalNetwork function to judge network to prevent unknown bug\n\nChange-Id: Ib2a4e341b8cfe9432c406f5dd33b9bffd2304f33\n'}]",0,805968,a66c8316c8a0db35e70f2320f6e212c988d664e9,9,2,2,33689,,,0,"fix: Fix styles in Form & renderBadge & external network

1. Fix the footer of Form component with flex layout to get better showing
2. Add initial value in renderBadeg to hide Badge
3. Use isExternalNetwork function to judge network to prevent unknown bug

Change-Id: Ib2a4e341b8cfe9432c406f5dd33b9bffd2304f33
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/68/805968/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/components/Form/index.less', 'src/pages/network/containers/Topology/index.jsx', 'src/components/StepForm/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/components/StepForm/index.less', 'src/pages/compute/containers/Instance/actions/StepCreate/index.less', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.less']",10,1da567b8efd128e8e8d0f7248b3d11f14d21333b,open-35561,} .number-input { min-width: 165px;,,68,26
openstack%2Fcharm-ceph-dashboard~master~I2f27529da53c7d482d64dff4c9aaf3b0a08369b4,openstack/charm-ceph-dashboard,master,I2f27529da53c7d482d64dff4c9aaf3b0a08369b4,Add TLS checks,MERGED,2021-08-25 19:09:14.000000000,2021-08-26 09:05:05.000000000,2021-08-26 09:05:05.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-08-25 19:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/fd2d4317fca7792aee426add26f393fd38d5d45b', 'message': 'Add TLS checks\n\nAdd checks that TLS data has been supplied and refactor the\ncharms checks to make them more easy to extend. Also a drive\nby fix to minimum_supported to fix the comparison of ceph versions.\n\nChange-Id: I2f27529da53c7d482d64dff4c9aaf3b0a08369b4\n'}, {'number': 2, 'created': '2021-08-25 20:40:12.000000000', 'files': ['tests/tests.yaml', 'requirements.txt', 'unit_tests/__init__.py', 'src/charm.py', 'unit_tests/test_ceph_dashboard_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/ee0e4e8c49a9510fd12078b6e0deff7089ca6ebb', 'message': 'Add TLS checks\n\nAdd checks that TLS data has been supplied and refactor the\ncharms checks to make them more easy to extend. Also a drive\nby fix to minimum_supported to fix the comparison of ceph versions.\n\nChange-Id: I2f27529da53c7d482d64dff4c9aaf3b0a08369b4\n'}]",3,806045,ee0e4e8c49a9510fd12078b6e0deff7089ca6ebb,16,4,2,12549,,,0,"Add TLS checks

Add checks that TLS data has been supplied and refactor the
charms checks to make them more easy to extend. Also a drive
by fix to minimum_supported to fix the comparison of ceph versions.

Change-Id: I2f27529da53c7d482d64dff4c9aaf3b0a08369b4
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/45/806045/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'unit_tests/__init__.py', 'src/charm.py', 'unit_tests/test_ceph_dashboard_charm.py']",4,fd2d4317fca7792aee426add26f393fd38d5d45b,fix-status-check," BlockedStatus('No certificates found. Please add a certifcates ' 'relation or provide via charm config')) self.harness.update_config( key_values={ 'ssl_key': base64.b64encode(TEST_KEY.encode(""utf-8"")), 'ssl_cert': base64.b64encode(TEST_CERT.encode(""utf-8"")), 'ssl_ca': base64.b64encode(TEST_CA.encode(""utf-8""))}) self.assertEqual( self.harness.charm.check_dashboard(),",,56,13
openstack%2Fopenstacksdk~feature%2Fr1~I952b0590ac571aff220b2285d3dc0b5c5bc99816,openstack/openstacksdk,feature/r1,I952b0590ac571aff220b2285d3dc0b5c5bc99816,Add a manila functional check job,MERGED,2021-07-02 13:34:02.000000000,2021-08-26 09:01:16.000000000,2021-08-26 08:55:30.000000000,"[{'_account_id': 6413}, {'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-07-02 13:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/61a14b4ea601db69ced583c659945a5d7ae057a0', 'message': 'Add a manila functional check job\n\nThis job can be non-voting.\n\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-07-02 19:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/04702ce36be361896d79e6dac20d2387051a14b7', 'message': '[WIP] Add a manila functional check job\n\nThis job can be non-voting.\n\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-07-24 02:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5387316004591c66a4f65c6e14355d02a9fc5aea', 'message': '[WIP] Add a manila functional check job\n\nThis job can be non-voting.\n\nDepends-On: I5d0749def534b4a97f71ab5534c69ca49a342c2b\nChange-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816\n'}, {'number': 4, 'created': '2021-07-26 17:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/edf730bb67455783d2700bc06a943322c98011ca', 'message': '[WIP] Add a manila functional check job\n\nThis job can be non-voting.\n\nDepends-On: I5d0749def534b4a97f71ab5534c69ca49a342c2b\nChange-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816\n'}, {'number': 5, 'created': '2021-07-26 22:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/906cb99838cc1db085d4c075c08be7ec883cda43', 'message': 'Add a manila functional check job\n\nThis job can be non-voting. Also fix up the functional\ntests to use a configurable cloud profile, so we can\nset the desired api microversion to be tested.\n\nChange-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2021-07-28 00:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4b5cfb740ba9ffd558a26771801ed91e50788516', 'message': 'Add a manila functional check job\n\nThis job can be non-voting. Also fix up the functional\ntests to use a configurable cloud profile, so we can\nset the desired api microversion to be tested.\n\nChange-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2021-07-29 18:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c9c88b1e68d68b9cb088d077da2f7c5373b57575', 'message': 'Add a manila functional check job\n\nThis job can be non-voting. Also fix up the functional\ntests to use a configurable cloud profile, so we can\nset the desired api microversion to be tested.\n\nChange-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2021-08-24 05:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b64743566c86a1283260ca0c68700692fc61c5bf', 'message': 'Add a manila functional check job\n\nThis job can be non-voting. Also fix up the functional\ntests to use a configurable cloud profile, so we can\nset the desired api microversion to be tested.\n\nChange-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 9, 'created': '2021-08-26 07:14:47.000000000', 'files': ['openstack/tests/functional/shared_file_system/test_availability_zone.py', '.zuul.yaml', 'openstack/tests/functional/shared_file_system/base.py', 'openstack/tests/functional/shared_file_system/test_share.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/21795acff60d4e33f9fcf6339aacc227f86c80e8', 'message': 'Add a manila functional check job\n\nThis job can be non-voting. Also fix up the functional\ntests to use a configurable cloud profile, so we can\nset the desired api microversion to be tested.\n\nChange-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",5,799208,21795acff60d4e33f9fcf6339aacc227f86c80e8,39,8,9,32493,,,0,"Add a manila functional check job

This job can be non-voting. Also fix up the functional
tests to use a configurable cloud profile, so we can
set the desired api microversion to be tested.

Change-Id: I952b0590ac571aff220b2285d3dc0b5c5bc99816
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/08/799208/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,61a14b4ea601db69ced583c659945a5d7ae057a0,shared-file-system," name: openstacksdk-functional-devstack-manila parent: openstacksdk-functional-devstack-minimum description: | Run openstacksdk functional tests against a master devstack with manila required-projects: - openstack/manila vars: devstack_localrc: # Set up manila with a fake driver - makes things super fast and should # have no impact on the API MANILA_INSTALL_TEMPEST_PLUGIN_SYSTEMWIDE: false SHARE_DRIVER: manila.tests.share.drivers.dummy.DummyDriver MANILA_CONFIGURE_GROUPS: alpha,beta,gamma,membernet MANILA_CONFIGURE_DEFAULT_TYPES: true MANILA_SERVICE_IMAGE_ENABLED: false MANILA_SHARE_MIGRATION_PERIOD_TASK_INTERVAL: 1 MANILA_SERVER_MIGRATION_PERIOD_TASK_INTERVAL: 10 MANILA_REPLICA_STATE_UPDATE_INTERVAL: 10 MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True revert_to_snapshot_support=True mount_snapshot_support=True' MANILA_ENABLED_BACKENDS: alpha,beta,gamma MANILA_OPTGROUP_alpha_driver_handles_share_servers: false MANILA_OPTGROUP_alpha_replication_domain: DUMMY_DOMAIN MANILA_OPTGROUP_alpha_share_backend_name: ALPHA MANILA_OPTGROUP_alpha_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_beta_driver_handles_share_servers: false MANILA_OPTGROUP_beta_replication_domain: DUMMY_DOMAIN MANILA_OPTGROUP_beta_share_backend_name: BETA MANILA_OPTGROUP_beta_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_gamma_driver_handles_share_servers: true MANILA_OPTGROUP_gamma_network_config_group: membernet MANILA_OPTGROUP_gamma_share_backend_name: GAMMA MANILA_OPTGROUP_gamma_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_gamma_admin_network_config_group: membernet MANILA_OPTGROUP_membernet_network_api_class: manila.network.standalone_network_plugin.StandaloneNetworkPlugin MANILA_OPTGROUP_membernet_network_plugin_ipv4_enabled: true MANILA_OPTGROUP_membernet_standalone_network_plugin_allowed_ip_ranges: 10.0.0.10-10.0.0.209 MANILA_OPTGROUP_membernet_standalone_network_plugin_gateway: 10.0.0.1 MANILA_OPTGROUP_membernet_standalone_network_plugin_mask: 24 MANILA_OPTGROUP_membernet_standalone_network_plugin_network_type: vlan MANILA_OPTGROUP_membernet_standalone_network_plugin_segmentation_id: 1010 devstack_plugins: manila: https://opendev.org/openstack/manila devstack_services: c-api: false c-bak: false c-sch: false c-vol: false cinder: false s-account: false s-container: false s-object: false s-proxy: false n-api: false n-api-meta: false n-cauth: false n-cond: false n-cpu: false n-novnc: false n-obj: false n-sch: false nova: false placement-api: false dstat: false tox_environment: OPENSTACKSDK_HAS_MANILA: 1 OPENSTACKSDK_TESTS_SUBDIR: shared_file_system - job: - openstacksdk-functional-devstack-manila: voting: false",,70,0
openstack%2Fopenstacksdk~feature%2Fr1~Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5,openstack/openstacksdk,feature/r1,Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5,Fix key generation for caching,MERGED,2021-08-19 17:04:01.000000000,2021-08-26 08:59:58.000000000,2021-08-26 08:55:24.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32493}]","[{'number': 1, 'created': '2021-08-19 17:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/915d0a10b59532e8ec14abc35bc27bd24e4b9d65', 'message': 'Fix key generation for caching\n\nWith a new major version of decorate, the list of args may be empty or\ncontain a non-str element, ignore those.\n\nTask: 43007\nChange-Id: Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5\n(cherry picked from commit e45347202f0c72abdc4522deab97b098c1d38f19)\n'}, {'number': 2, 'created': '2021-08-23 15:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b0ea82e4d4e01a6c40ffa8b8efc3257e9416db2c', 'message': 'Fix key generation for caching\n\nWith a new major version of decorate, the list of args may be non-empty\nfor the first time, exposing some issue in our handling. Ignore them\nfor now in order to unblock gating.\n\nTask: 43007\nChange-Id: Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5\n(cherry picked from commit d0d4d8bc64da62dc8338e307b4f736cd0b1f5f49)\n'}, {'number': 3, 'created': '2021-08-26 07:13:45.000000000', 'files': ['openstack/cloud/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d62a4e6062f657a63a85a89d044de7dd5b3943d4', 'message': 'Fix key generation for caching\n\nWith a new major version of decorate, the list of args may be non-empty\nfor the first time, exposing some issue in our handling. Ignore them\nfor now in order to unblock gating.\n\nTask: 43007\nChange-Id: Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5\n(cherry picked from commit d0d4d8bc64da62dc8338e307b4f736cd0b1f5f49)\n'}]",0,805270,d62a4e6062f657a63a85a89d044de7dd5b3943d4,12,4,3,16643,,,0,"Fix key generation for caching

With a new major version of decorate, the list of args may be non-empty
for the first time, exposing some issue in our handling. Ignore them
for now in order to unblock gating.

Task: 43007
Change-Id: Ia4e71a5ab02516a8ef40a94590b5c9092eab5fa5
(cherry picked from commit d0d4d8bc64da62dc8338e307b4f736cd0b1f5f49)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/70/805270/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/openstackcloud.py'],1,915d0a10b59532e8ec14abc35bc27bd24e4b9d65,adapt-decorate-feature/r1," if args and isinstance(args[0], str): arg_key = ','.join(args) else: arg_key = ''"," arg_key = ','.join(args)",4,1
openstack%2Fironic~master~I8d6360c156ed7b4143e9e75defb7cf9977357a62,openstack/ironic,master,I8d6360c156ed7b4143e9e75defb7cf9977357a62,Drop support for pre-Victoria RPC/object versions,ABANDONED,2021-07-09 14:11:18.000000000,2021-08-26 08:34:12.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 14:11:18.000000000', 'files': ['ironic/objects/node.py', 'ironic/tests/unit/objects/test_port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/release_mappings.py', 'ironic/objects/port.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/42c45830f2b46409a5296fa9dc3488ef79098f7a', 'message': 'Drop support for pre-Victoria RPC/object versions\n\nChange-Id: I8d6360c156ed7b4143e9e75defb7cf9977357a62\n'}]",0,800261,42c45830f2b46409a5296fa9dc3488ef79098f7a,8,2,1,10239,,,0,"Drop support for pre-Victoria RPC/object versions

Change-Id: I8d6360c156ed7b4143e9e75defb7cf9977357a62
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/800261/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/tests/unit/objects/test_port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/release_mappings.py', 'ironic/objects/port.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/tests/unit/objects/test_node.py']",8,42c45830f2b46409a5296fa9dc3488ef79098f7a,pre-victoria-versions,," def test_rescue_supported_missing(self): # rescue_interface not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'rescue_interface') node.obj_reset_changes() node._convert_to_version(""1.22"") self.assertIsNone(node.rescue_interface) self.assertEqual({'rescue_interface': None}, node.obj_get_changes()) def test_rescue_supported_set(self): # rescue_interface set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.rescue_interface = 'fake' node.obj_reset_changes() node._convert_to_version(""1.22"") self.assertEqual('fake', node.rescue_interface) self.assertEqual({}, node.obj_get_changes()) def test_rescue_unsupported_missing(self): # rescue_interface not set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'rescue_interface') node.obj_reset_changes() node._convert_to_version(""1.21"") self.assertNotIn('rescue_interface', node) self.assertEqual({}, node.obj_get_changes()) def test_rescue_unsupported_set_remove(self): # rescue_interface set, should be removed. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.rescue_interface = 'fake' node.obj_reset_changes() node._convert_to_version(""1.21"") self.assertNotIn('rescue_interface', node) self.assertEqual({}, node.obj_get_changes()) def test_rescue_unsupported_set_no_remove_non_default(self): # rescue_interface set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.rescue_interface = 'fake' node.obj_reset_changes() node._convert_to_version(""1.21"", False) self.assertIsNone(node.rescue_interface) self.assertEqual({'rescue_interface': None, 'traits': None}, node.obj_get_changes()) def test_rescue_unsupported_set_no_remove_default(self): # rescue_interface set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.rescue_interface = None node.traits = None node.obj_reset_changes() node._convert_to_version(""1.21"", False) self.assertIsNone(node.rescue_interface) self.assertEqual({}, node.obj_get_changes()) def test_traits_supported_missing(self): # traits not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'traits') node.obj_reset_changes() node._convert_to_version(""1.23"") self.assertIsNone(node.traits) self.assertEqual({'traits': None}, node.obj_get_changes()) def test_traits_supported_set(self): # traits set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) traits = objects.TraitList( objects=[objects.Trait('CUSTOM_TRAIT')]) traits.obj_reset_changes() node.traits = traits node.obj_reset_changes() node._convert_to_version(""1.23"") self.assertEqual(traits, node.traits) self.assertEqual({}, node.obj_get_changes()) def test_traits_unsupported_missing_remove(self): # traits not set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'traits') node.obj_reset_changes() node._convert_to_version(""1.22"") self.assertNotIn('traits', node) self.assertEqual({}, node.obj_get_changes()) def test_traits_unsupported_missing(self): # traits not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'traits') node.obj_reset_changes() node._convert_to_version(""1.22"", False) self.assertNotIn('traits', node) self.assertEqual({}, node.obj_get_changes()) def test_trait_unsupported_set_no_remove_non_default(self): # traits set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.traits = objects.TraitList(self.ctxt) node.traits.obj_reset_changes() node.obj_reset_changes() node._convert_to_version(""1.22"", False) self.assertIsNone(node.traits) self.assertEqual({'traits': None}, node.obj_get_changes()) def test_trait_unsupported_set_no_remove_default(self): # traits set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.traits = None node.obj_reset_changes() node._convert_to_version(""1.22"", False) self.assertIsNone(node.traits) self.assertEqual({}, node.obj_get_changes()) def test_bios_supported_missing(self): # bios_interface not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'bios_interface') node.obj_reset_changes() node._convert_to_version(""1.24"") self.assertIsNone(node.bios_interface) self.assertEqual({'bios_interface': None}, node.obj_get_changes()) def test_bios_supported_set(self): # bios_interface set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.bios_interface = 'fake' node.obj_reset_changes() node._convert_to_version(""1.24"") self.assertEqual('fake', node.bios_interface) self.assertEqual({}, node.obj_get_changes()) def test_bios_unsupported_missing(self): # bios_interface not set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'bios_interface') node.obj_reset_changes() node._convert_to_version(""1.23"") self.assertNotIn('bios_interface', node) self.assertEqual({}, node.obj_get_changes()) def test_bios_unsupported_set_remove(self): # bios_interface set, should be removed. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.bios_interface = 'fake' node.obj_reset_changes() node._convert_to_version(""1.23"") self.assertNotIn('bios_interface', node) self.assertEqual({}, node.obj_get_changes()) def test_bios_unsupported_set_no_remove_non_default(self): # bios_interface set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.bios_interface = 'fake' node.obj_reset_changes() node._convert_to_version(""1.23"", False) self.assertIsNone(node.bios_interface) self.assertEqual({'bios_interface': None}, node.obj_get_changes()) def test_bios_unsupported_set_no_remove_default(self): # bios_interface set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.bios_interface = None node.obj_reset_changes() node._convert_to_version(""1.23"", False) self.assertIsNone(node.bios_interface) self.assertEqual({}, node.obj_get_changes()) def test_fault_supported_missing(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'fault') node.obj_reset_changes() node._convert_to_version(""1.25"") self.assertIsNone(node.fault) self.assertEqual({'fault': None}, node.obj_get_changes()) def test_fault_supported_untouched(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.maintenance = True node.fault = 'a fake fault' node.obj_reset_changes() node._convert_to_version(""1.25"") self.assertEqual('a fake fault', node.fault) self.assertEqual({}, node.obj_get_changes()) def test_fault_unsupported_missing(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'fault') node.obj_reset_changes() node._convert_to_version(""1.24"") self.assertNotIn('fault', node) self.assertEqual({}, node.obj_get_changes()) def test_fault_unsupported_set_remove(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.maintenance = True node.fault = 'some fake fault' node.obj_reset_changes() node._convert_to_version(""1.24"") self.assertNotIn('fault', node) self.assertEqual({}, node.obj_get_changes()) def test_fault_unsupported_set_remove_in_maintenance(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.maintenance = True node.fault = 'some fake type' node.obj_reset_changes() node._convert_to_version(""1.24"", False) self.assertIsNone(node.fault) self.assertEqual({'fault': None}, node.obj_get_changes()) def test_conductor_group_supported_set(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.conductor_group = 'group1' node.obj_reset_changes() node._convert_to_version('1.27') self.assertEqual('group1', node.conductor_group) self.assertEqual({}, node.obj_get_changes()) def test_conductor_group_supported_unset(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'conductor_group') node.obj_reset_changes() node._convert_to_version('1.27') self.assertEqual('', node.conductor_group) self.assertEqual({'conductor_group': ''}, node.obj_get_changes()) def test_conductor_group_unsupported_set(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.conductor_group = 'group1' node.obj_reset_changes() node._convert_to_version('1.26') self.assertNotIn('conductor_group', node) self.assertEqual({}, node.obj_get_changes()) def test_conductor_group_unsupported_unset(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'conductor_group') node.obj_reset_changes() node._convert_to_version('1.26') self.assertNotIn('conductor_group', node) self.assertEqual({}, node.obj_get_changes()) def test_conductor_group_unsupported_set_no_remove(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.conductor_group = 'group1' node.obj_reset_changes() node._convert_to_version('1.26', remove_unavailable_fields=False) self.assertEqual('', node.conductor_group) self.assertEqual({'conductor_group': ''}, node.obj_get_changes()) def test_automated_clean_supported_missing(self): # automated_clean_interface not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'automated_clean') node.obj_reset_changes() node._convert_to_version(""1.28"") self.assertIsNone(node.automated_clean) self.assertEqual({'automated_clean': None}, node.obj_get_changes()) def test_automated_clean_supported_set(self): # automated_clean set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.automated_clean = True node.obj_reset_changes() node._convert_to_version(""1.28"") self.assertEqual(True, node.automated_clean) self.assertEqual({}, node.obj_get_changes()) def test_automated_clean_unsupported_missing(self): # automated_clean not set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'automated_clean') node.obj_reset_changes() node._convert_to_version(""1.27"") self.assertNotIn('automated_clean', node) self.assertEqual({}, node.obj_get_changes()) def test_automated_clean_unsupported_set_remove(self): # automated_clean set, should be removed. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.automated_clean = True node.obj_reset_changes() node._convert_to_version(""1.27"") self.assertNotIn('automated_clean', node) self.assertEqual({}, node.obj_get_changes()) def test_automated_clean_unsupported_set_no_remove_non_default(self): # automated_clean set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.automated_clean = True node.obj_reset_changes() node._convert_to_version(""1.27"", False) self.assertIsNone(node.automated_clean) self.assertEqual({'automated_clean': None}, node.obj_get_changes()) def test_automated_clean_unsupported_set_no_remove_default(self): # automated_clean set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.automated_clean = None node.obj_reset_changes() node._convert_to_version(""1.27"", False) self.assertIsNone(node.automated_clean) self.assertEqual({}, node.obj_get_changes()) def test_protected_supported_missing(self): # protected_interface not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'protected') delattr(node, 'protected_reason') node.obj_reset_changes() node._convert_to_version(""1.29"") self.assertFalse(node.protected) self.assertIsNone(node.protected_reason) self.assertEqual({'protected': False, 'protected_reason': None}, node.obj_get_changes()) def test_protected_supported_set(self): # protected set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.protected = True node.protected_reason = 'foo' node.obj_reset_changes() node._convert_to_version(""1.29"") self.assertTrue(node.protected) self.assertEqual('foo', node.protected_reason) self.assertEqual({}, node.obj_get_changes()) def test_protected_unsupported_missing(self): # protected not set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'protected') delattr(node, 'protected_reason') node.obj_reset_changes() node._convert_to_version(""1.28"") self.assertNotIn('protected', node) self.assertNotIn('protected_reason', node) self.assertEqual({}, node.obj_get_changes()) def test_protected_unsupported_set_remove(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.protected = True node.protected_reason = 'foo' node.obj_reset_changes() node._convert_to_version(""1.28"") self.assertNotIn('protected', node) self.assertNotIn('protected_reason', node) self.assertEqual({}, node.obj_get_changes()) def test_protected_unsupported_set_no_remove_non_default(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.protected = True node.protected_reason = 'foo' node.obj_reset_changes() node._convert_to_version(""1.28"", False) self.assertIsNone(node.automated_clean) self.assertEqual({'protected': False, 'protected_reason': None}, node.obj_get_changes()) def test_retired_supported_missing(self): # retired_interface not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'retired') delattr(node, 'retired_reason') node.obj_reset_changes() node._convert_to_version(""1.33"") self.assertFalse(node.retired) self.assertIsNone(node.retired_reason) self.assertEqual({'retired': False, 'retired_reason': None}, node.obj_get_changes()) def test_retired_supported_set(self): # retired set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.retired = True node.retired_reason = 'a reason' node.obj_reset_changes() node._convert_to_version(""1.33"") self.assertTrue(node.retired) self.assertEqual('a reason', node.retired_reason) self.assertEqual({}, node.obj_get_changes()) def test_retired_unsupported_missing(self): # retired not set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'retired') delattr(node, 'retired_reason') node.obj_reset_changes() node._convert_to_version(""1.32"") self.assertNotIn('retired', node) self.assertNotIn('retired_reason', node) self.assertEqual({}, node.obj_get_changes()) def test_retired_unsupported_set_remove(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.retired = True node.retired_reason = 'another reason' node.obj_reset_changes() node._convert_to_version(""1.32"") self.assertNotIn('retired', node) self.assertNotIn('retired_reason', node) self.assertEqual({}, node.obj_get_changes()) def test_retired_unsupported_set_no_remove_non_default(self): node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.retired = True node.retired_reason = 'yet another reason' node.obj_reset_changes() node._convert_to_version(""1.32"", False) self.assertIsNone(node.automated_clean) self.assertEqual({'retired': False, 'retired_reason': None}, node.obj_get_changes()) def test_owner_supported_missing(self): # owner_interface not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'owner') node.obj_reset_changes() node._convert_to_version(""1.30"") self.assertIsNone(node.owner) self.assertEqual({'owner': None}, node.obj_get_changes()) def test_owner_supported_set(self): # owner set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.owner = ""Sure, there is an owner"" node.obj_reset_changes() node._convert_to_version(""1.30"") self.assertEqual(""Sure, there is an owner"", node.owner) self.assertEqual({}, node.obj_get_changes()) def test_owner_unsupported_missing(self): # owner not set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'owner') node.obj_reset_changes() node._convert_to_version(""1.29"") self.assertNotIn('owner', node) self.assertEqual({}, node.obj_get_changes()) def test_owner_unsupported_set_remove(self): # owner set, should be removed. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.owner = ""magic"" node.obj_reset_changes() node._convert_to_version(""1.29"") self.assertNotIn('owner', node) self.assertEqual({}, node.obj_get_changes()) def test_owner_unsupported_set_no_remove_non_default(self): # owner set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.owner = ""magic"" node.obj_reset_changes() node._convert_to_version(""1.29"", False) self.assertIsNone(node.owner) self.assertEqual({'owner': None}, node.obj_get_changes()) def test_owner_unsupported_set_no_remove_default(self): # owner set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.owner = None node.obj_reset_changes() node._convert_to_version(""1.29"", False) self.assertIsNone(node.owner) self.assertEqual({}, node.obj_get_changes()) def test_allocation_id_supported_missing(self): # allocation_id_interface not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'allocation_id') node.obj_reset_changes() node._convert_to_version(""1.31"") self.assertIsNone(node.allocation_id) self.assertEqual({'allocation_id': None}, node.obj_get_changes()) def test_allocation_id_supported_set(self): # allocation_id set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.allocation_id = 42 node.obj_reset_changes() node._convert_to_version(""1.31"") self.assertEqual(42, node.allocation_id) self.assertEqual({}, node.obj_get_changes()) def test_allocation_id_unsupported_missing(self): # allocation_id not set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'allocation_id') node.obj_reset_changes() node._convert_to_version(""1.30"") self.assertNotIn('allocation_id', node) self.assertEqual({}, node.obj_get_changes()) def test_allocation_id_unsupported_set_remove(self): # allocation_id set, should be removed. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.allocation_id = 42 node.obj_reset_changes() node._convert_to_version(""1.30"") self.assertNotIn('allocation_id', node) self.assertEqual({}, node.obj_get_changes()) def test_allocation_id_unsupported_set_no_remove_non_default(self): # allocation_id set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.allocation_id = 42 node.obj_reset_changes() node._convert_to_version(""1.30"", False) self.assertIsNone(node.allocation_id) self.assertEqual({'allocation_id': None}, node.obj_get_changes()) def test_allocation_id_unsupported_set_no_remove_default(self): # allocation_id set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.allocation_id = None node.obj_reset_changes() node._convert_to_version(""1.30"", False) self.assertIsNone(node.allocation_id) self.assertEqual({}, node.obj_get_changes()) def test_description_supported_missing(self): # description not set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'description') node.obj_reset_changes() node._convert_to_version(""1.32"") self.assertIsNone(node.description) self.assertEqual({'description': None}, node.obj_get_changes()) def test_description_supported_set(self): # description set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.description = ""Useful information relates to this node"" node.obj_reset_changes() node._convert_to_version(""1.32"") self.assertEqual(""Useful information relates to this node"", node.description) self.assertEqual({}, node.obj_get_changes()) def test_description_unsupported_missing(self): # description not set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) delattr(node, 'description') node.obj_reset_changes() node._convert_to_version(""1.31"") self.assertNotIn('description', node) self.assertEqual({}, node.obj_get_changes()) def test_description_unsupported_set_remove(self): # description set, should be removed. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.description = ""Useful piece"" node.obj_reset_changes() node._convert_to_version(""1.31"") self.assertNotIn('description', node) self.assertEqual({}, node.obj_get_changes()) def test_description_unsupported_set_no_remove_non_default(self): # description set, should be set to default. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.description = ""Useful piece"" node.obj_reset_changes() node._convert_to_version(""1.31"", False) self.assertIsNone(node.description) self.assertEqual({'description': None}, node.obj_get_changes()) def test_description_unsupported_set_no_remove_default(self): # description set, no change required. node = obj_utils.get_test_node(self.ctxt, **self.fake_node) node.description = None node.obj_reset_changes() node._convert_to_version(""1.31"", False) self.assertIsNone(node.description) self.assertEqual({}, node.obj_get_changes()) ",8,1137
openstack%2Faodh~master~I0968c6740ccb96d93527ba368eebe3e56e4e043f,openstack/aodh,master,I0968c6740ccb96d93527ba368eebe3e56e4e043f,Changed minversion in tox to 3.18.0,MERGED,2021-06-29 02:10:30.000000000,2021-08-26 08:20:54.000000000,2021-08-26 08:18:47.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 02:10:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/aodh/commit/42c078247bca835a1649a1aa20f02def3ef38c3b', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I0968c6740ccb96d93527ba368eebe3e56e4e043f\n""}]",0,798401,42c078247bca835a1649a1aa20f02def3ef38c3b,16,2,1,32238,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I0968c6740ccb96d93527ba368eebe3e56e4e043f
",git fetch https://review.opendev.org/openstack/aodh refs/changes/01/798401/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,42c078247bca835a1649a1aa20f02def3ef38c3b,,minversion = 3.18.0allowlist_externals = bashallowlist_externals =,minversion = 3.1.1whitelist_externals = bashwhitelist_externals =,3,3
openstack%2Fskyline-console~master~I51f9ee503c4742b47ef95b1a282738af1178f129,openstack/skyline-console,master,I51f9ee503c4742b47ef95b1a282738af1178f129,fix: Fix show qos name in volume type list page,MERGED,2021-08-26 07:39:54.000000000,2021-08-26 08:17:43.000000000,2021-08-26 08:17:43.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-26 07:39:54.000000000', 'files': ['src/stores/cinder/volume-type.js', 'src/pages/storage/containers/VolumeType/VolumeType/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/983af51a917429f13dbc452c9df8863a03c34bef', 'message': 'fix: Fix show qos name in volume type list page\n\nFix show qos name in volume type list page\n\nChange-Id: I51f9ee503c4742b47ef95b1a282738af1178f129\n'}]",0,806098,983af51a917429f13dbc452c9df8863a03c34bef,6,2,1,30434,,,0,"fix: Fix show qos name in volume type list page

Fix show qos name in volume type list page

Change-Id: I51f9ee503c4742b47ef95b1a282738af1178f129
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/98/806098/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/cinder/volume-type.js', 'src/pages/storage/containers/VolumeType/VolumeType/index.jsx']",2,983af51a917429f13dbc452c9df8863a03c34bef,," showQoS: true, dataIndex: 'qos_specs_name', isName: true, linkPrefix: '/storage/volume-type-admin/qos/detail/', idKey: 'qos_specs_id',"," // TODO: api init qos_specs_name // dataIndex: 'qos_specs_name', dataIndex: 'qos_specs_id', copyable: true, valueRender: 'noValue',",22,13
openstack%2Fpython-openstackclient~master~I50bbd9f6199071bb86cbb2f37c45ebda1de58433,openstack/python-openstackclient,master,I50bbd9f6199071bb86cbb2f37c45ebda1de58433,L3 conntrack helper: Use singular name consistently,MERGED,2021-06-08 06:34:37.000000000,2021-08-26 08:16:25.000000000,2021-08-26 08:14:22.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-08 06:34:37.000000000', 'files': ['openstackclient/network/v2/l3_conntrack_helper.py', 'openstackclient/tests/unit/network/v2/test_l3_conntrack_helper.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/02d6fe9be629c28da2568d1ad51a5334064709bd', 'message': 'L3 conntrack helper: Use singular name consistently\n\nWe use singular form for delete command argument in all places.\nThis commit replaces conntrack-helper-ids with a singular form.\nThe only visible change is a fix for the help message below.\n\n  openstack network l3 conntrack helper delete\n      <router>\n      <conntrack-helper-ids>\n      [<conntrack-helper-ids> ...]\n\nChange-Id: I50bbd9f6199071bb86cbb2f37c45ebda1de58433\n'}]",0,795222,02d6fe9be629c28da2568d1ad51a5334064709bd,8,3,1,841,,,0,"L3 conntrack helper: Use singular name consistently

We use singular form for delete command argument in all places.
This commit replaces conntrack-helper-ids with a singular form.
The only visible change is a fix for the help message below.

  openstack network l3 conntrack helper delete
      <router>
      <conntrack-helper-ids>
      [<conntrack-helper-ids> ...]

Change-Id: I50bbd9f6199071bb86cbb2f37c45ebda1de58433
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/22/795222/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/l3_conntrack_helper.py', 'openstackclient/tests/unit/network/v2/test_l3_conntrack_helper.py']",2,02d6fe9be629c28da2568d1ad51a5334064709bd,conntrack-helper," ('conntrack_helper_id', [self.ct_helper.id]), ('conntrack_helper_id', [self.ct_helper.id]),"," ('conntrack_helper_ids', [self.ct_helper.id]), ('conntrack_helper_ids', [self.ct_helper.id]),",6,6
openstack%2Fpython-openstackclient~stable%2Fwallaby~I0bbffbec8889b8b3067cfe17d258f5cb16624f38,openstack/python-openstackclient,stable/wallaby,I0bbffbec8889b8b3067cfe17d258f5cb16624f38,Replace assertItemsEqual with assertCountEqual,MERGED,2021-08-24 07:42:41.000000000,2021-08-26 08:15:58.000000000,2021-08-26 08:14:21.000000000,"[{'_account_id': 6593}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-08-24 07:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c62efb9d283ee15b417955f6d1ff5ae0c2959efb', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I0bbffbec8889b8b3067cfe17d258f5cb16624f38\n(cherry picked from commit e82a05864f482acc485d1bd35a4db23452f8b2ac)\n""}, {'number': 2, 'created': '2021-08-24 09:21:50.000000000', 'files': ['openstackclient/tests/unit/volume/v1/test_volume_backup.py', 'openstackclient/tests/unit/network/v2/test_ip_availability.py', 'openstackclient/tests/unit/network/v2/test_security_group_compute.py', 'openstackclient/tests/unit/volume/v2/test_type.py', 'openstackclient/tests/unit/network/v2/test_network_agent.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/volume/v1/test_type.py', 'openstackclient/tests/unit/volume/v2/test_volume.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'openstackclient/tests/unit/identity/v2_0/test_catalog.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'openstackclient/tests/unit/network/v2/test_router.py', 'openstackclient/tests/unit/volume/v1/test_volume.py', 'openstackclient/tests/unit/volume/v2/test_consistency_group.py', 'openstackclient/tests/unit/network/v2/test_subnet_pool.py', 'openstackclient/tests/unit/identity/v3/test_catalog.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'openstackclient/tests/unit/network/v2/test_address_group.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'openstackclient/tests/unit/identity/v2_0/test_user.py', 'openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/network/v2/test_subnet.py', 'openstackclient/tests/unit/identity/v3/test_identity_provider.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/identity/v2_0/test_project.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/53f1efa010f9319ef939109d2ed5c4a852271d74', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nConflicts:\n      openstackclient/tests/unit/volume/v2/test_volume_snapshot.py\nNOTE(jpena): This file is not present in stable/wallaby\n\nChange-Id: I0bbffbec8889b8b3067cfe17d258f5cb16624f38\n(cherry picked from commit e82a05864f482acc485d1bd35a4db23452f8b2ac)\n""}]",1,805790,53f1efa010f9319ef939109d2ed5c4a852271d74,12,6,2,13294,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Conflicts:
      openstackclient/tests/unit/volume/v2/test_volume_snapshot.py
NOTE(jpena): This file is not present in stable/wallaby

Change-Id: I0bbffbec8889b8b3067cfe17d258f5cb16624f38
(cherry picked from commit e82a05864f482acc485d1bd35a4db23452f8b2ac)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/90/805790/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v1/test_volume_backup.py', 'openstackclient/tests/unit/network/v2/test_ip_availability.py', 'openstackclient/tests/unit/network/v2/test_security_group_compute.py', 'openstackclient/tests/unit/volume/v2/test_type.py', 'openstackclient/tests/unit/network/v2/test_network_agent.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_server_backup.py', 'openstackclient/tests/unit/volume/v1/test_type.py', 'openstackclient/tests/unit/volume/v2/test_volume.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'openstackclient/tests/unit/volume/v2/test_qos_specs.py', 'openstackclient/tests/unit/identity/v2_0/test_catalog.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'openstackclient/tests/unit/network/v2/test_router.py', 'openstackclient/tests/unit/volume/v1/test_volume.py', 'openstackclient/tests/unit/volume/v2/test_consistency_group.py', 'openstackclient/tests/unit/network/v2/test_subnet_pool.py', 'openstackclient/tests/unit/identity/v3/test_catalog.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'openstackclient/tests/unit/network/v2/test_address_group.py', 'openstackclient/tests/unit/volume/v1/test_qos_specs.py', 'openstackclient/tests/unit/identity/v2_0/test_user.py', 'openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/network/v2/test_subnet.py', 'openstackclient/tests/unit/identity/v3/test_identity_provider.py', 'openstackclient/tests/unit/image/v2/test_image.py', 'openstackclient/tests/unit/identity/v2_0/test_project.py']",31,c62efb9d283ee15b417955f6d1ff5ae0c2959efb,," self.assertCountEqual(datalist, data)"," self.assertItemsEqual(datalist, data)",291,291
openstack%2Fpython-openstackclient~master~I7386a7be15c0e3ee87abbcfc2275ba8524c10ff8,openstack/python-openstackclient,master,I7386a7be15c0e3ee87abbcfc2275ba8524c10ff8,volume: Add 'volume transfer request create --(no-)snapshots' option,MERGED,2021-07-13 19:33:47.000000000,2021-08-26 08:05:45.000000000,2021-08-26 08:03:53.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-13 19:33:47.000000000', 'files': ['releasenotes/notes/add-volume-transfer-request-create-snapshots-opts-1361416d37021e89.yaml', 'openstackclient/tests/unit/volume/v2/test_volume_transfer_request.py', 'openstackclient/volume/v2/volume_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a821d6b7c57c7684a990ee39b6b93d5085f25a70', 'message': ""volume: Add 'volume transfer request create --(no-)snapshots' option\n\nThis closes a gap with cinderclient's 'transfer-create' command.\n\nChange-Id: I7386a7be15c0e3ee87abbcfc2275ba8524c10ff8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nStory: 2009054\nTask: 42831\n""}]",0,800715,a821d6b7c57c7684a990ee39b6b93d5085f25a70,7,2,1,15334,,,0,"volume: Add 'volume transfer request create --(no-)snapshots' option

This closes a gap with cinderclient's 'transfer-create' command.

Change-Id: I7386a7be15c0e3ee87abbcfc2275ba8524c10ff8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Story: 2009054
Task: 42831
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/15/800715/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-volume-transfer-request-create-snapshots-opts-1361416d37021e89.yaml', 'openstackclient/tests/unit/volume/v2/test_volume_transfer_request.py', 'openstackclient/volume/v2/volume_transfer_request.py']",3,a821d6b7c57c7684a990ee39b6b93d5085f25a70,cinder-gaps,"from cinderclient import api_versions '--snapshots', action='store_true', dest='snapshots', help=_( 'Allow transfer volumes without snapshots (default) ' '(supported by --os-volume-api-version 3.55 or later)' ), default=None, ) parser.add_argument( '--no-snapshots', action='store_false', dest='snapshots', help=_( 'Disallow transfer volumes without snapshots ' '(supported by --os-volume-api-version 3.55 or later)' ), ) parser.add_argument( kwargs = {} if parsed_args.snapshots is not None: if volume_client.api_version < api_versions.APIVersion('3.55'): msg = _( ""--os-volume-api-version 3.55 or greater is required to "" ""support the '--(no-)snapshots' option"" ) raise exceptions.CommandError(msg) # unfortunately this option is negative so we have to reverse # things kwargs['no_snapshots'] = not parsed_args.snapshots **kwargs,",,88,0
openstack%2Fpython-openstackclient~master~Ifec208ea9ed7afb4bebced6132abb96a3af034b5,openstack/python-openstackclient,master,Ifec208ea9ed7afb4bebced6132abb96a3af034b5,volume: Add missing 'volume list --offset' parameter,MERGED,2021-07-27 11:46:14.000000000,2021-08-26 08:02:17.000000000,2021-08-26 08:00:40.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-27 11:46:14.000000000', 'files': ['openstackclient/volume/v1/volume.py', 'openstackclient/tests/unit/volume/v1/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e0dc31f32eb6720059439e791713e2c61f81bf70', 'message': ""volume: Add missing 'volume list --offset' parameter\n\nLooking at the code for the ancient v1 cinder API, we see that this\nsupported offset-style pagination [1][2][3]. Add this parameter,\nsimplifying a future patch to standardize pagination across OSC.\n\n[1] https://github.com/openstack/cinder/blob/juno-eol/cinder/api/v1/volumes.py#L259\n[2] https://github.com/openstack/cinder/blob/juno-eol/cinder/api/v1/volumes.py#L292\n[3] https://github.com/openstack/cinder/blob/juno-eol/cinder/api/common.py#L120\n\nChange-Id: Ifec208ea9ed7afb4bebced6132abb96a3af034b5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,802480,e0dc31f32eb6720059439e791713e2c61f81bf70,7,2,1,15334,,,0,"volume: Add missing 'volume list --offset' parameter

Looking at the code for the ancient v1 cinder API, we see that this
supported offset-style pagination [1][2][3]. Add this parameter,
simplifying a future patch to standardize pagination across OSC.

[1] https://github.com/openstack/cinder/blob/juno-eol/cinder/api/v1/volumes.py#L259
[2] https://github.com/openstack/cinder/blob/juno-eol/cinder/api/v1/volumes.py#L292
[3] https://github.com/openstack/cinder/blob/juno-eol/cinder/api/common.py#L120

Change-Id: Ifec208ea9ed7afb4bebced6132abb96a3af034b5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/80/802480/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v1/volume.py', 'openstackclient/tests/unit/volume/v1/test_volume.py']",2,e0dc31f32eb6720059439e791713e2c61f81bf70,story/2009064," def test_volume_list_with_limit_and_offset(self): '--offset', '5', ('offset', 5), 'offset': 5, 'all_tenants': False, },"," def test_volume_list_with_limit(self): 'all_tenants': False, }",16,2
openstack%2Fskyline-console~master~If36411e74304061d305fb61b7954e1e564ce40e1,openstack/skyline-console,master,If36411e74304061d305fb61b7954e1e564ce40e1,fix: Fix select table loading in form,MERGED,2021-08-26 06:42:47.000000000,2021-08-26 07:34:39.000000000,2021-08-26 07:34:39.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-26 06:42:47.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/actions/AssociateFIP.jsx', 'src/pages/compute/containers/HostAggregate/Aggregate/actions/ManageHost.jsx', 'src/pages/compute/containers/Instance/actions/LiveMigrate.jsx', 'src/pages/network/containers/FloatingIp/actions/Associate.jsx', 'src/pages/compute/containers/Instance/actions/Migrate.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/storage/containers/Volume/actions/Migrate.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/ManageQos.jsx', 'src/pages/network/containers/Router/actions/AssociateFip.jsx', 'src/pages/compute/containers/Image/actions/ManageAccess.jsx', 'src/pages/compute/containers/Flavor/actions/ManageAccess.jsx', 'src/pages/network/containers/Router/actions/ConnectSubnet.jsx', 'src/pages/compute/containers/Instance/actions/AssociateFip.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/components/FlavorSelectTable.jsx', 'src/pages/network/containers/Router/actions/Create.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/pages/compute/containers/Instance/actions/AttachInterface.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/actions/Edit.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/Create.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/ManageAccess.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/index.jsx', 'src/pages/network/containers/VPN/EndpointGroup/actions/Create.js', 'src/components/FormItem/SelectTable/index.jsx', 'src/resources/port.jsx', 'src/pages/configuration/containers/Metadata/actions/Manage.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/SystemStep/index.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx', 'src/pages/compute/containers/Instance/actions/RebuildSelect.jsx', 'src/pages/network/containers/FloatingIp/actions/CreateDNAT.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/AccessTypeSetting.jsx', 'src/pages/compute/containers/Instance/actions/ManageSecurityGroup.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/AssociateFIP.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Create.jsx', 'src/resources/floatingip.js', 'src/pages/compute/containers/Instance/actions/DetachInterface.jsx', 'src/pages/compute/containers/Instance/actions/DetachIsoVolume.jsx', 'src/pages/network/containers/Router/actions/DisconnectSubnet.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/20a309ef8390be40b7e84afa4de8a631b6dbdb0d', 'message': 'fix: Fix select table loading in form\n\nAdd loading when SelectTable component fetch data\n\nChange-Id: If36411e74304061d305fb61b7954e1e564ce40e1\n'}]",0,806092,20a309ef8390be40b7e84afa4de8a631b6dbdb0d,6,2,1,30434,,,0,"fix: Fix select table loading in form

Add loading when SelectTable component fetch data

Change-Id: If36411e74304061d305fb61b7954e1e564ce40e1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/92/806092/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/VirtualAdapter/actions/AssociateFIP.jsx', 'src/pages/compute/containers/HostAggregate/Aggregate/actions/ManageHost.jsx', 'src/pages/compute/containers/Instance/actions/LiveMigrate.jsx', 'src/pages/network/containers/FloatingIp/actions/Associate.jsx', 'src/pages/compute/containers/Instance/actions/Migrate.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/storage/containers/Volume/actions/Migrate.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/ManageQos.jsx', 'src/pages/network/containers/Router/actions/AssociateFip.jsx', 'src/pages/compute/containers/Image/actions/ManageAccess.jsx', 'src/pages/compute/containers/Flavor/actions/ManageAccess.jsx', 'src/pages/network/containers/Router/actions/ConnectSubnet.jsx', 'src/pages/compute/containers/Instance/actions/AssociateFip.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/components/FlavorSelectTable.jsx', 'src/pages/network/containers/Router/actions/Create.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/pages/compute/containers/Instance/actions/AttachInterface.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/actions/Edit.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/Create.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/ManageAccess.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/index.jsx', 'src/pages/network/containers/VPN/EndpointGroup/actions/Create.js', 'src/components/FormItem/SelectTable/index.jsx', 'src/resources/port.jsx', 'src/pages/configuration/containers/Metadata/actions/Manage.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/SystemStep/index.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx', 'src/pages/compute/containers/Instance/actions/RebuildSelect.jsx', 'src/pages/network/containers/FloatingIp/actions/CreateDNAT.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/compute/containers/Flavor/actions/StepCreate/AccessTypeSetting.jsx', 'src/pages/compute/containers/Instance/actions/ManageSecurityGroup.jsx', 'src/pages/network/containers/LoadBalancers/LoadBalancerInstance/actions/AssociateFIP.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Create.jsx', 'src/resources/floatingip.js', 'src/pages/compute/containers/Instance/actions/DetachInterface.jsx', 'src/pages/compute/containers/Instance/actions/DetachIsoVolume.jsx', 'src/pages/network/containers/Router/actions/DisconnectSubnet.jsx']",40,20a309ef8390be40b7e84afa4de8a631b6dbdb0d,," this.state.subnetLoading = true; subnetLoading: false, const { subnets = [], subnetLoading } = this.state; isLoading: subnetLoading,", const { subnets = [] } = this.state;,145,19
openstack%2Fneutron~stable%2Fwallaby~I7c20fec08e5dc9f67b34100c925ea6724bbd25f0,openstack/neutron,stable/wallaby,I7c20fec08e5dc9f67b34100c925ea6724bbd25f0,Replace assertItemsEqual with assertCountEqual,MERGED,2021-08-24 08:06:16.000000000,2021-08-26 06:58:32.000000000,2021-08-26 06:55:01.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2021-08-24 08:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/afa616eba72791e585903254ee1faa9c9f8bcbda', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\nNOTE(dmllr): added hacking check\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I7c20fec08e5dc9f67b34100c925ea6724bbd25f0\n(cherry picked from commit 62729d4e74f615fff36ba7be6662fa7dda562ef2)\n""}, {'number': 2, 'created': '2021-08-24 10:01:01.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/tests/test_base.py', 'neutron/hacking/checks.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/tests/unit/scheduler/test_l3_ovn_scheduler.py', 'neutron/tests/unit/extensions/test_availability_zone.py', 'neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/tests/unit/api/rpc/handlers/test_resources_rpc.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_resource_cache.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py', 'neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/extensions/test_router_availability_zone.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/tests/unit/extensions/test_dns.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/tests/unit/db/test_extraroute_db.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ada26647eceb2f1193bccfa09aed3993fb5d2f79', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\nNOTE(dmllr): added hacking check\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I7c20fec08e5dc9f67b34100c925ea6724bbd25f0\n(cherry picked from commit 62729d4e74f615fff36ba7be6662fa7dda562ef2)\n""}]",0,805791,ada26647eceb2f1193bccfa09aed3993fb5d2f79,41,5,2,13294,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

NOTE(dmllr): added hacking check

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I7c20fec08e5dc9f67b34100c925ea6724bbd25f0
(cherry picked from commit 62729d4e74f615fff36ba7be6662fa7dda562ef2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/805791/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/tests/test_base.py', 'neutron/hacking/checks.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/tests/unit/scheduler/test_l3_ovn_scheduler.py', 'neutron/tests/unit/extensions/test_availability_zone.py', 'neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/tests/unit/api/rpc/handlers/test_resources_rpc.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_resource_cache.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py', 'neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/extensions/test_router_availability_zone.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/tests/unit/extensions/test_dns.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/tests/unit/db/test_extraroute_db.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",36,afa616eba72791e585903254ee1faa9c9f8bcbda,," self.assertCountEqual(phys, ['private', 'public'])"," self.assertItemsEqual(phys, ['private', 'public'])",165,154
openstack%2Fcinder~master~Idb71b9a530b33a83c4e5efd2023533719ee65192,openstack/cinder,master,Idb71b9a530b33a83c4e5efd2023533719ee65192,Change the host config option type,ABANDONED,2021-08-25 15:19:30.000000000,2021-08-26 06:45:12.000000000,,[],"[{'number': 1, 'created': '2021-08-25 15:19:30.000000000', 'files': ['cinder/common/config.py', 'releasenotes/notes/incorrect-host-config-option-347e60f957458d54.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e774e8152d09c4209d971028ae73ddd545befced', 'message': 'Change the host config option type\n\nThe `host` config option is currently defined as `HostAddressOpt`, yet\non the other hand the `backend_host` option is defined as a `StrOpt`.\n\nAccording to the `host` option this is an opaque identifier, so this\npatch changes the option to a string.\n\nThis fixes issues with `cinder-manage db sync` command.\n\nCloses-Bug: #1941068\nChange-Id: Idb71b9a530b33a83c4e5efd2023533719ee65192\n'}]",0,806011,e774e8152d09c4209d971028ae73ddd545befced,5,0,1,9535,,,0,"Change the host config option type

The `host` config option is currently defined as `HostAddressOpt`, yet
on the other hand the `backend_host` option is defined as a `StrOpt`.

According to the `host` option this is an opaque identifier, so this
patch changes the option to a string.

This fixes issues with `cinder-manage db sync` command.

Closes-Bug: #1941068
Change-Id: Idb71b9a530b33a83c4e5efd2023533719ee65192
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/806011/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/common/config.py', 'releasenotes/notes/incorrect-host-config-option-347e60f957458d54.yaml']",2,e774e8152d09c4209d971028ae73ddd545befced,1941068,--- fixes: - | `Bug #1941068 <https://bugs.launchpad.net/cinder/+bug/1941068>`_: Fixed type of the ``host`` configuration option. It was limited to valid FQDN values when we document that it isn't. This may result in the ``cinder-manage db sync`` command failing. ,,12,6
openstack%2Fheat~stable%2Fvictoria~Ie1c9075623d85b27aaf1ac67a3063e219726bc6f,openstack/heat,stable/victoria,Ie1c9075623d85b27aaf1ac67a3063e219726bc6f,Use Block Storage API v3 instead of API v2,MERGED,2021-08-16 17:58:46.000000000,2021-08-26 06:29:38.000000000,2021-08-26 06:23:16.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-16 17:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/62692cef0c798a9db84d7387e4753e6e0206f86f', 'message': 'Move testing to Fedora 33\n\nNow that the gate is unblocked, we can also test F33 for gating purposes\nhere.\n\nChange-Id: Ie1c9075623d85b27aaf1ac67a3063e219726bc6f\n(cherry picked from commit 6a9c35d89804057b56e1b0b995265ce3eb68129d)\n'}, {'number': 2, 'created': '2021-08-25 22:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/64fcd9ce68542f949cb9743c76c2864f34454521', 'message': 'Move testing to Fedora 33\n\nNow that the gate is unblocked, we can also test F33 for gating purposes\nhere.\n\nChange-Id: Ie1c9075623d85b27aaf1ac67a3063e219726bc6f\n(cherry picked from commit 6a9c35d89804057b56e1b0b995265ce3eb68129d)\n'}, {'number': 3, 'created': '2021-08-25 23:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b4d36eda581512753302f5900d1ae14117eb07e4', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)\n\nMove testing to Fedora 33\n\nNow that the gate is unblocked, we can also test F33 for gating purposes\nhere.\n\nChange-Id: Ie1c9075623d85b27aaf1ac67a3063e219726bc6f\n(cherry picked from commit 6a9c35d89804057b56e1b0b995265ce3eb68129d)\n'}, {'number': 4, 'created': '2021-08-26 03:52:46.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', 'heat/tests/openstack/cinder/test_volume.py', 'heat_integrationtests/common/test.py', '.zuul.yaml', 'heat/tests/openstack/cinder/test_volume_type.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'devstack/lib/heat', 'heat_integrationtests/common/clients.py', 'heat_integrationtests/cleanup_test_env.sh', 'heat/tests/clients/test_cinder_client.py', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/c881da8b87a04bbd61eabaf68e6c0fc167e898fa', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n\nMove testing to Fedora 33\n\nNow that the gate is unblocked, we can also test F33 for gating purposes\nhere.\n\nChange-Id: Ie1c9075623d85b27aaf1ac67a3063e219726bc6f\n(cherry picked from commit 6a9c35d89804057b56e1b0b995265ce3eb68129d)\n'}]",0,804726,c881da8b87a04bbd61eabaf68e6c0fc167e898fa,12,4,4,4264,,,0,"Use Block Storage API v3 instead of API v2

Block Storage API v2 was deprecated during Pike cycle and is being
removed during Xena cycle, and current v3 API should be used instead.
Unused volume_client and network_client in integration test code are
also removed by this change.

Note:
granade tests is made non-voting temporally until the same issue is
fixed in stable/victoria.

Depends-on: https://review.opendev.org/802150/
Change-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294
(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)

Move testing to Fedora 33

Now that the gate is unblocked, we can also test F33 for gating purposes
here.

Change-Id: Ie1c9075623d85b27aaf1ac67a3063e219726bc6f
(cherry picked from commit 6a9c35d89804057b56e1b0b995265ce3eb68129d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/26/804726/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",5,62692cef0c798a9db84d7387e4753e6e0206f86f,f33-stable/victoria-stable/victoria, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-33-1.2.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-32-1.6.x86_64,7,7
openstack%2Fkolla~master~I5cb327578f5caf73801d1eedf252bd7ee246dee4,openstack/kolla,master,I5cb327578f5caf73801d1eedf252bd7ee246dee4,"Revert ""Config: Set default home to /var/lib/{user}""",MERGED,2021-08-25 16:07:13.000000000,2021-08-26 06:25:58.000000000,2021-08-25 20:34:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-25 16:07:13.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4f07c285c1bb80381f41d7f9e33ce3e8483350df', 'message': 'Revert ""Config: Set default home to /var/lib/{user}""\n\nThis reverts commit 33da736668108ded943691d490cb72812c8b150d.\n\nReason for revert: That commit broke bifrost.\nIt needs to be redone and tested with bifrost.\n\nChange-Id: I5cb327578f5caf73801d1eedf252bd7ee246dee4\n'}]",0,805900,4f07c285c1bb80381f41d7f9e33ce3e8483350df,10,6,1,30491,,,0,"Revert ""Config: Set default home to /var/lib/{user}""

This reverts commit 33da736668108ded943691d490cb72812c8b150d.

Reason for revert: That commit broke bifrost.
It needs to be redone and tested with bifrost.

Change-Id: I5cb327578f5caf73801d1eedf252bd7ee246dee4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/805900/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,4f07c285c1bb80381f41d7f9e33ce3e8483350df,bug/1934753, && useradd -l -M --shell /usr/sbin/nologin --uid {{ user.uid }} --gid {{ user.gid }} {{ name }}, && useradd -l -M --shell /usr/sbin/nologin --uid {{ user.uid }} --gid {{ user.gid }} --home-dir /var/lib/{{ name }} {{ name }},1,1
openstack%2Fcinder~stable%2Fvictoria~Icf27ea898507ffec5e410788efcdca3649a73c99,openstack/cinder,stable/victoria,Icf27ea898507ffec5e410788efcdca3649a73c99,Fix PowerFlex volume type conversion,MERGED,2021-05-12 07:01:08.000000000,2021-08-26 06:23:52.000000000,2021-08-25 13:38:32.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 13671}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-05-12 07:01:08.000000000', 'files': ['cinder/volume/drivers/dell_emc/powerflex/driver.py', 'releasenotes/notes/bug-1897598-powerflex-volume-type-conversion.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1fd03dc94e7531a8f9077fbd2c0a2ac68d788b2', 'message': 'Fix PowerFlex volume type conversion\n\nFix bug with PowerFlex storage-assisted volume migration\nwhen volume migration was performed without conversion of\nvolume type in cases where it should have been converted\nto/from thin/thick provisioned.\n\nChange-Id: Icf27ea898507ffec5e410788efcdca3649a73c99\nCloses-Bug: #1897598\n(cherry picked from commit cded69efe04530deafdd7cc75ec77a60d24ea9b0)\n(cherry picked from commit e9af629d0e3dac214d8a014070dd6d3b453dddb0)\n'}]",0,790839,f1fd03dc94e7531a8f9077fbd2c0a2ac68d788b2,47,5,1,31016,,,0,"Fix PowerFlex volume type conversion

Fix bug with PowerFlex storage-assisted volume migration
when volume migration was performed without conversion of
volume type in cases where it should have been converted
to/from thin/thick provisioned.

Change-Id: Icf27ea898507ffec5e410788efcdca3649a73c99
Closes-Bug: #1897598
(cherry picked from commit cded69efe04530deafdd7cc75ec77a60d24ea9b0)
(cherry picked from commit e9af629d0e3dac214d8a014070dd6d3b453dddb0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/790839/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powerflex/driver.py', 'releasenotes/notes/bug-1897598-powerflex-volume-type-conversion.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py']",3,f1fd03dc94e7531a8f9077fbd2c0a2ac68d788b2,bug/1897598-stable/wallaby-stable/victoria," # |Volume Type|Real provisioning|Conversion|Compression|Pool support thick| ('ThinProvisioned', 'ThinProvisioned', 'NoConversion', 'None', False), ('ThinProvisioned', 'ThickProvisioned', 'ThickToThin', 'None', True), ('ThickProvisioned', 'ThinProvisioned', 'NoConversion', 'None', False), ('ThickProvisioned', 'ThinProvisioned', 'ThinToThick', 'None', True), ('ThinProvisioned', 'ThinProvisioned', 'NoConversion', 'Normal', False), ('ThinProvisioned', 'ThickProvisioned', 'ThickToThin', 'Normal', False), ('ThinProvisioned', 'ThickProvisioned', 'ThickToThin', 'None', False)"," # |Volume type|Real provisioning|Conversion|Compression|Pool support thick| ('thin', 'ThinProvisioned', 'NoConversion', 'None', False), ('thin', 'ThickProvisioned', 'ThickToThin', 'None', True), ('thick', 'ThinProvisioned', 'NoConversion', 'None', False), ('thick', 'ThinProvisioned', 'ThinToThick', 'None', True), ('compressed', 'ThinProvisioned', 'NoConversion', 'Normal', False), ('compressed', 'ThickProvisioned', 'ThickToThin', 'Normal', False), ('compressed', 'ThickProvisioned', 'ThickToThin', 'None', False)",22,11
openstack%2Fskyline-console~master~I6b63e3219402e9ac0008145fddff7f417fc7b6df,openstack/skyline-console,master,I6b63e3219402e9ac0008145fddff7f417fc7b6df,fix: Fix callback after action submit,MERGED,2021-08-26 05:42:10.000000000,2021-08-26 06:18:47.000000000,2021-08-26 06:18:47.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-26 05:42:10.000000000', 'files': ['src/containers/List/index.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/components/Tables/Base/ActionButton/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/af6446ceb27650372de9dc5e0ef377fa5c1d13f7', 'message': 'fix: Fix callback after action submit\n\nFix callback after action submit\n\nChange-Id: I6b63e3219402e9ac0008145fddff7f417fc7b6df\n'}]",0,806068,af6446ceb27650372de9dc5e0ef377fa5c1d13f7,6,2,1,30434,,,0,"fix: Fix callback after action submit

Fix callback after action submit

Change-Id: I6b63e3219402e9ac0008145fddff7f417fc7b6df
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/68/806068/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/containers/List/index.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/components/Tables/Base/ActionButton/index.jsx']",3,af6446ceb27650372de9dc5e0ef377fa5c1d13f7,," onShowSuccess = (data, afterSubmit) => { this.onCallback(true, false, afterSubmit); onCallback = (success, fail, afterSubmit) => { onFinishAction(success, fail, isDelete, afterSubmit); const { perform, title, confirmContext, okText, cancelText, onSubmit, afterSubmit, } = this.props.action; this.onConfirmOK( data, onSubmit, isBatch, containerProps, afterSubmit ), onSubmitOne = (data, onSubmit, containerProps, afterSubmit) => this.onShowSuccess(data, afterSubmit); this.onShowSuccess(data, afterSubmit); onSubmitBatch = (data, onSubmit, containerProps, isBatch, afterSubmit) => this.onShowSuccess(data, afterSubmit); onConfirmOK = (data, onSubmit, isBatch, containerProps, afterSubmit) => { if (isBatch) { return this.onSubmitBatch( data, onSubmit, containerProps, isBatch, afterSubmit ); } return this.onSubmitOne(data, onSubmit, containerProps, afterSubmit);"," onShowSuccess = (data) => { this.onCallback(true, false); onCallback = (success, fail) => { onFinishAction(success, fail, isDelete); const { perform, title, confirmContext, okText, cancelText, onSubmit } = this.props.action; this.onConfirmOK(data, onSubmit, isBatch, containerProps), onSubmitOne = (data, onSubmit, containerProps) => this.onShowSuccess(data); this.onShowSuccess(data); onSubmitBatch = (data, onSubmit, containerProps, isBatch) => this.onShowSuccess(data); onConfirmOK = (data, onSubmit, isBatch, containerProps) => { if (isBatch) { return this.onSubmitBatch(data, onSubmit, containerProps, isBatch); } return this.onSubmitOne(data, onSubmit, containerProps);",37,18
openstack%2Fskyline-console~master~I412975e3fdb87c255d8252efa0240f4593b5f95d,openstack/skyline-console,master,I412975e3fdb87c255d8252efa0240f4593b5f95d,fix: Fix columns and download file,MERGED,2021-08-25 06:15:25.000000000,2021-08-26 06:06:25.000000000,2021-08-26 06:06:25.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 06:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/706f68c2ea187e929aca3e2ad5b5dfa59215e4cf', 'message': 'fix: Fix columns and download file\n\n1. Split column of XXX ID/NAME when download file\n2. Remove useless stringify in columns\n3. Remove some columns in volume backup list which is useless\n4. Add the data judgment to prevent the wrong content of the downloaded file\n\nChange-Id: I412975e3fdb87c255d8252efa0240f4593b5f95d\n'}, {'number': 2, 'created': '2021-08-26 05:43:58.000000000', 'files': ['src/components/Tables/Base/index.jsx', 'src/pages/storage/containers/Backup/index.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/components/Tables/Base/Download/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/10f1020591968b28c66d645ab1101900c0303b1b', 'message': 'fix: Fix columns and download file\n\n1. Split column of XXX ID/NAME when download file\n2. Remove useless stringify in columns\n3. Remove some columns in volume backup list which is useless\n4. Add the data judgment to prevent the wrong content of the downloaded file\n\nChange-Id: I412975e3fdb87c255d8252efa0240f4593b5f95d\n'}]",0,805946,10f1020591968b28c66d645ab1101900c0303b1b,8,2,2,33689,,,0,"fix: Fix columns and download file

1. Split column of XXX ID/NAME when download file
2. Remove useless stringify in columns
3. Remove some columns in volume backup list which is useless
4. Add the data judgment to prevent the wrong content of the downloaded file

Change-Id: I412975e3fdb87c255d8252efa0240f4593b5f95d
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/46/805946/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/Tables/Base/index.jsx', 'src/pages/storage/containers/Backup/index.jsx', 'src/pages/storage/containers/Snapshot/index.jsx', 'src/components/Tables/Base/Download/index.jsx']",4,706f68c2ea187e929aca3e2ad5b5dfa59215e4cf,open-35463," return [undefined, '', null].includes(data[dataIndex]) ? '-' : data[dataIndex].toString(); return [undefined, '', null].includes(value) ? '-' : value;", return (data[dataIndex] && data[dataIndex].toString()) || '-'; return value;,55,52
openstack%2Fneutron~master~Ie4c0f4a63a87c32026c49b03068e5f461deb38b6,openstack/neutron,master,Ie4c0f4a63a87c32026c49b03068e5f461deb38b6,Use payloads for FloatingIP AFTER callbacks,MERGED,2021-07-20 12:12:32.000000000,2021-08-26 05:46:10.000000000,2021-08-18 22:29:25.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-07-20 12:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/994ffc3e817a8cee4a48599f77f13a3091a16678', 'message': 'Use payloads for FloatingIP AFTER callbacks\n\nChange FloatingIP AFTER_ notifications in l3_db to use publish calls.\nMove association_event field into Payload metadata.\n\nCloses-Bug: #1933502\nChange-Id: Ie4c0f4a63a87c32026c49b03068e5f461deb38b6\n'}, {'number': 2, 'created': '2021-07-20 15:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eddfae6b4ab04941ad4482893b047b5dc67e50f8', 'message': 'Use payloads for FloatingIP AFTER callbacks\n\nChange FloatingIP AFTER_ notifications in l3_db to use publish calls.\nMove association_event field into Payload metadata.\n\nCloses-Bug: #1933502\nChange-Id: Ie4c0f4a63a87c32026c49b03068e5f461deb38b6\n'}, {'number': 3, 'created': '2021-07-21 09:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a658f7ea265142df3217af2bade88086a0c29076', 'message': 'Use payloads for FloatingIP AFTER callbacks\n\nChange FloatingIP AFTER_ notifications in l3_db to use publish calls.\nMove association_event field into Payload metadata.\n\nCloses-Bug: #1933502\nChange-Id: Ie4c0f4a63a87c32026c49b03068e5f461deb38b6\n'}, {'number': 4, 'created': '2021-08-16 08:55:24.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b488fb8e223498703eed158e741c72d7ce03fe16', 'message': 'Use payloads for FloatingIP AFTER callbacks\n\nChange FloatingIP AFTER_ notifications in l3_db to use publish calls.\nMove association_event field into Payload metadata.\n\nCloses-Bug: #1933502\nChange-Id: Ie4c0f4a63a87c32026c49b03068e5f461deb38b6\n'}]",10,801453,b488fb8e223498703eed158e741c72d7ce03fe16,76,6,4,12825,,,0,"Use payloads for FloatingIP AFTER callbacks

Change FloatingIP AFTER_ notifications in l3_db to use publish calls.
Move association_event field into Payload metadata.

Closes-Bug: #1933502
Change-Id: Ie4c0f4a63a87c32026c49b03068e5f461deb38b6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/801453/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",4,994ffc3e817a8cee4a48599f77f13a3091a16678,bug/1933502," registry.publish( resources.FLOATING_IP, events.AFTER_CREATE, self, payload=events.DBEventPayload( context, states=(assoc_result,), resource_id=floatingip_obj.id, metadata={ 'association_event': assoc_result['association_event']})) registry.publish( resources.FLOATING_IP, events.AFTER_UPDATE, self, payload=events.DBEventPayload( context, states=(assoc_result,), resource_id=floatingip_obj.id, metadata={ 'association_event': assoc_result['association_event']})) registry.publish( resources.FLOATING_IP, events.AFTER_DELETE, self, payload=events.DBEventPayload( context, states=(floatingip_dict,), resource_id=id)) 'floating_ip_address': ( str(fip.floating_ip_address) if fip.floating_ip_address else None), registry.publish( resources.FLOATING_IP, events.AFTER_UPDATE, self, payload=events.DBEventPayload( context, states=(assoc_result,), resource_id=fip.id, metadata={'association_event': False}))"," registry.notify(resources.FLOATING_IP, events.AFTER_DELETE, self, context=context, **fips[0]) 'context': context, registry.notify(resources.FLOATING_IP, events.AFTER_UPDATE, self._update_fip_assoc, **assoc_result) registry.notify(resources.FLOATING_IP, events.AFTER_UPDATE, self._update_fip_assoc, **assoc_result) registry.notify(resources.FLOATING_IP, events.AFTER_DELETE, self, context=context, **floatingip_dict) 'floating_ip_address': fip.floating_ip_address, 'context': context,",137,62
openstack%2Fmanila-tempest-plugin~master~I8caa456a5822d93a1ebb6d95e873c5ab5f574f32,openstack/manila-tempest-plugin,master,I8caa456a5822d93a1ebb6d95e873c5ab5f574f32,DNM,ABANDONED,2021-08-22 05:22:43.000000000,2021-08-26 04:10:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-22 05:22:43.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c3aa20cb9b24972e47c4840df567a56d60c09554', 'message': 'DNM\n\nChange-Id: I8caa456a5822d93a1ebb6d95e873c5ab5f574f32\n'}]",0,805498,c3aa20cb9b24972e47c4840df567a56d60c09554,4,1,1,19262,,,0,"DNM

Change-Id: I8caa456a5822d93a1ebb6d95e873c5ab5f574f32
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/98/805498/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,c3aa20cb9b24972e47c4840df567a56d60c09554,DNM,,,0,0
openstack%2Fskyline-console~master~I4d2cb54b3f4d57ce40806978c20191c101e864c0,openstack/skyline-console,master,I4d2cb54b3f4d57ce40806978c20191c101e864c0,fix: Add error status for volume and polyfill allSettled,MERGED,2021-08-25 05:42:02.000000000,2021-08-26 03:45:28.000000000,2021-08-26 03:45:28.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 05:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/880d96e5a3e96d85442196c27f54dbba4ea3ce53', 'message': 'fix: Add error status for volume and polyfill allSettled\n\n1. Add error status for update status in volume\n2. Add allSettled polyfill\n\nChange-Id: I4d2cb54b3f4d57ce40806978c20191c101e864c0\n'}, {'number': 2, 'created': '2021-08-26 03:18:44.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/utils/index.js', 'src/pages/storage/containers/Volume/actions/UpdateStatus.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1ab6cf9b348acb68898a4c20f3bdf5f470fdf685', 'message': 'fix: Add error status for volume and polyfill allSettled\n\n1. Add error status for update status in volume\n2. Add allSettled polyfill\n\nChange-Id: I4d2cb54b3f4d57ce40806978c20191c101e864c0\n'}]",0,805944,1ab6cf9b348acb68898a4c20f3bdf5f470fdf685,8,2,2,33689,,,0,"fix: Add error status for volume and polyfill allSettled

1. Add error status for update status in volume
2. Add allSettled polyfill

Change-Id: I4d2cb54b3f4d57ce40806978c20191c101e864c0
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/44/805944/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/utils/index.js', 'src/pages/storage/containers/Volume/actions/UpdateStatus.jsx']",6,880d96e5a3e96d85442196c27f54dbba4ea3ce53,open-35423," 'Do not reset the normally mounted volume to the ""available""、""maintenance"" or ""error"" status. The reset state does not remove the volume from the instance. If you need to remove the volume from the instance, please go to the console of the corresponding project and use the ""detach"" operation.' { value: 'error', label: t('Error') },"," 'Do not reset the normally mounted volume to the ""available"" or ""maintenance"" status. The reset state does not remove the volume from the instance. If you need to remove the volume from the instance, please go to the console of the corresponding project and use the ""detach"" operation.'",21,6
openstack%2Fskyline-console~master~Iffcd8174cf69191b8c36aa0f4de1853c8284fa93,openstack/skyline-console,master,Iffcd8174cf69191b8c36aa0f4de1853c8284fa93,fix: Fix the prompts when form submit,MERGED,2021-08-25 02:55:02.000000000,2021-08-26 03:14:48.000000000,2021-08-26 03:14:48.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 02:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/380f7a66147ca0c91c5522fafd3a6952fe7dceaa', 'message': 'fix: Fix the prompts when form submit\n\n1. Modify response processing to distinguish single operation or batch operation\n2. Modify the request function  of creating volume in batches\n\nChange-Id: Iffcd8174cf69191b8c36aa0f4de1853c8284fa93\n'}, {'number': 2, 'created': '2021-08-26 02:51:22.000000000', 'files': ['src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/components/Form/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/cc897b08b777f695747d19f99cab1383c6f4064e', 'message': 'fix: Fix the prompts when form submit\n\n1. Modify response processing to distinguish single operation or batch operation\n2. Modify the request function  of creating volume in batches\n\nChange-Id: Iffcd8174cf69191b8c36aa0f4de1853c8284fa93\n'}]",0,805929,cc897b08b777f695747d19f99cab1383c6f4064e,8,2,2,33689,,,0,"fix: Fix the prompts when form submit

1. Modify response processing to distinguish single operation or batch operation
2. Modify the request function  of creating volume in batches

Change-Id: Iffcd8174cf69191b8c36aa0f4de1853c8284fa93
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/29/805929/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/components/Form/index.jsx']",2,380f7a66147ca0c91c5522fafd3a6952fe7dceaa,open-35354," if (response instanceof Array) { const instanceNameArr = this.instanceName.split(', '); const failedNames = response .map((it, idx) => { if (it.status === 'rejected') { return { reason: it.reason, name: instanceNameArr[idx], }; } return null; }) .filter((it) => !!it); if (failedNames.length !== 0) { failedNames.forEach((it) => { const { response: { data } = {} } = it.reason; this.showNotice && Notify.errorWithDetail( data, t('Unable to {action}, instance: {name}.', { action: this.name.toLowerCase(), name: it.name, }) ); }); } else { this.showNotice && Notify.success(this.successText); } } else { this.showNotice && Notify.success(this.successText); }", this.showNotice && Notify.success(this.successText);,32,2
openstack%2Fskyline-console~master~If560fb1c9b89d71e6bd2ebda2184859d1f868ef1,openstack/skyline-console,master,If560fb1c9b89d71e6bd2ebda2184859d1f868ef1,fix: Fix filter search error in admin page,MERGED,2021-08-25 02:22:46.000000000,2021-08-26 02:33:25.000000000,2021-08-26 02:33:25.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 02:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c803ade2189eaa0058588fb68c61e92d28a377b0', 'message': 'fix: Fix filter search error in admin page\n\nUse getSearchFilters function to filter data to avoid above problem\n\nChange-Id: If560fb1c9b89d71e6bd2ebda2184859d1f868ef1\n'}, {'number': 2, 'created': '2021-08-26 01:38:23.000000000', 'files': ['src/containers/List/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b80b85911aa7afc41bf1232842e85505178098b4', 'message': 'fix: Fix filter search error in admin page\n\nUse getSearchFilters function to filter data to avoid above problem\n\nChange-Id: If560fb1c9b89d71e6bd2ebda2184859d1f868ef1\n'}]",0,805925,b80b85911aa7afc41bf1232842e85505178098b4,8,2,2,33689,,,0,"fix: Fix filter search error in admin page

Use getSearchFilters function to filter data to avoid above problem

Change-Id: If560fb1c9b89d71e6bd2ebda2184859d1f868ef1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/25/805925/2 && git format-patch -1 --stdout FETCH_HEAD,['src/containers/List/index.jsx'],1,c803ade2189eaa0058588fb68c61e92d28a377b0,open-35331, const { filterFunc } = this.getSearchFilters().find( (i) => i.name === key );, const { filterFunc } = this.searchFilters.find((i) => i.name === key);,3,2
openstack%2Fkeystone~stable%2Frocky~I0aee0a7893e457f55c6babefda1beb93670fae65,openstack/keystone,stable/rocky,I0aee0a7893e457f55c6babefda1beb93670fae65,DNM: testing py27 compatibiltiy,ABANDONED,2021-08-25 16:38:35.000000000,2021-08-26 02:14:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-25 16:38:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6dadb95df70e53906381ef89fb6a32709a365cf4', 'message': 'DNM: testing py27 compatibiltiy\n\nChange-Id: I0aee0a7893e457f55c6babefda1beb93670fae65\n'}]",0,806026,6dadb95df70e53906381ef89fb6a32709a365cf4,3,1,1,8556,,,0,"DNM: testing py27 compatibiltiy

Change-Id: I0aee0a7893e457f55c6babefda1beb93670fae65
",git fetch https://review.opendev.org/openstack/keystone refs/changes/26/806026/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6dadb95df70e53906381ef89fb6a32709a365cf4,,#test gate,,1,0
openstack%2Fzaqar~master~Icd0be917b1dda812921c0a7cb5724fdb0178e020,openstack/zaqar,master,Icd0be917b1dda812921c0a7cb5724fdb0178e020,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 06:02:36.000000000,2021-08-26 02:13:12.000000000,2021-08-26 02:11:54.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 06:02:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/b72a930a9e4d07d8c50e46dc94878792d3e120af', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Icd0be917b1dda812921c0a7cb5724fdb0178e020\n""}]",0,788156,b72a930a9e4d07d8c50e46dc94878792d3e120af,11,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Icd0be917b1dda812921c0a7cb5724fdb0178e020
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/56/788156/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b72a930a9e4d07d8c50e46dc94878792d3e120af,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/zaqar/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/zaqar/latest/,3,3
openstack%2Ftempest~master~I5c89983de0cbdae91c868fc3fefdc45b9a96fa68,openstack/tempest,master,I5c89983de0cbdae91c868fc3fefdc45b9a96fa68,Add reboot_server() helper,MERGED,2021-08-19 18:35:53.000000000,2021-08-26 00:37:18.000000000,2021-08-26 00:35:20.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-08-19 18:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/88e91ce2f3358deaa845f9b1fddfc7dfa7d22dad', 'message': 'Add reboot_server() helper\n\nThe new helper waits for the server to become ACTIVE again after the\nreboot. This saves us a few lines of code in various tests, and is\nalso useful for the whitebox-tempest-plugin (see dependant patch).\n\nChange-Id: I5c89983de0cbdae91c868fc3fefdc45b9a96fa68\n'}, {'number': 2, 'created': '2021-08-19 20:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/41bc67a105d86ca30d6cd529227cbb8010b8280a', 'message': 'Add reboot_server() helper\n\nThe new helper waits for the server to become ACTIVE again after the\nreboot. This saves us a few lines of code in various tests, and is\nalso useful for the whitebox-tempest-plugin (see dependant patch).\n\nChange-Id: I5c89983de0cbdae91c868fc3fefdc45b9a96fa68\n'}, {'number': 3, 'created': '2021-08-19 22:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/72dc8d2eba2cdfe1e6f2c3010d0508e39c20aa26', 'message': 'Add reboot_server() helper\n\nThe new helper waits for the server to become ACTIVE again after the\nreboot. This saves us a few lines of code in various tests, and is\nalso useful for the whitebox-tempest-plugin (see dependant patch).\n\nChange-Id: I5c89983de0cbdae91c868fc3fefdc45b9a96fa68\n'}, {'number': 4, 'created': '2021-08-21 04:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aad101b7e52922bc82ef4752331d3696c3699653', 'message': 'Add reboot_server() helper\n\nThe new helper waits for the server to become ACTIVE again after the\nreboot. This saves us a few lines of code in various tests, and is\nalso useful for the whitebox-tempest-plugin (see dependant patch).\n\nNeeded-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/805298/\nChange-Id: I5c89983de0cbdae91c868fc3fefdc45b9a96fa68\n'}, {'number': 5, 'created': '2021-08-24 14:20:57.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/base.py', 'tempest/api/compute/security_groups/test_security_groups.py', 'tempest/api/compute/servers/test_instance_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea2b59ce61c03f5f7cc4e8b1f9bbace4dafdd4be', 'message': 'Add reboot_server() helper\n\nThe new helper waits for the server to become ACTIVE again after the\nreboot. This saves us a few lines of code in various tests, and is\nalso useful for the whitebox-tempest-plugin (see dependant patch).\n\nChange-Id: I5c89983de0cbdae91c868fc3fefdc45b9a96fa68\n'}]",2,805264,ea2b59ce61c03f5f7cc4e8b1f9bbace4dafdd4be,22,2,5,8864,,,0,"Add reboot_server() helper

The new helper waits for the server to become ACTIVE again after the
reboot. This saves us a few lines of code in various tests, and is
also useful for the whitebox-tempest-plugin (see dependant patch).

Change-Id: I5c89983de0cbdae91c868fc3fefdc45b9a96fa68
",git fetch https://review.opendev.org/openstack/tempest refs/changes/64/805264/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/base.py', 'tempest/scenario/test_minimum_basic.py', 'tempest/api/compute/security_groups/test_security_groups.py', 'tempest/api/compute/servers/test_instance_actions.py', 'tempest/scenario/test_network_advanced_server_ops.py']",6,88e91ce2f3358deaa845f9b1fddfc7dfa7d22dad,," self.reboot_server(server['id'], type='SOFT')"," self.servers_client.reboot_server(server['id'], type='SOFT')",11,17
openstack%2Fnova~stable%2Ftrain~I2cdcad7226312ed81f4242c8d9ac919715524b48,openstack/nova,stable/train,I2cdcad7226312ed81f4242c8d9ac919715524b48,Raise InstanceMappingNotFound if StaleDataError is encountered,MERGED,2021-02-23 22:45:55.000000000,2021-08-26 00:37:00.000000000,2021-08-26 00:35:24.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-23 22:45:55.000000000', 'files': ['nova/objects/instance_mapping.py', 'nova/tests/unit/objects/test_instance_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/98048ee1393b98573a1d667b5518331d408c62f5', 'message': ""Raise InstanceMappingNotFound if StaleDataError is encountered\n\nWe have a race where if a user issues a delete request while an\ninstance is in the middle of booting, we could fail to update the\n'queued_for_delete' field on the instance mapping with:\n\n  sqlalchemy.orm.exc.StaleDataError: UPDATE statement on table\n  'instance_mappings' expected to update 1 row(s); 0 were matched.\n\nThis happens if we've retrieved the instance mapping record from the\ndatabase and then it gets deleted by nova-conductor before we attempt\nto save() it.\n\nThis handles the situation by adding try-except around the update call\nto catch StaleDataError and raise InstanceMappingNotFound instead,\nwhich the caller does know how to handle.\n\nCloses-Bug: #1882608\n\nChange-Id: I2cdcad7226312ed81f4242c8d9ac919715524b48\n(cherry picked from commit 16df22dcd57a73fe3be15c64c41b4081b4826ef2)\n(cherry picked from commit 812ce632d50bfc32de62d544746e0b9a83d90ab7)\n""}]",0,777254,98048ee1393b98573a1d667b5518331d408c62f5,21,6,1,4690,,,0,"Raise InstanceMappingNotFound if StaleDataError is encountered

We have a race where if a user issues a delete request while an
instance is in the middle of booting, we could fail to update the
'queued_for_delete' field on the instance mapping with:

  sqlalchemy.orm.exc.StaleDataError: UPDATE statement on table
  'instance_mappings' expected to update 1 row(s); 0 were matched.

This happens if we've retrieved the instance mapping record from the
database and then it gets deleted by nova-conductor before we attempt
to save() it.

This handles the situation by adding try-except around the update call
to catch StaleDataError and raise InstanceMappingNotFound instead,
which the caller does know how to handle.

Closes-Bug: #1882608

Change-Id: I2cdcad7226312ed81f4242c8d9ac919715524b48
(cherry picked from commit 16df22dcd57a73fe3be15c64c41b4081b4826ef2)
(cherry picked from commit 812ce632d50bfc32de62d544746e0b9a83d90ab7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/777254/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance_mapping.py', 'nova/tests/unit/objects/test_instance_mapping.py']",2,98048ee1393b98573a1d667b5518331d408c62f5,bug/1882608,"from sqlalchemy.orm import exc as orm_exc @mock.patch.object(instance_mapping.InstanceMapping, '_save_in_db') def test_save_stale_data_error(self, save_in_db): save_in_db.side_effect = orm_exc.StaleDataError mapping_obj = objects.InstanceMapping(self.context) mapping_obj.instance_uuid = uuidutils.generate_uuid() self.assertRaises(exception.InstanceMappingNotFound, mapping_obj.save) ",,20,2
openstack%2Fneutron~master~I1c7f50b69a31d725b762e3061f09a0bd5b077a58,openstack/neutron,master,I1c7f50b69a31d725b762e3061f09a0bd5b077a58,"""default_availability_zones"" need to be considered when validate az",MERGED,2021-07-28 07:36:37.000000000,2021-08-25 23:19:04.000000000,2021-08-16 10:19:12.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-07-28 07:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c250096b7aa9afba5098763dbffe8939acac03aa', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 2, 'created': '2021-07-29 00:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08bcbaa32157c20ae68cbd076dfb23c16008f939', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 3, 'created': '2021-07-29 02:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3684a9fb654943fcdfe8dceae08d97cbd6040a3', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 4, 'created': '2021-07-29 07:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b15f6b3a67a516a4594a97dc784838a307820702', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 5, 'created': '2021-08-02 07:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cd42185ac6096e8b4ca4a4d44b8326df6960f69', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 6, 'created': '2021-08-03 01:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7abcfada9a85a89a5e71e0fa9baedf477a0cf22c', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\nCreating a network is the same as creating a route.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 7, 'created': '2021-08-03 01:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a15a35a5a64f2cd63dee40e16a62b39b1db09c89', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\nCreating a network is the same as creating a route.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 8, 'created': '2021-08-03 02:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b6356cbbd7bb963365606c6f57a5ee2c52af581', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\nCreating a network is the same as creating a route.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 9, 'created': '2021-08-03 08:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41dedf240cc0d2bd7a33422b1c1d10f084e7e568', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\nCreating a network is the same as creating a route.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 10, 'created': '2021-08-04 02:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc1156a26c7865b638db1f7b02b67c5c81515187', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\nCreating a network is the same as creating a route.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 11, 'created': '2021-08-04 05:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c7b11ad2794afb206466174521b2b9cd5de9d0b', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\nCreating a network is the same as creating a route.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 12, 'created': '2021-08-09 01:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ebf18281f7051557fe67b75d976180c9364a613', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\nCreating a network is the same as creating a route.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 13, 'created': '2021-08-10 01:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8672d4d7a531b3eaae4a88a72376f6636eae6e7a', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\nCreating a network is the same as creating a route.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}, {'number': 14, 'created': '2021-08-16 00:14:49.000000000', 'files': ['neutron/tests/unit/extensions/test_router_availability_zone.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/extensions/test_availability_zone.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/db/availability_zone/router.py', 'neutron/common/utils.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7988ab5df0eb0799811d50eb90f0b292d008f700', 'message': '""default_availability_zones"" need to be considered when validate az\n\nIf not set availability_zone_hits when create router, should use\nconfiguration parameter default_availability_zones.\nAt present, only the creation parameters are validate, and the default\navailability zones not validate.\nCreating a network is the same as creating a route.\n\nCloses-bug: #1938261\n\nChange-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58\n'}]",17,802665,7988ab5df0eb0799811d50eb90f0b292d008f700,102,8,14,30380,,,0,"""default_availability_zones"" need to be considered when validate az

If not set availability_zone_hits when create router, should use
configuration parameter default_availability_zones.
At present, only the creation parameters are validate, and the default
availability zones not validate.
Creating a network is the same as creating a route.

Closes-bug: #1938261

Change-Id: I1c7f50b69a31d725b762e3061f09a0bd5b077a58
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/802665/14 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/db/availability_zone/router.py', 'neutron/common/utils.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/services/ovn_l3/plugin.py']",5,c250096b7aa9afba5098763dbffe8939acac03aa,,from neutron.common import utils as common_utils az_hints = common_utils.get_az_hints(router), az_hints = utils.get_az_hints(router),15,12
openstack%2Fplacement~master~I32499b2616e253a06f8a003fd3eef91006b58f42,openstack/placement,master,I32499b2616e253a06f8a003fd3eef91006b58f42,Switch ConsumerType to use an AttributeCache,MERGED,2019-08-30 17:13:28.000000000,2021-08-25 22:20:50.000000000,2021-08-25 22:18:37.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-08-30 17:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7fef18bc41b0bc2ae4433a0f3a3e627a7ee8533e', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 2, 'created': '2019-09-02 09:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/01b4ea9717ec2f417bdc54e8ae781b7ae5d398d3', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 3, 'created': '2019-09-02 11:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/04a6b8cbc59ebaffbb170370a5bd8f374afefe88', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 4, 'created': '2019-09-02 14:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e8def543f6f8ee329426ede6f15c5db7b383ad65', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 5, 'created': '2019-09-03 09:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/50f57a4f997f665ae4eca2182361838097899442', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 6, 'created': '2019-10-16 20:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/69d010b37296aefe1a4faefc6fef9e4b220d4d27', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 7, 'created': '2019-11-04 11:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8370e91f77ff82f2596e5515a5d685c8c7f7fd51', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 8, 'created': '2020-02-07 02:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/85f4cbc2173257a28ad5b267bd40475649d788df', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 9, 'created': '2020-02-14 04:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2f31381c86486cfcfd860b3c2c8950e09a370634', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 10, 'created': '2020-02-25 22:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/26030b2e05933f506946f5c65a1ecc143450f6bd', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 11, 'created': '2020-03-05 05:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d476f5108b204aba744490df90770dc84680465a', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 12, 'created': '2020-03-11 00:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cde6bb29926699ae95086e94c68c8bf461aa16d7', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 13, 'created': '2021-04-21 01:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e918c7e9db76ac522d87274003d3bdaaceff9233', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 14, 'created': '2021-04-21 21:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/31c332518b69f8747ecf427cdc71ef192490117c', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 15, 'created': '2021-05-14 03:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fbc2ea7132dff95229f6eb2511dd6d00275b5dd9', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 16, 'created': '2021-05-14 04:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ec89360cb13f0e7824ee34aaf7be2336521b3d48', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 17, 'created': '2021-06-18 08:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fe25c520440c3d0b2936977fd87f9d2303f317ef', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 18, 'created': '2021-07-22 01:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/15fb4fd41edec8eb9bdf11b253a046637b2bccd0', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 19, 'created': '2021-07-22 17:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/63c45859d42f5c83b69719a8e5b7b1c4a8fab662', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 20, 'created': '2021-07-22 18:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/f25d4c76edbf49019f252655edf95cdc79e43152', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 21, 'created': '2021-07-23 20:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5ca24c68acf80d6773cc57288485f87131cd0699', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 22, 'created': '2021-07-27 21:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b50e455e2a0934004b60bc14ee632c24a740e8d5', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 23, 'created': '2021-08-05 23:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/89165543f8e6a77684a10ef0660d241cb63885a2', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}, {'number': 24, 'created': '2021-08-06 03:06:33.000000000', 'files': ['placement/attribute_cache.py', 'placement/handlers/allocation.py', 'placement/objects/consumer_type.py', 'placement/tests/unit/handlers/test_util.py', 'placement/context.py', 'placement/handlers/util.py', 'placement/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/edb09c5f91821dbee92749686843460e5697b168', 'message': 'Switch ConsumerType to use an AttributeCache\n\nConsumerType has the same structure and behavior as a Trait\nor ResourceClass and, like them, we really only ever care about\nthe name and/or the id. This makes it a good candidate to use\nthe AttributeCache, simplifying the code a fair amount.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nChange-Id: I32499b2616e253a06f8a003fd3eef91006b58f42\n'}]",2,679486,edb09c5f91821dbee92749686843460e5697b168,59,7,24,11564,,,0,"Switch ConsumerType to use an AttributeCache

ConsumerType has the same structure and behavior as a Trait
or ResourceClass and, like them, we really only ever care about
the name and/or the id. This makes it a good candidate to use
the AttributeCache, simplifying the code a fair amount.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Change-Id: I32499b2616e253a06f8a003fd3eef91006b58f42
",git fetch https://review.opendev.org/openstack/placement refs/changes/86/679486/24 && git format-patch -1 --stdout FETCH_HEAD,"['placement/attribute_cache.py', 'placement/handlers/allocation.py', 'placement/objects/consumer_type.py', 'placement/context.py', 'placement/handlers/util.py']",5,7fef18bc41b0bc2ae4433a0f3a3e627a7ee8533e,bp/support-consumer-types, return ctx.ct_cache.id_from_string(name) return cons_type.id," cons_type = consumer_type_obj.ConsumerType.get_by_name(ctx, name) return cons_type.id",21,62
openstack%2Fnova~stable%2Fwallaby~Idf4650f36952331f02d7512580c21451f3ee3b63,openstack/nova,stable/wallaby,Idf4650f36952331f02d7512580c21451f3ee3b63,Allow X-OpenStack-Nova-API-Version header in CORS,MERGED,2021-06-17 14:05:10.000000000,2021-08-25 22:20:03.000000000,2021-08-25 22:18:10.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 14:05:10.000000000', 'files': ['nova/middleware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e045d0115dfe3f4a4776c9d82af46cddded83e7c', 'message': ""Allow X-OpenStack-Nova-API-Version header in CORS\n\nBy default, we don't currently allow the Nova microversion\nheader for CORS requests.  It should be something that is\nincluded out of the box because it's part of the core API.\n\nDeployers can workaround this by overriding allow_headers,\nbut we should provide a better experience out of the box.\n\nCloses-Bug: #1931908\nChange-Id: Idf4650f36952331f02d7512580c21451f3ee3b63\n(cherry picked from commit b02a95a18b5da37db6d4f30a5dea07e2a4187245)\n""}]",0,796860,e045d0115dfe3f4a4776c9d82af46cddded83e7c,19,3,1,1004,,,0,"Allow X-OpenStack-Nova-API-Version header in CORS

By default, we don't currently allow the Nova microversion
header for CORS requests.  It should be something that is
included out of the box because it's part of the core API.

Deployers can workaround this by overriding allow_headers,
but we should provide a better experience out of the box.

Closes-Bug: #1931908
Change-Id: Idf4650f36952331f02d7512580c21451f3ee3b63
(cherry picked from commit b02a95a18b5da37db6d4f30a5dea07e2a4187245)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/796860/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/middleware.py'],1,e045d0115dfe3f4a4776c9d82af46cddded83e7c,bug/1931908," 'X-Tenant-Id', 'X-OpenStack-Nova-API-Version', 'OpenStack-API-Version'], 'X-Service-Token', 'X-OpenStack-Nova-API-Version', 'OpenStack-API-Version'],"," 'X-Tenant-Id'], 'X-Service-Token'],",6,2
openstack%2Frequirements~master~I01a7bd5df98a48c0d631e4e682796e156c8e0ad3,openstack/requirements,master,I01a7bd5df98a48c0d631e4e682796e156c8e0ad3,Updated from generate-constraints,MERGED,2021-08-25 06:31:29.000000000,2021-08-25 22:19:54.000000000,2021-08-25 22:18:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 06:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/24e1b370c1c0d377dc2ba694e251796989d85cdd', 'message': 'Updated from generate-constraints\n\nChange-Id: I01a7bd5df98a48c0d631e4e682796e156c8e0ad3\n'}, {'number': 2, 'created': '2021-08-25 16:35:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d1353be6fe585ae49d72dacdf067f7f1f3cc2fee', 'message': 'Updated from generate-constraints\n\nChange-Id: I01a7bd5df98a48c0d631e4e682796e156c8e0ad3\n'}]",0,805948,d1353be6fe585ae49d72dacdf067f7f1f3cc2fee,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I01a7bd5df98a48c0d631e4e682796e156c8e0ad3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/805948/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,24e1b370c1c0d377dc2ba694e251796989d85cdd,openstack/requirements/constraints/noclob,neutron-lib===2.14.0XStatic-Angular===1.8.2.1simplejson===3.17.5cryptography===3.4.8storpool===6.0.0 pkg_resources===0.0.0google-api-python-client===2.18.0boto3===1.18.28botocore===1.21.28oslo.db===11.0.0storpool.spopenstack===3.0.1fasteners===0.16.3,neutron-lib===2.13.0XStatic-Angular===1.5.8.0simplejson===3.17.4cryptography===3.4.7storpool===5.5.0google-api-python-client===2.17.0boto3===1.18.27botocore===1.21.27oslo.db===10.0.0storpool.spopenstack===3.0.0fasteners===0.14.1setuptools===57.4.0,12,12
openstack%2Fplacement~master~Ic74c3d1b8aa272e9c7d1070fe7658b928e693889,openstack/placement,master,Ic74c3d1b8aa272e9c7d1070fe7658b928e693889,"Add consumer_types migration, database and object changes",MERGED,2019-07-04 12:45:30.000000000,2021-08-25 22:19:45.000000000,2021-08-25 22:18:14.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 11816}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26936}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-07-04 12:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d3f158e057427103c0140d2de369318eba040a18', 'message': 'Add consumer_types table and consumer_type_id column to consumers\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\n'}, {'number': 2, 'created': '2019-07-24 09:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/80809e49672f5dc35630b7ab0d4e3984ade8c2ca', 'message': 'Add consumer_types table and consumer_type_id column to consumers\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\n'}, {'number': 3, 'created': '2019-08-29 17:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/6c97cb3a8f4b4552a6052ea978f5c8cfcb7d8cb8', 'message': 'Add consumer_types table and consumer_type_id column to consumers\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\n'}, {'number': 4, 'created': '2019-08-30 13:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/30e3ad1c47849cb557f867aab7c4ed9b0c4a4e59', 'message': ""Add consumer_types table and consumer_type_id column to consumers\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThis change predicts the existence of a consumer_types.ensure_sync\nin one of the migration tests. That's coming in the patch following\nthis one. That ensure_sync will add a row of 1:UNKNOWN to the\nconsumer_types table.\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\n""}, {'number': 5, 'created': '2019-09-02 09:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/66dc6792b44433e4ec235f6002523283f70301f1', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and object\ncode to support saving consumer types when creating consumers and\nreporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nA consumer type object is added, similar to trait and resource class.\nLike those there is a set of default data which needs to be ensured\nat process startup time. In this case it is one row in the table:\nID 1 with value UNKNOWN. This is the default value for an\nunspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 6, 'created': '2019-09-02 11:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/273165c8fb8f177f96f196d373eb104ab5e0b1ca', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and object\ncode to support saving consumer types when creating consumers and\nreporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nA consumer type object is added, similar to trait and resource class.\nLike those there is a set of default data which needs to be ensured\nat process startup time. In this case it is one row in the table:\nID 1 with value UNKNOWN. This is the default value for an\nunspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 7, 'created': '2019-09-02 14:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/f783c98e4479e335d5103a1282ba06b2393fdca3', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and object\ncode to support saving consumer types when creating consumers and\nreporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nA consumer type object is added, similar to trait and resource class.\nLike those there is a set of default data which needs to be ensured\nat process startup time. In this case it is one row in the table:\nID 1 with value UNKNOWN. This is the default value for an\nunspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nThe depends on is to a grenade change that upgrades placement\nindependent of nova. Neeed now because we need to do our own\ndb sync as a result of this new table.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nDepends-On: https://review.opendev.org/679655\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 8, 'created': '2019-09-03 09:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7e12ce1d1dacd1e2858a4c3f1801119c6964efc1', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and object\ncode to support saving consumer types when creating consumers and\nreporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThere is a set of default data which needs to be ensured at process\nstartup time. In production this is done via the database migration.\nBecause of the way the database-driven functional tests work the row\nadded in the migration is rolled back with each test, so it is manually\nadded back. The default data is one row in the table: ID 1 with value\nUNKNOWN. This is the default value for an unspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nThe depends on is to a grenade change that upgrades placement\nindependent of nova. Neeed now because we need to do our own\ndb sync as a result of this new table.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nDepends-On: https://review.opendev.org/679655\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 9, 'created': '2019-10-16 20:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/59d8270405d1c4dd8229967124520e948ce98978', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and object\ncode to support saving consumer types when creating consumers and\nreporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThere is a set of default data which needs to be ensured at process\nstartup time. In production this is done via the database migration.\nBecause of the way the database-driven functional tests work the row\nadded in the migration is rolled back with each test, so it is manually\nadded back. The default data is one row in the table: ID 1 with value\nUNKNOWN. This is the default value for an unspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nThe depends on is to a grenade change that upgrades placement\nindependent of nova. Neeed now because we need to do our own\ndb sync as a result of this new table.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nDepends-On: https://review.opendev.org/679655\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 10, 'created': '2019-11-04 11:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/70aeec852b8b1bb9973cd77c20fb28ea6eaacf10', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and object\ncode to support saving consumer types when creating consumers and\nreporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThere is a set of default data which needs to be ensured at process\nstartup time. In production this is done via the database migration.\nBecause of the way the database-driven functional tests work the row\nadded in the migration is rolled back with each test, so it is manually\nadded back. The default data is one row in the table: ID 1 with value\nUNKNOWN. This is the default value for an unspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nThe depends on is to a grenade change that upgrades placement\nindependent of nova. Neeed now because we need to do our own\ndb sync as a result of this new table.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nDepends-On: https://review.opendev.org/679655\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 11, 'created': '2020-02-07 02:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/62159ce3c1bc8d56dd5465c3f1634ff882ef46d7', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and object\ncode to support saving consumer types when creating consumers and\nreporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThere is a set of default data which needs to be ensured at process\nstartup time. In production this is done via the database migration.\nBecause of the way the database-driven functional tests work the row\nadded in the migration is rolled back with each test, so it is manually\nadded back. The default data is one row in the table: ID 1 with value\nUNKNOWN. This is the default value for an unspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nThe depends on is to a grenade change that upgrades placement\nindependent of nova. Neeed now because we need to do our own\ndb sync as a result of this new table.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nDepends-On: https://review.opendev.org/679655\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 12, 'created': '2020-02-14 04:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/32d13b04825f0dd63784d168b1b106e42980df24', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and object\ncode to support saving consumer types when creating consumers and\nreporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThere is a set of default data which needs to be ensured at process\nstartup time. In production this is done via the database migration.\nBecause of the way the database-driven functional tests work the row\nadded in the migration is rolled back with each test, so it is manually\nadded back. The default data is one row in the table: ID 1 with value\nUNKNOWN. This is the default value for an unspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nThe depends on is to a grenade change that upgrades placement\nindependent of nova. Neeed now because we need to do our own\ndb sync as a result of this new table.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nDepends-On: https://review.opendev.org/679655\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 13, 'created': '2020-02-25 22:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e01ef1f99db0da004f281538d795204a729e09aa', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and object\ncode to support saving consumer types when creating consumers and\nreporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThere is a set of default data which needs to be ensured at process\nstartup time. In production this is done via the database migration.\nBecause of the way the database-driven functional tests work the row\nadded in the migration is rolled back with each test, so it is manually\nadded back. The default data is one row in the table: ID 1 with value\nUNKNOWN. This is the default value for an unspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nThe depends on is to a grenade change that upgrades placement\nindependent of nova. Neeed now because we need to do our own\ndb sync as a result of this new table.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nDepends-On: https://review.opendev.org/679655\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 14, 'created': '2020-03-05 05:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5bec6b98267869a5e36a8816148dd2217407ca34', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and\nobject code to support saving consumer types when creating consumers\nand reporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThere is a set of default data which needs to be ensured at process\nstartup time. In production this is done via the database migration.\nThe default data is one row in the table: ID 1 with value UNKNOWN.\nThis is the default value for an unspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nThe depends on is to a grenade change that upgrades placement\nindependent of nova. Needed now because we need to do our own\ndb sync as a result of this new table.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nDepends-On: https://review.opendev.org/679655\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\nStory: 2005473\nTask: 35683\nTask: 36420\n'}, {'number': 15, 'created': '2020-03-11 00:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ed1180f32959e63aa4b2564102f90011e47f6ed4', 'message': 'Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and\nobject code to support saving consumer types when creating consumers\nand reporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThere is a set of default data which needs to be ensured at process\nstartup time. In production this is done via the database migration.\nThe default data is one row in the table: ID 1 with value UNKNOWN.\nThis is the default value for an unspecified consumer type.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nThe depends on is to a grenade change that upgrades placement\nindependent of nova. Needed now because we need to do our own\ndb sync as a result of this new table.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 35683\nTask: 36420\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\n'}, {'number': 16, 'created': '2021-04-21 01:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9243b780041a6bda29a70572752ce8e046e18538', 'message': ""Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and\nobject code to support saving consumer types when creating consumers\nand reporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThe consumer_type_id is nullable and records with a NULL\nconsumer_type_id are considered as 'unknown'.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 35683\nTask: 36420\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\n""}, {'number': 17, 'created': '2021-07-22 01:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bad71a78d76a0f8b3d5d34bf9371aa7fb96c11c8', 'message': ""Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.37, add the necessary database and\nobject code to support saving consumer types when creating consumers\nand reporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThe consumer_type_id is nullable and records with a NULL\nconsumer_type_id are considered as 'unknown'.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.37 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 35683\nTask: 36420\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\n""}, {'number': 18, 'created': '2021-07-23 20:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9b8effb9bc5a6bafe47ed75f6d4964e09c53abe1', 'message': ""Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.38, add the necessary database and\nobject code to support saving consumer types when creating consumers\nand reporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThe consumer_type_id is nullable and records with a NULL\nconsumer_type_id are considered as 'unknown'.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.38 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 35683\nTask: 36420\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\n""}, {'number': 19, 'created': '2021-07-27 21:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/c3554d504f732f4dfbe37f7f2ead9e4a7d81ba34', 'message': ""Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.38, add the necessary database and\nobject code to support saving consumer types when creating consumers\nand reporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThe consumer_type_id is nullable and records with a NULL\nconsumer_type_id are considered as 'unknown'.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.38 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 35683\nTask: 36420\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\n""}, {'number': 20, 'created': '2021-08-05 23:23:57.000000000', 'files': ['placement/db/sqlalchemy/models.py', 'placement/tests/functional/db/test_allocation.py', 'placement/objects/consumer_type.py', 'placement/tests/unit/objects/test_allocation.py', 'placement/tests/functional/db/test_usage.py', 'placement/tests/functional/db/test_migrations.py', 'placement/objects/usage.py', 'placement/objects/consumer.py', 'placement/db/sqlalchemy/alembic/versions/422ece571366_add_consumer_types_table.py', 'placement/exception.py', 'placement/objects/allocation.py', 'placement/tests/functional/db/test_consumer_type.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/b1f3dd39c3fd140ea77fba474c8a3a118a41de8c', 'message': ""Add consumer_types migration, database and object changes\n\nIn advance of a microversion 1.38, add the necessary database and\nobject code to support saving consumer types when creating consumers\nand reporting those types when requesting usage information.\n\nThis patch adds a new table called ``consumer_types`` and also\nadd a new column called ``consumer_type_id`` that references the id\nin the consumer_types table.\n\nThe consumer_type_id is nullable and records with a NULL\nconsumer_type_id are considered as 'unknown'.\n\nIn future changes we may wish to AttributeCache consumer types in\nthe same way that traits and resource classes are cached.\n\nUsage object can now be retrieved by consumer type and include\nconsumer type information when retrieved. Until 1.38 that info\nwill not be used in results.\n\nAllocations are written and retrieved with a consumer type but\nthe data is not yet presented in HTTP requests.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 35683\nTask: 36420\n\nChange-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889\n""}]",118,669170,b1f3dd39c3fd140ea77fba474c8a3a118a41de8c,127,12,20,26936,,,0,"Add consumer_types migration, database and object changes

In advance of a microversion 1.38, add the necessary database and
object code to support saving consumer types when creating consumers
and reporting those types when requesting usage information.

This patch adds a new table called ``consumer_types`` and also
add a new column called ``consumer_type_id`` that references the id
in the consumer_types table.

The consumer_type_id is nullable and records with a NULL
consumer_type_id are considered as 'unknown'.

In future changes we may wish to AttributeCache consumer types in
the same way that traits and resource classes are cached.

Usage object can now be retrieved by consumer type and include
consumer type information when retrieved. Until 1.38 that info
will not be used in results.

Allocations are written and retrieved with a consumer type but
the data is not yet presented in HTTP requests.

Co-Authored-By: Chris Dent <cdent@anticdent.org>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Story: 2005473
Task: 35683
Task: 36420

Change-Id: Ic74c3d1b8aa272e9c7d1070fe7658b928e693889
",git fetch https://review.opendev.org/openstack/placement refs/changes/70/669170/20 && git format-patch -1 --stdout FETCH_HEAD,"['placement/db/sqlalchemy/models.py', 'placement/db/sqlalchemy/alembic/versions/422ece571366_add_consumer_types_table.py', 'placement/tests/functional/db/test_migrations.py']",3,d3f158e057427103c0140d2de369318eba040a18,bp/support-consumer-types,"from sqlalchemy.engine.reflection import Inspector from sqlalchemy import sql def test_consumer_types_422ece571366(self): # Upgrade to populate the schema. self.migration_api.upgrade('422ece571366') insp = Inspector.from_engine(self.engine) # Test creation of consumer_types table con = db_utils.get_table(self.engine, 'consumer_types') col_names = [column.name for column in con.c] self.assertIn('created_at', col_names) self.assertIn('updated_at', col_names) self.assertIn('id', col_names) self.assertIn('name', col_names) # Now test if the default ""UNKNOWN"" consumer type exists. rows = sql.select([con]).execute().fetchall() self.assertEqual(1, len(rows)) consumer_types = [r[3] for r in rows] self.assertEqual(""UNKNOWN"", consumer_types[0]) # check constraints pkey = insp.get_pk_constraint(""consumer_types"") self.assertEqual(['id'], pkey['constrained_columns']) ukey = insp.get_unique_constraints(""consumer_types"") self.assertEqual('uniq_consumer_types0name', ukey[0]['name']) def test_consumer_type_id_column_422ece571366(self): # Upgrade to populate the schema. self.migration_api.upgrade('422ece571366') insp = Inspector.from_engine(self.engine) # Test creation of consumer_types table consumers = db_utils.get_table(self.engine, 'consumers') col_names = [column.name for column in consumers.c] self.assertIn('consumer_type_id', col_names) consumers.insert(values={ 'uuid': uuids.consumer1, 'project_id': 1, 'user_id': 1 }).execute() # Now test if the default points to ""UNKNOWN"" consumer type. rows = sql.select([consumers]).execute().fetchall() self.assertEqual(1, len(rows)) consumer_type_ids = [r[7] for r in rows] self.assertEqual(1, consumer_type_ids[0]) # Check index and constraints fkey = insp.get_foreign_keys(""consumers"") self.assertEqual(['consumer_type_id'], fkey[0]['constrained_columns']) ind = insp.get_indexes('consumers') names = [r['name'] for r in ind] self.assertIn('consumers_consumer_type_id_idx', names) ",,156,0
openstack%2Fplacement~master~I24c2315093e07dbf25c4fb53152e6a4de7477a51,openstack/placement,master,I24c2315093e07dbf25c4fb53152e6a4de7477a51,Microversion 1.38: API support for consumer types,MERGED,2019-08-30 13:09:44.000000000,2021-08-25 22:18:29.000000000,2021-08-25 22:18:29.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-08-30 13:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fab35866581804cb4a9c647c1b016867594f7ab8', 'message': ""WIP: Microversion 1.37: API support for consumer types\n\nWIP: Because there's some tuning up to do in the representations\nbeing passed back to the handler. And api-ref and reno are needed.\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nStory: 2005473\nTask: 36421\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 2, 'created': '2019-08-30 13:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ceedab24372d807a3eaa427d0310081184eb9402', 'message': ""WIP: Microversion 1.37: API support for consumer types\n\nWIP: Because there's some tuning up to do in the representations\nbeing passed back to the handler. And api-ref and reno are needed.\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nStory: 2005473\nTask: 36421\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 3, 'created': '2019-08-30 16:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/f74e10ffda683fe8b07b04630d18a1c4b7976775', 'message': 'Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nStory: 2005473\nTask: 36421\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n'}, {'number': 4, 'created': '2019-09-02 09:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1d3199abb6f7de912ae77c6637d6064a09d218e0', 'message': 'Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nStory: 2005473\nTask: 36421\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n'}, {'number': 5, 'created': '2019-09-02 11:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bdccd336b09bf9d6dd59ec1ba27ed55df4afe4bd', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nStory: 2005473\nTask: 36421\nDepends-On: https://review.opendev.org/679622\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 6, 'created': '2019-09-02 14:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cf92aa21b135d92382b9a3c0134392ea134e78c8', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nStory: 2005473\nTask: 36421\nDepends-On: https://review.opendev.org/679622\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 7, 'created': '2019-09-03 09:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e1611e67a01247939152dd8e179a9baad2c1db53', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nStory: 2005473\nTask: 36421\nDepends-On: https://review.opendev.org/679622\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 8, 'created': '2019-10-16 20:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/407576b4c5ae6d617e8ae54bb01b1b74fe2f1925', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nStory: 2005473\nTask: 36421\nDepends-On: https://review.opendev.org/679622\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 9, 'created': '2019-11-04 11:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3f7493bb5f383ca7ceb948f9439486e89efedbc9', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nStory: 2005473\nTask: 36421\nDepends-On: https://review.opendev.org/679622\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 10, 'created': '2020-02-07 02:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a929380b9893e66310e9bb96c56f37694590a261', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nStory: 2005473\nTask: 36421\nDepends-On: https://review.opendev.org/679622\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 11, 'created': '2020-02-14 04:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/61fdd20d68cc543a0dafcf4c29e563ac063a460d', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nStory: 2005473\nTask: 36421\nDepends-On: https://review.opendev.org/679622\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 12, 'created': '2020-02-25 22:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9a06cb00ce043d43fdbca238bc93eda8da133648', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nStory: 2005473\nTask: 36421\nDepends-On: https://review.opendev.org/679622\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 13, 'created': '2020-03-05 05:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2b2722151a6740cd3f3f3fb9aba8396e9135ae7d', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nStory: 2005473\nTask: 36421\nDepends-On: https://review.opendev.org/679622\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 14, 'created': '2020-03-11 00:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8c9629ad70ff0955ac0aa048fa496468ed22708e', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 15, 'created': '2021-04-21 01:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5f8ea0b4c41897f1e5d6a2bdaa9d338c273547f9', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 16, 'created': '2021-04-21 21:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/192b8e767137abac792a0a20f3f6535359e4be7f', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 17, 'created': '2021-05-14 03:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5e9330bf95f1525f154c30ce74038eebad8559c0', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 18, 'created': '2021-05-14 04:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e88d6334b71767eca16dce61a63ed62b17b95516', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 19, 'created': '2021-06-18 08:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d7429bf71ab2921a8f991a5a7e5aef07600ad292', 'message': ""Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nThe depends on is to get nova functional tests passing them. Some of\nthem create allocations with 'placement latest'.\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n""}, {'number': 20, 'created': '2021-07-22 01:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4eebb2d1187c0dbbd5dba6c36cc937a9063efc9b', 'message': 'Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n'}, {'number': 21, 'created': '2021-07-22 17:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d834f95b267826d6315d53af2462d6f380baeb6d', 'message': 'Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n'}, {'number': 22, 'created': '2021-07-22 18:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9e3c7ebe56390f913727486dcfd3f0ec56cd92b1', 'message': 'Microversion 1.37: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.37.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.37.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n'}, {'number': 23, 'created': '2021-07-23 20:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fdb3f03094147007d8efd0b214e786219b6ddb9b', 'message': 'Microversion 1.38: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.38.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.38.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n'}, {'number': 24, 'created': '2021-07-27 21:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/53424c442b509c3fef31cb2394f02bf357fcb29e', 'message': 'Microversion 1.38: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.38.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.38.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n'}, {'number': 25, 'created': '2021-08-05 23:23:57.000000000', 'files': ['api-ref/source/parameters.yaml', 'placement/handlers/allocation.py', 'api-ref/source/reshaper.inc', 'placement/schemas/reshaper.py', 'placement/handlers/util.py', 'placement/rest_api_version_history.rst', 'placement/schemas/allocation.py', 'releasenotes/notes/consumer_type-857b812aef10381e.yaml', 'placement/handlers/reshaper.py', 'placement/tests/unit/handlers/test_util.py', 'api-ref/source/samples/usages/get-usages-1.38.json', 'placement/handlers/usage.py', 'api-ref/source/allocations.inc', 'placement/schemas/common.py', 'placement/microversion.py', 'placement/tests/functional/gabbits/consumer-types-1.38.yaml', 'placement/schemas/usage.py', 'placement/objects/usage.py', 'api-ref/source/samples/allocations/get-allocations-1.38.json', 'api-ref/source/usages.inc', 'placement/tests/functional/gabbits/allocations-policy.yaml', 'placement/tests/functional/gabbits/allocations-legacy-rbac.yaml', 'api-ref/source/samples/allocations/update-allocations-request-1.38.json', 'placement/tests/functional/gabbits/allocations-secure-rbac.yaml', 'api-ref/source/samples/allocations/manage-allocations-request-1.38.json', 'placement/tests/functional/gabbits/microversion.yaml', 'api-ref/source/samples/reshaper/post-reshaper-1.38.json'], 'web_link': 'https://opendev.org/openstack/placement/commit/37721325798dda64d96d174f9e316620639fc9c9', 'message': 'Microversion 1.38: API support for consumer types\n\nUpdate allocations, reshaper and usage APIs to accept and present\nconsumer_type in microversion 1.38.\n\nensure_consumer in placement/handlers/util.py is updated to be consumer\ntype aware.\n\nallocation, usage and reshaper schema and handlers are updated\n\ngabbits/consumer-types-1.38.yaml adds tests across the various URIs\n\nA TODO is left in placement/handlers/allocation.py where the database\nis being accessed in a way that is not ideal. This will be cleared\nup in a followup patch (to add use of an AttributeCache).\n\nCo-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nStory: 2005473\nTask: 36421\n\nChange-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51\n'}]",111,679441,37721325798dda64d96d174f9e316620639fc9c9,96,8,25,11564,,,0,"Microversion 1.38: API support for consumer types

Update allocations, reshaper and usage APIs to accept and present
consumer_type in microversion 1.38.

ensure_consumer in placement/handlers/util.py is updated to be consumer
type aware.

allocation, usage and reshaper schema and handlers are updated

gabbits/consumer-types-1.38.yaml adds tests across the various URIs

A TODO is left in placement/handlers/allocation.py where the database
is being accessed in a way that is not ideal. This will be cleared
up in a followup patch (to add use of an AttributeCache).

Co-Authored-By: Surya Seetharaman <suryaseetharaman.9@gmail.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Story: 2005473
Task: 36421

Change-Id: I24c2315093e07dbf25c4fb53152e6a4de7477a51
",git fetch https://review.opendev.org/openstack/placement refs/changes/41/679441/5 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/gabbits/consumer-types-1.37.yaml', 'placement/handlers/allocation.py', 'placement/handlers/usage.py', 'placement/schemas/common.py', 'placement/schemas/reshaper.py', 'placement/handlers/util.py', 'placement/microversion.py', 'placement/schemas/usage.py', 'placement/tests/functional/gabbits/allocations-policy.yaml', 'placement/schemas/allocation.py', 'placement/handlers/reshaper.py', 'placement/tests/unit/handlers/test_util.py', 'placement/tests/functional/gabbits/microversion.yaml']",13,fab35866581804cb4a9c647c1b016867594f7ab8,bp/support-consumer-types,- name: latest microversion is 1.37 openstack-api-version: placement 1.37,- name: latest microversion is 1.36 openstack-api-version: placement 1.36,413,24
openstack%2Fneutron~master~I5617a72fcd4ec0de9aa7d1444d515e713029fa76,openstack/neutron,master,I5617a72fcd4ec0de9aa7d1444d515e713029fa76,Add devstack plugin to enable ovs distributed dhcp service,MERGED,2021-08-04 12:09:33.000000000,2021-08-25 21:58:31.000000000,2021-08-25 21:57:04.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 12:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3c0eee817490e038ebf04060fb036eed44fad3a', 'message': 'Add devstack plugin to enable ovs distributed dhcp service\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\nChange-Id: I5617a72fcd4ec0de9aa7d1444d515e713029fa76\n'}, {'number': 2, 'created': '2021-08-04 14:51:25.000000000', 'files': ['devstack/lib/distributed_dhcp', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca2885889f5244d7bef037654551d66909091908', 'message': 'Add devstack plugin to enable ovs distributed dhcp service\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\nChange-Id: I5617a72fcd4ec0de9aa7d1444d515e713029fa76\n'}]",1,803469,ca2885889f5244d7bef037654551d66909091908,37,3,2,11975,,,0,"Add devstack plugin to enable ovs distributed dhcp service

Partially-Implements: bp/distributed-dhcp-for-ml2-ovs
Related-Bug: #1900934
Change-Id: I5617a72fcd4ec0de9aa7d1444d515e713029fa76
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/803469/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,f3c0eee817490e038ebf04060fb036eed44fad3a,bp/distributed-dhcp-for-ml2-ovs,source $LIBDIR/distributed_dhcp if is_service_enabled q-distributed-dhcp neutron-distributed-dhcp; then if [ $Q_AGENT = openvswitch ]; then configure_ovs_distributed_dhcp fi fi,,6,0
openstack%2Fneutron~master~Id708b2c7a602df8d4ba1b32e58d4b152b5c58ba6,openstack/neutron,master,Id708b2c7a602df8d4ba1b32e58d4b152b5c58ba6,[L3HA] Add extra logs to the process of ha state changes,MERGED,2021-08-12 14:51:20.000000000,2021-08-25 21:44:46.000000000,2021-08-25 21:43:06.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-08-12 14:51:20.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/82fd968011b481f11cfec6a1ec767e095d3f41db', 'message': '[L3HA] Add extra logs to the process of ha state changes\n\nSome extra debug logs may be useful to understand exactly what happens\nduring ha states transitions and e.g. to understand failures like\ndescribed in the related bug.\n\nRelated-bug: #1939507\nChange-Id: Id708b2c7a602df8d4ba1b32e58d4b152b5c58ba6\n'}]",2,804397,82fd968011b481f11cfec6a1ec767e095d3f41db,45,6,1,11975,,,0,"[L3HA] Add extra logs to the process of ha state changes

Some extra debug logs may be useful to understand exactly what happens
during ha states transitions and e.g. to understand failures like
described in the related bug.

Related-bug: #1939507
Change-Id: Id708b2c7a602df8d4ba1b32e58d4b152b5c58ba6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/804397/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/l3/ha.py']",2,82fd968011b481f11cfec6a1ec767e095d3f41db,bug/1939507," LOG.debug(""Enqueueing router's %s state change to %s"", router_id, state) transition_state = self._update_transition_state(router_id) if transition_state != state: LOG.debug(""Current transition state of router %s: %s; "" ""Initial state was: %s"", router_id, transition_state, state)", if self._update_transition_state(router_id) != state:,15,6
openstack%2Frequirements~master~I2e31340e993f4106f910882a22ab1c90174a5d84,openstack/requirements,master,I2e31340e993f4106f910882a22ab1c90174a5d84,update constraint for mistral-lib to new release 2.5.0,MERGED,2021-08-25 08:05:02.000000000,2021-08-25 21:44:32.000000000,2021-08-25 21:43:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-25 08:05:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/348d77c6753ab636ba22f646fac1eff3e486fe47', 'message': 'update constraint for mistral-lib to new release 2.5.0\n\nmeta: version: 2.5.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie8592c03aaf4b82f9159333b222cd78c23a430c1\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I2e31340e993f4106f910882a22ab1c90174a5d84\n'}]",0,805962,348d77c6753ab636ba22f646fac1eff3e486fe47,9,3,1,11131,,,0,"update constraint for mistral-lib to new release 2.5.0

meta: version: 2.5.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie8592c03aaf4b82f9159333b222cd78c23a430c1
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I2e31340e993f4106f910882a22ab1c90174a5d84
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/805962/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,348d77c6753ab636ba22f646fac1eff3e486fe47,new-release,mistral-lib===2.5.0,mistral-lib===2.4.0,1,1
openstack%2Fopenstack-helm-infra~master~Ib8a84831a605bb3e5a1fc5b5a909c827ec864797,openstack/openstack-helm-infra,master,Ib8a84831a605bb3e5a1fc5b5a909c827ec864797,cert-rotation: Correct and enhance the rotation script.,MERGED,2021-08-24 15:04:23.000000000,2021-08-25 21:03:43.000000000,2021-08-25 21:02:13.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30495}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-08-24 15:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3674d7d457c7a0afea26b65da0bc759e36554cd6', 'message': 'cert-rotation: correct the counter increment\n\nChange-Id: Ib8a84831a605bb3e5a1fc5b5a909c827ec864797\n'}, {'number': 2, 'created': '2021-08-24 18:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8805e11fce272ee165606682adede9eee8ef18a', 'message': 'cert-rotation: Correct and enhance the rotation script.\n\nCorrected the counter increment and enhanced the script to handle\nsituation if the certificate is stuck in issuing state.\n\nChange-Id: Ib8a84831a605bb3e5a1fc5b5a909c827ec864797\n'}, {'number': 3, 'created': '2021-08-25 15:57:44.000000000', 'files': ['releasenotes/notes/cert-rotation.yaml', 'cert-rotation/Chart.yaml', 'cert-rotation/templates/bin/_rotate-certs.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/222f7b68775b6f6063bbf0f8148f8a1ffb853a25', 'message': 'cert-rotation: Correct and enhance the rotation script.\n\nCorrected the counter increment and enhanced the script to handle\nsituation if the certificate is stuck in issuing state.\n\nChange-Id: Ib8a84831a605bb3e5a1fc5b5a909c827ec864797\n'}]",9,805865,222f7b68775b6f6063bbf0f8148f8a1ffb853a25,27,6,3,24780,,,0,"cert-rotation: Correct and enhance the rotation script.

Corrected the counter increment and enhanced the script to handle
situation if the certificate is stuck in issuing state.

Change-Id: Ib8a84831a605bb3e5a1fc5b5a909c827ec864797
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/805865/3 && git format-patch -1 --stdout FETCH_HEAD,"['cert-rotation/Chart.yaml', 'releasenotes/notes/cert-rotation.yaml', 'cert-rotation/templates/bin/_rotate-certs.sh.tpl']",3,3674d7d457c7a0afea26b65da0bc759e36554cd6,, counter=$((counter+1)), counter+=(${counter+=1}),3,2
openstack%2Fpython-cinderclient~master~I862796e2ca5568f1b461f2201037f21b33fd0cf9,openstack/python-cinderclient,master,I862796e2ca5568f1b461f2201037f21b33fd0cf9,remove unicode from code,ABANDONED,2021-01-03 08:05:16.000000000,2021-08-25 20:21:37.000000000,,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-01-03 08:05:16.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/6b799bfbe385402a044d8de751b3059c08cbd970', 'message': 'remove unicode from code\n\nChange-Id: I862796e2ca5568f1b461f2201037f21b33fd0cf9\n'}]",0,769001,6b799bfbe385402a044d8de751b3059c08cbd970,6,4,1,30384,,,0,"remove unicode from code

Change-Id: I862796e2ca5568f1b461f2201037f21b33fd0cf9
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/01/769001/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,6b799bfbe385402a044d8de751b3059c08cbd970,,"project = 'Cinder Client Release Notes'copyright = '2015, Cinder Developers' 'Cinder Client Release Notes Documentation', 'Cinder Developers', 'manual'), 'Cinder Client Release Notes Documentation', ['Cinder Developers'], 1) 'Cinder Client Release Notes Documentation', 'Cinder Developers', 'CinderClientReleaseNotes',","project = u'Cinder Client Release Notes'copyright = u'2015, Cinder Developers' u'Cinder Client Release Notes Documentation', u'Cinder Developers', 'manual'), u'Cinder Client Release Notes Documentation', [u'Cinder Developers'], 1) u'Cinder Client Release Notes Documentation', u'Cinder Developers', 'CinderClientReleaseNotes',",12,12
openstack%2Ftripleo-upgrade~stable%2Ftrain~I6c24d522d79edd98be3e18a9e539ff05cccce118,openstack/tripleo-upgrade,stable/train,I6c24d522d79edd98be3e18a9e539ff05cccce118,Move pre overcloud upgrade task,MERGED,2021-08-24 10:49:23.000000000,2021-08-25 20:17:07.000000000,2021-08-25 20:17:07.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 10:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a61128d1d488474b92cc24dd90a0e74d53aaa2f0', 'message': 'Move pre overcloud upgrade task\n\n Move pre overcloud upgrade task just before upgrade prepare, to make sure everything is set up before applying workarounds.\n\nChange-Id: I6c24d522d79edd98be3e18a9e539ff05cccce118\n'}, {'number': 2, 'created': '2021-08-24 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e8b9a7ad17410c4f8fee771c24a8dbbfc1e272b2', 'message': 'Move pre overcloud upgrade workaround task\n\n Move pre overcloud upgrade task just before upgrade prepare, to make sure everything is set up before applying workarounds.\n\nChange-Id: I6c24d522d79edd98be3e18a9e539ff05cccce118\n'}, {'number': 3, 'created': '2021-08-24 10:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c66ae57e8a0995586e83045eb9f9a44b8d20c268', 'message': 'Move pre overcloud upgrade workaround task\n\n Move pre overcloud upgrade workaround task just before upgrade prepare, to make sure everything is set up before applying workarounds.\n\nChange-Id: I6c24d522d79edd98be3e18a9e539ff05cccce118\n'}, {'number': 4, 'created': '2021-08-24 12:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2d9444ceca4339047b3e588ed3beaff56af26d4d', 'message': 'Move pre overcloud upgrade task\n\n Move pre overcloud upgrade task just before upgrade prepare, to make sure everything is set up before applying workarounds.\n\nChange-Id: I6c24d522d79edd98be3e18a9e539ff05cccce118\n'}, {'number': 5, 'created': '2021-08-24 16:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ced32cd0528e373aa15e6e4d7cca08bcab0e702b', 'message': 'Move pre overcloud upgrade task\n\n Move pre overcloud upgrade task just before upgrade prepare, to make sure everything is set up before applying workarounds.\n\nChange-Id: I6c24d522d79edd98be3e18a9e539ff05cccce118\n'}, {'number': 6, 'created': '2021-08-24 20:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b6d9a018afe1690faace4bafa8a05e9d862cbd1c', 'message': 'Move pre overcloud upgrade task\n\n Move pre overcloud upgrade task just before upgrade prepare, to make sure everything is set up before applying workarounds.\n\nChange-Id: I6c24d522d79edd98be3e18a9e539ff05cccce118\n'}, {'number': 7, 'created': '2021-08-25 10:55:48.000000000', 'files': ['tasks/upgrade/main.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2eb17f6ce41e69741765e7921a7221e95b53de94', 'message': 'Move pre overcloud upgrade task\n\n Move pre overcloud upgrade task just before upgrade prepare, to make sure everything is set up before applying workarounds.\n\nChange-Id: I6c24d522d79edd98be3e18a9e539ff05cccce118\n'}]",3,805806,2eb17f6ce41e69741765e7921a7221e95b53de94,18,3,7,33080,,,0,"Move pre overcloud upgrade task

 Move pre overcloud upgrade task just before upgrade prepare, to make sure everything is set up before applying workarounds.

Change-Id: I6c24d522d79edd98be3e18a9e539ff05cccce118
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/06/805806/6 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/main.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",2,a61128d1d488474b92cc24dd90a0e74d53aaa2f0,move_render,"- name: apply pre overcloud upgrade prepare workarounds shell: | set -o pipefail ./pre_overcloud_upgrade_prepare_workarounds.sh 2>&1 {{ timestamper_cmd }} >> pre_overcloud_upgrade_prepare_workarounds.log args: executable: /usr/bin/bash chdir: ""{{ working_dir }}"" when: upgrade_workarounds",,8,10
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5,openstack/tripleo-upgrade,stable/train,I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5,Move build_extra_template before upgrade prepare,MERGED,2021-08-24 22:05:36.000000000,2021-08-25 20:17:06.000000000,2021-08-25 20:17:06.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-08-24 22:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4e5c915b5b1ea6a691252e3a4eebac3865a01f97', 'message': 'Move build_extra_template before upgrade prepare\n\nbuild_extra_template.yaml specifies config_heat_extra_yaml fact which is\nused in overcloud_upgrade_prepare.sh.j2. This patch moves it before\nupgrade prepare to render upgrade prepare script properly.\n\nChange-Id: I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5\n'}, {'number': 2, 'created': '2021-08-25 10:07:39.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c41e607a55539cdf7c7f9b08b1e94d330f162c79', 'message': 'Move build_extra_template before upgrade prepare\n\nbuild_extra_template.yaml specifies config_heat_extra_yaml fact which is\nused in overcloud_upgrade_prepare.sh.j2. This patch moves it before\nupgrade prepare to render upgrade prepare script properly.\n\nChange-Id: I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5\n(cherry picked from commit 0ee1f0dcf05581b3a43d539a0625a4f2b8f50c36)\n'}]",0,805888,c41e607a55539cdf7c7f9b08b1e94d330f162c79,12,3,2,11090,,,0,"Move build_extra_template before upgrade prepare

build_extra_template.yaml specifies config_heat_extra_yaml fact which is
used in overcloud_upgrade_prepare.sh.j2. This patch moves it before
upgrade prepare to render upgrade prepare script properly.

Change-Id: I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5
(cherry picked from commit 0ee1f0dcf05581b3a43d539a0625a4f2b8f50c36)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/88/805888/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,4e5c915b5b1ea6a691252e3a4eebac3865a01f97,move_render,# TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool ,# TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool ,5,5
openstack%2Fkolla-ansible~master~Ia36f0080953b2af8adeacd2cffd8840b600c9e34,openstack/kolla-ansible,master,Ia36f0080953b2af8adeacd2cffd8840b600c9e34,[DNM] Test bifrost,ABANDONED,2021-08-25 18:22:39.000000000,2021-08-25 19:35:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-25 18:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a240ad0e93dd502a261575867e7fe2d26549d817', 'message': '[DNM] Test bifrost\n\nChange-Id: Ia36f0080953b2af8adeacd2cffd8840b600c9e34\n'}, {'number': 2, 'created': '2021-08-25 18:49:12.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69f5c8f9d677f8533e26e984c880465738cc53cf', 'message': '[DNM] Test bifrost\n\nChange-Id: Ia36f0080953b2af8adeacd2cffd8840b600c9e34\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/805900\n'}]",0,806040,69f5c8f9d677f8533e26e984c880465738cc53cf,6,1,2,30491,,,0,"[DNM] Test bifrost

Change-Id: Ia36f0080953b2af8adeacd2cffd8840b600c9e34
Depends-On: https://review.opendev.org/c/openstack/kolla/+/805900
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/806040/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,a240ad0e93dd502a261575867e7fe2d26549d817,dnm-test-bifrost, testme: testme,,1,0
openstack%2Fopenstack-ansible~master~Ifa97f3036786a6ec496a21b04ab04c71bb10281f,openstack/openstack-ansible,master,Ifa97f3036786a6ec496a21b04ab04c71bb10281f,Replace deprecated collection names,MERGED,2021-08-23 07:31:04.000000000,2021-08-25 19:30:22.000000000,2021-08-25 19:28:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-23 07:31:04.000000000', 'files': ['playbooks/ceph-rgw-keystone-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d1e727ed3504dc26e65b1d96150e847ab27dd90b', 'message': 'Replace deprecated collection names\n\nChange-Id: Ifa97f3036786a6ec496a21b04ab04c71bb10281f\n'}]",0,805585,d1e727ed3504dc26e65b1d96150e847ab27dd90b,20,3,1,28619,,,0,"Replace deprecated collection names

Change-Id: Ifa97f3036786a6ec496a21b04ab04c71bb10281f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/805585/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-rgw-keystone-setup.yml'],1,d1e727ed3504dc26e65b1d96150e847ab27dd90b,, openstack.cloud.catalog_service: openstack.cloud.identity_user: openstack.cloud.role_assignment: openstack.cloud.identity_role: openstack.cloud.endpoint:, openstack.cloud.os_keystone_service: openstack.cloud.os_user: openstack.cloud.os_user_role: openstack.cloud.os_keystone_role: openstack.cloud.os_keystone_endpoint:,5,5
openstack%2Fmasakari-specs~master~If81a6a9543513acf199afe6a17dceb1544657272,openstack/masakari-specs,master,If81a6a9543513acf199afe6a17dceb1544657272,host monitor by consul,MERGED,2020-06-08 06:49:26.000000000,2021-08-25 19:06:08.000000000,2021-08-25 19:04:50.000000000,"[{'_account_id': 1011}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 26458}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-06-08 06:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/e05ab912671a2d284a491a1fcaf6ac26b9e7536c', 'message': 'spec for host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trgger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 2, 'created': '2020-06-08 07:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/e752707b00ac6a71fa09227b18edee3fe609fdc7', 'message': 'spec for host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trgger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 3, 'created': '2020-06-08 07:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/a0e7147cc82df43b5e0f9364b105362b26db045a', 'message': 'spec for host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trgger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 4, 'created': '2020-06-08 07:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/a52f2965a384d90cfcd59a9fa60a4ce29cdb49f9', 'message': 'spec for host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trgger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 5, 'created': '2020-06-12 02:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/ae9049e44246986acee0a6cd5409fd6b852bcbb9', 'message': 'spec for host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trigger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 6, 'created': '2020-10-19 02:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/9f4fa3ab12f0e40c4d24b9fde4a22d3b3804affd', 'message': 'spec for host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trigger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 7, 'created': '2020-10-19 02:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/48539422b0f5795dc558f04894c4ab6c0f9de84c', 'message': 'spec for host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trigger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 8, 'created': '2020-10-19 02:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/891fd0b64fec09953e05fcebb0fa04fcf62e046d', 'message': 'host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trigger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 9, 'created': '2021-04-09 08:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/6401246c3c6148182fc9d6782975208c1d5e2a3d', 'message': 'host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trigger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 10, 'created': '2021-06-08 06:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/53a7c7273c8ff8f66c3753c3b0fabb6a9744ba67', 'message': 'host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined states, it will trigger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 11, 'created': '2021-08-13 09:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/48dbaff5e283e53e9a213a509446fb629b28870c', 'message': 'host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined HA strategy, it will trigger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 12, 'created': '2021-08-20 02:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/61cbf2d1fd00c31af50cbcb62287f80de6fa3450', 'message': 'host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined HA strategy, it will trigger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}, {'number': 13, 'created': '2021-08-24 06:38:22.000000000', 'files': ['doc/source/images/host-monitor-by-consul.png', 'specs/xena/approved/host-monitor-by-consul.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/7b6f56dd81e6b7127c5a419ac29fba02e46925c6', 'message': 'host monitor by consul\n\nThis spec introduces a new host monitor by consul. It monitors host\nheartbeat via management, tenant and storage connectivity. Only in the\ncase of defined HA strategy, it will trigger host recovery, for example,\nstorage interface disconnected.\n\nChange-Id: If81a6a9543513acf199afe6a17dceb1544657272\nImplements: bp host-monitor-by-consul\n'}]",45,734017,7b6f56dd81e6b7127c5a419ac29fba02e46925c6,46,7,13,24501,,,0,"host monitor by consul

This spec introduces a new host monitor by consul. It monitors host
heartbeat via management, tenant and storage connectivity. Only in the
case of defined HA strategy, it will trigger host recovery, for example,
storage interface disconnected.

Change-Id: If81a6a9543513acf199afe6a17dceb1544657272
Implements: bp host-monitor-by-consul
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/17/734017/7 && git format-patch -1 --stdout FETCH_HEAD,"['specs/victoria/approved/host-monitor-by-consul.rst', 'doc/images/host-monitor-by-consul.png']",2,e05ab912671a2d284a491a1fcaf6ac26b9e7536c,,,,204,0
openstack%2Fkolla-ansible~master~Iebcac0827c6f715c6b804223cdcf2cc2e425120b,openstack/kolla-ansible,master,Iebcac0827c6f715c6b804223cdcf2cc2e425120b,docs: Add placeholder page for CI & testing information,MERGED,2021-02-15 10:02:50.000000000,2021-08-25 18:52:50.000000000,2021-08-25 18:51:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-15 10:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28314e1bab0d725fe40fd8dd0f558506fe4811df', 'message': 'docs: Add placeholder page for CI & testing information\n\nChange-Id: Iebcac0827c6f715c6b804223cdcf2cc2e425120b\n'}, {'number': 2, 'created': '2021-08-25 16:25:42.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8641e90c3c71cc875e90d0c39e6c3ea514a1bda', 'message': 'docs: Add placeholder page for CI & testing information\n\nChange-Id: Iebcac0827c6f715c6b804223cdcf2cc2e425120b\n'}]",0,775564,d8641e90c3c71cc875e90d0c39e6c3ea514a1bda,9,2,2,14826,,,0,"docs: Add placeholder page for CI & testing information

Change-Id: Iebcac0827c6f715c6b804223cdcf2cc2e425120b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/775564/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/ci.rst']",2,28314e1bab0d725fe40fd8dd0f558506fe4811df,,===================================== Continuous Integration (CI) & Testing ===================================== This page is a placeholder for information on the Kolla Ansible Continuous Integration (CI) & testing setup. ,,7,0
openstack%2Fironic~stable%2Fwallaby~I5a176f51db93d2a2238496f6955c1c7d9a79c548,openstack/ironic,stable/wallaby,I5a176f51db93d2a2238496f6955c1c7d9a79c548,Remove redundant/legacy is_admin logic,MERGED,2021-06-28 14:07:20.000000000,2021-08-25 18:50:16.000000000,2021-08-25 18:48:28.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-28 14:07:20.000000000', 'files': ['ironic/tests/unit/common/test_context.py', 'ironic/api/hooks.py', 'ironic/common/context.py', 'ironic/tests/unit/api/test_hooks.py', 'ironic/common/glance_service/service_utils.py', 'ironic/tests/unit/api/controllers/v1/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/68e08b52a19ab52b63d24463a23faeb89726cd03', 'message': ""Remove redundant/legacy is_admin logic\n\nThe original model used was to assert is_admin on the object context\nwhich was actually used in only one place in ironic's code. Redudnantly\nof course.\n\nThis is an excess call of is_admin on all API invocations, and is\nsimply not necessary as individual calls have API policy checking\nand is_admin was only being consulted in the glance service utils...\nHowever, the glance service utils also confirmed it should be able\nto access glance if there was an auth_token present on the request\nwhich should also always be the case. This was somewhat identified\nas redundant/possible bug during the Wallaby cycle and appears to\nbe fine to remove\n\nThis does *not* remove the deprecated rule. At present, it appears\nthat rule may not be removed until after Xena.\n\nChange-Id: I5a176f51db93d2a2238496f6955c1c7d9a79c548\n(cherry picked from commit f91915d4cd2abec54d760556e0e5c5f7ddae70ca)\n""}]",0,798316,68e08b52a19ab52b63d24463a23faeb89726cd03,12,3,1,11655,,,0,"Remove redundant/legacy is_admin logic

The original model used was to assert is_admin on the object context
which was actually used in only one place in ironic's code. Redudnantly
of course.

This is an excess call of is_admin on all API invocations, and is
simply not necessary as individual calls have API policy checking
and is_admin was only being consulted in the glance service utils...
However, the glance service utils also confirmed it should be able
to access glance if there was an auth_token present on the request
which should also always be the case. This was somewhat identified
as redundant/possible bug during the Wallaby cycle and appears to
be fine to remove

This does *not* remove the deprecated rule. At present, it appears
that rule may not be removed until after Xena.

Change-Id: I5a176f51db93d2a2238496f6955c1c7d9a79c548
(cherry picked from commit f91915d4cd2abec54d760556e0e5c5f7ddae70ca)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/798316/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_context.py', 'ironic/api/hooks.py', 'ironic/common/context.py', 'ironic/tests/unit/api/test_hooks.py', 'ironic/common/glance_service/service_utils.py', 'ironic/tests/unit/api/controllers/v1/test_node.py']",6,68e08b52a19ab52b63d24463a23faeb89726cd03,secure-rbac-stable/wallaby,," mock.call('is_admin', mock.ANY, mock.ANY),",5,29
openstack%2Felection~master~Iaf309da4683fe69b2bb7d1691e0fe498920d7db2,openstack/election,master,Iaf309da4683fe69b2bb7d1691e0fe498920d7db2,"bump py35,py37 to py3 in tox.ini",MERGED,2020-10-12 03:03:52.000000000,2021-08-25 18:18:46.000000000,2021-08-25 18:16:42.000000000,"[{'_account_id': 2033}, {'_account_id': 11904}, {'_account_id': 14482}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30491}, {'_account_id': 31027}]","[{'number': 1, 'created': '2020-10-12 03:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/fd336a578a8eeda383e24e21270c858e10fc7d0d', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nref:\n  https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: Iaf309da4683fe69b2bb7d1691e0fe498920d7db2\n""}, {'number': 2, 'created': '2020-10-13 00:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/64765fe8463be23c8e7c4ec4345702a60754cd2b', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nref:\n  https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: Iaf309da4683fe69b2bb7d1691e0fe498920d7db2\n""}, {'number': 3, 'created': '2020-10-13 01:12:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/election/commit/761ddc7fe70e91681e0864970e76fee634b5390d', 'message': ""bump py35,py37 to py3 in tox.ini\n\nIn 'victoria' cycle, we should test py38 by default.\nBut we let local development tests run with whatever the default\nlocal py3 is the default.\n\nref:\n  https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: Iaf309da4683fe69b2bb7d1691e0fe498920d7db2\n""}]",0,757376,761ddc7fe70e91681e0864970e76fee634b5390d,21,7,3,31027,,,0,"bump py35,py37 to py3 in tox.ini

In 'victoria' cycle, we should test py38 by default.
But we let local development tests run with whatever the default
local py3 is the default.

ref:
  https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: Iaf309da4683fe69b2bb7d1691e0fe498920d7db2
",git fetch https://review.opendev.org/openstack/election refs/changes/76/757376/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fd336a578a8eeda383e24e21270c858e10fc7d0d,py38,"envlist = docs,linters,py38","envlist = docs,linters,py35,py37",1,1
openstack%2Fkolla~master~Ie19bf46236907d79cb42a5e94cd1067e952b8cbb,openstack/kolla,master,Ie19bf46236907d79cb42a5e94cd1067e952b8cbb,Debian/Ubuntu: handle APT keys in proper way,MERGED,2021-04-06 11:18:20.000000000,2021-08-25 17:22:17.000000000,2021-08-25 17:18:27.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-06 11:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/54d5991db141b8f25072069edacfb27a9a05a908', 'message': ""Debian/Ubuntu: install APT keys like APT expects them\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in /etc/apt/trusted.gpg.d/ directory.\nAnd this is what this patch does.\n\nThere is one list of APT files for both distributions.\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 2, 'created': '2021-04-06 14:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5e37e2ae635b0d4832a1ba12891530d43583f624', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for each\nrepo source file, point to proper key. And this is what this patch does.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 3, 'created': '2021-04-06 14:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9d665dcbf21feea1789eaf45d1993593cf8f078e', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for each\nrepo source file, point to proper key. And this is what this patch does.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 4, 'created': '2021-04-08 08:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2873c084ffbd580f81d620eaef008d1d027af287', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for each\nrepo source file, point to proper key. And this is what this patch does.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 5, 'created': '2021-04-13 10:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a504f40104a4ff10ffc46b12c0302e544fb188cc', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for each\nrepo source file, point to proper key. And this is what this patch does.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 6, 'created': '2021-04-14 17:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/23f3f02c45c337b2605f41fd04dc616b2f8d9ce6', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 7, 'created': '2021-04-19 17:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d043385205a914d2d39f050ad9391e8dd8df7a51', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 8, 'created': '2021-04-20 12:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c7fb50e1b6cdf3f8aeee5976828e42e8c73a415', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 9, 'created': '2021-04-21 11:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7ffcf16cfa9f03d2e75749e18d6254baab27987d', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 10, 'created': '2021-04-21 11:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b12717eeb2d7b1f77f4f2cebdfa88f7e95b01f7d', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 11, 'created': '2021-04-21 22:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3dd995dc45243f435d9dd8a71b66777dce3dafb6', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 12, 'created': '2021-04-22 06:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6d3bc9232bfdb6b504f149e95ac3884c547ffee1', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 13, 'created': '2021-04-22 09:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/57cf8424d2df6c05d7a66c3779ec33b9b3bfda7d', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 14, 'created': '2021-04-22 17:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/624d65e6e01594df4f039317d5e124c0e19be4dc', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 15, 'created': '2021-04-26 18:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3c33d83bed7a761895f970ef1d2ce764eafffadf', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 16, 'created': '2021-05-03 18:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4955003e52b05b753a1341c739e4319643b60ed3', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 17, 'created': '2021-05-05 14:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9b5da3c07e03e75babc7ffbb8461bcee4e90d9a2', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 18, 'created': '2021-05-06 12:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/36e0c7e198654180e759cf07f041e838f8f035fd', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 19, 'created': '2021-05-17 07:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/882307862cfb208b497751b6a1ab0d95100ff95a', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 20, 'created': '2021-05-17 12:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/11a60e438af93ecce75aa19eb2e722fa5ebe1809', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated already and in Debian 'bullseye' it even complain\nwhen we use it the way we did.\n\nProper way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nThere is one list of APT files for both distributions.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 21, 'created': '2021-05-17 16:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb58d81cc7b146d6c7c7b707141c8f008edf94a5', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated and in Debian 'bullseye' it complain when we use\nit the way we did.\n\nThe right way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nBoth distros use the same lists now.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 22, 'created': '2021-06-28 09:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1edc99a9067cb3e1cd9be46d9bae00143dad841c', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated and in Debian 'bullseye' it complain when we use\nit the way we did.\n\nThe right way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nBoth distros use the same lists now.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 23, 'created': '2021-07-06 11:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f9dc572cbe0e583df809063187f54a710caa66b', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated and in Debian 'bullseye' it complain when we use\nit the way we did.\n\nThe right way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nBoth distros use the same lists now.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 24, 'created': '2021-07-28 16:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/92d5c2850da48f63faf709069f42ba34d0dd6fa8', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated and in Debian 'bullseye' it complain when we use\nit the way we did.\n\nThe right way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nBoth distros use the same lists now.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 25, 'created': '2021-08-04 13:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/25737eb38454ed9ae19b7a244ea2b841bc1acf3c', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated and in Debian 'bullseye' it complain when we use\nit the way we did.\n\nThe right way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nBoth distros use the same keys now.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 26, 'created': '2021-08-04 14:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/12c3754687aff3d9a70ba2290c91bbcfa0321762', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated and in Debian 'bullseye' it complain when we use\nit the way we did.\n\nThe right way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nBoth distros use the same keys now.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 27, 'created': '2021-08-24 11:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/38e7ec00b7e95513d8de79bc0528ff7b5a82217a', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated and in Debian 'bullseye' it complain when we use\nit the way we did.\n\nThe right way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nBoth distros use the same keys now.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 28, 'created': '2021-08-24 11:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ce127fefd5ff226dd48c309f6963a7d6e9e5e8db', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated and in Debian 'bullseye' it complain when we use\nit the way we did.\n\nThe right way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nBoth distros use the same keys now.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}, {'number': 29, 'created': '2021-08-24 12:46:56.000000000', 'files': ['kolla/template/methods.py', 'docker/base/Dockerfile.j2', 'releasenotes/notes/apt-keys-bb7c8678fc6d908b.yaml', 'kolla/template/repos.yaml', 'kolla/tests/test_methods.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ffaf102fecc20510513de4898ce85b5b119e1795', 'message': ""Debian/Ubuntu: handle APT keys in proper way\n\napt-key is deprecated and in Debian 'bullseye' it complain when we use\nit the way we did.\n\nThe right way is to store key files in separate directory and then, for\neach repo source file, point to proper key. And this is what this patch\ndoes.\n\nBoth distros use the same keys now.\n\nMore info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/\n\nChange-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb\n""}]",46,784923,ffaf102fecc20510513de4898ce85b5b119e1795,121,7,29,24072,,,0,"Debian/Ubuntu: handle APT keys in proper way

apt-key is deprecated and in Debian 'bullseye' it complain when we use
it the way we did.

The right way is to store key files in separate directory and then, for
each repo source file, point to proper key. And this is what this patch
does.

Both distros use the same keys now.

More info: https://michael-prokop.at/blog/2021/02/16/how-to-properly-use-3rd-party-debian-repository-signing-keys-with-apt/

Change-Id: Ie19bf46236907d79cb42a5e94cd1067e952b8cbb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/784923/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,54d5991db141b8f25072069edacfb27a9a05a908,," {% if base_distro == 'ubuntu' %} {% set base_ubuntu_package_pre_packages = base_ubuntu_package_pre_packages + [ 'ubuntu-cloud-keyring' ] %} {% endif %} {% set base_apt_keys = [ ] %} {# NOTE(hrw): type field defaults to 'asc' which is used for single keys #} {% set remote_apt_keys = [ {'name': 'debian-openstack', 'url': 'http://buster-victoria.debian.net/debian/dists/pubkey.gpg'}, {'name': 'elasticsearch', 'url': 'https://artifacts.elastic.co/GPG-KEY-elasticsearch'}, {'name': 'grafana', 'url': 'https://packages.grafana.com/gpg.key'}, {'name': 'influxdb', 'url': 'https://repos.influxdata.com/influxdb.key'}, {'name': 'linaro', 'url': 'https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster/Release.key'}, {'name': 'mariadb', 'url': 'https://downloads.mariadb.com/MariaDB/mariadb-keyring-2019.gpg', 'type': 'gpg'}, {'name': 'rabbitmq', 'url': 'https://www.rabbitmq.com/rabbitmq-release-signing-key.asc'}, {'name': 'treasuredata', 'url': 'https://packages.treasuredata.com/GPG-KEY-td-agent'}, ] %} {%- if loop.first %} RUN {% else %} && {% endif %}curl {{ key.url }} -s -o /etc/apt/trusted.gpg.d/{{ key.name }}.{{ key.type | default('asc') }}","{% if base_distro == 'ubuntu' %} {# 391A9AA2147192839E9DB0315EDB1B62EC4926EA -- Canonical Cloud Archive Signing Key <ftpmaster@canonical.com> #} {# 46095ACC8548582C1A2699A9D27D666CD88E42B4 -- Elasticsearch (Elasticsearch Signing Key) <dev_ops@elasticsearch.org> #} {# 58118E89F3A912897C070ADBF76221572C52609D -- Docker Release Tool (releasedocker) <docker@docker.com> #} {# 4D8EB5FDA37AB55F41A135203BF88A0C6A770882 -- Apache Qpid PPA Signing Key <dev@qpid.apache.org> #} {# 901F9177AB97ACBE -- Treasure Data, Inc (Treasure Agent Official Signing key) <support@treasure-data.com> #} {# A20F259AEB9C94BB -- Sensuapp (Freight) <support@hw-ops.com> #} {# F1656F24C74CD1D8 -- MariaDB Signing Key <signing-key@mariadb.org> #} {% set base_apt_keys = [ '391A9AA2147192839E9DB0315EDB1B62EC4926EA', '46095ACC8548582C1A2699A9D27D666CD88E42B4', '49B07274951063870A8B7EAE7B8AA1A344C05248', '58118E89F3A912897C070ADBF76221572C52609D', '4D8EB5FDA37AB55F41A135203BF88A0C6A770882', '901F9177AB97ACBE', 'A20F259AEB9C94BB', 'F1656F24C74CD1D8', ] %} {% set remote_apt_keys = [ 'https://www.rabbitmq.com/rabbitmq-release-signing-key.asc', 'https://packages.grafana.com/gpg.key', 'https://repos.influxdata.com/influxdb.key', ] %} {% elif base_distro == 'debian' %} {% set base_apt_keys = [ '46095ACC8548582C1A2699A9D27D666CD88E42B4', ] %} {% set remote_apt_keys = [ 'https://download.docker.com/linux/debian/gpg', 'https://packages.grafana.com/gpg.key', 'http://buster-ussuri.debian.net/debian/dists/pubkey.gpg', 'https://packages.treasuredata.com/GPG-KEY-td-agent', 'https://repos.influxdata.com/influxdb.key', 'https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster/Release.key', 'https://www.rabbitmq.com/rabbitmq-release-signing-key.asc', ] %} {% set base_apt_packages = base_apt_packages + ['sudo',] %} {% endif %} {%- if loop.first %} RUN {% else %} && {% endif %}curl {{ key }} | apt-key add -",22,41
openstack%2Fopenstack-helm-infra~master~I89cf07b28ad8e0e529646977a0a36dd2df48966d,openstack/openstack-helm-infra,master,I89cf07b28ad8e0e529646977a0a36dd2df48966d,Fix Ceph checkDNS script,MERGED,2021-08-24 22:43:07.000000000,2021-08-25 17:18:44.000000000,2021-08-25 17:17:00.000000000,"[{'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 32190}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-08-24 22:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3602b7ebf9e253e13ed2c325779af81ac80e0ee7', 'message': 'Fix Ceph checkDNS script\n\nThe checkDNS script which is run inside the ceph-mon pods has had\na bug for a while now. If a value of ""up"" is passed in, it adds\nbrackets around it, but then doesn\'t check for the brackets when\nchecking for a value of ""up"". This causes a value of ""{up}"" to be\nwritten into the ceph.conf for the mon_host line and that causes\nthe mon_host to not be able to respond to ceph/rbd commands. Its\nnormally not a problem if DNS is working, but if DNS stops working\nthis can happen.\n\nThis patch changes the comparison to look for ""{up}"" instead of\n""up"", which should fix the problem.\n\nChange-Id: I89cf07b28ad8e0e529646977a0a36dd2df48966d\n'}, {'number': 2, 'created': '2021-08-24 22:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ac9d51aba074c49873f9df0f2087e69d55cb35a', 'message': 'Fix Ceph checkDNS script\n\nThe checkDNS script which is run inside the ceph-mon pods has had\na bug for a while now. If a value of ""up"" is passed in, it adds\nbrackets around it, but then doesn\'t check for the brackets when\nchecking for a value of ""up"". This causes a value of ""{up}"" to be\nwritten into the ceph.conf for the mon_host line and that causes\nthe mon_host to not be able to respond to ceph/rbd commands. Its\nnormally not a problem if DNS is working, but if DNS stops working\nthis can happen.\n\nThis patch changes the comparison to look for ""{up}"" instead of\n""up"", which should fix the problem.\n\nChange-Id: I89cf07b28ad8e0e529646977a0a36dd2df48966d\n'}, {'number': 3, 'created': '2021-08-25 14:18:12.000000000', 'files': ['ceph-mon/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-client/Chart.yaml', 'ceph-mon/Chart.yaml', 'releasenotes/notes/ceph-mon.yaml', 'ceph-osd/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/bin/utils/_checkDNS.sh.tpl', 'releasenotes/notes/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0aec27ebcb50031bfe0a611343634f480007c6b', 'message': 'Fix Ceph checkDNS script\n\nThe checkDNS script which is run inside the ceph-mon pods has had\na bug for a while now. If a value of ""up"" is passed in, it adds\nbrackets around it, but then doesn\'t check for the brackets when\nchecking for a value of ""up"". This causes a value of ""{up}"" to be\nwritten into the ceph.conf for the mon_host line and that causes\nthe mon_host to not be able to respond to ceph/rbd commands. Its\nnormally not a problem if DNS is working, but if DNS stops working\nthis can happen.\n\nThis patch changes the comparison to look for ""{up}"" instead of\n""up"" in three different files, which should fix the problem.\n\nChange-Id: I89cf07b28ad8e0e529646977a0a36dd2df48966d\n'}]",0,805913,a0aec27ebcb50031bfe0a611343634f480007c6b,17,10,3,22636,,,0,"Fix Ceph checkDNS script

The checkDNS script which is run inside the ceph-mon pods has had
a bug for a while now. If a value of ""up"" is passed in, it adds
brackets around it, but then doesn't check for the brackets when
checking for a value of ""up"". This causes a value of ""{up}"" to be
written into the ceph.conf for the mon_host line and that causes
the mon_host to not be able to respond to ceph/rbd commands. Its
normally not a problem if DNS is working, but if DNS stops working
this can happen.

This patch changes the comparison to look for ""{up}"" instead of
""up"" in three different files, which should fix the problem.

Change-Id: I89cf07b28ad8e0e529646977a0a36dd2df48966d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/13/805913/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-mon/templates/bin/utils/_checkDNS.sh.tpl'],1,3602b7ebf9e253e13ed2c325779af81ac80e0ee7,," if [[ ""${ENDPOINT}"" == ""{up}"" ]]; then"," if [[ ""${ENDPOINT}"" == ""up"" ]]; then",1,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0f9f0d26a6b499c13af994edd1353b19620be14d,openstack/tripleo-ansible,stable/wallaby,I0f9f0d26a6b499c13af994edd1353b19620be14d,Convert all OS module imports to collections imports,MERGED,2021-08-18 09:36:01.000000000,2021-08-25 16:57:45.000000000,2021-08-25 16:52:01.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-18 09:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd8c687c49c51744ce24a51b9ccb2ff1d684eb52', 'message': 'Convert all OS module imports to collections imports\n\nInstead of importing code from 2.9 Ansible modules, start import\nit from Openstack Ansible collection.\nIt requires Openstack Ansible collection to be installed and will\nwork with both Ansible 2.9 and 2.11\n\nChange-Id: I0f9f0d26a6b499c13af994edd1353b19620be14d\n(cherry picked from commit a4afb20deb9d0b95f0cc01bb893eb537fac56f16)\n'}, {'number': 2, 'created': '2021-08-18 10:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dacc9c51ff79614d12c616283ad8eec139356ee9', 'message': 'Convert all OS module imports to collections imports\n\nInstead of importing code from 2.9 Ansible modules, start import\nit from Openstack Ansible collection.\nIt requires Openstack Ansible collection to be installed and will\nwork with both Ansible 2.9 and 2.11\n\nChange-Id: I0f9f0d26a6b499c13af994edd1353b19620be14d\n(cherry picked from commit a4afb20deb9d0b95f0cc01bb893eb537fac56f16)\n'}, {'number': 3, 'created': '2021-08-18 13:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d2e2fbe7381b8beb2ffa1a5933352bf016cfd90', 'message': 'Convert all OS module imports to collections imports\n\nInstead of importing code from 2.9 Ansible modules, start import\nit from Openstack Ansible collection.\nIt requires Openstack Ansible collection to be installed and will\nwork with both Ansible 2.9 and 2.11\n\nChange-Id: I0f9f0d26a6b499c13af994edd1353b19620be14d\n(cherry picked from commit a4afb20deb9d0b95f0cc01bb893eb537fac56f16)\n'}, {'number': 4, 'created': '2021-08-19 08:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7b9baa4f1360f0670beea24a008c517604b71c6', 'message': 'Convert all OS module imports to collections imports\n\nInstead of importing code from 2.9 Ansible modules, start import\nit from Openstack Ansible collection.\nIt requires Openstack Ansible collection to be installed and will\nwork with both Ansible 2.9 and 2.11\n\nChange-Id: I0f9f0d26a6b499c13af994edd1353b19620be14d\n(cherry picked from commit a4afb20deb9d0b95f0cc01bb893eb537fac56f16)\n'}, {'number': 5, 'created': '2021-08-23 06:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc46d879cee6830e492005418e6b32fe79be0216', 'message': 'Convert all OS module imports to collections imports\n\nInstead of importing code from 2.9 Ansible modules, start import\nit from Openstack Ansible collection.\nIt requires Openstack Ansible collection to be installed and will\nwork with both Ansible 2.9 and 2.11\n\nChange-Id: I0f9f0d26a6b499c13af994edd1353b19620be14d\n(cherry picked from commit a4afb20deb9d0b95f0cc01bb893eb537fac56f16)\n'}, {'number': 6, 'created': '2021-08-23 11:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a647e67eeee81aeb64d1c32029fcff4b0ef1b140', 'message': 'Convert all OS module imports to collections imports\n\nInstead of importing code from 2.9 Ansible modules, start import\nit from Openstack Ansible collection.\nIt requires Openstack Ansible collection to be installed and will\nwork with both Ansible 2.9 and 2.11\n\nChange-Id: I0f9f0d26a6b499c13af994edd1353b19620be14d\n(cherry picked from commit a4afb20deb9d0b95f0cc01bb893eb537fac56f16)\n'}, {'number': 7, 'created': '2021-08-23 13:58:55.000000000', 'files': ['_skeleton_role_/defaults/main.yml.j2', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_core_list.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_extract.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_config_download.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_generate_ansible_inventory.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/modules/os_baremetal_node_info.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_fernet_keys_rotate.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_flavor_profile.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_introspected_data.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_list_overclouds.py', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_socket_memory.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_unmanaged_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_check_existing.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_host_cpus.py', 'tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_stop.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_build_heat_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_nics_numa_info.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py', 'tripleo_ansible/ansible_plugins/modules/os_baremetal_clean_node.py', 'molecule-requirements.txt', 'ansible-requirements.txt', 'tripleo_ansible/ansible_plugins/modules/tripleo_passwords_rotate.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_generate_inventory_network_config.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_provision.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_populate_environment.py', 'doc/requirements.txt', 'tripleo_ansible/ansible_plugins/modules/tripleo_unprovision_network.py', 'tripleo_ansible/ansible_plugins/modules/baremetal_register_or_update_nodes.py', 'tox.ini', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_ports_populate_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/58f1b664379e3fd440251ad649a25f0d864d3083', 'message': 'Convert all OS module imports to collections imports\n\nInstead of importing code from 2.9 Ansible modules, start import\nit from Openstack Ansible collection.\nIt requires Openstack Ansible collection to be installed and will\nwork with both Ansible 2.9 and 2.11\n\nChange-Id: I0f9f0d26a6b499c13af994edd1353b19620be14d\n(cherry picked from commit a4afb20deb9d0b95f0cc01bb893eb537fac56f16)\n'}]",6,804869,58f1b664379e3fd440251ad649a25f0d864d3083,29,6,7,10969,,,0,"Convert all OS module imports to collections imports

Instead of importing code from 2.9 Ansible modules, start import
it from Openstack Ansible collection.
It requires Openstack Ansible collection to be installed and will
work with both Ansible 2.9 and 2.11

Change-Id: I0f9f0d26a6b499c13af994edd1353b19620be14d
(cherry picked from commit a4afb20deb9d0b95f0cc01bb893eb537fac56f16)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/804869/4 && git format-patch -1 --stdout FETCH_HEAD,"['_skeleton_role_/defaults/main.yml.j2', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_core_list.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_extract.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_config_download.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_generate_ansible_inventory.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/modules/os_baremetal_node_info.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_fernet_keys_rotate.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_flavor_profile.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_introspected_data.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_list_overclouds.py', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/ansible-collections-requirements.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_socket_memory.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_unmanaged_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_check_existing.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_host_cpus.py', 'tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_stop.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_build_heat_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_nics_numa_info.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_nova_image_cache.py', 'tripleo_ansible/ansible_plugins/modules/os_baremetal_clean_node.py', 'molecule-requirements.txt', 'ansible-requirements.txt', 'tripleo_ansible/ansible_plugins/modules/tripleo_passwords_rotate.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_generate_inventory_network_config.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_provision.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_unprovision_network.py', 'tripleo_ansible/ansible_plugins/modules/baremetal_register_or_update_nodes.py', 'tox.ini', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_ports_populate_environment.py']",43,bd8c687c49c51744ce24a51b9ccb2ff1d684eb52,2.11-stable/wallaby,from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_cloud_from_module,from ansible.module_utils.openstack import openstack_full_argument_spec from ansible.module_utils.openstack import openstack_module_kwargs from ansible.module_utils.openstack import openstack_cloud_from_module,127,211
openstack%2Fos-net-config~master~I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae,openstack/os-net-config,master,I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae,allow vhost0 to pass list of members,MERGED,2021-08-18 12:05:38.000000000,2021-08-25 16:56:59.000000000,2021-08-25 16:51:58.000000000,"[{'_account_id': 4328}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 12:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/479ca1ad5b01276754ca5175fb0aa9a4d957d786', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n'}, {'number': 2, 'created': '2021-08-24 13:59:06.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/178564dccd07b9267b627b3969bde8d3a0045857', 'message': 'allow vhost0 to pass list of members\n\n- in case of L3MH Contrail feature for kernel mode\nBIND_INT might be a list\n\nChange-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae\n'}]",0,804994,178564dccd07b9267b627b3969bde8d3a0045857,19,4,2,18810,,,0,"allow vhost0 to pass list of members

- in case of L3MH Contrail feature for kernel mode
BIND_INT might be a list

Change-Id: I2c44d86822b7bf74a10e7e7e81abcb22b5f639ae
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/94/804994/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,479ca1ad5b01276754ca5175fb0aa9a4d957d786,," ifnames = "","".join([m.name for m in contrail_vrouter.members]) data += ""BIND_INT=%s\n"" % ifnames"," # Contrail vrouter will have the only member (of type interface, # vlan or linux_bond) ifname = contrail_vrouter.members[0].name data += ""BIND_INT=%s\n"" % ifname",25,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049,openstack/tripleo-heat-templates,stable/wallaby,Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049,Add DeployedCeph boolean parameter,MERGED,2021-08-24 19:52:22.000000000,2021-08-25 16:55:23.000000000,2021-08-25 16:55:23.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-24 19:52:22.000000000', 'files': ['deployment/cephadm/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25c35154286237989e75eafcd9ad78d040d8041b', 'message': 'Add DeployedCeph boolean parameter\n\nIf the Ceph cluster has already been deployed but needs to be\nconfigured so that the overcloud can use it (create cephx keys,\npools, configure RGW with haproxy, etc), then this parameter\nshould be set to true. Set this parameter to false to have\ncephadm deploy the ceph cluster during overcloud deployment.\nDeployedCeph and CephDynamicSpec are mutually exclusive.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049\n(cherry picked from commit feb93b26b42673d1958917603f2498b9456fb34c)\n'}]",0,805827,25c35154286237989e75eafcd9ad78d040d8041b,7,4,1,18002,,,0,"Add DeployedCeph boolean parameter

If the Ceph cluster has already been deployed but needs to be
configured so that the overcloud can use it (create cephx keys,
pools, configure RGW with haproxy, etc), then this parameter
should be set to true. Set this parameter to false to have
cephadm deploy the ceph cluster during overcloud deployment.
DeployedCeph and CephDynamicSpec are mutually exclusive.

Depends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839
Change-Id: Ic80f5d6fd0956040b9ced1e9e0f6079a2c0d3049
(cherry picked from commit feb93b26b42673d1958917603f2498b9456fb34c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/805827/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-base.yaml'],1,25c35154286237989e75eafcd9ad78d040d8041b,deployed_ceph-stable/wallaby," DeployedCeph: default: false type: boolean description: | If the Ceph cluster has already been deployed but needs to be configured so that the overcloud can use it (create cephx keys, pools, configure RGW with haproxy, etc), then this parameter should be set to true. Set this parameter to false to have cephadm deploy the ceph cluster during overcloud deployment. DeployedCeph and CephDynamicSpec are mutually exclusive. tripleo_cephadm_deployed_ceph: {get_param: DeployedCeph} when: (not deployed_ceph and (groups['ceph_mon'] | default([]) | length > 0 or groups['ceph_nfs'] | default([]) | length > 0)) or (deployed_ceph and ((groups['ceph_rgw'] | default([]) != groups['ceph_mon'] | default([]) and groups['ceph_rgw'] | default([]) | length > 0) or (groups['ceph_mds'] | default([]) != groups['ceph_mon'] | default([]) and groups['ceph_mds'] | default([]) | length > 0) or (groups['ceph_nfs'] | default([]) != groups['ceph_mon'] | default([]) and groups['ceph_nfs'] | default([]) | length > 0) or (groups['ceph_rbdmirror'] | default([]) != groups['ceph_mon'] | default([]) and groups['ceph_rbdmirror'] | default([]) | length > 0))) vars: deployed_ceph: {get_param: DeployedCeph} - name: Deploy or configure the cephadm Ceph cluster", # This is supposed to run a playbook which is responsible to # deploy Ceph using cephadm. # The storage network is supposed to be available since we are # at step 2 # TODO: (fpantano) Remove this section when --network-ports is # available and Ceph deployment can be moved **before** # the overcloud. when: groups['ceph_mon'] | default([]) | length > 0 or groups['ceph_nfs'] | default([]) | length > 0 - name: Deploy the ceph cluster using cephadm,33,10
openstack%2Ftripleo-upgrade~master~I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5,openstack/tripleo-upgrade,master,I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5,Move build_extra_template before upgrade prepare,MERGED,2021-08-24 22:07:36.000000000,2021-08-25 16:51:55.000000000,2021-08-25 16:51:55.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2021-08-24 22:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a5dd9b7f223936e850963fe9988371bcbc6dc5f9', 'message': 'Move build_extra_template before upgrade prepare\n\nbuild_extra_template.yaml specifies config_heat_extra_yaml fact which is\nused in overcloud_upgrade_prepare.sh.j2. This patch moves it before\nupgrade prepare to render upgrade prepare script properly.\n\nChange-Id: I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5\n'}, {'number': 2, 'created': '2021-08-25 09:51:15.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0ee1f0dcf05581b3a43d539a0625a4f2b8f50c36', 'message': 'Move build_extra_template before upgrade prepare\n\nbuild_extra_template.yaml specifies config_heat_extra_yaml fact which is\nused in overcloud_upgrade_prepare.sh.j2. This patch moves it before\nupgrade prepare to render upgrade prepare script properly.\n\nChange-Id: I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5\n'}]",0,805889,0ee1f0dcf05581b3a43d539a0625a4f2b8f50c36,10,3,2,11090,,,0,"Move build_extra_template before upgrade prepare

build_extra_template.yaml specifies config_heat_extra_yaml fact which is
used in overcloud_upgrade_prepare.sh.j2. This patch moves it before
upgrade prepare to render upgrade prepare script properly.

Change-Id: I4b6d2d7345c9ad8f84a26909eb7ad350fe4e35a5
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/89/805889/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,a5dd9b7f223936e850963fe9988371bcbc6dc5f9,move_render_master,# TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool ,# TODO: Not comptatible with oooq - name: build extra templates based on new options. import_tasks: ../common/build_extra_template.yaml when: not use_oooq|bool ,5,5
openstack%2Fdevstack~master~I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9,openstack/devstack,master,I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9,Set swap size to 4G for c8 jobs,MERGED,2021-08-06 07:24:52.000000000,2021-08-25 16:33:31.000000000,2021-08-25 16:28:43.000000000,"[{'_account_id': 1}, {'_account_id': 1921}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-06 07:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ab6713b93115a11797c23bc923693d8a2335d6cc', 'message': 'Set swap size to 8G for c8 jobs\n\nTempest is failing randomly with different reasons\nas mentioned in the bug, updating swap size those\nissues are not seen.\n\nBefore [1] default swap size used to be 8GB but was dropped\nto 1G so need to configure it in required job itself.\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/750941\n\nCloses-Bug: #1938914\nChange-Id: I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9\n'}, {'number': 2, 'created': '2021-08-12 16:01:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/60b5538c337dfa3c8f60fecdc64e671acd1f1cbe', 'message': 'Set swap size to 4G for c8 jobs\n\nTempest is failing randomly with different reasons\nas mentioned in the bug, updating swap size those\nissues are not seen.\n\nBefore [1] default swap size used to be 8GB but was dropped\nto 1G so need to configure it in required job itself.\n\nDid couple of tests in [2] and with 4GB+ swap jobs are\nrunning green. On investigation found that with qemu-5\nboth Ubuntu and CentOS jobs have memory crunch, currently\nUbuntu jobs are not impacted as they are running with\nqemu-4.\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/750941\n[2] https://review.opendev.org/c/openstack/devstack/+/803144\n\nCloses-Bug: #1938914\nChange-Id: I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9\n'}]",0,803706,60b5538c337dfa3c8f60fecdc64e671acd1f1cbe,20,14,2,13861,,,0,"Set swap size to 4G for c8 jobs

Tempest is failing randomly with different reasons
as mentioned in the bug, updating swap size those
issues are not seen.

Before [1] default swap size used to be 8GB but was dropped
to 1G so need to configure it in required job itself.

Did couple of tests in [2] and with 4GB+ swap jobs are
running green. On investigation found that with qemu-5
both Ubuntu and CentOS jobs have memory crunch, currently
Ubuntu jobs are not impacted as they are running with
qemu-4.

[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/750941
[2] https://review.opendev.org/c/openstack/devstack/+/803144

Closes-Bug: #1938914
Change-Id: I57910b5fde5ddf2bd37d93e06c1aff77c6e231e9
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/803706/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ab6713b93115a11797c23bc923693d8a2335d6cc,bug/1938914, vars: configure_swap_size: 8192,,2,0
openstack%2Fneutron-tempest-plugin~master~I5fee2579a158918c2c22d95493b471e23d0f8161,openstack/neutron-tempest-plugin,master,I5fee2579a158918c2c22d95493b471e23d0f8161,Checking IP version from extra-dhcp-options,MERGED,2021-08-16 14:13:05.000000000,2021-08-25 16:31:39.000000000,2021-08-25 16:31:39.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 29350}, {'_account_id': 31450}]","[{'number': 1, 'created': '2021-08-16 14:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/313192a13f4a8a130f08d02bcf9f4109efca2917', 'message': 'Checking IP version from extra-dhcp-options\n\nExisting IPv4 and IPv6 extra-dhcp-options tests ignored the ip_version\nattribute, so all the extra-dhcp-options tested had IP version 4\n\nChange-Id: I5fee2579a158918c2c22d95493b471e23d0f8161\n'}, {'number': 2, 'created': '2021-08-20 15:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/028d59c82c034c37a25ea7efac2c2adb4fd1c55e', 'message': 'Checking IP version from extra-dhcp-options\n\nExisting IPv4 and IPv6 extra-dhcp-options tests ignored the ip_version\nattribute, so all the extra-dhcp-options tested had IP version 4\n\nChange-Id: I5fee2579a158918c2c22d95493b471e23d0f8161\n'}, {'number': 3, 'created': '2021-08-24 09:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/eb751a2c389b91b267a44d70447faa6ce7119e34', 'message': 'Checking IP version from extra-dhcp-options\n\nExisting IPv4 and IPv6 extra-dhcp-options tests ignored the ip_version\nattribute, so all the extra-dhcp-options tested had IP version 4\n\nChange-Id: I5fee2579a158918c2c22d95493b471e23d0f8161\n'}, {'number': 4, 'created': '2021-08-25 11:45:50.000000000', 'files': ['neutron_tempest_plugin/api/test_extra_dhcp_options.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/da60eab4dece0d81feef07a9903a758bca73ec11', 'message': 'Checking IP version from extra-dhcp-options\n\nExisting IPv4 and IPv6 extra-dhcp-options tests ignored the ip_version\nattribute, so all the extra-dhcp-options tested had IP version 4\n\nChange-Id: I5fee2579a158918c2c22d95493b471e23d0f8161\n'}]",3,804755,da60eab4dece0d81feef07a9903a758bca73ec11,37,7,4,31291,,,0,"Checking IP version from extra-dhcp-options

Existing IPv4 and IPv6 extra-dhcp-options tests ignored the ip_version
attribute, so all the extra-dhcp-options tested had IP version 4

Change-Id: I5fee2579a158918c2c22d95493b471e23d0f8161
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/55/804755/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_extra_dhcp_options.py'],1,313192a13f4a8a130f08d02bcf9f4109efca2917,," {'opt_value': 'pxelinux.0', 'opt_name': 'bootfile-name'}, # default ip_version is 4 {'opt_value': cls.ip_tftp, 'opt_name': 'tftp-server', 'ip_version': cls._ip_version}, {'opt_value': cls.ip_server, 'opt_name': 'server-ip-address', 'ip_version': cls._ip_version} # default ip_version is 4 ip_version = (4 if 'ip_version' not in option else option['ip_version']) retrieved_option['opt_name'] == option['opt_name'] and retrieved_option['ip_version'] == ip_version):"," {'opt_value': 'pxelinux.0', 'opt_name': 'bootfile-name'}, {'opt_value': cls.ip_tftp, 'opt_name': 'tftp-server'}, {'opt_value': cls.ip_server, 'opt_name': 'server-ip-address'} retrieved_option['opt_name'] == option['opt_name']):",13,4
openstack%2Fkolla-ansible~master~I4dc7c4e24c2e391b44b35680fdb9fa11a64dd33f,openstack/kolla-ansible,master,I4dc7c4e24c2e391b44b35680fdb9fa11a64dd33f,DNM: test ubuntu-binary-ironic,ABANDONED,2021-07-27 08:08:20.000000000,2021-08-25 16:31:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-27 08:08:20.000000000', 'files': ['ansible/roles/ironic/defaults/main.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81041f008a12f5d87291df39122092dd0652c086', 'message': 'DNM: test ubuntu-binary-ironic\n\nChange-Id: I4dc7c4e24c2e391b44b35680fdb9fa11a64dd33f\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/799611\n'}]",0,802433,81041f008a12f5d87291df39122092dd0652c086,7,1,1,14826,,,0,"DNM: test ubuntu-binary-ironic

Change-Id: I4dc7c4e24c2e391b44b35680fdb9fa11a64dd33f
Depends-On: https://review.opendev.org/c/openstack/kolla/+/799611
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/802433/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/defaults/main.yml', 'zuul.d/project.yaml']",2,81041f008a12f5d87291df39122092dd0652c086,, - kolla-ansible-ubuntu-binary-ironic, templates: - check-requirements - openstack-cover-jobs - openstack-python3-xena-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8s-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-centos8s-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8s-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8s-source-bifrost - kolla-ansible-ubuntu-source-bifrost - kolla-ansible-centos8s-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8s-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8s-source-scenario-nfv - kolla-ansible-centos8s-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-centos8s-source-octavia - kolla-ansible-ubuntu-source-octavia - kolla-ansible-centos8s-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8s-source-ironic - kolla-ansible-centos8s-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8s-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8s-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8s-source-cells - kolla-ansible-centos8s-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8s-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8s-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8s-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-centos8s-source-monasca - kolla-ansible-centos8s-source-cephadm - kolla-ansible-ubuntu-source-cephadm - kolla-ansible-centos8s-source-upgrade-cephadm - kolla-ansible-ubuntu-source-upgrade-cephadm - kolla-ansible-centos8s-hashi-vault check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64,2,55
openstack%2Fkolla-ansible~master~Ib65db5b1578b30237ae26a64c3fb3868a33ac805,openstack/kolla-ansible,master,Ib65db5b1578b30237ae26a64c3fb3868a33ac805,DNM: enable manila in CI,ABANDONED,2021-02-02 09:59:28.000000000,2021-08-25 16:30:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-02 09:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/196837bbcf89170c157c2a0e33c873ab8c10c8eb', 'message': 'DNM: enable manila in CI\n\nChange-Id: Ib65db5b1578b30237ae26a64c3fb3868a33ac805\n'}, {'number': 2, 'created': '2021-02-03 09:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/058a1a5e4a1cc2a930c20961968c6a5d6c17453e', 'message': 'DNM: enable manila in CI\n\nChange-Id: Ib65db5b1578b30237ae26a64c3fb3868a33ac805\n'}, {'number': 3, 'created': '2021-02-03 09:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/39048f91715eb46f10bd75949e9e46a90bdbe914', 'message': 'DNM: enable manila in CI\n\nChange-Id: Ib65db5b1578b30237ae26a64c3fb3868a33ac805\n'}, {'number': 4, 'created': '2021-02-03 10:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/edd77c3e32d9259be91d85baa97c2b0c6c5032f2', 'message': 'DNM: enable manila in CI\n\nChange-Id: Ib65db5b1578b30237ae26a64c3fb3868a33ac805\n'}, {'number': 5, 'created': '2021-02-03 12:38:31.000000000', 'files': ['tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'tests/templates/ceph-ansible.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b12f0f80a5afd51b86ab6b882072df8790326a9d', 'message': 'DNM: enable manila in CI\n\nChange-Id: Ib65db5b1578b30237ae26a64c3fb3868a33ac805\n'}]",0,773623,b12f0f80a5afd51b86ab6b882072df8790326a9d,11,1,5,14826,,,0,"DNM: enable manila in CI

Change-Id: Ib65db5b1578b30237ae26a64c3fb3868a33ac805
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/773623/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/globals-default.j2', 'zuul.d/project.yaml']",2,196837bbcf89170c157c2a0e33c873ab8c10c8eb,,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-wallaby-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos8-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8-source-scenario-nfv - kolla-ansible-centos8-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-centos8-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8-source-ironic - kolla-ansible-centos8-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8-source-cells - kolla-ansible-centos8-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8-source-ceph-ansible - kolla-ansible-ubuntu-source-ceph-ansible - kolla-ansible-centos8-source-upgrade-ceph-ansible - kolla-ansible-ubuntu-source-upgrade-ceph-ansible - kolla-ansible-centos8-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64,1,47
openstack%2Fkolla-ansible~master~I300f64140c56cdd6a92c8298fe22ceaab30949fc,openstack/kolla-ansible,master,I300f64140c56cdd6a92c8298fe22ceaab30949fc,DNM: Test chrony apparmor fix,ABANDONED,2021-02-18 09:30:07.000000000,2021-08-25 16:29:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-18 09:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d87f08015e85f0e0bde63c25e1fc0ff3a9153239', 'message': 'DNM: Test chrony apparmor fix\n\nChange-Id: I300f64140c56cdd6a92c8298fe22ceaab30949fc\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/776252\n'}, {'number': 2, 'created': '2021-02-22 10:21:42.000000000', 'files': ['tests/setup_gate.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2fa47cc43feec0145e678dab2f1dd019df5ce428', 'message': 'DNM: Test chrony apparmor fix\n\nChange-Id: I300f64140c56cdd6a92c8298fe22ceaab30949fc\n#Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/776252\n'}]",0,776411,2fa47cc43feec0145e678dab2f1dd019df5ce428,5,1,2,14826,,,0,"DNM: Test chrony apparmor fix

Change-Id: I300f64140c56cdd6a92c8298fe22ceaab30949fc
#Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/776252
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/776411/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/setup_gate.sh', 'zuul.d/project.yaml']",2,d87f08015e85f0e0bde63c25e1fc0ff3a9153239,,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-wallaby-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos8-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8-source-scenario-nfv - kolla-ansible-centos8-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-centos8-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8-source-ironic - kolla-ansible-centos8-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8-source-cells - kolla-ansible-centos8-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8-source-ceph-ansible - kolla-ansible-ubuntu-source-ceph-ansible - kolla-ansible-centos8-source-upgrade-ceph-ansible - kolla-ansible-ubuntu-source-upgrade-ceph-ansible - kolla-ansible-centos8-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-centos8-source-monasca check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64,2,48
openstack%2Fkolla-ansible~master~Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90,openstack/kolla-ansible,master,Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90,DNM: enable TLS for all jobs,ABANDONED,2020-04-09 09:26:01.000000000,2021-08-25 16:29:06.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27336}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-04-09 09:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c23e15b0a4c229a1086d2187e4076ac7d0870072', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 2, 'created': '2020-04-09 12:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12cfaffbb39b510f91425f58c0928c275acc93ae', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nDepends-On: https://review.opendev.org/713986\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 3, 'created': '2020-05-11 16:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3b260778a1262af17eafa5cdb432cb4e394a305', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 4, 'created': '2020-05-11 16:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0052d0e46a7273cf3df7ce2822d93053f921ac10', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 5, 'created': '2020-05-12 04:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/862a4c641a49f1774d7101fc5f691faae008db7b', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 6, 'created': '2020-05-12 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a2b554d4ae12011124eef1f89dcf942d595a1dd', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 7, 'created': '2020-05-13 00:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ea4e63355492c0bb3904688b020f4c2518c33c2', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 8, 'created': '2020-05-13 22:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/abd902bbee13aa67d60e2c655b37808fcc8889d0', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 9, 'created': '2020-05-14 02:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca7a4ca1e64b685231e2df4d33379a5d8946b4ee', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 10, 'created': '2020-05-14 18:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c78775d851a414c696982dd52cce235810cbda86', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 11, 'created': '2020-05-14 23:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/94497febb6b3489429e9415573c161e8ff6f87fe', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 12, 'created': '2020-05-15 05:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb714135b8765c8a389da004e1f21f36dd5bb1d0', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 13, 'created': '2020-05-15 19:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba40f4e09d71d574f85d56cd77a38be459c7342d', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 14, 'created': '2020-05-16 00:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52814d686330e586ec6dfd00840d84de18698196', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 15, 'created': '2020-05-17 18:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1e89cbede51a301e17d17a8a4d76243a97b5f6f', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 16, 'created': '2020-05-18 17:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f43ba99190a822bf07ade58dc7b101a7b64e95dc', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 17, 'created': '2020-05-20 17:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1215116e271717dfd5e5fb8de569b5a612b603be', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 18, 'created': '2020-05-20 18:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/007426916eba52e0aae0cf0331f1b973c02a9f0f', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 19, 'created': '2020-05-20 19:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7fdfe7420a439ec67d91286ead0b845a0edebc78', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 20, 'created': '2020-05-20 21:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9f712ce112d8a931f36dee53c1d62cc43ac3826', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 21, 'created': '2020-05-21 00:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df8d74efbf74f3fceebfd3d6c5bb89b0dbdce57e', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 22, 'created': '2020-05-21 02:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b968507f2c453d30ec2bd826233ac27b4122a9ab', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 23, 'created': '2020-05-21 05:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e4f70dd35d01fe3afe15fe6d07a2536a1d47963e', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 24, 'created': '2020-05-21 05:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea681c257216110f90ac130bdf260c56abba7249', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 25, 'created': '2020-05-21 15:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9dd782d49627217ea08b56b997b0b8cebd2fd70', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 26, 'created': '2020-05-21 19:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa365d8c13dd7dbac1ba46d8dd79538b2fc602d8', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 27, 'created': '2020-05-21 21:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6d672ce3cf20733f1303b0ed758ba5d381c0c6a', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 28, 'created': '2020-05-21 23:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8f41e38737b68fa1d72444f99488b4c6e0c03a56', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 29, 'created': '2020-05-22 01:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d994d33949432caa47c700a83a3d568ddc4ee0dd', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 30, 'created': '2020-05-22 04:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/694a6356da8944c860ff2290dec336b397f27063', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 31, 'created': '2020-05-22 04:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68798a45459402500079ec14a80ed375700b0908', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 32, 'created': '2020-05-22 14:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9fbbbbcb84d2e02a95abbffd52e37552eb97f845', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 33, 'created': '2020-05-22 18:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07658a2a3b4b1b28ee909f7809bef60d325cb600', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 34, 'created': '2020-05-22 21:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6286d629067543244a071c55482aa90ed0190d59', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}, {'number': 35, 'created': '2020-05-23 03:41:01.000000000', 'files': ['ansible/roles/kibana/tasks/migrate-kibana-index.yml', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/monasca/tasks/post_config.yml', 'ansible/roles/qinling/templates/qinling.conf.j2', 'ansible/roles/etcd/templates/etcd.json.j2', 'ansible/roles/masakari/tasks/copy-certs.yml', 'ansible/roles/grafana/tasks/post_config.yml', 'ansible/roles/mistral/templates/mistral.conf.j2', 'etc/kolla/globals.yml', 'ansible/roles/neutron/tasks/bootstrap_service.yml', 'ansible/roles/ironic/handlers/main.yml', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/skydive/templates/skydive-agent.conf.j2', 'ansible/roles/etcd/tasks/config.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/etcd/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'ansible/roles/swift/handlers/main.yml', 'zuul.d/base.yaml', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/certificates/tasks/generate-root.yml', 'ansible/roles/certificates/templates/openssl-kolla-backend.cnf.j2', 'ansible/roles/etcd/tasks/copy-certs.yml', 'ansible/roles/certificates/tasks/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/kibana/tasks/post_config.yml', 'ansible/roles/masakari/tasks/config.yml', 'contrib/demos/tacker/deploy-tacker-demo'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a72aa833e0c4dde4248ad13e80b79a32145f365e', 'message': 'DNM: enable TLS for all jobs\n\nMostly testing multinode with backend TLS.\n\nChange-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90\n'}]",13,718628,a72aa833e0c4dde4248ad13e80b79a32145f365e,115,5,35,14826,,,0,"DNM: enable TLS for all jobs

Mostly testing multinode with backend TLS.

Change-Id: Ic48e4cc0395dca2f03c41e26a7e48c99a5e61a90
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/718628/29 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,c23e15b0a4c229a1086d2187e4076ac7d0870072,, tls_enabled: true, tls_enabled: false,1,1
openstack%2Fneutron-tempest-plugin~master~I1c10481b5ccbd482fb7692c6562c76e8356cb87a,openstack/neutron-tempest-plugin,master,I1c10481b5ccbd482fb7692c6562c76e8356cb87a,Add API tests for basic address_groups CRUD operations,MERGED,2021-06-08 21:12:23.000000000,2021-08-25 16:28:41.000000000,2021-08-25 16:28:41.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 21:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/50018cb8a6f4c72673bf9c619a28b4a4442a00d8', 'message': 'Add API tests for basic address_groups CRUD operations\n\nChange-Id: I1c10481b5ccbd482fb7692c6562c76e8356cb87a\n'}, {'number': 2, 'created': '2021-07-22 19:20:44.000000000', 'files': ['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_address_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/58bf60cee67491c91b5e8d4fba756a2abb529c9e', 'message': 'Add API tests for basic address_groups CRUD operations\n\nChange-Id: I1c10481b5ccbd482fb7692c6562c76e8356cb87a\n'}]",5,795415,58bf60cee67491c91b5e8d4fba756a2abb529c9e,17,5,2,11975,,,0,"Add API tests for basic address_groups CRUD operations

Change-Id: I1c10481b5ccbd482fb7692c6562c76e8356cb87a
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/15/795415/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_address_groups.py']",2,50018cb8a6f4c72673bf9c619a28b4a4442a00d8,address-groups,"class AddressGroupTest(base.BaseAdminNetworkTest): credentials = ['primary', 'admin'] required_extensions = ['address-group'] @decorators.idempotent_id('496fef1b-22ce-483b-ab93-d28bf46954b0') def test_address_group_lifecycle(self): ag_description = ""Test AG description"" ag_name = data_utils.rand_name(ADDRESS_GROUP_NAME) addresses = ['10.10.10.3/32', '192.168.0.10/24', '2001:db8::f00/64'] expected_addresses = [ '10.10.10.3/32', '192.168.0.0/24', '2001:db8::/64'] ag = self.create_address_group( description=ag_description, name=ag_name, addresses=addresses) self.assertEqual(ag_description, ag['description']) self.assertEqual(ag_name, ag['name']) self.assertListEqual( sorted(expected_addresses), sorted(ag['addresses'])) new_description = 'New AG description' updated_ag = self.client.update_address_group( ag['id'], description=new_description)['address_group'] self.assertEqual(new_description, updated_ag['description']) self.assertEqual(ag_name, updated_ag['name']) self.assertListEqual( sorted(expected_addresses), sorted(updated_ag['addresses'])) self.client.delete_address_group(ag['id']) with testtools.ExpectedException(exceptions.NotFound): self.client.show_address_group(ag['id']) @decorators.idempotent_id('8a42029a-40eb-4b44-a7cf-38500046f9b8') def test_address_group_create_with_wrong_address(self): with testtools.ExpectedException(exceptions.BadRequest): self.create_address_group( name=data_utils.rand_name(ADDRESS_GROUP_NAME), addresses=['10.20.30.40']) self.create_address_group( name=data_utils.rand_name(ADDRESS_GROUP_NAME), addresses=['this is bad IP address']) @decorators.idempotent_id('27c03921-bb12-4b9a-b32e-7083bc90ff1f') def test_edit_addresses_in_address_group(self): addresses = ['10.10.10.3/32', '192.168.0.10/24', '2001:db8::f00/64'] expected_addresses = [ '10.10.10.3/32', '192.168.0.0/24', '2001:db8::/64'] ag = self.create_address_group( name=data_utils.rand_name(ADDRESS_GROUP_NAME), addresses=addresses) self.assertListEqual( sorted(expected_addresses), sorted(ag['addresses'])) added_addresses = ['10.20.30.40/32'] self.client.add_addresses_to_address_group( ag['id'], addresses=added_addresses) updated_ag = self.client.show_address_group(ag['id'])['address_group'] expected_addresses += added_addresses self.assertListEqual( sorted(expected_addresses), sorted(updated_ag['addresses'])) removed_addresses = [expected_addresses.pop(0)] self.client.remove_addresses_from_address_group( ag['id'], addresses=removed_addresses) updated_ag = self.client.show_address_group(ag['id'])['address_group'] self.assertListEqual( sorted(expected_addresses), sorted(updated_ag['addresses'])) @decorators.idempotent_id('feec6747-b4b8-49e3-8cff-817d3f097f2c') def test_add_wrong_address_to_address_group(self): addresses = ['10.10.10.3/32', '192.168.0.10/24', '2001:db8::f00/64'] expected_addresses = [ '10.10.10.3/32', '192.168.0.0/24', '2001:db8::/64'] ag = self.create_address_group( name=data_utils.rand_name(ADDRESS_GROUP_NAME), addresses=addresses) self.assertListEqual( sorted(expected_addresses), sorted(ag['addresses'])) with testtools.ExpectedException(exceptions.BadRequest): self.client.add_addresses_to_address_group( ag['id'], addresses=['this is bad IP address']) updated_ag = self.client.show_address_group(ag['id'])['address_group'] self.assertListEqual( sorted(expected_addresses), sorted(updated_ag['addresses'])) @decorators.idempotent_id('74f6fd4c-257b-4725-887b-470e96960e24') def test_remove_wrong_address_to_address_group(self): addresses = ['10.10.10.3/32', '192.168.0.10/24', '2001:db8::f00/64'] expected_addresses = [ '10.10.10.3/32', '192.168.0.0/24', '2001:db8::/64'] ag = self.create_address_group( name=data_utils.rand_name(ADDRESS_GROUP_NAME), addresses=addresses) self.assertListEqual( sorted(expected_addresses), sorted(ag['addresses'])) with testtools.ExpectedException(exceptions.NotFound): self.client.remove_addresses_from_address_group( ag['id'], addresses=['10.200.200.200']) updated_ag = self.client.show_address_group(ag['id'])['address_group'] self.assertListEqual( sorted(expected_addresses), sorted(updated_ag['addresses'])) with testtools.ExpectedException(exceptions.BadRequest): self.client.remove_addresses_from_address_group( ag['id'], addresses=['this is bad IP address']) updated_ag = self.client.show_address_group(ag['id'])['address_group'] self.assertListEqual( sorted(expected_addresses), sorted(updated_ag['addresses'])) ",,129,0
openstack%2Freleases~master~Ie554d61f23f97a1e5ba638a65a636ac733d80a0b,openstack/releases,master,Ie554d61f23f97a1e5ba638a65a636ac733d80a0b,Point release for Designate 8.0.2,ABANDONED,2021-08-25 16:16:13.000000000,2021-08-25 16:21:28.000000000,,"[{'_account_id': 8099}, {'_account_id': 11628}]","[{'number': 1, 'created': '2021-08-25 16:16:13.000000000', 'files': ['deliverables/stein/designate.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/736fda468546154f58266168d4c8b966f05f4fef', 'message': 'Point release for Designate 8.0.2\n\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\nChange-Id: Ie554d61f23f97a1e5ba638a65a636ac733d80a0b\n'}]",0,806020,736fda468546154f58266168d4c8b966f05f4fef,2,2,1,19298,,,0,"Point release for Designate 8.0.2

Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
Change-Id: Ie554d61f23f97a1e5ba638a65a636ac733d80a0b
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/806020/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/designate.yaml'],1,736fda468546154f58266168d4c8b966f05f4fef,designate_8.0.2, - version: 8.0.2 projects: - repo: openstack/designate hash: 0b5634643b4b69cd0a7d5499f258602604741d22 hash: 0b5634643b4b69cd0a7d5499f258602604741d22, hash: 6307c84e83530ab27124ab9e6a8117ee44069614,5,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I5943d7b00634c3d733e3e38b4ed247ccac253e27,openstack/tripleo-ansible,stable/wallaby,I5943d7b00634c3d733e3e38b4ed247ccac253e27,Allow watch_frr options to be set and support frr-8.0,MERGED,2021-08-24 05:21:42.000000000,2021-08-25 16:20:36.000000000,2021-08-25 16:20:36.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-24 05:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/05bbc2e7ab5a9218f51ca9183e064678dc360ef1', 'message': ""Allow watch_frr options to be set and support frr-8.0\n\nfrr-8.0 does not need any watchfrr options set.\nLet's still allow some customizability in case we'll need to\ntweak them one day.\n\nTested on a BGP deployment.\n\nChange-Id: I5943d7b00634c3d733e3e38b4ed247ccac253e27\n(cherry picked from commit f13b51fa0e0d690020287601b46bd2e6198c2982)\n""}, {'number': 2, 'created': '2021-08-25 08:58:30.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/templates/daemons.j2', 'tripleo_ansible/roles/tripleo_frr/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d182ff904379b235a9d5f8a204371e5c1d0081f8', 'message': ""Allow watch_frr options to be set and support frr-8.0\n\nfrr-8.0 does not need any watchfrr options set.\nLet's still allow some customizability in case we'll need to\ntweak them one day.\n\nTested on a BGP deployment.\n\nChange-Id: I5943d7b00634c3d733e3e38b4ed247ccac253e27\n(cherry picked from commit f13b51fa0e0d690020287601b46bd2e6198c2982)\n""}]",0,805757,d182ff904379b235a9d5f8a204371e5c1d0081f8,17,4,2,20172,,,0,"Allow watch_frr options to be set and support frr-8.0

frr-8.0 does not need any watchfrr options set.
Let's still allow some customizability in case we'll need to
tweak them one day.

Tested on a BGP deployment.

Change-Id: I5943d7b00634c3d733e3e38b4ed247ccac253e27
(cherry picked from commit f13b51fa0e0d690020287601b46bd2e6198c2982)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/805757/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/templates/daemons.j2', 'tripleo_ansible/roles/tripleo_frr/defaults/main.yml']",2,05bbc2e7ab5a9218f51ca9183e064678dc360ef1,frr-8.0-stable/wallaby,tripleo_frr_watchfrr_options: '',,3,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I20ebe407a362e939fbda7a511de287cbe46a0ef9,openstack/tripleo-heat-templates,stable/train,I20ebe407a362e939fbda7a511de287cbe46a0ef9,Remove all hieradata overriding for undercloud memcache,MERGED,2021-08-20 03:21:14.000000000,2021-08-25 16:20:27.000000000,2021-08-25 16:20:27.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-20 03:21:14.000000000', 'files': ['environments/undercloud.yaml', 'sample-env-generator/undercloud-minion.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0da5c5825726478d4ca7b1e44e47ef01289965d', 'message': 'Remove all hieradata overriding for undercloud memcache\n\nNow puppet-tripleo is responsible to set memcache for caching, we can\nremove uselsess hieradata overriding in the undercloud environment\nfile.\n\nConflicts:\n\tenvironments/undercloud.yaml\n\tsample-env-generator/undercloud-minion.yaml\n\nDepends-on: https://review.opendev.org/805324\nChange-Id: I20ebe407a362e939fbda7a511de287cbe46a0ef9\n(cherry picked from commit cec4048d15c1368602b66068e69d4d1dc9bfdb2e)\n'}]",0,805326,e0da5c5825726478d4ca7b1e44e47ef01289965d,10,5,1,9816,,,0,"Remove all hieradata overriding for undercloud memcache

Now puppet-tripleo is responsible to set memcache for caching, we can
remove uselsess hieradata overriding in the undercloud environment
file.

Conflicts:
	environments/undercloud.yaml
	sample-env-generator/undercloud-minion.yaml

Depends-on: https://review.opendev.org/805324
Change-Id: I20ebe407a362e939fbda7a511de287cbe46a0ef9
(cherry picked from commit cec4048d15c1368602b66068e69d4d1dc9bfdb2e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/805326/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'sample-env-generator/undercloud-minion.yaml']",2,e0da5c5825726478d4ca7b1e44e47ef01289965d,uc-memcache, OS::TripleO::Services::Zaqar: OS::Heat::None ," UndercloudMinionExtraConfig: heat::keystone::authtoken::memcached_servers: ""%{hiera('memcached::listen_ip')}:11211"" heat::cache::memcache_servers: ""%{hiera('memcached::listen_ip')}:11211"" OS::TripleO::Services::Zaqar: OS::Heat::None",1,33
openstack%2Fkolla~master~Idda2ff4a5fea56e4e17a9dbf05141572671b6afc,openstack/kolla,master,Idda2ff4a5fea56e4e17a9dbf05141572671b6afc,Config: Set default home to /var/lib/{user},MERGED,2021-07-28 11:16:44.000000000,2021-08-25 16:07:13.000000000,2021-08-23 14:25:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 11:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9ff6f33db7d9b1645e8339380e19e694180bc09', 'message': '[WIP] config: Set default home to /var/lib/{user}\n\nThis patch is changing users home dirs to /var/lib/{user}\nand add option to override default home if needed.\n\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n'}, {'number': 2, 'created': '2021-07-28 11:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/48761105c3aee2445a4d3228cf03a3b7700b5939', 'message': '[WIP] config: Set default home to /var/lib/{user}\n\nThis patch is changing users home dirs to /var/lib/{user}\nand add option to override default home if needed.\n\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n'}, {'number': 3, 'created': '2021-07-29 10:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/833a41d0fa5619bd5b136ebf40d7e654f21fc78e', 'message': 'Config: Set default home to /var/lib/{user}\n\nThis patch is changing users home dirs to /var/lib/{user}\nand add option to override default home if needed.\n\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n'}, {'number': 4, 'created': '2021-08-05 12:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c1848564437750e430cf19a42fb1eab100b987c1', 'message': 'Config: Set default home to /var/lib/{user}\n\nThis patch is changing users home dirs to /var/lib/{user}\nand add option to override default home if needed.\n\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n'}, {'number': 5, 'created': '2021-08-05 14:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2ae6ac9a7bd4dcf9c4b467e644f882f1c93d6b18', 'message': 'Config: Set default home to /var/lib/{user}\n\nThis patch is changing users home dirs to /var/lib/{user}\nand add option to override default home if needed.\n\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n'}, {'number': 6, 'created': '2021-08-05 14:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d098b04e12978bd6fbfe0a02fb4460f717a5b33a', 'message': ""Config: Set default home to /var/lib/{user}\n\nThis patch is setting users home dirs to /var/lib/{user}.\nThis is the usual default but it's good to be explicit.\n\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n""}, {'number': 7, 'created': '2021-08-05 14:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ec926671589753eb88affe73a1a7477fab44fb5f', 'message': ""Config: Set default home to /var/lib/{user}\n\nThis patch is setting users home dirs to /var/lib/{user}.\nThis is the usual default but it's good to be explicit.\n\nPartial-Bug: #1934753\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n""}, {'number': 8, 'created': '2021-08-05 15:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1d3303c067af927078a001aa8a73701601453d55', 'message': ""Config: Set default home to /var/lib/{user}\n\nThis patch is setting users home dirs to /var/lib/{user}.\nThis is the usual default but it's good to be explicit.\n\nPartial-Bug: #1934753\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n""}, {'number': 9, 'created': '2021-08-05 15:07:44.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/33da736668108ded943691d490cb72812c8b150d', 'message': ""Config: Set default home to /var/lib/{user}\n\nThis patch is setting users home dirs to /var/lib/{user}.\nThis is the usual default but it's good to be explicit.\n\nChange-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc\n""}]",2,802685,33da736668108ded943691d490cb72812c8b150d,35,5,9,27339,,,0,"Config: Set default home to /var/lib/{user}

This patch is setting users home dirs to /var/lib/{user}.
This is the usual default but it's good to be explicit.

Change-Id: Idda2ff4a5fea56e4e17a9dbf05141572671b6afc
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/802685/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/common/config.py']",3,b9ff6f33db7d9b1645e8339380e19e694180bc09,bug/1934753,"def get_user_opts(uid, gid, group, home): cfg.StrOpt('home', default=home, help='The home directory path'), try: home = params['home'] except KeyError: home = '/var/lib/' + name[:-5] yield name, get_user_opts(uid, gid, group, home)","def get_user_opts(uid, gid, group): yield name, get_user_opts(uid, gid, group)",9,3
openstack%2Fironic~bugfix%2F18.1~I991d2af7eb6987830a5fa449026f43ac7a09fcff,openstack/ironic,bugfix/18.1,I991d2af7eb6987830a5fa449026f43ac7a09fcff,Silence debug logging from oslo_policy,MERGED,2021-08-25 12:00:03.000000000,2021-08-25 15:43:38.000000000,2021-08-25 15:41:57.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-25 12:00:03.000000000', 'files': ['ironic/conf/opts.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/deacdce7407bc9be0e02311bc5b264f0b1e65aaf', 'message': ""Silence debug logging from oslo_policy\n\nWhile it's not entirely useless, it's extremely verbose and account\nfor 2/3 of ironic-api logs even when keystone is disabled.\n\nChange-Id: I991d2af7eb6987830a5fa449026f43ac7a09fcff\n(cherry picked from commit 7748b154b0477e42cd0937c9f52cbed33e7b7c8e)\n""}]",0,805986,deacdce7407bc9be0e02311bc5b264f0b1e65aaf,9,2,1,10239,,,0,"Silence debug logging from oslo_policy

While it's not entirely useless, it's extremely verbose and account
for 2/3 of ironic-api logs even when keystone is disabled.

Change-Id: I991d2af7eb6987830a5fa449026f43ac7a09fcff
(cherry picked from commit 7748b154b0477e42cd0937c9f52cbed33e7b7c8e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/805986/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conf/opts.py'],1,deacdce7407bc9be0e02311bc5b264f0b1e65aaf,," # Policy logging is not necessarily useless, but very verbose 'oslo_policy=WARNING',",,2,0
openstack%2Fcharm-ceph-dashboard~master~I0bc72bb0e4c907fa042e9e4d4154b9541247ff15,openstack/charm-ceph-dashboard,master,I0bc72bb0e4c907fa042e9e4d4154b9541247ff15,Support user supplied certs,MERGED,2021-08-25 13:55:41.000000000,2021-08-25 15:36:58.000000000,2021-08-25 15:36:58.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 13:55:41.000000000', 'files': ['config.yaml', 'src/charm.py', 'unit_tests/test_ceph_dashboard_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/56b48dcd37779ace656002a42fb7f7a56305094b', 'message': 'Support user supplied certs\n\nChange-Id: I0bc72bb0e4c907fa042e9e4d4154b9541247ff15\n'}]",0,806000,56b48dcd37779ace656002a42fb7f7a56305094b,7,3,1,12549,,,0,"Support user supplied certs

Change-Id: I0bc72bb0e4c907fa042e9e4d4154b9541247ff15
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/00/806000/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'src/charm.py', 'unit_tests/test_ceph_dashboard_charm.py']",3,56b48dcd37779ace656002a42fb7f7a56305094b,user-supplied-certs,"import base64 def test_certificates_relation(self, _gethostname): self.ceph_utils.is_dashboard_enabled.return_value = True cert_rel_id = self.harness.add_relation('certificates', 'vault') dash_rel_id = self.harness.add_relation('dashboard', 'ceph-mon') dash_rel_id, 'ceph-mon/0') self.harness.update_relation_data( dash_rel_id, 'ceph-mon/0', { 'mon-ready': 'True'}) self.harness.add_relation_unit( cert_rel_id, cert_rel_id, def test_certificates_from_config(self): self.ceph_utils.is_dashboard_enabled.return_value = True mock_TLS_KEY_PATH = MagicMock() mock_TLS_CERT_PATH = MagicMock() mock_TLS_CA_CERT_PATH = MagicMock() dash_rel_id = self.harness.add_relation('dashboard', 'ceph-mon') self.harness.begin() self.harness.set_leader() self.harness.add_relation_unit( dash_rel_id, 'ceph-mon/0') self.harness.update_relation_data( dash_rel_id, 'ceph-mon/0', { 'mon-ready': 'True'}) self.harness.charm.TLS_CERT_PATH = mock_TLS_CERT_PATH self.harness.charm.TLS_CA_CERT_PATH = mock_TLS_CA_CERT_PATH self.harness.charm.TLS_KEY_PATH = mock_TLS_KEY_PATH self.subprocess.check_call.reset_mock() self.harness.update_config( key_values={ 'ssl_key': base64.b64encode(TEST_KEY.encode(""utf-8"")), 'ssl_cert': base64.b64encode(TEST_CERT.encode(""utf-8"")), 'ssl_ca': base64.b64encode(TEST_CA.encode(""utf-8""))}) self.subprocess.check_call.assert_called_once_with( ['update-ca-certificates']) self.ceph_utils.dashboard_set_ssl_certificate.assert_has_calls([ call(mock_TLS_CERT_PATH, hostname='server1'), call(mock_TLS_CERT_PATH)]) self.ceph_utils.dashboard_set_ssl_certificate_key.assert_has_calls([ call(mock_TLS_KEY_PATH, hostname='server1'), call(mock_TLS_KEY_PATH)]) self.ceph_utils.mgr_config_set.assert_has_calls([ call('mgr/dashboard/standby_behaviour', 'redirect'), call('mgr/dashboard/ssl', 'true')]) self.ceph_utils.mgr_disable_dashboard.assert_called_once_with() self.ceph_utils.mgr_enable_dashboard.assert_called_once_with() "," def test__on_tls_server_config_ready(self, _gethostname): rel_id = self.harness.add_relation('certificates', 'vault') rel_id, rel_id,",123,18
openstack%2Fcinder~stable%2Fwallaby~I8c176bf4c875061591bb6c94654a2cef643a4dcb,openstack/cinder,stable/wallaby,I8c176bf4c875061591bb6c94654a2cef643a4dcb,Support Images API v2.11,MERGED,2021-08-24 18:23:43.000000000,2021-08-25 15:32:41.000000000,2021-08-25 02:25:47.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-08-24 18:23:43.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'releasenotes/notes/support-images-api-2.11-3699b20670db1843.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e714a696a96c160ee8e4a110344c042e40c41556', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n(cherry picked from commit 4a5ff4eb7577867bc1a6b89718ecd66888430d84)\n'}]",0,805877,e714a696a96c160ee8e4a110344c042e40c41556,17,3,1,20813,,,0,"Support Images API v2.11

Glance has changed the format of the cinder URIs in image locations
so that they can look like
   cinder://glance-store-name/volume_id
in addition to the legacy format
   cinder://volume_id

Change the cinder code so that it can handle both formats for
reading.  (We only need to write the legacy format.)

Change-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb
Closes-bug: #1898075
(cherry picked from commit 4a5ff4eb7577867bc1a6b89718ecd66888430d84)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/805877/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'releasenotes/notes/support-images-api-2.11-3699b20670db1843.yaml']",3,e714a696a96c160ee8e4a110344c042e40c41556,,"--- fixes: - | `Bug #1898075 <https://bugs.launchpad.net/cinder/+bug/1898075>`_: When Glance added support for multiple cinder stores, Images API version 2.11 modified the format of the image location URI, which Cinder reads in order to try to use an optimized data path when creating a volume from an image. Unfortunately, Cinder did not understand the new format and when Glance multiple cinder stores were used, Cinder could not use the optimized data path, and instead downloaded image data from the Image service. Cinder now supports Images API version 2.11. ",,108,5
openstack%2Freleases~master~I9c73b1be96d3dafe2e3e76c2f55c76707f0cfa45,openstack/releases,master,I9c73b1be96d3dafe2e3e76c2f55c76707f0cfa45,[winstackers] Transition Ocata to End of Life,MERGED,2021-08-13 09:48:46.000000000,2021-08-25 15:21:20.000000000,2021-08-25 15:21:20.000000000,"[{'_account_id': 8543}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-13 09:48:46.000000000', 'files': ['deliverables/ocata/compute-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/caaf5e66182fd139b4e52371523951d87c3d981e', 'message': ""[winstackers] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I9c73b1be96d3dafe2e3e76c2f55c76707f0cfa45\n""}]",0,804514,caaf5e66182fd139b4e52371523951d87c3d981e,9,4,1,17685,,,0,"[winstackers] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I9c73b1be96d3dafe2e3e76c2f55c76707f0cfa45
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/804514/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/compute-hyperv.yaml'],1,caaf5e66182fd139b4e52371523951d87c3d981e,ocata-eol,--- launchpad: compute-hyperv release-model: cycle-with-rc team: winstackers type: other releases: - version: ocata-eol projects: - repo: openstack/compute-hyperv hash: 798ebab490f680dab095c168057fdaae88f76015 repository-settings: openstack/compute-hyperv: {} ,,12,0
openstack%2Fplacement~master~I89b330d0647b0883eecaf40b988a1a4779bcb1dd,openstack/placement,master,I89b330d0647b0883eecaf40b988a1a4779bcb1dd,Bump os-traits to latest 2.6.0,MERGED,2021-08-24 11:06:28.000000000,2021-08-25 15:19:58.000000000,2021-08-25 15:17:14.000000000,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 11:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b16b7523dccd72bd174ee3816e606499e6353330', 'message': 'Bump os-traits to latest 2.6.0\n\nThe latest os-traits release introduced 3 new standard traits\n\nChange-Id: I89b330d0647b0883eecaf40b988a1a4779bcb1dd\n'}, {'number': 2, 'created': '2021-08-25 09:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3d7df1d9309569ba3740dbecded9c436b410e4aa', 'message': 'Bump os-traits to latest 2.6.0\n\nThe latest os-traits release introduced 3 new standard traits\n\nChange-Id: I89b330d0647b0883eecaf40b988a1a4779bcb1dd\n'}, {'number': 3, 'created': '2021-08-25 11:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d9afae6e93ea50a452693bd9359161b6f6e1760a', 'message': 'Bump os-traits to latest 2.6.0\n\nThe latest os-traits release introduced 3 new standard traits\n\nChange-Id: I89b330d0647b0883eecaf40b988a1a4779bcb1dd\n'}, {'number': 4, 'created': '2021-08-25 12:24:05.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/cd1202ea46600effbc4397ae8880f48e9fc7521a', 'message': 'Bump os-traits to latest 2.6.0\n\nThe latest os-traits release introduced 3 new standard traits\n\nWhile bumping the os-traits requirements it turned out that the\nlower-constraints become extra slow causing a timeout. This result is a\ncatch-22 situation. The lower-constraint job cannot be fixed alone as\nthe global requirement bump already happened for os-traits 2.6.0\nrequiring fixing the placement tests. But fixing the placement tests\nalone is not possible as the lower-constraints job will time out.\n\nSo this patch squashes in Icd0a304fc989c9535db125cd483ecac92deb011d:\n\nPip is slow to resolve version constraints with many unrestricted\ndependencies. The recent slowness seems to be due to amqp is being\nunrestricted and pip starts with amqp 5.0.3 but the real minimum is\nsomewhere around amqp 2.5.0. This patch adds amqp 2.5.0 to\nlower-constraints to speed up the pip version resolution.\n\nChange-Id: I89b330d0647b0883eecaf40b988a1a4779bcb1dd\n'}]",0,805830,cd1202ea46600effbc4397ae8880f48e9fc7521a,21,4,4,9708,,,0,"Bump os-traits to latest 2.6.0

The latest os-traits release introduced 3 new standard traits

While bumping the os-traits requirements it turned out that the
lower-constraints become extra slow causing a timeout. This result is a
catch-22 situation. The lower-constraint job cannot be fixed alone as
the global requirement bump already happened for os-traits 2.6.0
requiring fixing the placement tests. But fixing the placement tests
alone is not possible as the lower-constraints job will time out.

So this patch squashes in Icd0a304fc989c9535db125cd483ecac92deb011d:

Pip is slow to resolve version constraints with many unrestricted
dependencies. The recent slowness seems to be due to amqp is being
unrestricted and pip starts with amqp 5.0.3 but the real minimum is
somewhere around amqp 2.5.0. This patch adds amqp 2.5.0 to
lower-constraints to speed up the pip version resolution.

Change-Id: I89b330d0647b0883eecaf40b988a1a4779bcb1dd
",git fetch https://review.opendev.org/openstack/placement refs/changes/30/805830/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml']",3,b16b7523dccd72bd174ee3816e606499e6353330,, $.traits.`len`: 294 # Number of standard traits, $.traits.`len`: 291 # Number of standard traits,3,3
openstack%2Fcinder~stable%2Fussuri~If465bc719cea2d4e85b37527f3f7ac916b5de638,openstack/cinder,stable/ussuri,If465bc719cea2d4e85b37527f3f7ac916b5de638,PowerMax Driver - Fix for create snapshot,MERGED,2021-08-21 09:51:33.000000000,2021-08-25 15:12:33.000000000,2021-08-25 15:10:27.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 09:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0422e946d39dc4d56b6bdfd87c19955bf8dad39e', 'message': 'PowerMax Driver - Fix for create snapshot\n\nPayload response change from REST means that the\nDevice Label no longer exists in the format expected and\ncauses an IndexError exception. This is the case in PowerMaxOS\n5978.711 and later.\n\nCloses-Bug: #1939139\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)\n(cherry picked from commit a366ed53b1ea17d0be266a4fca56785410b376cf)\n(cherry picked from commit 37be715cc7fd20878bbcd77965d2b9a902a25a99)\n'}, {'number': 2, 'created': '2021-08-21 11:32:12.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'releasenotes/notes/bug-1939139-02ab552420813e70.yaml', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a56256c3d8f95806a557a1a21db88c7058c11c8b', 'message': 'PowerMax Driver - Fix for create snapshot\n\nPayload response change from REST means that the\nDevice Label no longer exists in the format expected and\ncauses an IndexError exception. This is the case in PowerMaxOS\n5978.711 and later.\n\nCloses-Bug: #1939139\n\nChange-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638\n(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)\n(cherry picked from commit a366ed53b1ea17d0be266a4fca56785410b376cf)\n(cherry picked from commit 37be715cc7fd20878bbcd77965d2b9a902a25a99)\n'}]",0,805477,a56256c3d8f95806a557a1a21db88c7058c11c8b,28,5,2,12670,,,0,"PowerMax Driver - Fix for create snapshot

Payload response change from REST means that the
Device Label no longer exists in the format expected and
causes an IndexError exception. This is the case in PowerMaxOS
5978.711 and later.

Closes-Bug: #1939139

Change-Id: If465bc719cea2d4e85b37527f3f7ac916b5de638
(cherry picked from commit 672a0e97988755012ff87fb85bddc1cd125f1898)
(cherry picked from commit a366ed53b1ea17d0be266a4fca56785410b376cf)
(cherry picked from commit 37be715cc7fd20878bbcd77965d2b9a902a25a99)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/805477/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/bug-1939139-02ab552420813e70.yaml', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",6,0422e946d39dc4d56b6bdfd87c19955bf8dad39e,, priv_snap_response_no_label = deepcopy(priv_snap_response) priv_snap_response_no_label.update({'deviceName': device_id}) ,,36,6
openstack%2Fcharm-nova-lxd~master~I468e2d8af6a60772f172b5a078fc07da5f4d6a46,openstack/charm-nova-lxd,master,I468e2d8af6a60772f172b5a078fc07da5f4d6a46,fix .gitreview,ABANDONED,2020-01-13 16:44:20.000000000,2021-08-25 15:05:02.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-13 16:44:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-nova-lxd/commit/071dff0eaf1b0ca01cbfa2c1008c49239f4bdafc', 'message': 'fix .gitreview\n\nUse proper repo name for .gitreview file.\n\nChange-Id: I468e2d8af6a60772f172b5a078fc07da5f4d6a46\n'}]",0,702255,071dff0eaf1b0ca01cbfa2c1008c49239f4bdafc,4,2,1,6547,,,0,"fix .gitreview

Use proper repo name for .gitreview file.

Change-Id: I468e2d8af6a60772f172b5a078fc07da5f4d6a46
",git fetch https://review.opendev.org/openstack/charm-nova-lxd refs/changes/55/702255/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,071dff0eaf1b0ca01cbfa2c1008c49239f4bdafc,,project=openstack/charm-nova-lxd.git,project=openstack/charm-lxd.git,1,1
openstack%2Fmonasca-events-api~master~I42a8071625d8e309d1580f31e440df4d54d2d37b,openstack/monasca-events-api,master,I42a8071625d8e309d1580f31e440df4d54d2d37b,Cleanup py27 support,ABANDONED,2020-04-05 07:53:56.000000000,2021-08-25 15:04:23.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-04-05 07:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/f572bfbabd216d8227d402b49bb843a614dbbc89', 'message': 'Cleanup py27 support\n\nMake a few cleanups:\n- Remove python 2.7 stanza from setup.py\n- Add requires on python >= 3.6 to setup.cfg so that pypi and pip\n  know about the requirement\n- Remove obsolete sections from setup.cfg:\n  * Wheel is not needed for python 3 only repo\n  * Some other sections are obsolete\n- Update classifiers\n- Update requirements, no need for python_version anymore\n- Use sphinx-build everywhere\n\nChange-Id: I42a8071625d8e309d1580f31e440df4d54d2d37b\n'}, {'number': 2, 'created': '2020-04-05 08:46:10.000000000', 'files': ['test-requirements.txt', 'setup.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/11a69eb678bd5be6abbb5ba2ef5ce4e6392e7500', 'message': 'Cleanup py27 support\n\nMake a few cleanups:\n- Remove python 2.7 stanza from setup.py\n- Add requires on python >= 3.6 to setup.cfg so that pypi and pip\n  know about the requirement\n- Remove obsolete sections from setup.cfg:\n  * Wheel is not needed for python 3 only repo\n  * Some other sections are obsolete\n- Update classifiers\n- Update requirements, no need for python_version anymore\n- Use sphinx-build everywhere\n\nChange-Id: I42a8071625d8e309d1580f31e440df4d54d2d37b\n'}]",0,717553,11a69eb678bd5be6abbb5ba2ef5ce4e6392e7500,7,3,2,6547,,,0,"Cleanup py27 support

Make a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.6 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg:
  * Wheel is not needed for python 3 only repo
  * Some other sections are obsolete
- Update classifiers
- Update requirements, no need for python_version anymore
- Use sphinx-build everywhere

Change-Id: I42a8071625d8e309d1580f31e440df4d54d2d37b
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/53/717553/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.py', 'setup.cfg', 'tox.ini']",4,f572bfbabd216d8227d402b49bb843a614dbbc89,cleanup-py27-support, sphinx-build -a -E -W -d doc/build/doctrees -b html doc/source doc/build/html, python setup.py build_sphinx,6,35
openstack%2Fmonasca-events-api~master~I5e8ff349f30d0a56cb609bc4e24acecfcdc98567,openstack/monasca-events-api,master,I5e8ff349f30d0a56cb609bc4e24acecfcdc98567,Update hacking for Python3,ABANDONED,2020-03-31 19:42:35.000000000,2021-08-25 15:04:13.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-31 19:42:35.000000000', 'files': ['monasca_events_api/app/wsgi.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/b43091f7eb2bd6bee03b503555779f94c2355ec6', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found by updated hacking version.\n\nChange-Id: I5e8ff349f30d0a56cb609bc4e24acecfcdc98567\n'}]",0,716406,b43091f7eb2bd6bee03b503555779f94c2355ec6,6,3,1,6547,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found by updated hacking version.

Change-Id: I5e8ff349f30d0a56cb609bc4e24acecfcdc98567
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/06/716406/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_events_api/app/wsgi.py', 'test-requirements.txt']",2,b43091f7eb2bd6bee03b503555779f94c2355ec6,update-hacking,"hacking>=3.0,<3.1.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",2,1
openstack%2Fscientific-wg~master~I4d31607a4a7079f39b6afa2cddb2804612844f18,openstack/scientific-wg,master,I4d31607a4a7079f39b6afa2cddb2804612844f18,Cleanup py27 support,ABANDONED,2020-04-17 14:39:26.000000000,2021-08-25 15:04:04.000000000,,"[{'_account_id': 6547}, {'_account_id': 7546}, {'_account_id': 10910}, {'_account_id': 21671}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-04-17 14:39:26.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'setup.py', 'doc/source/conf.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/scientific-wg/commit/7cb9089eb996c1061cbdc41bf540ec7fc3c847e6', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Switch to Python3\n- Switch to openstackdocstheme\n- Remove install_command from tox.ini, the default is fine\n- Change jobs to build documentation\n\nChange-Id: I4d31607a4a7079f39b6afa2cddb2804612844f18\n""}]",0,720730,7cb9089eb996c1061cbdc41bf540ec7fc3c847e6,6,7,1,6547,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Switch to using sphinx-build
- Switch to Python3
- Switch to openstackdocstheme
- Remove install_command from tox.ini, the default is fine
- Change jobs to build documentation

Change-Id: I4d31607a4a7079f39b6afa2cddb2804612844f18
",git fetch https://review.opendev.org/openstack/scientific-wg refs/changes/30/720730/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'setup.py', 'doc/source/conf.py', 'setup.cfg', 'tox.ini']",7,7cb9089eb996c1061cbdc41bf540ec7fc3c847e6,cleanup-py27-support,ignore_basepython_conflict = Truebasepython = python3 sphinx-build -W -b html doc/source doc/build/html ,basepython = python2.7 python setup.py build_sphinx,17,34
openstack%2Fmonasca-events-api~master~I4b6d35a0e20e0991091ff3d71d4d7186071d4c2f,openstack/monasca-events-api,master,I4b6d35a0e20e0991091ff3d71d4d7186071d4c2f,Switch to newer openstackdocstheme and reno versions,ABANDONED,2020-05-31 17:44:48.000000000,2021-08-25 15:03:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-31 17:44:48.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/4332619acfecad0cd50abaffc609737c6d7bb127', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I4b6d35a0e20e0991091ff3d71d4d7186071d4c2f\n""}]",0,732034,4332619acfecad0cd50abaffc609737c6d7bb127,3,1,1,6547,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I4b6d35a0e20e0991091ff3d71d4d7186071d4c2f
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/34/732034/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'api-ref/source/conf.py', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/conf.py']",5,4332619acfecad0cd50abaffc609737c6d7bb127,reno-openstackdocstheme,openstackdocs_repo_name = u'openstack/monasca-events-api'openstackdocs_use_storyboard = Truepygments_style = 'native',repository_name = u'openstack/monasca-events-api'bug_project = u'866' bug_tag = u''pygments_style = 'sphinx',15,18
openstack%2Fmolteniron~master~I69eececbc482575e8e8335d8ba3499b3a86e4be7,openstack/molteniron,master,I69eececbc482575e8e8335d8ba3499b3a86e4be7,Switch to newer openstackdocstheme and reno versions,ABANDONED,2020-05-30 15:01:51.000000000,2021-08-25 15:03:45.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-30 15:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/molteniron/commit/134f2b1800e98caa744941049aadfb19861d4ab1', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I69eececbc482575e8e8335d8ba3499b3a86e4be7\n""}, {'number': 2, 'created': '2020-05-30 15:18:49.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/molteniron/commit/206cdc284f74faeee160e9dbf5be0583e2367df0', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I69eececbc482575e8e8335d8ba3499b3a86e4be7\n""}]",11,731967,206cdc284f74faeee160e9dbf5be0583e2367df0,13,3,2,6547,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I69eececbc482575e8e8335d8ba3499b3a86e4be7
",git fetch https://review.opendev.org/openstack/molteniron refs/changes/67/731967/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,134f2b1800e98caa744941049aadfb19861d4ab1,reno-openstackdocstheme,openstackdocs_repo_name = 'openstack/molteniron' openstackdocs_use_storyboard = True openstackdocs_auto_name = False pygments_style = 'native',pygments_style = 'sphinx',13,5
openstack%2Fceilometer-powervm~master~I10ca0b85ba5b19eace878731c7209494d017a3d8,openstack/ceilometer-powervm,master,I10ca0b85ba5b19eace878731c7209494d017a3d8,Switch to newer openstackdocstheme version,ABANDONED,2020-06-03 19:05:25.000000000,2021-08-25 15:03:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-03 19:05:25.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/ec2629ee40e050b606c3b0af34e5cb9c3ada9457', 'message': ""Switch to newer openstackdocstheme version\n\nSwitch to openstackdocstheme 2.2.1 version. Using\nthis version will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I10ca0b85ba5b19eace878731c7209494d017a3d8\n""}]",0,733349,ec2629ee40e050b606c3b0af34e5cb9c3ada9457,3,1,1,6547,,,0,"Switch to newer openstackdocstheme version

Switch to openstackdocstheme 2.2.1 version. Using
this version will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

Remove docs requirements from lower-constraints, they are not needed
during install or test but only for docs building.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I10ca0b85ba5b19eace878731c7209494d017a3d8
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/49/733349/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt']",3,ec2629ee40e050b606c3b0af34e5cb9c3ada9457,reno-openstackdocstheme,"sphinx>=2.0.0,!=2.1.0 # BSD openstackdocstheme>=2.2.1 # Apache-2.0","sphinx!=1.6.6,!=1.6.7,>=1.6.5 # BSD openstackdocstheme>=1.19.0 # Apache-2.0",7,13
openstack%2Fgoal-tools~master~Ifa5c9a79cfe54b54cf50d8260bd87b36d99f52fc,openstack/goal-tools,master,Ifa5c9a79cfe54b54cf50d8260bd87b36d99f52fc,Add python-requires 3.6,ABANDONED,2020-04-27 16:15:27.000000000,2021-08-25 15:02:57.000000000,,"[{'_account_id': 2472}, {'_account_id': 5046}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-04-27 16:15:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/285eb6a340527d00a0c7383f7f3b6063adfcab6e', 'message': 'Add python-requires 3.6\n\nAdd requires on minimal python version.\n\nChange-Id: Ifa5c9a79cfe54b54cf50d8260bd87b36d99f52fc\n'}]",0,723595,285eb6a340527d00a0c7383f7f3b6063adfcab6e,5,6,1,6547,,,0,"Add python-requires 3.6

Add requires on minimal python version.

Change-Id: Ifa5c9a79cfe54b54cf50d8260bd87b36d99f52fc
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/95/723595/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,285eb6a340527d00a0c7383f7f3b6063adfcab6e,cleanup-py27-support,python-requires = >=3.6,,1,0
openstack%2Fnetworking-powervm~master~Ia3bd2eec49c77322b4d7133f8556291ea78864b1,openstack/networking-powervm,master,Ia3bd2eec49c77322b4d7133f8556291ea78864b1,Switch to newer openstackdocstheme version,ABANDONED,2020-06-03 19:06:23.000000000,2021-08-25 15:02:42.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-03 19:06:23.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/4eda0934c8efd4189395f91828d05e9bfc064250', 'message': ""Switch to newer openstackdocstheme version\n\nSwitch to openstackdocstheme 2.2.1 version. Using\nthis version will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: Ia3bd2eec49c77322b4d7133f8556291ea78864b1\n""}]",0,733352,4eda0934c8efd4189395f91828d05e9bfc064250,5,2,1,6547,,,0,"Switch to newer openstackdocstheme version

Switch to openstackdocstheme 2.2.1 version. Using
this version will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

Remove docs requirements from lower-constraints, they are not needed
during install or test but only for docs building.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: Ia3bd2eec49c77322b4d7133f8556291ea78864b1
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/52/733352/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt']",3,4eda0934c8efd4189395f91828d05e9bfc064250,reno-openstackdocstheme,"sphinx>=2.0.0,!=2.1.0 # BSD openstackdocstheme>=2.2.1 # Apache-2.0","sphinx>=1.8.0,<2.0.0;python_version=='2.7' # BSD sphinx>=1.8.0;python_version>='3.4' # BSD openstackdocstheme>=1.19.0 # Apache-2.0",7,14
openstack%2Fnetworking-powervm~master~I20c6b67872f5bf6d75d236a6b998e4cc1998d6a4,openstack/networking-powervm,master,I20c6b67872f5bf6d75d236a6b998e4cc1998d6a4,Fix requirements,ABANDONED,2020-06-22 07:27:20.000000000,2021-08-25 15:02:34.000000000,,"[{'_account_id': 6547}, {'_account_id': 10608}, {'_account_id': 13637}, {'_account_id': 14070}, {'_account_id': 14581}, {'_account_id': 16551}, {'_account_id': 22348}, {'_account_id': 28063}]","[{'number': 1, 'created': '2020-06-22 07:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/581ef3b4ffd54622c64dcfe50a029fcd39e2f688', 'message': 'Fix requirements\n\nInstall neutron via requirements to unblock jobs.\n\nZuul will install neutron from source due to use neutron jobs.\n\nWe have to remove neutron/test-requirements since those duplicate what\nnetworking-powervm has. If anything is missing, we better sync manually.\n\nChange-Id: I20c6b67872f5bf6d75d236a6b998e4cc1998d6a4\n'}, {'number': 2, 'created': '2020-06-22 07:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/277ae609519feb517985f6b52448f9a8c2dd3f4d', 'message': 'Fix requirements\n\nInstall neutron via requirements to unblock jobs.\n\nZuul will install neutron from source due to use neutron jobs.\n\nWe have to remove neutron/test-requirements since those duplicate what\nnetworking-powervm has. If anything is missing, we better sync manually.\n\nUpdate doc/requirements.txt to pass requirements-check job.\n\nChange-Id: I20c6b67872f5bf6d75d236a6b998e4cc1998d6a4\n'}, {'number': 3, 'created': '2020-06-22 07:57:45.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/fc5728116a685e357135b77fe108572312ca39d6', 'message': 'Fix requirements\n\nInstall neutron via requirements to unblock jobs.\n\nZuul will install neutron from source due to use neutron jobs.\n\nWe have to remove neutron/test-requirements since those duplicate what\nnetworking-powervm has. If anything is missing, we better sync manually.\n\nUpdate doc/requirements.txt to pass requirements-check job.\n\nUse neutron lower-constraints job so that master of neutron is used.\n\nChange-Id: I20c6b67872f5bf6d75d236a6b998e4cc1998d6a4\n'}]",0,737224,fc5728116a685e357135b77fe108572312ca39d6,7,8,3,6547,,,0,"Fix requirements

Install neutron via requirements to unblock jobs.

Zuul will install neutron from source due to use neutron jobs.

We have to remove neutron/test-requirements since those duplicate what
networking-powervm has. If anything is missing, we better sync manually.

Update doc/requirements.txt to pass requirements-check job.

Use neutron lower-constraints job so that master of neutron is used.

Change-Id: I20c6b67872f5bf6d75d236a6b998e4cc1998d6a4
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/24/737224/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'tox.ini']",3,581ef3b4ffd54622c64dcfe50a029fcd39e2f688,fix-install, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -egit+https://opendev.org/openstack/neutron#egg=neutron -rhttps://opendev.org/openstack/neutron/raw/branch/master/test-requirements.txt,3,5
openstack%2Fself-healing-sig~master~I51704af235e07625812e3b035e72b0408fad793c,openstack/self-healing-sig,master,I51704af235e07625812e3b035e72b0408fad793c,Switch to newer openstackdocstheme version,ABANDONED,2020-06-03 19:08:26.000000000,2021-08-25 15:02:21.000000000,,"[{'_account_id': 2394}, {'_account_id': 6547}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-03 19:08:26.000000000', 'files': ['requirements.txt', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/self-healing-sig/commit/cb738addb5d9bce7b744b56e5eb6109694174dab', 'message': ""Switch to newer openstackdocstheme version\n\nSwitch to openstackdocstheme 2.2.1 version. Using\nthis version will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I51704af235e07625812e3b035e72b0408fad793c\n""}]",0,733361,cb738addb5d9bce7b744b56e5eb6109694174dab,5,5,1,6547,,,0,"Switch to newer openstackdocstheme version

Switch to openstackdocstheme 2.2.1 version. Using
this version will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I51704af235e07625812e3b035e72b0408fad793c
",git fetch https://review.opendev.org/openstack/self-healing-sig refs/changes/61/733361/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py']",2,cb738addb5d9bce7b744b56e5eb6109694174dab,reno-openstackdocstheme,openstackdocs_repo_name = 'openstack/self-healing-sig' openstackdocs_auto_name = False openstackdocs_use_storyboard = Truefeed_base_url = 'https://specs.openstack.org/openstack/self-healing-sig'pygments_style = 'native',repository_name = 'openstack/self-healing-sig' bug_project = '917' bug_tag = ''feed_base_url = 'http://specs.openstack.org/openstack/self-healing-sig'pygments_style = 'sphinx',6,6
openstack%2Fbarbican~stable%2Fpike~I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,openstack/barbican,stable/pike,I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,Don't use branch matching,ABANDONED,2019-10-18 13:52:16.000000000,2021-08-25 15:02:05.000000000,,"[{'_account_id': 7973}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2019-10-18 13:52:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/9d34934a9d636535eacc3632177bed6f8c65307a', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)\n""}]",0,689466,9d34934a9d636535eacc3632177bed6f8c65307a,10,4,1,6547,,,0,"Don't use branch matching

This is not needed since we have implicit branch matches - and even
hurts since the master version is used on stable branches

Remove here - this ensures that future stable branches and master are
fine.

Change-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd
(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/66/689466/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9d34934a9d636535eacc3632177bed6f8c65307a,pike/backport/681972,, # Start testing with pike branches: ^(?!stable/ocata).*$,0,2
openstack%2Fbarbican~stable%2Fqueens~I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,openstack/barbican,stable/queens,I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,Don't use branch matching,ABANDONED,2019-10-18 13:48:59.000000000,2021-08-25 15:01:57.000000000,,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2019-10-18 13:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0ec4c482d3e1c09670d8d8d5d11307b50256991e', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)\n""}, {'number': 2, 'created': '2019-12-04 00:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/92d50b8baf62b055124e9adbd2f4ad275e4d776c', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)\n""}, {'number': 3, 'created': '2019-12-16 11:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/708d72dbc318075a86d87a55a848a7f569956d53', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)\n""}, {'number': 4, 'created': '2019-12-20 15:00:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/5e0809960fcfa293ed7254f2d7631803e9144082', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)\n""}]",0,689463,5e0809960fcfa293ed7254f2d7631803e9144082,21,7,4,6547,,,0,"Don't use branch matching

This is not needed since we have implicit branch matches - and even
hurts since the master version is used on stable branches

Remove here - this ensures that future stable branches and master are
fine.

Change-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd
(cherry picked from commit be537bb79c4f1f999c33d396dcba4adbae2be599)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/63/689463/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0ec4c482d3e1c09670d8d8d5d11307b50256991e,branches-stable/queens,, # start running with Pike branches: ^(?!stable/ocata).*$ # Start testing with pike branches: ^(?!stable/ocata).*$,0,4
openstack%2Fdevstack~stable%2Fstein~I2ce8959460a79b6472bd9dd59edd7d94eccbacf5,openstack/devstack,stable/stein,I2ce8959460a79b6472bd9dd59edd7d94eccbacf5,Handle uwsgi install for openSUSE,ABANDONED,2020-06-15 16:44:55.000000000,2021-08-25 15:01:29.000000000,,"[{'_account_id': 6547}, {'_account_id': 8482}, {'_account_id': 12907}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-15 16:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/01f3c0d8a0633a37e1e6a9f88f58a914933f7242', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 2, 'created': '2020-06-17 07:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6efcf70a6a7f675c1b51e79e01864e68d5fc8843', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 3, 'created': '2020-06-19 09:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/38a793f7bc832ec5c515ca70aff05d7b32a792ff', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 4, 'created': '2020-06-29 18:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d9e415878dd3713a1e055e8e9aa90ab4cf0e08e4', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 5, 'created': '2020-06-29 21:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/34a66b1914f54f963696d6a080a50ac0ba077911', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 6, 'created': '2020-06-30 00:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ac0b61f189582214de73447b8f2e9cbebd89bac', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 7, 'created': '2020-06-30 02:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2b62519239fc06b066d2f79294009e28eaf08261', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\nAlso install python2 version in addtion to 3.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 8, 'created': '2020-06-30 15:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5e81884bdae5aa4d0fd13c37df32e7e49d79102e', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\nAlso install python2 version in addtion to 3.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 9, 'created': '2020-06-30 18:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/38220e00a0c01f7b51810e4d1db32fb26f365be3', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\nAlso install python2 version in addtion to 3.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 10, 'created': '2020-07-01 03:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5418dfa53eb366b6bf76273cc0cca4a65485363c', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\nAlso install python2 version in addtion to 3.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 11, 'created': '2020-07-01 12:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f2e72adf9cebec013625055e20a0a751044e29e9', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\nAlso install python2 version in addtion to 3.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 12, 'created': '2020-07-01 20:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/51378e1ca9f0d882bf06211f4fa4389ed92a38bf', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\nAlso install python2 version in addtion to 3.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 13, 'created': '2020-07-02 05:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d699cd08a65e7bc3bf47085c244ea03259bf00be', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdd /usr/local/bin to PATH, this is not set on openSUSE and needed\nto fix the setup after the pip/virtualenv changes.\nAlso install python2 version in addtion to 3.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 14, 'created': '2020-07-02 08:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/251ea2cc4ac5010e8137aa5385cab165797936a5', 'message': 'Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdapt PYTHON_PATH and add /usr/local/bin to PATH. It is not in PATH on\nopenSUSE. This is needed to fix the setup after the pip/virtualenv\nchanges. Persist PATH in /etc/environment .\nAlso install python2 version of uwsgi module in addtion to 3.\n\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nCo-Authored-By: Jan Zerebecki <jzerebecki@suse.com>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n'}, {'number': 15, 'created': '2020-07-07 14:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/40a99b3c26b4d456c0000f26c06bb383703ba936', 'message': ""Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdapt PYTHON_PATH and add /usr/local/bin to PATH. It is not in PATH\nbecause we don't pick up /etc/profile where it is usually added. This is\nneeded to fix the setup after the pip/virtualenv changes.\nAlso install python2 version of uwsgi module in addtion to 3.\n\nThe depended on patch is to set PATH for temptest for the same reason.\n\nDepends-On: https://review.opendev.org/#/c/739778/\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nCo-Authored-By: Jan Zerebecki <jzerebecki@suse.com>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n""}, {'number': 16, 'created': '2020-10-01 16:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ad3a8c81a3c783b1e7b8be188d77aa7dec175151', 'message': ""Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdapt PYTHON_PATH and add /usr/local/bin to PATH. It is not in PATH\nbecause we don't pick up /etc/profile where it is usually added. This is\nneeded to fix the setup after the pip/virtualenv changes.\nAlso install python2 version of uwsgi module in addtion to 3.\n\nThe depended on patch is to set PATH for temptest for the same reason.\n\nDepends-On: https://review.opendev.org/#/c/739778/\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nCo-Authored-By: Jan Zerebecki <jzerebecki@suse.com>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n""}, {'number': 17, 'created': '2020-11-10 20:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dc87193e797fa7649604881cec57fc09e8501078', 'message': ""Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdapt PYTHON_PATH and add /usr/local/bin to PATH. It is not in PATH\nbecause we don't pick up /etc/profile where it is usually added. This is\nneeded to fix the setup after the pip/virtualenv changes.\nAlso install python2 version of uwsgi module in addtion to 3.\n\nThe depended on patch is to set PATH for temptest for the same reason.\n\nDepends-On: https://review.opendev.org/#/c/762206/\nDepends-On: https://review.opendev.org/#/c/739778/\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nCo-Authored-By: Jan Zerebecki <jzerebecki@suse.com>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n""}, {'number': 18, 'created': '2020-11-10 22:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/53dabcbeb8bcf049b21fb8dabc460fd592775843', 'message': ""Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdapt PYTHON_PATH and add /usr/local/bin to PATH. It is not in PATH\nbecause we don't pick up /etc/profile where it is usually added. This is\nneeded to fix the setup after the pip/virtualenv changes.\nAlso install python2 version of uwsgi module in addtion to 3.\n\nThe depended on patch is to set PATH for temptest for the same reason.\n\nDepends-On: https://review.opendev.org/#/c/762214/\nDepends-On: https://review.opendev.org/#/c/739778/\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nCo-Authored-By: Jan Zerebecki <jzerebecki@suse.com>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n""}, {'number': 19, 'created': '2020-11-11 19:25:21.000000000', 'files': ['inc/python', 'lib/apache', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6da7b21565faf25d63dd92bb517630eaa1eea1d7', 'message': ""Handle uwsgi install for openSUSE\n\nAdd packages for openSUSE distribution for installation of uwsgi.\n\nFor stein add in addition:\nAdapt PYTHON_PATH and add /usr/local/bin to PATH. It is not in PATH\nbecause we don't pick up /etc/profile where it is usually added. This is\nneeded to fix the setup after the pip/virtualenv changes.\nAlso install python2 version of uwsgi module in addtion to 3.\n\nThe depended on patch is to set PATH for temptest for the same reason.\n\nDepends-On: https://review.opendev.org/#/c/739778/\nCo-Authored-By: Jens Harbott <j.harbott@x-ion.de>\nCo-Authored-By: Jan Zerebecki <jzerebecki@suse.com>\nChange-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5\n(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)\n""}]",5,735640,6da7b21565faf25d63dd92bb517630eaa1eea1d7,73,7,19,6547,,,0,"Handle uwsgi install for openSUSE

Add packages for openSUSE distribution for installation of uwsgi.

For stein add in addition:
Adapt PYTHON_PATH and add /usr/local/bin to PATH. It is not in PATH
because we don't pick up /etc/profile where it is usually added. This is
needed to fix the setup after the pip/virtualenv changes.
Also install python2 version of uwsgi module in addtion to 3.

The depended on patch is to set PATH for temptest for the same reason.

Depends-On: https://review.opendev.org/#/c/739778/
Co-Authored-By: Jens Harbott <j.harbott@x-ion.de>
Co-Authored-By: Jan Zerebecki <jzerebecki@suse.com>
Change-Id: I2ce8959460a79b6472bd9dd59edd7d94eccbacf5
(cherry-picked from commit 10c3ffd26557f1921841e456b003a77f6fb11948)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/735640/17 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,01f3c0d8a0633a37e1e6a9f88f58a914933f7242,uwsgi-stable/stein, elif [[ $os_VENDOR =~ openSUSE ]]; then install_package uwsgi \ uwsgi-python3 \ apache2-mod_uwsgi,,4,0
openstack%2Foctavia~master~Ifdb1acb7e53ca2acfbef8c34dbb360d738117439,openstack/octavia,master,Ifdb1acb7e53ca2acfbef8c34dbb360d738117439,Fix pylint checks,MERGED,2021-08-24 14:07:44.000000000,2021-08-25 14:50:23.000000000,2021-08-25 14:48:06.000000000,"[{'_account_id': 10366}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-08-24 14:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d488aae53cb2b5e7239a141c5de40701cad4a66', 'message': 'Fix pylint checks\n\npylint 2.10.2 introduced new checkers.\n\nFixed redundant-u-string-prefix warnings\nDisabled:\n- use-dict-literal checker\n- use-list-literal checker\n- unspecified-encoding checker\n\nChange-Id: Ifdb1acb7e53ca2acfbef8c34dbb360d738117439\n'}, {'number': 2, 'created': '2021-08-24 17:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d1071f2f8edcc5908148b669a66416af88383652', 'message': 'Fix pylint checks\n\npylint 2.10.2 introduced new checkers.\n\nFixed redundant-u-string-prefix, use-dict-literal, use-list-literal, and\nunspecified-encoding warnings\n\nChange-Id: Ifdb1acb7e53ca2acfbef8c34dbb360d738117439\n'}, {'number': 3, 'created': '2021-08-24 17:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9fbd734e07ea907272e73af68dbbbc62cb4536ed', 'message': 'Fix pylint checks\n\npylint 2.10.2 introduced new checkers.\n\nFixed redundant-u-string-prefix, use-dict-literal, use-list-literal, and\nunspecified-encoding warnings\n\nChange-Id: Ifdb1acb7e53ca2acfbef8c34dbb360d738117439\n'}, {'number': 4, 'created': '2021-08-24 17:08:38.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/keepalived.py', 'octavia/amphorae/backends/health_daemon/health_daemon.py', 'octavia/cmd/health_checker.py', 'octavia/certificates/manager/local.py', 'octavia/amphorae/backends/utils/network_namespace.py', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/amphorae/backends/agent/api_server/amphora_info.py', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/20da8e1aa3c56e9e25191abde8fae4e39aeff529', 'message': 'Fix pylint checks\n\npylint 2.10.2 introduced new checkers.\n\nFixed redundant-u-string-prefix, use-dict-literal, use-list-literal, and\nunspecified-encoding warnings\n\nChange-Id: Ifdb1acb7e53ca2acfbef8c34dbb360d738117439\n'}]",0,805861,20da8e1aa3c56e9e25191abde8fae4e39aeff529,17,5,4,29244,,,0,"Fix pylint checks

pylint 2.10.2 introduced new checkers.

Fixed redundant-u-string-prefix, use-dict-literal, use-list-literal, and
unspecified-encoding warnings

Change-Id: Ifdb1acb7e53ca2acfbef8c34dbb360d738117439
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/805861/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/haproxy_query.py', '.pylintrc']",2,9d488aae53cb2b5e7239a141c5de40701cad4a66,," consider-using-enumerate, use-dict-literal, use-list-literal, unspecified-encoding", consider-using-enumerate,5,2
openstack%2Felection~master~I3db03c3f0098a99190666171cee3a6467c373ed2,openstack/election,master,I3db03c3f0098a99190666171cee3a6467c373ed2,Add build folder in .gitignore,MERGED,2021-07-20 22:58:46.000000000,2021-08-25 14:46:09.000000000,2021-08-25 14:44:24.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-20 22:58:46.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/election/commit/f668916d9a37fa89d0831b19a3fc3cac45384ac7', 'message': 'Add build folder in .gitignore\n\nChange-Id: I3db03c3f0098a99190666171cee3a6467c373ed2\n'}]",0,801546,f668916d9a37fa89d0831b19a3fc3cac45384ac7,14,3,1,8556,,,0,"Add build folder in .gitignore

Change-Id: I3db03c3f0098a99190666171cee3a6467c373ed2
",git fetch https://review.opendev.org/openstack/election refs/changes/46/801546/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,f668916d9a37fa89d0831b19a3fc3cac45384ac7,,build,,1,0
openstack%2Fopenstack-tempest-skiplist~master~Ia1bfc40b51bce1971742d804bfcfd9082ceaeec4,openstack/openstack-tempest-skiplist,master,Ia1bfc40b51bce1971742d804bfcfd9082ceaeec4,Add FloatingIpMultipleRoutersTest to skiplist,MERGED,2021-08-19 19:11:48.000000000,2021-08-25 14:45:41.000000000,2021-08-19 20:14:25.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 19:11:48.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/bd39a7cb13bacbf305e8e6b95c4a9bfa34888b6f', 'message': 'Add FloatingIpMultipleRoutersTest to skiplist\n\nAs described in bug #1940568, the test is frequently failing so\nwe are moving it to skiplist to unblock jobs.\n\nRelated-Bug: #1940568\n\nChange-Id: Ia1bfc40b51bce1971742d804bfcfd9082ceaeec4\n'}]",0,805267,bd39a7cb13bacbf305e8e6b95c4a9bfa34888b6f,9,3,1,30002,,,0,"Add FloatingIpMultipleRoutersTest to skiplist

As described in bug #1940568, the test is frequently failing so
we are moving it to skiplist to unblock jobs.

Related-Bug: #1940568

Change-Id: Ia1bfc40b51bce1971742d804bfcfd9082ceaeec4
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/67/805267/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,bd39a7cb13bacbf305e8e6b95c4a9bfa34888b6f,bug/1940568, - test: neutron_tempest_plugin.scenario.test_floatingip.FloatingIpMultipleRoutersTest deployment: - 'overcloud' releases: - name: ussuri reason: Failed with IP address already allocated lp: https://bugs.launchpad.net/tripleo/+bug/1940568 jobs: - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-ussuri,,9,0
openstack%2Fopenstack-ansible~master~I16a6b516fc08b6bd5d3190f0bfe640277cda053a,openstack/openstack-ansible,master,I16a6b516fc08b6bd5d3190f0bfe640277cda053a,Switch CentOS upgrade jobs to Stream ones,MERGED,2021-08-20 08:11:41.000000000,2021-08-25 14:41:30.000000000,2021-08-25 14:36:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28752}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-20 08:11:41.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e45de76fba414cd202dfa8dff0a3a31b17f5f99', 'message': 'Switch CentOS upgrade jobs to Stream ones\n\nChange-Id: I16a6b516fc08b6bd5d3190f0bfe640277cda053a\n'}]",0,805350,6e45de76fba414cd202dfa8dff0a3a31b17f5f99,15,4,1,28619,,,0,"Switch CentOS upgrade jobs to Stream ones

Change-Id: I16a6b516fc08b6bd5d3190f0bfe640277cda053a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/805350/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,6e45de76fba414cd202dfa8dff0a3a31b17f5f99,, - openstack-ansible-upgrade-infra_lxc-centos-8-stream: - openstack-ansible-upgrade-aio_metal-centos-8-stream: - openstack-ansible-upgrade-aio_metal-centos-8-stream:, - openstack-ansible-upgrade-infra_lxc-centos-8: - openstack-ansible-upgrade-aio_metal-centos-8: - openstack-ansible-upgrade-aio_metal-centos-8:,3,3
openstack%2Fopenstack-ansible~master~I4216e4ec83f64698705bd7e255b0053e2000a713,openstack/openstack-ansible,master,I4216e4ec83f64698705bd7e255b0053e2000a713,Switch ceph-ansible to Pacific,MERGED,2021-08-16 08:21:28.000000000,2021-08-25 14:38:50.000000000,2021-08-25 14:35:24.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-08-16 08:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e1c3bd2141d4244e700619c904743d564f0bfbe7', 'message': 'Switch ceph-ansible to Pacific\n\nChange-Id: I4216e4ec83f64698705bd7e255b0053e2000a713\n'}, {'number': 2, 'created': '2021-08-20 12:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ade547274b2652379fdb2ba824b44dfd19b62106', 'message': 'Switch ceph-ansible to Pacific\n\nChange-Id: I4216e4ec83f64698705bd7e255b0053e2000a713\n'}, {'number': 3, 'created': '2021-08-20 12:06:49.000000000', 'files': ['scripts/openstack-ansible.rc', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e1937b3f19866845456e296e287b17cca03de102', 'message': 'Switch ceph-ansible to Pacific\n\nChange-Id: I4216e4ec83f64698705bd7e255b0053e2000a713\n'}]",0,804610,e1937b3f19866845456e296e287b17cca03de102,15,3,3,28619,,,0,"Switch ceph-ansible to Pacific

Change-Id: I4216e4ec83f64698705bd7e255b0053e2000a713
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/804610/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,e1c3bd2141d4244e700619c904743d564f0bfbe7,, version: stable-6.0 trackbranch: stable-6.0, version: stable-5.0 trackbranch: stable-5.0,2,2
openstack%2Fopenstack-ansible-os_neutron~master~I619159afb1ae2c156bb33cbfe78b40466440e025,openstack/openstack-ansible-os_neutron,master,I619159afb1ae2c156bb33cbfe78b40466440e025,Exclude neutron from venv constraints,MERGED,2021-06-30 21:24:58.000000000,2021-08-25 14:25:03.000000000,2021-08-25 14:23:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-30 21:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a9ad56d1953e928e58df24dcc893b42ba712b3ed', 'message': 'Exclude neutron from venv constraints\n\nNeutron itself appears in u-c for stable branches so we must filter\nit out.\n\nChange-Id: I619159afb1ae2c156bb33cbfe78b40466440e025\n'}, {'number': 2, 'created': '2021-07-08 05:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a8ea07bbf1f69fd95fa8cb17fd7d661e4599f12d', 'message': 'Exclude neutron from venv constraints\n\nNeutron itself appears in u-c for stable branches so we must filter\nit out.\n\nChange-Id: I619159afb1ae2c156bb33cbfe78b40466440e025\n'}, {'number': 3, 'created': '2021-08-16 07:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/926385445f84b43acf048de146f6b586b7435cc6', 'message': 'Exclude neutron from venv constraints\n\nNeutron itself appears in u-c for stable branches so we must filter\nit out.\n\nChange-Id: I619159afb1ae2c156bb33cbfe78b40466440e025\n'}, {'number': 4, 'created': '2021-08-16 10:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/23d35291c44dc9a877d929f3f9325ecadfd6c991', 'message': 'Exclude neutron from venv constraints\n\nNeutron itself appears in u-c for stable branches so we must filter\nit out.\n\nChange-Id: I619159afb1ae2c156bb33cbfe78b40466440e025\n'}, {'number': 5, 'created': '2021-08-20 12:30:42.000000000', 'files': ['tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/acae7a8621f8e4c65236179eff96c502d4800250', 'message': 'Exclude neutron from venv constraints\n\nNeutron itself appears in u-c for stable branches so we must filter\nit out.\n\nChange-Id: I619159afb1ae2c156bb33cbfe78b40466440e025\n'}]",1,798960,acae7a8621f8e4c65236179eff96c502d4800250,33,3,5,25023,,,0,"Exclude neutron from venv constraints

Neutron itself appears in u-c for stable branches so we must filter
it out.

Change-Id: I619159afb1ae2c156bb33cbfe78b40466440e025
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/60/798960/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/neutron_install.yml'],1,a9ad56d1953e928e58df24dcc893b42ba712b3ed,,"# # NOTE(jrosser) # neutron itself also appears in u-c (!) as the split between neutron and # neutron-lib appears incomplete. venv_build_constraints: ""{{ _u_c_contents.content.split('\n') | reject('match', '^ceilometer=') | reject('match', '^neutron=') | list }}"""," venv_build_constraints: ""{{ _u_c_contents.content.split('\n') | reject('match', '^ceilometer=') | list }}""",5,1
openstack%2Fopenstack-ansible~master~Ie85b0df886b6c7339f14006e3e3957a5a027a74e,openstack/openstack-ansible,master,Ie85b0df886b6c7339f14006e3e3957a5a027a74e,"Revert ""set non-voting for broken tox-doc test""",MERGED,2021-08-09 07:51:36.000000000,2021-08-25 14:18:33.000000000,2021-08-25 14:12:34.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-08-09 07:51:36.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9b9d6b883842df44cb1f8c6cb04327c97e586550', 'message': 'Revert ""set non-voting for broken tox-doc test""\n\nThis reverts commit de64a324e35058a2a8fff7de7e8041ac8cd2f2f3.\n\nReason for revert: Docs build is fixed\n\nChange-Id: Ie85b0df886b6c7339f14006e3e3957a5a027a74e\n'}]",0,803832,9b9d6b883842df44cb1f8c6cb04327c97e586550,10,4,1,25023,,,0,"Revert ""set non-voting for broken tox-doc test""

This reverts commit de64a324e35058a2a8fff7de7e8041ac8cd2f2f3.

Reason for revert: Docs build is fixed

Change-Id: Ie85b0df886b6c7339f14006e3e3957a5a027a74e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/32/803832/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,9b9d6b883842df44cb1f8c6cb04327c97e586550,osa/tox-doc, - openstack-tox-docs - openstack-tox-docs, - openstack-tox-docs: voting: false - openstack-tox-docs: voting: false,2,4
openstack%2Fcharm-ceph-dashboard~master~I92e0948e36f4156686c908f86b5e2398b504a742,openstack/charm-ceph-dashboard,master,I92e0948e36f4156686c908f86b5e2398b504a742,"Add config for password policy, audit and motd",MERGED,2021-08-19 11:41:31.000000000,2021-08-25 13:23:19.000000000,2021-08-25 13:23:19.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 11:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/540f316bcc9a7bf5232ea2bf7141ae22be560d47', 'message': 'Add config for password policy, audit and motd\n\nChange-Id: I92e0948e36f4156686c908f86b5e2398b504a742\n'}, {'number': 2, 'created': '2021-08-19 11:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/aac4c109ad755fc91ce5ad3fdb9c762f0dc1e9dc', 'message': 'Add config for password policy, audit and motd\n\nThis change basically takes a number of dashboard configuration\noptions which are managed via `ceph dasboard key value` and\nexposes them as charm config options.\n\nChange-Id: I92e0948e36f4156686c908f86b5e2398b504a742\n'}, {'number': 3, 'created': '2021-08-19 11:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/862592306e6b2c7076b3bd3dd8139ca0110f6b9b', 'message': 'Add config for password policy, audit and motd\n\nThis change basically takes a number of dashboard configuration\noptions which are managed via `ceph dasboard key value` and\nexposes them as charm config options.\n\nChange-Id: I92e0948e36f4156686c908f86b5e2398b504a742\n'}, {'number': 4, 'created': '2021-08-23 19:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/c446621de63f1e789651a544105c4a5d2e85a894', 'message': 'Add config for password policy, audit and motd\n\nThis change basically takes a number of dashboard configuration\noptions which are managed via `ceph dasboard key value` and\nexposes them as charm config options.\n\nChange-Id: I92e0948e36f4156686c908f86b5e2398b504a742\n'}, {'number': 5, 'created': '2021-08-23 19:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/fb94c5f0eab95cf2f28048c81ddd3ed353d08b0c', 'message': 'Add config for password policy, audit and motd\n\nThis change basically takes a number of dashboard configuration\noptions which are managed via `ceph dasboard key value` and\nexposes them as charm config options.\n\nChange-Id: I92e0948e36f4156686c908f86b5e2398b504a742\n'}, {'number': 6, 'created': '2021-08-24 07:28:05.000000000', 'files': ['config.yaml', 'src/charm.py', 'unit_tests/test_ceph_dashboard_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0c279b8ad542813a6f118b3ec79dd988f200732f', 'message': 'Add config for password policy, audit and motd\n\nThis change basically takes a number of dashboard configuration\noptions which are managed via `ceph dasboard key value` and\nexposes them as charm config options.\n\nChange-Id: I92e0948e36f4156686c908f86b5e2398b504a742\n'}]",3,805189,0c279b8ad542813a6f118b3ec79dd988f200732f,18,3,6,12549,,,0,"Add config for password policy, audit and motd

This change basically takes a number of dashboard configuration
options which are managed via `ceph dasboard key value` and
exposes them as charm config options.

Change-Id: I92e0948e36f4156686c908f86b5e2398b504a742
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/89/805189/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal.yaml', 'config.yaml', 'src/charm.py', 'unit_tests/test_ceph_dashboard_charm.py']",4,540f316bcc9a7bf5232ea2bf7141ae22be560d47,pwd-audit-motd," 'subprocess', 'ch_host', self.harness = self.get_harness() self.socket.gethostname.return_value = 'server1' self.socket.getfqdn.return_value = 'server1.local' def get_harness(self): _harness = Harness( _harness._backend = _TestingOPSModelBackend( _harness._unit_name, _harness._meta) _harness._model = model.Model( _harness._meta, _harness._backend) _harness._framework = framework.Framework( _harness._charm_dir, _harness._meta, _harness._model) return _harness def test_charm_config(self): self.ceph_utils.is_dashboard_enabled.return_value = True self.ch_host.cmp_pkgrevno.return_value = 0 basic_boolean = [ ('enable-password-policy', 'set-pwd-policy-enabled'), ('password-policy-check-length', 'set-pwd-policy-check-length-enabled'), ('password-policy-check-oldpwd', 'set-pwd-policy-check-oldpwd-enabled'), ('password-policy-check-username', 'set-pwd-policy-check-username-enabled'), ('password-policy-check-exclusion-list', 'set-pwd-policy-check-exclusion-list-enabled'), ('password-policy-check-complexity', 'set-pwd-policy-check-complexity-enabled'), ('password-policy-check-sequential-chars', 'set-pwd-policy-check-sequential-chars-enabled'), ('password-policy-check-repetitive-chars', 'set-pwd-policy-check-repetitive-chars-enabled'), ('audit-api-enabled', 'set-audit-api-enabled'), ('audit-api-log-payload', 'set-audit-api-log-payload')] expect = [] for charm_option, ceph_option in basic_boolean: expect.append((charm_option, True, [ceph_option, 'True'])) expect.append((charm_option, False, [ceph_option, 'False'])) expect.extend([ ('debug', True, ['debug', 'enable']), ('debug', False, ['debug', 'disable'])]) expect.append(( 'motd', 'warning|5w|enough is enough', ['motd', 'warning', '5w', 'enough is enough'])) base_cmd = ['ceph', 'dashboard'] for charm_option, charm_value, expected_options in expect: _harness = self.get_harness() _harness.begin() expected_cmd = base_cmd + expected_options _harness.update_config( key_values={charm_option: charm_value}) self.subprocess.check_output.assert_called_once_with( expected_cmd, stderr=self.subprocess.STDOUT) self.subprocess.check_output.reset_mock() "," 'subprocess' self.harness = Harness( self.harness._backend = _TestingOPSModelBackend( self.harness._unit_name, self.harness._meta) self.harness._model = model.Model( self.harness._meta, self.harness._backend) self.harness._framework = framework.Framework( self.harness._charm_dir, self.harness._meta, self.harness._model) self.socket.gethostname.return_value = 'server1' self.socket.getfqdn.return_value = 'server1.local'",242,14
openstack%2Fneutron~master~I505911412fd903d351f39ebb733ef8e872cb16fb,openstack/neutron,master,I505911412fd903d351f39ebb733ef8e872cb16fb,Bump os-resource-classes lib to 1.1.0,MERGED,2021-07-16 14:09:28.000000000,2021-08-25 13:21:02.000000000,2021-08-25 13:19:13.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-07-16 14:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb952d50ed5616f95ba8a1e046ccbdf4ebe1a85e', 'message': 'Bump os-resource-classes lib to 1.1.0\n\nNewer version provides access to packet rate related resource classes:\n\n* NET_PACKET_RATE_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC\n\nSee-Also: https://review.opendev.org/785236\nChange-Id: I505911412fd903d351f39ebb733ef8e872cb16fb\n'}, {'number': 2, 'created': '2021-08-05 07:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32eaa2643dbd2d13478f2154951b0ef05c99c77b', 'message': 'Bump os-resource-classes lib to 1.1.0\n\nNewer version provides access to packet rate related resource classes:\n\n* NET_PACKET_RATE_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I505911412fd903d351f39ebb733ef8e872cb16fb\n'}, {'number': 3, 'created': '2021-08-10 11:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8612339ff2dd9d925b5dc001ed2eb89440b4a48e', 'message': 'Bump os-resource-classes lib to 1.1.0\n\nNewer version provides access to packet rate related resource classes:\n\n* NET_PACKET_RATE_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I505911412fd903d351f39ebb733ef8e872cb16fb\n'}, {'number': 4, 'created': '2021-08-13 14:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/999e7671ff2b04260b7b569b8dc415137f51581d', 'message': 'Bump os-resource-classes lib to 1.1.0\n\nNewer version provides access to packet rate related resource classes:\n\n* NET_PACKET_RATE_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I505911412fd903d351f39ebb733ef8e872cb16fb\n'}, {'number': 5, 'created': '2021-08-16 07:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49d598a230474205f2ffb4cfe7b3e429af4207a0', 'message': 'Bump os-resource-classes lib to 1.1.0\n\nNewer version provides access to packet rate related resource classes:\n\n* NET_PACKET_RATE_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I505911412fd903d351f39ebb733ef8e872cb16fb\n'}, {'number': 6, 'created': '2021-08-20 14:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25c9a1fdf3fea612098685c29acd16ba78c0b2f0', 'message': 'Bump os-resource-classes lib to 1.1.0\n\nNewer version provides access to packet rate related resource classes:\n\n* NET_PACKET_RATE_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I505911412fd903d351f39ebb733ef8e872cb16fb\n'}, {'number': 7, 'created': '2021-08-23 13:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d32d1df708404ec39d67be155f87cb4e18fef720', 'message': 'Bump os-resource-classes lib to 1.1.0\n\nNewer version provides access to packet rate related resource classes:\n\n* NET_PACKET_RATE_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I505911412fd903d351f39ebb733ef8e872cb16fb\n'}, {'number': 8, 'created': '2021-08-24 09:01:25.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/31c09cd3b76d43a485002011df596a45d066eeb4', 'message': 'Bump os-resource-classes lib to 1.1.0\n\nNewer version provides access to packet rate related resource classes:\n\n* NET_PACKET_RATE_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC\n* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I505911412fd903d351f39ebb733ef8e872cb16fb\n'}]",0,801066,31c09cd3b76d43a485002011df596a45d066eeb4,71,9,8,33652,,,0,"Bump os-resource-classes lib to 1.1.0

Newer version provides access to packet rate related resource classes:

* NET_PACKET_RATE_KILOPACKET_PER_SEC
* NET_PACKET_RATE_EGR_KILOPACKET_PER_SEC
* NET_PACKET_RATE_IGR_KILOPACKET_PER_SEC

Related-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: I505911412fd903d351f39ebb733ef8e872cb16fb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/801066/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,eb952d50ed5616f95ba8a1e046ccbdf4ebe1a85e,bp/qos-minimum-guaranteed-packet-rate,os-resource-classes==1.1.0,os-resource-classes==0.2.0,2,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~Id32f1135c857eb4ccc4a6c7356957ff0f5182839,openstack/tripleo-ansible,stable/wallaby,Id32f1135c857eb4ccc4a6c7356957ff0f5182839,Add deployed_ceph feature,MERGED,2021-08-24 19:51:24.000000000,2021-08-25 13:19:33.000000000,2021-08-25 13:19:33.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-24 19:51:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_run_cephadm/defaults/main.yml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/deployed_ceph.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/playbooks/cli-deployed-ceph.yaml', 'tripleo_ansible/playbooks/ceph-admin-user-playbook.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/make_deployed_ceph_tht.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/enable_ceph_admin_user.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41ab770bccfbf1e448f0449b45589208dba77071', 'message': 'Add deployed_ceph feature\n\nAdd cli-deployed-ceph.yaml playbook which can be used\nto deploy ceph after networkv2 is configured but before\nthe overcloud is configured.\n\nAdd the tripleo_cephadm_deployed_ceph parameter boolean\nparamter which should be true if only if Ceph has already\nbeen deployed.\n\nThis parameter causes the roles tripleo_run_cephadm and\ntripleo_cephadm to skip certain tasks under the assmption\nthat these tasks have already been completed during an\nearlier phase of deployment.\n\nChange-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\n(cherry picked from commit 35e455ad52751ae334a614a03c8257da2f30e038)\n'}]",0,805826,41ab770bccfbf1e448f0449b45589208dba77071,7,4,1,18002,,,0,"Add deployed_ceph feature

Add cli-deployed-ceph.yaml playbook which can be used
to deploy ceph after networkv2 is configured but before
the overcloud is configured.

Add the tripleo_cephadm_deployed_ceph parameter boolean
paramter which should be true if only if Ceph has already
been deployed.

This parameter causes the roles tripleo_run_cephadm and
tripleo_cephadm to skip certain tasks under the assmption
that these tasks have already been completed during an
earlier phase of deployment.

Change-Id: Id32f1135c857eb4ccc4a6c7356957ff0f5182839
(cherry picked from commit 35e455ad52751ae334a614a03c8257da2f30e038)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/805826/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_run_cephadm/defaults/main.yml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/templates/deployed_ceph.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/playbooks/cli-deployed-ceph.yaml', 'tripleo_ansible/playbooks/ceph-admin-user-playbook.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/make_deployed_ceph_tht.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/enable_ceph_admin_user.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml']",10,41ab770bccfbf1e448f0449b45589208dba77071,deployed_ceph-stable/wallaby," - not tripleo_cephadm_deployed_ceph tripleo_cephadm_deployed_ceph: {{ tripleo_cephadm_deployed_ceph | default(false) }} tripleo_cephadm_wait_for_mons: ""{{ false if tripleo_cephadm_deployed_ceph else true }}"" tripleo_cephadm_wait_for_osds: ""{{ false if tripleo_cephadm_deployed_ceph else true }}"" tripleo_cephadm_predeployed: ""{{ false if tripleo_cephadm_deployed_ceph else true }}""",,291,10
openstack%2Fpython-novaclient~master~If6275dbd3795047c111ac507a12b034e60029df8,openstack/python-novaclient,master,If6275dbd3795047c111ac507a12b034e60029df8,Microversion 2.89 - os-volume_attachments,MERGED,2021-08-18 13:31:28.000000000,2021-08-25 13:10:56.000000000,2021-08-25 13:09:19.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 13:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/722cc594af1dca40771ec3bfb4be116b90e6f006', 'message': 'Microversion 2.89 - Add attachment ids to os-volume_attachments GETs\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/804275\nChange-Id: If6275dbd3795047c111ac507a12b034e60029df8\n'}, {'number': 2, 'created': '2021-08-19 16:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0eb344b49c7eba65217fe97a6df44fdf8f9600a7', 'message': 'Microversion 2.89 - os-volume_attachments\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/804275\nChange-Id: If6275dbd3795047c111ac507a12b034e60029df8\n'}, {'number': 3, 'created': '2021-08-24 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/34c8252b1cf749061350585d2bbcaabfea98365e', 'message': 'Microversion 2.89 - os-volume_attachments\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/804275\nChange-Id: If6275dbd3795047c111ac507a12b034e60029df8\n'}, {'number': 4, 'created': '2021-08-24 18:11:48.000000000', 'files': ['novaclient/v2/shell.py', 'novaclient/__init__.py', 'releasenotes/notes/microversion_v2_89-af6223273b2bdfb0.yaml', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/cfa172c4fd75cae1c6cbed31def48f28eafbb89b', 'message': 'Microversion 2.89 - os-volume_attachments\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/804275\nChange-Id: If6275dbd3795047c111ac507a12b034e60029df8\n'}]",6,805022,cfa172c4fd75cae1c6cbed31def48f28eafbb89b,25,5,4,10135,,,0,"Microversion 2.89 - os-volume_attachments

Depends-On: https://review.opendev.org/c/openstack/nova/+/804275
Change-Id: If6275dbd3795047c111ac507a12b034e60029df8
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/22/805022/3 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/shell.py', 'novaclient/__init__.py', 'novaclient/tests/unit/v2/test_shell.py']",3,722cc594af1dca40771ec3bfb4be116b90e6f006,bp/add-attachmentid-to-responses-of-the-os-volume-attachments-api," def test_volume_attachments_pre_v2_89(self): out = self.run_command( 'volume-attachments 1234', api_version='2.88')[0] self.assert_called('GET', '/servers/1234/os-volume_attachments') self.assertNotIn('ATTACHMENT ID', out) def test_volume_attachments_v2_89(self): out = self.run_command( 'volume-attachments 1234', api_version='2.89')[0] self.assert_called('GET', '/servers/1234/os-volume_attachments') self.assertIn('ATTACHMENT ID', out) 88, # doesn't require any changes in novaclient. 89, # There are no version-wrapped shell method changes for this.",,17,1
openstack%2Fplacement~master~Icd0a304fc989c9535db125cd483ecac92deb011d,openstack/placement,master,Icd0a304fc989c9535db125cd483ecac92deb011d,Restrict amqp indirect dep to speed up pip resolution,ABANDONED,2021-08-25 09:51:37.000000000,2021-08-25 12:24:23.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 09:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4adbd3e29c494a12fce7a13cccca5b9b061cf80a', 'message': 'Restrict amqp indirect dep to speed up pip resolution\n\nPip is slow to resolve version constraints with many unrestricted\ndependencies. The recent slowness seems to be due to amqp is being\nunrestricted and pip starts with amqp 5.0.3 but the real minimum is\nsomewhere around amqp 2.5.0. This patch adds amqp 2.5.0 to\nlower-constraints to speed up the pip version resolution.\n\nChange-Id: Icd0a304fc989c9535db125cd483ecac92deb011d\n'}, {'number': 2, 'created': '2021-08-25 11:14:14.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/b25d7567bf6c2f45e11331d4da7a002203a7fede', 'message': 'Restrict amqp indirect dep to speed up pip resolution\n\nPip is slow to resolve version constraints with many unrestricted\ndependencies. The recent slowness seems to be due to amqp is being\nunrestricted and pip starts with amqp 5.0.3 but the real minimum is\nsomewhere around amqp 2.5.0. This patch adds amqp 2.5.0 to\nlower-constraints to speed up the pip version resolution.\n\nChange-Id: Icd0a304fc989c9535db125cd483ecac92deb011d\n'}]",0,805979,b25d7567bf6c2f45e11331d4da7a002203a7fede,8,2,2,9708,,,0,"Restrict amqp indirect dep to speed up pip resolution

Pip is slow to resolve version constraints with many unrestricted
dependencies. The recent slowness seems to be due to amqp is being
unrestricted and pip starts with amqp 5.0.3 but the real minimum is
somewhere around amqp 2.5.0. This patch adds amqp 2.5.0 to
lower-constraints to speed up the pip version resolution.

Change-Id: Icd0a304fc989c9535db125cd483ecac92deb011d
",git fetch https://review.opendev.org/openstack/placement refs/changes/79/805979/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,4adbd3e29c494a12fce7a13cccca5b9b061cf80a,,# only need to speed up the pip version resolution amqp==2.5.0,,2,0
openstack%2Fnova~master~I45fd908b458e00b5e18848f624043ceb88b04825,openstack/nova,master,I45fd908b458e00b5e18848f624043ceb88b04825,compute: Query the service group API within check_instance_host,MERGED,2021-07-26 14:41:46.000000000,2021-08-25 12:16:54.000000000,2021-08-25 12:14:42.000000000,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-26 14:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f0924620860efb6057d506447f611ad85bb3538', 'message': 'WIP compute: Do not mark disabled but down services as in maintenance\n\nChange-Id: I45fd908b458e00b5e18848f624043ceb88b04825\n'}, {'number': 2, 'created': '2021-07-28 19:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d4345f2d88947657c96f775f67472f6ee338777', 'message': 'compute: Do not mark disabled but down services as in maintenance\n\nPreviously get_instance_host_status would return a HostStatus of\nMAINTENANCE for all services marked as disabled. This however would lead\nto callers such as check_instance_host incorrectly determining that the\nhost was available to receive admin requests, such as cold migrations to\ndrain the disabled host.\n\nThis change corrects this behaviour by ensuring a HostStatus of\nMAINTENANCE is only returned by get_instance_host_status when the\nunderlying service is also reported as up via the service group API,\nthus ensuring admin requests such as cold migrations can proceed.\n\nCloses-Bug: #1938326\nChange-Id: I45fd908b458e00b5e18848f624043ceb88b04825\n'}, {'number': 3, 'created': '2021-08-04 11:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21dd572ac305da2fc647096540901be75e9cb05d', 'message': 'compute: Do not mark disabled but down services as in maintenance\n\nPreviously get_instance_host_status would return a HostStatus of\nMAINTENANCE for all services marked as disabled. This however would lead\nto callers such as check_instance_host incorrectly determining that the\nhost was available to receive admin requests, such as cold migrations to\ndrain the disabled host.\n\nThis change corrects this behaviour by ensuring a HostStatus of\nMAINTENANCE is only returned by get_instance_host_status when the\nunderlying service is also reported as up via the service group API,\nthus ensuring admin requests such as cold migrations can proceed.\n\nCloses-Bug: #1938326\nChange-Id: I45fd908b458e00b5e18848f624043ceb88b04825\n'}, {'number': 4, 'created': '2021-08-05 09:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8396f3f9401d1dd092b0ca2b95ffc3913b92236', 'message': 'compute: Query the service group API within check_instance_host\n\nThe check_instance_host decorator when called with the check_is_up kwarg\nis supposed to ensure that the host associated with a given instance is\nfully up. Previously it used the HostStatus returned by\nget_instance_host_status to determine this allowing either a state of UP\nor MAINTENANCE.\n\nHowever get_instance_host_status currently returns a HostStatus of\nMAINTENANCE if the service is simply disabled regardless of the\nunderlying service being active or not. As a result of this and as set\nout in bug #1938326 the check_instance_host decorator will pass allowing\ncalls to resize an instance to continue and later fail when RPC requests\nto the instance host eventually fail.\n\nTo resolve this check_instance_host is now updated to only use the\nservice group API to determine if the underlying service is up.\n\nThere appears to be no unit tests for this decorator so all of the\nvalidation here is done in the functional regression test for bug\n #1938326.\n\nFuture work will look at updating the meaning of the MAINTENANCE\nHostStatus to mean disabled but up. As this will potentially\nchange values returned in the API to admins doing an instance show this\nwill need to be done behind a new microversion to ensure backward\ncompatibility with the previous behaviour and meaning of the HostStatus.\n\nCloses-Bug: #1938326\nChange-Id: I45fd908b458e00b5e18848f624043ceb88b04825\n'}, {'number': 5, 'created': '2021-08-10 11:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8821eaf8babae310399f2fb53675ff783637a635', 'message': 'compute: Query the service group API within check_instance_host\n\nThe check_instance_host decorator when called with the check_is_up kwarg\nis supposed to ensure that the compute service associated with a given\ninstance is fully up. Previously it used the HostStatus returned by\nget_instance_host_status to determine this allowing either a state of UP\nor MAINTENANCE.\n\nHowever get_instance_host_status currently returns a HostStatus of\nMAINTENANCE if the service is simply disabled regardless of the\nunderlying service being active or not. As a result of this and as set\nout in bug #1938326 the check_instance_host decorator will pass allowing\ncalls to resize an instance to continue and later fail when RPC requests\nto the instance host eventually fail.\n\nTo resolve this check_instance_host is now updated to only use the\nservice group API to determine if the underlying service is up.\n\nFuture work will look at updating the meaning of the MAINTENANCE\nHostStatus to mean disabled but up. As this will potentially\nchange values returned in the API to admins doing an instance show this\nwill need to be done behind a new microversion to ensure backward\ncompatibility with the previous behaviour and meaning of the HostStatus.\n\nCloses-Bug: #1938326\nChange-Id: I45fd908b458e00b5e18848f624043ceb88b04825\n'}, {'number': 6, 'created': '2021-08-20 13:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4371386b19c2100ec8a0860abff78be3b8da5f36', 'message': 'compute: Query the service group API within check_instance_host\n\nThe check_instance_host decorator when called with the check_is_up kwarg\nis supposed to ensure that the compute service associated with a given\ninstance is fully up. Previously it used the HostStatus returned by\nget_instance_host_status to determine this allowing either a state of UP\nor MAINTENANCE.\n\nHowever get_instance_host_status currently returns a HostStatus of\nMAINTENANCE if the service is simply disabled regardless of the\nunderlying service being active or not. As a result of this and as set\nout in bug #1938326 the check_instance_host decorator will pass allowing\ncalls to resize an instance to continue and later fail when RPC requests\nto the instance host eventually fail.\n\nTo resolve this check_instance_host is now updated to only use the\nservice group API to determine if the underlying service is up.\n\nFuture work will look at updating the meaning of the MAINTENANCE\nHostStatus to mean disabled but up. As this will potentially\nchange values returned in the API to admins doing an instance show this\nwill need to be done behind a new microversion to ensure backward\ncompatibility with the previous behaviour and meaning of the HostStatus.\n\nCloses-Bug: #1938326\nChange-Id: I45fd908b458e00b5e18848f624043ceb88b04825\n'}, {'number': 7, 'created': '2021-08-23 17:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4e6a04469777837af4472a573a9b59d5733c752', 'message': 'compute: Query the service group API within check_instance_host\n\nThe check_instance_host decorator when called with the check_is_up kwarg\nis supposed to ensure that the compute service associated with a given\ninstance is fully up. Previously it used the HostStatus returned by\nget_instance_host_status to determine this allowing either a state of UP\nor MAINTENANCE.\n\nHowever get_instance_host_status currently returns a HostStatus of\nMAINTENANCE if the service is simply disabled regardless of the\nunderlying service being active or not. As a result of this and as set\nout in bug #1938326 the check_instance_host decorator will pass allowing\ncalls to resize an instance to continue and later fail when RPC requests\nto the instance host eventually fail.\n\nTo resolve this check_instance_host is now updated to only use the\nservice group API to determine if the underlying service is up.\n\nFuture work will look at updating the meaning of the MAINTENANCE\nHostStatus to mean disabled but up. As this will potentially\nchange values returned in the API to admins doing an instance show this\nwill need to be done behind a new microversion to ensure backward\ncompatibility with the previous behaviour and meaning of the HostStatus.\n\nCloses-Bug: #1938326\nChange-Id: I45fd908b458e00b5e18848f624043ceb88b04825\n'}, {'number': 8, 'created': '2021-08-23 17:37:10.000000000', 'files': ['nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1938326.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/da6af3fb224d5033980537f8a677437c464c12b1', 'message': 'compute: Query the service group API within check_instance_host\n\nThe check_instance_host decorator when called with the check_is_up kwarg\nis supposed to ensure that the compute service associated with a given\ninstance is fully up. Previously it used the HostStatus returned by\nget_instance_host_status to determine this allowing either a state of UP\nor MAINTENANCE.\n\nHowever get_instance_host_status currently returns a HostStatus of\nMAINTENANCE if the service is simply disabled regardless of the\nunderlying service being active or not. As a result of this and as set\nout in bug #1938326 the check_instance_host decorator will pass allowing\ncalls to resize an instance to continue and later fail when RPC requests\nto the instance host eventually fail.\n\nTo resolve this check_instance_host is now updated to only use the\nservice group API to determine if the underlying service is up.\n\nFuture work will look at updating the meaning of the MAINTENANCE\nHostStatus to mean disabled but up. As this will potentially\nchange values returned in the API to admins doing an instance show this\nwill need to be done behind a new microversion to ensure backward\ncompatibility with the previous behaviour and meaning of the HostStatus.\n\nCloses-Bug: #1938326\nChange-Id: I45fd908b458e00b5e18848f624043ceb88b04825\n'}]",6,802317,da6af3fb224d5033980537f8a677437c464c12b1,73,7,8,10135,,,0,"compute: Query the service group API within check_instance_host

The check_instance_host decorator when called with the check_is_up kwarg
is supposed to ensure that the compute service associated with a given
instance is fully up. Previously it used the HostStatus returned by
get_instance_host_status to determine this allowing either a state of UP
or MAINTENANCE.

However get_instance_host_status currently returns a HostStatus of
MAINTENANCE if the service is simply disabled regardless of the
underlying service being active or not. As a result of this and as set
out in bug #1938326 the check_instance_host decorator will pass allowing
calls to resize an instance to continue and later fail when RPC requests
to the instance host eventually fail.

To resolve this check_instance_host is now updated to only use the
service group API to determine if the underlying service is up.

Future work will look at updating the meaning of the MAINTENANCE
HostStatus to mean disabled but up. As this will potentially
change values returned in the API to admins doing an instance show this
will need to be done behind a new microversion to ensure backward
compatibility with the previous behaviour and meaning of the HostStatus.

Closes-Bug: #1938326
Change-Id: I45fd908b458e00b5e18848f624043ceb88b04825
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/802317/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,4f0924620860efb6057d506447f611ad85bb3538,bug/1938326, if not instance.host: return fields_obj.HostStatus.NONE try: service = [ service for service in instance.services if service.binary == 'nova-compute'][0] if service.forced_down: return fields_obj.HostStatus.DOWN alive = self.servicegroup_api.service_is_up(service) if alive: return fields_obj.HostStatus.UP # NOTE(lyarwood): Only mark disabled services that are still alive # as in MAINTENANCE to avoid requests to these services failing. if service.disabled and alive: return fields_obj.HostStatus.MAINTENANCE return fields_obj.HostStatus.UNKNOWN except IndexError: return fields_obj.HostStatus.NONE, if instance.host: try: service = [service for service in instance.services if service.binary == 'nova-compute'][0] if service.forced_down: host_status = fields_obj.HostStatus.DOWN elif service.disabled: host_status = fields_obj.HostStatus.MAINTENANCE else: alive = self.servicegroup_api.service_is_up(service) host_status = ((alive and fields_obj.HostStatus.UP) or fields_obj.HostStatus.UNKNOWN) except IndexError: host_status = fields_obj.HostStatus.NONE else: host_status = fields_obj.HostStatus.NONE return host_status,24,17
openstack%2Fcinder~master~I8c176bf4c875061591bb6c94654a2cef643a4dcb,openstack/cinder,master,I8c176bf4c875061591bb6c94654a2cef643a4dcb,Support Images API v2.11,MERGED,2020-10-01 21:35:08.000000000,2021-08-25 11:49:33.000000000,2021-08-24 20:38:31.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 31868}, {'_account_id': 32159}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-01 21:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0eaed8707308d4f143a771d9ad74b67ced2afe27', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 2, 'created': '2020-10-01 21:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e8f2210230f12782b165a3005aa447c23d206396', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 3, 'created': '2020-10-06 02:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d390034709e9a418f29cd8cd8905190ff96b39d', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 4, 'created': '2020-10-06 16:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22012e92968c08ea66ddfcf6dabba9ba0694b145', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 5, 'created': '2020-10-08 15:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d98236603fe4fe8228771192684beb6db550521', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 6, 'created': '2020-10-09 13:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8331958734966b9d604526b0bc5a4adc60a13805', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nAlso update ddt to 1.4.1 (current version of 1.2.1 does not support\nthe TestNameFormat option used in this patch).  Note: ddt is uncapped\nin global-requirements.\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 7, 'created': '2020-10-21 00:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9359fb37539cb0b37b3389b9dab83733aeb5945c', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nAlso update ddt to 1.4.1 (current version of 1.2.1 does not support\nthe TestNameFormat option used in this patch).  Note: ddt is uncapped\nin global-requirements.\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 8, 'created': '2021-08-18 18:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52474280cdeb38e943a90478f4a674549e8c3940', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nAlso update ddt to 1.4.1 (current version of 1.2.1 does not support\nthe TestNameFormat option used in this patch).  Note: ddt is uncapped\nin global-requirements.\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 9, 'created': '2021-08-18 20:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e5089019fb1ef9fa3f2d1d5febb4ed89fb4ad92c', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 10, 'created': '2021-08-19 01:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a32211e5105136008a72dc9ae370d827ba305ac', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}, {'number': 11, 'created': '2021-08-24 15:18:43.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'releasenotes/notes/support-images-api-2.11-3699b20670db1843.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a5ff4eb7577867bc1a6b89718ecd66888430d84', 'message': 'Support Images API v2.11\n\nGlance has changed the format of the cinder URIs in image locations\nso that they can look like\n   cinder://glance-store-name/volume_id\nin addition to the legacy format\n   cinder://volume_id\n\nChange the cinder code so that it can handle both formats for\nreading.  (We only need to write the legacy format.)\n\nChange-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb\nCloses-bug: #1898075\n'}]",5,755654,4a5ff4eb7577867bc1a6b89718ecd66888430d84,224,33,11,5314,,,0,"Support Images API v2.11

Glance has changed the format of the cinder URIs in image locations
so that they can look like
   cinder://glance-store-name/volume_id
in addition to the legacy format
   cinder://volume_id

Change the cinder code so that it can handle both formats for
reading.  (We only need to write the legacy format.)

Change-Id: I8c176bf4c875061591bb6c94654a2cef643a4dcb
Closes-bug: #1898075
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/755654/9 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/flows/manager/create_volume.py'],1,0eaed8707308d4f143a771d9ad74b67ced2afe27,bug/1898075,"from oslo_utils import netutils @staticmethod def _extract_cinder_urls(urls): """"""Process a list of location URIs from glance :param urls: list of glance location URIs :return: list of IDs extracted from the 'cinder://' URIs """""" ids = [] for url in urls: parts = netutils.urlsplit(url) if parts.scheme == 'cinder': if parts.path: vol_id = parts.path.split('/')[-1] else: vol_id = parts.netloc if uuidutils.is_uuid_like(vol_id): ids.append(vol_id) # TODO: log a message if it's not a UUID? return ids image_volume_ids = _extract_cinder_urls(urls)", image_volume_ids = [url[9:] for url in urls if url and url.startswith('cinder://')],24,2
openstack%2Ftripleo-heat-templates~master~I20e77f59820483b7da7652d2e9c23c0d4cd4efaa,openstack/tripleo-heat-templates,master,I20e77f59820483b7da7652d2e9c23c0d4cd4efaa,DNM Backup and Restore Test,ABANDONED,2021-05-31 16:00:34.000000000,2021-08-25 11:47:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-31 16:00:34.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5a3a6b38b0e560337998d32d455e049871e87f3', 'message': 'DNM Backup and Restore Test\n\nDepends-on: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97\nChange-Id: I20e77f59820483b7da7652d2e9c23c0d4cd4efaa\n'}]",0,793825,c5a3a6b38b0e560337998d32d455e049871e87f3,4,2,1,22954,,,0,"DNM Backup and Restore Test

Depends-on: I263e05c905e3ea6f3f25f4e5a1b8dfb25f6a3f97
Change-Id: I20e77f59820483b7da7652d2e9c23c0d4cd4efaa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/793825/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,c5a3a6b38b0e560337998d32d455e049871e87f3,dnm_b6r,#DNM,,1,0
openstack%2Fnova~master~I8c052a6526819834d79d2b5027050f1bdf36638f,openstack/nova,master,I8c052a6526819834d79d2b5027050f1bdf36638f,Reproduce bug 1941005,MERGED,2021-08-24 19:56:14.000000000,2021-08-25 11:31:56.000000000,2021-08-25 11:30:13.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 19:56:14.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/38603a4d09a77882298423a8b20c67b283b99ad0', 'message': ""Reproduce bug 1941005\n\nWe don't update instance.request_spec when we resize to a new flavor.\nIf the flavor's extra specs change, this is not reflected in\ninstance.request_spec.\n\nThis generally goes unnoticed when *adding* stuff to an instance. The\nscheduler will still find a host based on the old request spec. The\nresource claim on the destination uses the flavor and image data\ndirectly (not the request spec) so the claim will correctly fail if\nthe destination does not have the new things that the instance wants.\n\nWhen *removing* stuff form an instance this becomes problematic. The\nscheduler will attempt to schedule based on the old request spec,\nwhich could end up with NoValidHost if no host exists that has the\n*old* stuff the instance wanted, despite the new flavor not wanting\nany of that stuff.\n\nRelated bug: 1941005\n\nChange-Id: I8c052a6526819834d79d2b5027050f1bdf36638f\n""}]",2,805882,38603a4d09a77882298423a8b20c67b283b99ad0,13,3,1,8864,,,0,"Reproduce bug 1941005

We don't update instance.request_spec when we resize to a new flavor.
If the flavor's extra specs change, this is not reflected in
instance.request_spec.

This generally goes unnoticed when *adding* stuff to an instance. The
scheduler will still find a host based on the old request spec. The
resource claim on the destination uses the flavor and image data
directly (not the request spec) so the claim will correctly fail if
the destination does not have the new things that the instance wants.

When *removing* stuff form an instance this becomes problematic. The
scheduler will attempt to schedule based on the old request spec,
which could end up with NoValidHost if no host exists that has the
*old* stuff the instance wanted, despite the new flavor not wanting
any of that stuff.

Related bug: 1941005

Change-Id: I8c052a6526819834d79d2b5027050f1bdf36638f
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/805882/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_pci_sriov_servers.py'],1,38603a4d09a77882298423a8b20c67b283b99ad0,," def test_resize_pci_to_vanilla(self): # Start two computes, one with PCI and one without. self.start_compute( hostname='test_compute0', pci_info=fakelibvirt.HostPCIDevicesInfo(num_pci=1)) self.start_compute(hostname='test_compute1') # Boot a server with a single PCI device. extra_spec = {'pci_passthrough:alias': f'{self.ALIAS_NAME}:1'} pci_flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._create_server(flavor_id=pci_flavor_id, networks='none') # Resize it to a flavor without PCI devices. We expect this to work, as # test_compute1 is available. # FIXME(artom) This is bug 1941005. flavor_id = self._create_flavor() ex = self.assertRaises(client.OpenStackApiException, self._resize_server, server, flavor_id) self.assertEqual(500, ex.response.status_code) self.assertIn('NoValidHost', str(ex)) # self._confirm_resize(server) ",,22,0
openstack%2Fneutron~stable%2Fwallaby~Ib884be6aa12bd0d3faf83f3e753f8e7aad503b68,openstack/neutron,stable/wallaby,Ib884be6aa12bd0d3faf83f3e753f8e7aad503b68,Use elevated context when getting default SG for tenant,MERGED,2021-08-09 13:00:31.000000000,2021-08-25 11:31:48.000000000,2021-08-25 11:30:06.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 13:00:31.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d6a27bd5e13b46da6755292775fe41581428a6e', 'message': 'Use elevated context when getting default SG for tenant\n\nWith new scopes, when e.g. project admin context is used to ensure\ndefault SG for different tenant, elevated context needs to be used\nto make db query. Otherwise default SG will not be found and attempt to\ncreate it in DB may fail with DuplicateDbEntry error.\n\nCloses-Bug: #1938910\nChange-Id: Ib884be6aa12bd0d3faf83f3e753f8e7aad503b68\n(cherry picked from commit e6c3686cd8f863c49b363504dacdb7641604a102)\n'}]",0,803848,6d6a27bd5e13b46da6755292775fe41581428a6e,24,4,1,11975,,,0,"Use elevated context when getting default SG for tenant

With new scopes, when e.g. project admin context is used to ensure
default SG for different tenant, elevated context needs to be used
to make db query. Otherwise default SG will not be found and attempt to
create it in DB may fail with DuplicateDbEntry error.

Closes-Bug: #1938910
Change-Id: Ib884be6aa12bd0d3faf83f3e753f8e7aad503b68
(cherry picked from commit e6c3686cd8f863c49b363504dacdb7641604a102)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/803848/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,6d6a27bd5e13b46da6755292775fe41581428a6e,bug/1938910-stable/wallaby," # NOTE(slaweq): With new system/project scopes it may happen that # project admin will try to find default SG for different # project. In such case elevated context needs to be used. context.elevated(),"," context,",4,1
openstack%2Fglance~master~I6618366e6464d569a86fb027919be2e1825e438c,openstack/glance,master,I6618366e6464d569a86fb027919be2e1825e438c,tests: Remove use of 'oslo_db.sqlalchemy.test_base',MERGED,2021-07-28 17:06:19.000000000,2021-08-25 11:31:41.000000000,2021-08-25 11:30:09.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 17:06:19.000000000', 'files': ['glance/tests/functional/db/migrations/test_rocky_expand02.py', 'glance/tests/functional/db/migrations/test_train_migrate01.py', 'glance/tests/functional/db/migrations/test_ocata_expand01.py', 'glance/tests/functional/db/migrations/test_rocky_expand01.py', 'glance/tests/functional/db/migrations/test_wallaby_expand01.py', 'glance/tests/functional/db/migrations/test_pike_contract01.py', 'glance/tests/functional/db/migrations/test_pike_migrate01.py', 'glance/tests/functional/db/migrations/test_ocata_migrate01.py', 'glance/tests/functional/db/migrations/test_ocata_contract01.py', 'glance/tests/functional/db/migrations/test_pike_expand01.py', 'glance/tests/functional/db/migrations/test_mitaka01.py', 'glance/tests/functional/db/migrations/test_mitaka02.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/815922fbee8eae613b21dbe70c9ac3998bbf09a0', 'message': ""tests: Remove use of 'oslo_db.sqlalchemy.test_base'\n\nThe various test cases and mixins in 'oslo_db.sqlalchemy.test_base' have\nbeen deprecated since oslo.db 4.34.0 (March 2018). Remove use of these.\n\nChange-Id: I6618366e6464d569a86fb027919be2e1825e438c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,802762,815922fbee8eae613b21dbe70c9ac3998bbf09a0,11,3,1,15334,,,0,"tests: Remove use of 'oslo_db.sqlalchemy.test_base'

The various test cases and mixins in 'oslo_db.sqlalchemy.test_base' have
been deprecated since oslo.db 4.34.0 (March 2018). Remove use of these.

Change-Id: I6618366e6464d569a86fb027919be2e1825e438c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/62/802762/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/db/migrations/test_rocky_expand02.py', 'glance/tests/functional/db/migrations/test_train_migrate01.py', 'glance/tests/functional/db/migrations/test_ocata_expand01.py', 'glance/tests/functional/db/migrations/test_rocky_expand01.py', 'glance/tests/functional/db/migrations/test_wallaby_expand01.py', 'glance/tests/functional/db/migrations/test_pike_contract01.py', 'glance/tests/functional/db/migrations/test_pike_migrate01.py', 'glance/tests/functional/db/migrations/test_ocata_migrate01.py', 'glance/tests/functional/db/migrations/test_ocata_contract01.py', 'glance/tests/functional/db/migrations/test_pike_expand01.py', 'glance/tests/functional/db/migrations/test_mitaka01.py', 'glance/tests/functional/db/migrations/test_mitaka02.py']",12,815922fbee8eae613b21dbe70c9ac3998bbf09a0,cleanup,"from oslo_db.sqlalchemy import test_fixturesimport glance.tests.utils as test_utilsclass TestMitaka02MySQL( TestMitaka02Mixin, test_fixtures.OpportunisticDBTestMixin, test_utils.BaseTestCase, ): FIXTURE = test_fixtures.MySQLOpportunisticFixture class TestMitaka02PostgresSQL( TestMitaka02Mixin, test_fixtures.OpportunisticDBTestMixin, test_utils.BaseTestCase, ): FIXTURE = test_fixtures.PostgresqlOpportunisticFixture class TestMitaka02Sqlite( TestMitaka02Mixin, test_fixtures.OpportunisticDBTestMixin, test_utils.BaseTestCase, ):","from oslo_db.sqlalchemy import test_baseclass TestMitaka02MySQL(TestMitaka02Mixin, test_base.MySQLOpportunisticTestCase): pass class TestMitaka02PostgresSQL(TestMitaka02Mixin, test_base.PostgreSQLOpportunisticTestCase): pass class TestMitaka02Sqlite(TestMitaka02Mixin, test_base.DbTestCase):",142,68
openstack%2Fcinder~master~I6aa5a84c746c585d4b5f5d7e1092150bbf41e48a,openstack/cinder,master,I6aa5a84c746c585d4b5f5d7e1092150bbf41e48a,db: Reorder initial migration,MERGED,2021-04-19 16:57:34.000000000,2021-08-25 11:20:01.000000000,2021-08-25 11:18:01.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-04-19 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e08d20f395a2c7357d97b6d7816c99f8f0f27bd2', 'message': 'db: Reorder initial migration\n\nPlace the creation of initial records last, simply to provide some kind\nof logical structure.\n\nChange-Id: I6aa5a84c746c585d4b5f5d7e1092150bbf41e48a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-04-20 16:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/190f2c60345f153f361b29bce5db9223a7ff6bb2', 'message': 'db: Reorder initial migration\n\nPlace the creation of initial records last, simply to provide some kind\nof logical structure.\n\nChange-Id: I6aa5a84c746c585d4b5f5d7e1092150bbf41e48a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-13 17:32:17.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/135_cinder_init.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/baabc7bd8713f284342883b8c97ec1d307bd2487', 'message': 'db: Reorder initial migration\n\nPlace the creation of initial records last, simply to provide some kind\nof logical structure.\n\nChange-Id: I6aa5a84c746c585d4b5f5d7e1092150bbf41e48a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,786928,baabc7bd8713f284342883b8c97ec1d307bd2487,78,3,3,15334,,,0,"db: Reorder initial migration

Place the creation of initial records last, simply to provide some kind
of logical structure.

Change-Id: I6aa5a84c746c585d4b5f5d7e1092150bbf41e48a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/786928/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/migrate_repo/versions/135_cinder_init.py'],1,e08d20f395a2c7357d97b6d7816c99f8f0f27bd2,bp/remove-sqlalchemy-migrate," workers = sa.Table('workers', meta, autoload=True) # This is only necessary for mysql, and since the table is not in use this # will only be a schema update. if migrate_engine.name.startswith('mysql'): try: workers.c.updated_at.alter(mysql.DATETIME(fsp=6)) except Exception: # MySQL v5.5 or earlier don't support sub-second resolution so we # may have cleanup races in Active-Active configurations, that's # why upgrading is recommended in that case. # Code in Cinder is capable of working with 5.5, so for 5.5 there's # no problem pass quota_usages = sa.Table('quota_usages', meta, autoload=True) try: quota_usages.c.resource.alter(type=sa.String(300)) except Exception: # On MariaDB, max length varies depending on the version and the InnoDB # page size [1], so it is possible to have error 1071 ('Specified key # was too long; max key length is 767 bytes""). Since this migration is # to resolve a corner case, deployments with those DB versions won't be # covered. # [1]: https://mariadb.com/kb/en/library/innodb-limitations/#page-sizes if not migrate_engine.name.startswith('mysql'): raise workers = sa.Table('workers', meta, autoload=True)"," workers = sa.Table('workers', meta, autoload=True) # This is only necessary for mysql, and since the table is not in use this # will only be a schema update. if migrate_engine.name.startswith('mysql'): try: workers.c.updated_at.alter(mysql.DATETIME(fsp=6)) except Exception: # MySQL v5.5 or earlier don't support sub-second resolution so we # may have cleanup races in Active-Active configurations, that's # why upgrading is recommended in that case. # Code in Cinder is capable of working with 5.5, so for 5.5 there's # no problem pass quota_usages = sa.Table('quota_usages', meta, autoload=True) try: quota_usages.c.resource.alter(type=sa.String(300)) except Exception: # On MariaDB, max length varies depending on the version and the InnoDB # page size [1], so it is possible to have error 1071 ('Specified key # was too long; max key length is 767 bytes""). Since this migration is # to resolve a corner case, deployments with those DB versions won't be # covered. # [1]: https://mariadb.com/kb/en/library/innodb-limitations/#page-sizes if not migrate_engine.name.startswith('mysql'): raise ",29,28
openstack%2Fglance~master~I86bdefc7e59d1be540aae047c6b27fdcedf416ad,openstack/glance,master,I86bdefc7e59d1be540aae047c6b27fdcedf416ad,Get rid of deprecated xml.etree.cElementTree,MERGED,2021-07-24 13:12:13.000000000,2021-08-25 11:19:58.000000000,2021-08-25 11:18:04.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-24 13:12:13.000000000', 'files': ['glance/tests/unit/async_/flows/test_ovf_process.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/439ff976ab54d02164d57f17da543d1373a50d53', 'message': 'Get rid of deprecated xml.etree.cElementTree\n\nxml.etree.cElementTree is deprecated since Python 3.3 and shows\nthe following warning.\n\nDeprecationWarning: defusedxml.cElementTree is deprecated, import from\ndefusedxml.ElementTree instead.\n\nChange-Id: I86bdefc7e59d1be540aae047c6b27fdcedf416ad\n'}]",0,802146,439ff976ab54d02164d57f17da543d1373a50d53,8,2,1,9816,,,0,"Get rid of deprecated xml.etree.cElementTree

xml.etree.cElementTree is deprecated since Python 3.3 and shows
the following warning.

DeprecationWarning: defusedxml.cElementTree is deprecated, import from
defusedxml.ElementTree instead.

Change-Id: I86bdefc7e59d1be540aae047c6b27fdcedf416ad
",git fetch https://review.opendev.org/openstack/glance refs/changes/46/802146/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_ovf_process.py'],1,439ff976ab54d02164d57f17da543d1373a50d53,defusedxml,from defusedxml.ElementTree import ParseError,try: from defusedxml.cElementTree import ParseError except ImportError: from defusedxml.ElementTree import ParseError,1,4
openstack%2Fcinder~master~Icb1cf73722e0e9bf1364d64522e38b94aa716bea,openstack/cinder,master,Icb1cf73722e0e9bf1364d64522e38b94aa716bea,db: Use 'import sqlalchemy as sa' pattern,MERGED,2021-04-19 16:57:34.000000000,2021-08-25 11:06:20.000000000,2021-08-25 11:04:12.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-19 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6111f5a1165b86f90f2c863b88ceee9f6f18034', 'message': ""db: Use 'import sqlalchemy as sa' pattern\n\nThis makes it a little clearer where things are coming from.\n\nChange-Id: Icb1cf73722e0e9bf1364d64522e38b94aa716bea\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-04-20 16:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8449535c618fdb1b408cc35a0cf9135de51cc8f', 'message': ""db: Use 'import sqlalchemy as sa' pattern\n\nThis makes it a little clearer where things are coming from.\n\nChange-Id: Icb1cf73722e0e9bf1364d64522e38b94aa716bea\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-13 17:32:17.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/136_make_vol_type_col_non_nullable.py', 'cinder/db/sqlalchemy/migrate_repo/versions/135_cinder_init.py', 'cinder/db/sqlalchemy/migrate_repo/versions/140_create_project_default_volume_type.py', 'cinder/db/sqlalchemy/migrate_repo/versions/141_add_quota_usage_unique_constraint.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b2993cdddc6831baefe498e207f28c62cff2ee1', 'message': ""db: Use 'import sqlalchemy as sa' pattern\n\nThis makes it a little clearer where things are coming from.\n\nChange-Id: Icb1cf73722e0e9bf1364d64522e38b94aa716bea\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,786927,2b2993cdddc6831baefe498e207f28c62cff2ee1,82,5,3,15334,,,0,"db: Use 'import sqlalchemy as sa' pattern

This makes it a little clearer where things are coming from.

Change-Id: Icb1cf73722e0e9bf1364d64522e38b94aa716bea
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/786927/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/migrate_repo/versions/135_cinder_init.py', 'cinder/db/sqlalchemy/migrate_repo/versions/136_make_vol_type_col_non_nullable.py', 'cinder/db/sqlalchemy/migrate_repo/versions/140_create_project_default_volume_type.py', 'cinder/db/sqlalchemy/migrate_repo/versions/141_add_quota_usage_unique_constraint.py', 'cinder/db/sqlalchemy/models.py']",5,a6111f5a1165b86f90f2c863b88ceee9f6f18034,bp/remove-sqlalchemy-migrate,"import sqlalchemy as safrom sqlalchemy import func from sqlalchemy import schema deleted_at = sa.Column(sa.DateTime) deleted = sa.Column(sa.Boolean, default=False) id = sa.Column(sa.Integer, primary_key=True) uuid = sa.Column(sa.String(36), nullable=True, index=True) cluster_name = sa.Column(sa.String(255), nullable=True) host = sa.Column(sa.String(255)) # , sa.ForeignKey('hosts.id')) binary = sa.Column(sa.String(255)) updated_at = sa.Column( sa.DateTime, default=timeutils.utcnow, onupdate=timeutils.utcnow) topic = sa.Column(sa.String(255)) report_count = sa.Column(sa.Integer, nullable=False, default=0) disabled = sa.Column(sa.Boolean, default=False) availability_zone = sa.Column(sa.String(255), default='cinder') disabled_reason = sa.Column(sa.String(255)) modified_at = sa.Column(sa.DateTime) rpc_current_version = sa.Column(sa.String(36)) object_current_version = sa.Column(sa.String(36)) replication_status = sa.Column(sa.String(36), default=""not-capable"") active_backend_id = sa.Column(sa.String(255)) frozen = sa.Column(sa.Boolean, nullable=False, default=False) __table_args__ = (sa.UniqueConstraint('name', 'binary', 'race_preventer'), id = sa.Column(sa.Integer, primary_key=True) name = sa.Column(sa.String(255), nullable=False) binary = sa.Column(sa.String(255), nullable=False) disabled = sa.Column(sa.Boolean, default=False) disabled_reason = sa.Column(sa.String(255)) race_preventer = sa.Column(sa.Integer, nullable=False, default=0) replication_status = sa.Column(sa.String(36), default=""not-capable"") active_backend_id = sa.Column(sa.String(255)) frozen = sa.Column(sa.Boolean, nullable=False, default=False) sa.select([func.max(Service.updated_at)]). where(sa.and_(Service.cluster_name == name, ~Service.deleted)). sa.select([func.count(Service.id)]). where(sa.and_(Service.cluster_name == name, ~Service.deleted)). sa.select([func.count(Service.id)]). where(sa.and_(Service.cluster_name == name, ~Service.deleted, Service.updated_at < sa.bindparam('expired'))). id = sa.Column(sa.String(36), primary_key=True) user_id = sa.Column(sa.String(255), nullable=False) project_id = sa.Column(sa.String(255), nullable=False) cluster_name = sa.Column(sa.String(255), nullable=True) host = sa.Column(sa.String(255)) availability_zone = sa.Column(sa.String(255)) name = sa.Column(sa.String(255)) description = sa.Column(sa.String(255)) volume_type_id = sa.Column(sa.String(255)) status = sa.Column(sa.String(255)) cgsnapshot_id = sa.Column(sa.String(36)) source_cgid = sa.Column(sa.String(36)) id = sa.Column(sa.String(36), primary_key=True) user_id = sa.Column(sa.String(255), nullable=False) project_id = sa.Column(sa.String(255), nullable=False) cluster_name = sa.Column(sa.String(255)) host = sa.Column(sa.String(255)) availability_zone = sa.Column(sa.String(255)) name = sa.Column(sa.String(255)) description = sa.Column(sa.String(255)) status = sa.Column(sa.String(255)) group_type_id = sa.Column(sa.String(36)) group_snapshot_id = sa.Column(sa.String(36)) source_group_id = sa.Column(sa.String(36)) replication_status = sa.Column(sa.String(255)) id = sa.Column(sa.String(36), primary_key=True) consistencygroup_id = sa.Column(sa.String(36), index=True) user_id = sa.Column(sa.String(255), nullable=False) project_id = sa.Column(sa.String(255), nullable=False) name = sa.Column(sa.String(255)) description = sa.Column(sa.String(255)) status = sa.Column(sa.String(255)) id = sa.Column(sa.String(36), primary_key=True) group_id = sa.Column(sa.String(36), nullable=False, index=True) user_id = sa.Column(sa.String(255)) project_id = sa.Column(sa.String(255)) name = sa.Column(sa.String(255)) description = sa.Column(sa.String(255)) status = sa.Column(sa.String(255)) group_type_id = sa.Column(sa.String(36)) __table_args__ = ( sa.Index('volumes_service_uuid_idx', 'deleted', 'service_uuid'), CinderBase.__table_args__, ) id = sa.Column(sa.String(36), primary_key=True) _name_id = sa.Column(sa.String(36)) # Don't access/modify this directly! ec2_id = sa.Column(sa.Integer) user_id = sa.Column(sa.String(255)) project_id = sa.Column(sa.String(255)) snapshot_id = sa.Column(sa.String(36)) cluster_name = sa.Column(sa.String(255), nullable=True) host = sa.Column(sa.String(255)) # , sa.ForeignKey('hosts.id')) size = sa.Column(sa.Integer) availability_zone = sa.Column(sa.String(255)) # TODO(vish): foreign key? status = sa.Column(sa.String(255)) # TODO(vish): enum? attach_status = sa.Column(sa.String(255)) # TODO(vish): enum migration_status = sa.Column(sa.String(255)) scheduled_at = sa.Column(sa.DateTime) launched_at = sa.Column(sa.DateTime) terminated_at = sa.Column(sa.DateTime) display_name = sa.Column(sa.String(255)) display_description = sa.Column(sa.String(255)) provider_location = sa.Column(sa.String(255)) provider_auth = sa.Column(sa.String(255)) provider_geometry = sa.Column(sa.String(255)) provider_id = sa.Column(sa.String(255)) volume_type_id = sa.Column(sa.String(36)) source_volid = sa.Column(sa.String(36)) encryption_key_id = sa.Column(sa.String(36)) consistencygroup_id = sa.Column(sa.String(36), index=True) group_id = sa.Column(sa.String(36), index=True) bootable = sa.Column(sa.Boolean, default=False) multiattach = sa.Column(sa.Boolean, default=False) replication_status = sa.Column(sa.String(255)) replication_extended_status = sa.Column(sa.String(255)) replication_driver_data = sa.Column(sa.String(255)) previous_status = sa.Column(sa.String(255)) service_uuid = sa.Column(sa.String(36), index=True) # make an FK of service? shared_targets = sa.Column(sa.Boolean, default=True) id = sa.Column(sa.Integer, primary_key=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.String(255)) volume_id = sa.Column( sa.String(36), sa.ForeignKey('volumes.id'), nullable=False, index=True) id = sa.Column(sa.Integer, primary_key=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.String(255)) volume_id = sa.Column( sa.String(36), sa.ForeignKey('volumes.id'), nullable=False, index=True) id = sa.Column(sa.String(36), primary_key=True) volume_id = sa.Column( sa.String(36), sa.ForeignKey('volumes.id'), nullable=False, index=True) instance_uuid = sa.Column(sa.String(36)) attached_host = sa.Column(sa.String(255)) mountpoint = sa.Column(sa.String(255)) attach_time = sa.Column(sa.DateTime) detach_time = sa.Column(sa.DateTime) attach_status = sa.Column(sa.String(255)) attach_mode = sa.Column(sa.String(255)) connection_info = sa.Column(sa.Text) connector = sa.Column(sa.Text) id = sa.Column(sa.String(36), primary_key=True) name = sa.Column(sa.String(255)) description = sa.Column(sa.String(255)) qos_specs_id = sa.Column( sa.String(36), sa.ForeignKey('quality_of_service_specs.id'), index=True) is_public = sa.Column(sa.Boolean, default=True) id = sa.Column(sa.String(36), primary_key=True) name = sa.Column(sa.String(255)) description = sa.Column(sa.String(255)) is_public = sa.Column(sa.Boolean, default=True) id = sa.Column(sa.Integer, primary_key=True, nullable=False) volume_type_id = sa.Column( sa.String(36), sa.ForeignKey('volume_types.id'), nullable=False, index=True) group_id = sa.Column( sa.String(36), sa.ForeignKey('groups.id'), nullable=False, index=True) id = sa.Column(sa.Integer, primary_key=True) volume_type_id = sa.Column( sa.String, sa.ForeignKey('volume_types.id'), nullable=False) project_id = sa.Column(sa.String(255)) deleted = sa.Column(sa.Integer, default=0) id = sa.Column(sa.Integer, primary_key=True) group_type_id = sa.Column( sa.String, sa.ForeignKey('group_types.id'), nullable=False) project_id = sa.Column(sa.String(255)) id = sa.Column(sa.Integer, primary_key=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.String(255)) volume_type_id = sa.Column( sa.String(36), sa.ForeignKey('volume_types.id'), nullable=False, index=True) id = sa.Column(sa.Integer, primary_key=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.String(255)) group_type_id = sa.Column( sa.String(36), sa.ForeignKey('group_types.id'), nullable=False, index=True) volume_type_id = sa.Column( sa.String, sa.ForeignKey('volume_types.id'), nullable=False, index=True) project_id = sa.Column(sa.String(255), primary_key=True) id = sa.Column(sa.String(36), primary_key=True) specs_id = sa.Column(sa.String(36), sa.ForeignKey(id), index=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.String(255)) id = sa.Column(sa.Integer, primary_key=True, nullable=False) volume_id = sa.Column( sa.String(36), sa.ForeignKey('volumes.id'), index=True) snapshot_id = sa.Column( sa.String(36), sa.ForeignKey('snapshots.id'), index=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.Text) id = sa.Column(sa.Integer, primary_key=True) project_id = sa.Column(sa.String(255), index=True) resource = sa.Column(sa.String(255)) hard_limit = sa.Column(sa.Integer, nullable=True) allocated = sa.Column(sa.Integer, default=0) id = sa.Column(sa.Integer, primary_key=True) class_name = sa.Column(sa.String(255), index=True) resource = sa.Column(sa.String(255)) hard_limit = sa.Column(sa.Integer, nullable=True) sa.UniqueConstraint('project_id', 'resource', 'race_preventer'), id = sa.Column(sa.Integer, primary_key=True) project_id = sa.Column(sa.String(255), index=True) resource = sa.Column(sa.String(300), index=True) in_use = sa.Column(sa.Integer) reserved = sa.Column(sa.Integer) until_refresh = sa.Column(sa.Integer, nullable=True) race_preventer = sa.Column(sa.Boolean, nullable=True, default=True) __table_args__ = ( sa.Index('reservations_deleted_expire_idx', 'deleted', 'expire'), sa.Index('reservations_deleted_uuid_idx', 'deleted', 'uuid'), CinderBase.__table_args__, ) id = sa.Column(sa.Integer, primary_key=True) uuid = sa.Column(sa.String(36), nullable=False) usage_id = sa.Column( sa.Integer, sa.ForeignKey('quota_usages.id'), nullable=True, index=True) allocated_id = sa.Column( sa.Integer, sa.ForeignKey('quotas.id'), nullable=True, index=True) project_id = sa.Column(sa.String(255), index=True) resource = sa.Column(sa.String(255)) delta = sa.Column(sa.Integer) expire = sa.Column(sa.DateTime, nullable=False) id = sa.Column(sa.String(36), primary_key=True) user_id = sa.Column(sa.String(255)) project_id = sa.Column(sa.String(255)) volume_id = sa.Column(sa.String(36), index=True) cgsnapshot_id = sa.Column(sa.String(36), index=True) group_snapshot_id = sa.Column(sa.String(36), index=True) status = sa.Column(sa.String(255)) progress = sa.Column(sa.String(255)) volume_size = sa.Column(sa.Integer) display_name = sa.Column(sa.String(255)) display_description = sa.Column(sa.String(255)) encryption_key_id = sa.Column(sa.String(36)) volume_type_id = sa.Column(sa.String(36)) provider_location = sa.Column(sa.String(255)) provider_id = sa.Column(sa.String(255)) provider_auth = sa.Column(sa.String(255)) id = sa.Column(sa.Integer, primary_key=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.String(255)) snapshot_id = sa.Column( sa.String(36), sa.ForeignKey('snapshots.id'), nullable=False, index=True) id = sa.Column(sa.String(36), primary_key=True) user_id = sa.Column(sa.String(255), nullable=False) project_id = sa.Column(sa.String(255), nullable=False) volume_id = sa.Column(sa.String(36), nullable=False) host = sa.Column(sa.String(255)) availability_zone = sa.Column(sa.String(255)) display_name = sa.Column(sa.String(255)) display_description = sa.Column(sa.String(255)) container = sa.Column(sa.String(255)) parent_id = sa.Column(sa.String(36)) status = sa.Column(sa.String(255)) fail_reason = sa.Column(sa.String(255)) service_metadata = sa.Column(sa.String(255)) service = sa.Column(sa.String(255)) size = sa.Column(sa.Integer) object_count = sa.Column(sa.Integer) temp_volume_id = sa.Column(sa.String(36)) temp_snapshot_id = sa.Column(sa.String(36)) num_dependent_backups = sa.Column(sa.Integer) snapshot_id = sa.Column(sa.String(36)) data_timestamp = sa.Column(sa.DateTime) restore_volume_id = sa.Column(sa.String(36)) encryption_key_id = sa.Column(sa.String(36)) id = sa.Column(sa.Integer, primary_key=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.String(255)) backup_id = sa.Column( sa.String(36), sa.ForeignKey('backups.id'), nullable=False, index=True) encryption_id = sa.Column(sa.String(36), primary_key=True) cipher = sa.Column(sa.String(255)) key_size = sa.Column(sa.Integer) provider = sa.Column(sa.String(255)) control_location = sa.Column(sa.String(255)) volume_type_id = sa.Column(sa.String(36), sa.ForeignKey('volume_types.id')) id = sa.Column(sa.String(36), primary_key=True) volume_id = sa.Column( sa.String(36), sa.ForeignKey('volumes.id'), index=True) display_name = sa.Column(sa.String(255)) salt = sa.Column(sa.String(255)) crypt_hash = sa.Column(sa.String(255)) expires_at = sa.Column(sa.DateTime) no_snapshots = sa.Column(sa.Boolean, default=False) source_project_id = sa.Column(sa.String(255), nullable=True) destination_project_id = sa.Column(sa.String(255), nullable=True) accepted = sa.Column(sa.Boolean, default=False) id = sa.Column(sa.Integer, primary_key=True, nullable=False) initiator = sa.Column(sa.String(255), index=True, nullable=False) namespace = sa.Column(sa.String(255), nullable=False) key = sa.Column(sa.String(255), nullable=False) value = sa.Column(sa.String(255)) id = sa.Column(sa.String(36), primary_key=True, nullable=False) project_id = sa.Column(sa.String(255), nullable=False) message_level = sa.Column(sa.String(255), nullable=False) request_id = sa.Column(sa.String(255), nullable=True) resource_type = sa.Column(sa.String(255)) resource_uuid = sa.Column(sa.String(36), nullable=True) event_id = sa.Column(sa.String(255), nullable=False) detail_id = sa.Column(sa.String(10), nullable=True) action_id = sa.Column(sa.String(10), nullable=True) expires_at = sa.Column(sa.DateTime, nullable=True, index=True) id = sa.Column(sa.Integer, primary_key=True, nullable=False) host = sa.Column(sa.String(255), index=True, nullable=False) cluster_name = sa.Column(sa.String(255), nullable=True) image_id = sa.Column(sa.String(36), index=True, nullable=False) image_updated_at = sa.Column(sa.DateTime, nullable=False) volume_id = sa.Column(sa.String(36), nullable=False) size = sa.Column(sa.Integer, nullable=False) last_used = sa.Column(sa.DateTime, default=lambda: timeutils.utcnow()) updated_at = sa.Column( sa.DateTime, default=timeutils.utcnow, onupdate=timeutils.utcnow) id = sa.Column(sa.Integer, primary_key=True, autoincrement=True) resource_type = sa.Column(sa.String(40), primary_key=True, nullable=False) resource_id = sa.Column(sa.String(36), primary_key=True, nullable=False) status = sa.Column(sa.String(255), nullable=False) service_id = sa.Column(sa.Integer, nullable=True, index=True) race_preventer = sa.Column(sa.Integer, nullable=False, default=0) id = sa.Column(sa.Integer, primary_key=True) key = sa.Column(sa.String(255)) value = sa.Column(sa.String(255)) attachment_id = sa.Column( sa.String(36), sa.ForeignKey('volume_attachment.id'), nullable=False, index=True)","from sqlalchemy import and_, func, select from sqlalchemy import bindparam from sqlalchemy import Column, Integer, String, Text, schema, Indexfrom sqlalchemy import ForeignKey, DateTime, Boolean, UniqueConstraint deleted_at = Column(DateTime) deleted = Column(Boolean, default=False) id = Column(Integer, primary_key=True) uuid = Column(String(36), nullable=True, index=True) cluster_name = Column(String(255), nullable=True) host = Column(String(255)) # , ForeignKey('hosts.id')) binary = Column(String(255)) updated_at = Column(DateTime, default=timeutils.utcnow, onupdate=timeutils.utcnow) topic = Column(String(255)) report_count = Column(Integer, nullable=False, default=0) disabled = Column(Boolean, default=False) availability_zone = Column(String(255), default='cinder') disabled_reason = Column(String(255)) modified_at = Column(DateTime) rpc_current_version = Column(String(36)) object_current_version = Column(String(36)) replication_status = Column(String(36), default=""not-capable"") active_backend_id = Column(String(255)) frozen = Column(Boolean, nullable=False, default=False) __table_args__ = (UniqueConstraint('name', 'binary', 'race_preventer'), id = Column(Integer, primary_key=True) name = Column(String(255), nullable=False) binary = Column(String(255), nullable=False) disabled = Column(Boolean, default=False) disabled_reason = Column(String(255)) race_preventer = Column(Integer, nullable=False, default=0) replication_status = Column(String(36), default=""not-capable"") active_backend_id = Column(String(255)) frozen = Column(Boolean, nullable=False, default=False) select([func.max(Service.updated_at)]). where(and_(Service.cluster_name == name, ~Service.deleted)). select([func.count(Service.id)]). where(and_(Service.cluster_name == name, ~Service.deleted)). select([func.count(Service.id)]). where(and_(Service.cluster_name == name, ~Service.deleted, Service.updated_at < bindparam('expired'))). id = Column(String(36), primary_key=True) user_id = Column(String(255), nullable=False) project_id = Column(String(255), nullable=False) cluster_name = Column(String(255), nullable=True) host = Column(String(255)) availability_zone = Column(String(255)) name = Column(String(255)) description = Column(String(255)) volume_type_id = Column(String(255)) status = Column(String(255)) cgsnapshot_id = Column(String(36)) source_cgid = Column(String(36)) id = Column(String(36), primary_key=True) user_id = Column(String(255), nullable=False) project_id = Column(String(255), nullable=False) cluster_name = Column(String(255)) host = Column(String(255)) availability_zone = Column(String(255)) name = Column(String(255)) description = Column(String(255)) status = Column(String(255)) group_type_id = Column(String(36)) group_snapshot_id = Column(String(36)) source_group_id = Column(String(36)) replication_status = Column(String(255)) id = Column(String(36), primary_key=True) consistencygroup_id = Column(String(36), index=True) user_id = Column(String(255), nullable=False) project_id = Column(String(255), nullable=False) name = Column(String(255)) description = Column(String(255)) status = Column(String(255)) id = Column(String(36), primary_key=True) group_id = Column(String(36), nullable=False, index=True) user_id = Column(String(255)) project_id = Column(String(255)) name = Column(String(255)) description = Column(String(255)) status = Column(String(255)) group_type_id = Column(String(36)) __table_args__ = (Index('volumes_service_uuid_idx', 'deleted', 'service_uuid'), CinderBase.__table_args__) id = Column(String(36), primary_key=True) _name_id = Column(String(36)) # Don't access/modify this directly! ec2_id = Column(Integer) user_id = Column(String(255)) project_id = Column(String(255)) snapshot_id = Column(String(36)) cluster_name = Column(String(255), nullable=True) host = Column(String(255)) # , ForeignKey('hosts.id')) size = Column(Integer) availability_zone = Column(String(255)) # TODO(vish): foreign key? status = Column(String(255)) # TODO(vish): enum? attach_status = Column(String(255)) # TODO(vish): enum migration_status = Column(String(255)) scheduled_at = Column(DateTime) launched_at = Column(DateTime) terminated_at = Column(DateTime) display_name = Column(String(255)) display_description = Column(String(255)) provider_location = Column(String(255)) provider_auth = Column(String(255)) provider_geometry = Column(String(255)) provider_id = Column(String(255)) volume_type_id = Column(String(36)) source_volid = Column(String(36)) encryption_key_id = Column(String(36)) consistencygroup_id = Column(String(36), index=True) group_id = Column(String(36), index=True) bootable = Column(Boolean, default=False) multiattach = Column(Boolean, default=False) replication_status = Column(String(255)) replication_extended_status = Column(String(255)) replication_driver_data = Column(String(255)) previous_status = Column(String(255)) service_uuid = Column(String(36), index=True) shared_targets = Column(Boolean, default=True) # make an FK of service? id = Column(Integer, primary_key=True) key = Column(String(255)) value = Column(String(255)) volume_id = Column(String(36), ForeignKey('volumes.id'), nullable=False, index=True) id = Column(Integer, primary_key=True) key = Column(String(255)) value = Column(String(255)) volume_id = Column(String(36), ForeignKey('volumes.id'), nullable=False, index=True) id = Column(String(36), primary_key=True) volume_id = Column(String(36), ForeignKey('volumes.id'), nullable=False, index=True) instance_uuid = Column(String(36)) attached_host = Column(String(255)) mountpoint = Column(String(255)) attach_time = Column(DateTime) detach_time = Column(DateTime) attach_status = Column(String(255)) attach_mode = Column(String(255)) connection_info = Column(Text) connector = Column(Text) id = Column(String(36), primary_key=True) name = Column(String(255)) description = Column(String(255)) qos_specs_id = Column(String(36), ForeignKey('quality_of_service_specs.id'), index=True) is_public = Column(Boolean, default=True) id = Column(String(36), primary_key=True) name = Column(String(255)) description = Column(String(255)) is_public = Column(Boolean, default=True) id = Column(Integer, primary_key=True, nullable=False) volume_type_id = Column(String(36), ForeignKey('volume_types.id'), nullable=False, index=True) group_id = Column(String(36), ForeignKey('groups.id'), nullable=False, index=True) id = Column(Integer, primary_key=True) volume_type_id = Column(String, ForeignKey('volume_types.id'), nullable=False) project_id = Column(String(255)) deleted = Column(Integer, default=0) id = Column(Integer, primary_key=True) group_type_id = Column(String, ForeignKey('group_types.id'), nullable=False) project_id = Column(String(255)) id = Column(Integer, primary_key=True) key = Column(String(255)) value = Column(String(255)) volume_type_id = Column(String(36), ForeignKey('volume_types.id'), nullable=False, index=True) id = Column(Integer, primary_key=True) key = Column(String(255)) value = Column(String(255)) group_type_id = Column(String(36), ForeignKey('group_types.id'), nullable=False, index=True) volume_type_id = Column(String, ForeignKey('volume_types.id'), nullable=False, index=True) project_id = Column(String(255), primary_key=True) id = Column(String(36), primary_key=True) specs_id = Column(String(36), ForeignKey(id), index=True) key = Column(String(255)) value = Column(String(255)) id = Column(Integer, primary_key=True, nullable=False) volume_id = Column(String(36), ForeignKey('volumes.id'), index=True) snapshot_id = Column(String(36), ForeignKey('snapshots.id'), index=True) key = Column(String(255)) value = Column(Text) id = Column(Integer, primary_key=True) project_id = Column(String(255), index=True) resource = Column(String(255)) hard_limit = Column(Integer, nullable=True) allocated = Column(Integer, default=0) id = Column(Integer, primary_key=True) class_name = Column(String(255), index=True) resource = Column(String(255)) hard_limit = Column(Integer, nullable=True) UniqueConstraint('project_id', 'resource', 'race_preventer'), id = Column(Integer, primary_key=True) project_id = Column(String(255), index=True) resource = Column(String(300), index=True) in_use = Column(Integer) reserved = Column(Integer) until_refresh = Column(Integer, nullable=True) race_preventer = Column(Boolean, nullable=True, default=True) __table_args__ = (Index('reservations_deleted_expire_idx', 'deleted', 'expire'), Index('reservations_deleted_uuid_idx', 'deleted', 'uuid'), CinderBase.__table_args__) id = Column(Integer, primary_key=True) uuid = Column(String(36), nullable=False) usage_id = Column(Integer, ForeignKey('quota_usages.id'), nullable=True, index=True) allocated_id = Column(Integer, ForeignKey('quotas.id'), nullable=True, index=True) project_id = Column(String(255), index=True) resource = Column(String(255)) delta = Column(Integer) expire = Column(DateTime, nullable=False) id = Column(String(36), primary_key=True) user_id = Column(String(255)) project_id = Column(String(255)) volume_id = Column(String(36), index=True) cgsnapshot_id = Column(String(36), index=True) group_snapshot_id = Column(String(36), index=True) status = Column(String(255)) progress = Column(String(255)) volume_size = Column(Integer) display_name = Column(String(255)) display_description = Column(String(255)) encryption_key_id = Column(String(36)) volume_type_id = Column(String(36)) provider_location = Column(String(255)) provider_id = Column(String(255)) provider_auth = Column(String(255)) id = Column(Integer, primary_key=True) key = Column(String(255)) value = Column(String(255)) snapshot_id = Column(String(36), ForeignKey('snapshots.id'), nullable=False, index=True) id = Column(String(36), primary_key=True) user_id = Column(String(255), nullable=False) project_id = Column(String(255), nullable=False) volume_id = Column(String(36), nullable=False) host = Column(String(255)) availability_zone = Column(String(255)) display_name = Column(String(255)) display_description = Column(String(255)) container = Column(String(255)) parent_id = Column(String(36)) status = Column(String(255)) fail_reason = Column(String(255)) service_metadata = Column(String(255)) service = Column(String(255)) size = Column(Integer) object_count = Column(Integer) temp_volume_id = Column(String(36)) temp_snapshot_id = Column(String(36)) num_dependent_backups = Column(Integer) snapshot_id = Column(String(36)) data_timestamp = Column(DateTime) restore_volume_id = Column(String(36)) encryption_key_id = Column(String(36)) id = Column(Integer, primary_key=True) key = Column(String(255)) value = Column(String(255)) backup_id = Column(String(36), ForeignKey('backups.id'), nullable=False, index=True) encryption_id = Column(String(36), primary_key=True) cipher = Column(String(255)) key_size = Column(Integer) provider = Column(String(255)) control_location = Column(String(255)) volume_type_id = Column(String(36), ForeignKey('volume_types.id')) id = Column(String(36), primary_key=True) volume_id = Column(String(36), ForeignKey('volumes.id'), index=True) display_name = Column(String(255)) salt = Column(String(255)) crypt_hash = Column(String(255)) expires_at = Column(DateTime) no_snapshots = Column(Boolean, default=False) source_project_id = Column(String(255), nullable=True) destination_project_id = Column(String(255), nullable=True) accepted = Column(Boolean, default=False) id = Column(Integer, primary_key=True, nullable=False) initiator = Column(String(255), index=True, nullable=False) namespace = Column(String(255), nullable=False) key = Column(String(255), nullable=False) value = Column(String(255)) id = Column(String(36), primary_key=True, nullable=False) project_id = Column(String(255), nullable=False) message_level = Column(String(255), nullable=False) request_id = Column(String(255), nullable=True) resource_type = Column(String(255)) resource_uuid = Column(String(36), nullable=True) event_id = Column(String(255), nullable=False) detail_id = Column(String(10), nullable=True) action_id = Column(String(10), nullable=True) expires_at = Column(DateTime, nullable=True, index=True) id = Column(Integer, primary_key=True, nullable=False) host = Column(String(255), index=True, nullable=False) cluster_name = Column(String(255), nullable=True) image_id = Column(String(36), index=True, nullable=False) image_updated_at = Column(DateTime, nullable=False) volume_id = Column(String(36), nullable=False) size = Column(Integer, nullable=False) last_used = Column(DateTime, default=lambda: timeutils.utcnow()) updated_at = Column(DateTime, default=timeutils.utcnow, onupdate=timeutils.utcnow) id = Column(Integer, primary_key=True, autoincrement=True) resource_type = Column(String(40), primary_key=True, nullable=False) resource_id = Column(String(36), primary_key=True, nullable=False) status = Column(String(255), nullable=False) service_id = Column(Integer, nullable=True, index=True) race_preventer = Column(Integer, nullable=False, default=0) id = Column(Integer, primary_key=True) key = Column(String(255)) value = Column(String(255)) attachment_id = Column(String(36), ForeignKey('volume_attachment.id'), nullable=False, index=True)",1012,863
openstack%2Fcyborg~stable%2Fussuri~If503b922b0271581a05f5ff4016b9a00b908f2e4,openstack/cyborg,stable/ussuri,If503b922b0271581a05f5ff4016b9a00b908f2e4,Resolve mysql conflict message,MERGED,2021-08-23 00:50:32.000000000,2021-08-25 11:02:06.000000000,2021-08-25 11:00:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-08-23 00:50:32.000000000', 'files': ['cyborg/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bb718c84204c323f9c2080904f00b83b5f7baf2f', 'message': 'Resolve mysql conflict message\n\nMysql duplicate key error message changed, so resolve it as reference link:\nhttps://review.opendev.org/c/openstack/oslo.db/+/792124\n\nCloses-Bug: #1939970\nChange-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4\n(cherry picked from commit b4f0fd69410dea38810be10a08984db29c699523)\n(cherry picked from commit ae38e4e9a9378b51d5f611c8b398635ed13bd1b5)\n(cherry picked from commit 72295ecc0ab43b05e3bf42a01ba80b4923a9bfc8)\n'}]",0,805550,bb718c84204c323f9c2080904f00b83b5f7baf2f,10,3,1,26458,,,0,"Resolve mysql conflict message

Mysql duplicate key error message changed, so resolve it as reference link:
https://review.opendev.org/c/openstack/oslo.db/+/792124

Closes-Bug: #1939970
Change-Id: If503b922b0271581a05f5ff4016b9a00b908f2e4
(cherry picked from commit b4f0fd69410dea38810be10a08984db29c699523)
(cherry picked from commit ae38e4e9a9378b51d5f611c8b398635ed13bd1b5)
(cherry picked from commit 72295ecc0ab43b05e3bf42a01ba80b4923a9bfc8)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/50/805550/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/db/sqlalchemy/api.py'],1,bb718c84204c323f9c2080904f00b83b5f7baf2f,bug/1939970," # mysql duplicate key error changed as reference link below: # https://review.opendev.org/c/openstack/oslo.db/+/792124 LOG.info('Duplicate columns are: ', e.columns) columns = [column.split('0')[1] if 'uniq_' in column else column for column in e.columns] if 'name' in columns:", if 'name' in e.columns:,6,1
openstack%2Fkolla~master~I51fbb7b9ff7c29cb355437efa4576be9bc035699,openstack/kolla,master,I51fbb7b9ff7c29cb355437efa4576be9bc035699,Update code to Jinja 3.0 style,MERGED,2021-06-28 08:38:25.000000000,2021-08-25 10:50:06.000000000,2021-07-30 11:33:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-28 08:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/26ab0d720c6be012cf832e4d80c7f2626ca780ab', 'message': 'stop using deprecated Jinja2 function\n\nFrom Jinja2 documentation:\n\njinja2.contextfunction(f: F) → F\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\nChange-Id: I51fbb7b9ff7c29cb355437efa4576be9bc035699\n'}, {'number': 2, 'created': '2021-06-28 08:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a0803d832925922d5b5842d28d76194130a371af', 'message': 'stop using deprecated Jinja2 function\n\nFrom Jinja2 documentation:\n\njinja2.contextfunction(f: F) → F\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\nChange-Id: I51fbb7b9ff7c29cb355437efa4576be9bc035699\n'}, {'number': 3, 'created': '2021-06-28 08:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/84d105d7e70eabbdd951261ad3ec3eed1348008f', 'message': 'stop using deprecated Jinja2 function\n\nFrom Jinja2 documentation:\n\njinja2.contextfunction(f: F) → F\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\nChange-Id: I51fbb7b9ff7c29cb355437efa4576be9bc035699\n'}, {'number': 4, 'created': '2021-06-28 11:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/34b6277d0141735d1a8318c163a6ddb50cf3b0cc', 'message': ""Update code to Jinja 3.0 style\n\nXena cycle uses Jinja 3.0 so let update Kolla's code for it.\n\nFrom Jinja2 documentation:\n\njinja2.contextfunction(f: F) → F\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\njinja2.contextfilter(f)\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\nAlso bumped version in requirements.txt to same as in openstack/requirements\n\nChange-Id: I51fbb7b9ff7c29cb355437efa4576be9bc035699\n""}, {'number': 5, 'created': '2021-07-28 16:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/17f0261dbed5716aca2eba3907359670ff8adb26', 'message': ""Update code to Jinja 3.0 style\n\nXena cycle uses Jinja 3.0 so let update Kolla's code for it.\n\nFrom Jinja2 documentation:\n\njinja2.contextfunction(f: F) → F\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\njinja2.contextfilter(f)\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\nAlso bumped version in requirements.txt to same as in openstack/requirements\n\nChange-Id: I51fbb7b9ff7c29cb355437efa4576be9bc035699\n""}, {'number': 6, 'created': '2021-07-29 11:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a20c6b2dd77f47f7d6a30df21a526dad20917380', 'message': ""Update code to Jinja 3.0 style\n\nXena cycle uses Jinja 3.0 so let update Kolla's code for it.\n\nFrom Jinja2 documentation:\n\njinja2.contextfunction(f: F) → F\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\njinja2.contextfilter(f)\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\nAlso bumped version in requirements.txt to same as in openstack/requirements\n\nChange-Id: I51fbb7b9ff7c29cb355437efa4576be9bc035699\n""}, {'number': 7, 'created': '2021-07-29 14:19:07.000000000', 'files': ['kolla/template/methods.py', 'kolla/template/filters.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/383364e671fb82e3c0ddca37a4690a1a33be3b54', 'message': ""Update code to Jinja 3.0 style\n\nXena cycle uses Jinja 3.0 so let update Kolla's code for it.\n\nFrom Jinja2 documentation:\n\njinja2.contextfunction(f: F) → F\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\njinja2.contextfilter(f)\n    Pass the context as the first argument to the decorated function.\n    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.\n\nAlso bumped version in requirements.txt to same as in openstack/requirements\n\nChange-Id: I51fbb7b9ff7c29cb355437efa4576be9bc035699\n""}]",2,798263,383364e671fb82e3c0ddca37a4690a1a33be3b54,32,4,7,24072,,,0,"Update code to Jinja 3.0 style

Xena cycle uses Jinja 3.0 so let update Kolla's code for it.

From Jinja2 documentation:

jinja2.contextfunction(f: F) → F
    Pass the context as the first argument to the decorated function.
    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.

jinja2.contextfilter(f)
    Pass the context as the first argument to the decorated function.
    Deprecated since version 3.0: Will be removed in Jinja 3.1. Use pass_context() instead.

Also bumped version in requirements.txt to same as in openstack/requirements

Change-Id: I51fbb7b9ff7c29cb355437efa4576be9bc035699
",git fetch https://review.opendev.org/openstack/kolla refs/changes/63/798263/6 && git format-patch -1 --stdout FETCH_HEAD,['kolla/template/methods.py'],1,26ab0d720c6be012cf832e4d80c7f2626ca780ab,,from jinja2 import pass_context@pass_context,from jinja2 import contextfunction@contextfunction,2,2
openstack%2Freleases~master~I84f669944e427095301e331933320f4afd9fb069,openstack/releases,master,I84f669944e427095301e331933320f4afd9fb069,[Puppet OpenStack] Transition Ocata to End of Life,MERGED,2021-08-13 09:43:19.000000000,2021-08-25 10:39:32.000000000,2021-08-25 10:39:32.000000000,"[{'_account_id': 9414}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-13 09:43:19.000000000', 'files': ['deliverables/ocata/puppet-openstack_spec_helper.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7cf3c881f20ebcb8b2173320cbb2f8b50ec37218', 'message': ""[Puppet OpenStack] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I84f669944e427095301e331933320f4afd9fb069\n""}]",0,804511,7cf3c881f20ebcb8b2173320cbb2f8b50ec37218,11,4,1,17685,,,0,"[Puppet OpenStack] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I84f669944e427095301e331933320f4afd9fb069
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/804511/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/puppet-openstack_spec_helper.yaml'],1,7cf3c881f20ebcb8b2173320cbb2f8b50ec37218,ocata-eol,--- launchpad: puppet-openstack-spec-helper release-model: untagged team: Puppet OpenStack type: other stable-branch-type: tagless releases: - version: ocata-eol projects: - repo: openstack/puppet-openstack_spec_helper hash: 3ea6b7c076f76fbc96d2ad6f79972234f783c4fe repository-settings: openstack/puppet-openstack_spec_helper: {} ,,13,0
openstack%2Freleases~master~I50b1eb9a9b392db766f6699f01cdc89caf7b3630,openstack/releases,master,I50b1eb9a9b392db766f6699f01cdc89caf7b3630,[openstack-chef] Transition Ocata to End of Life,MERGED,2021-08-13 10:49:29.000000000,2021-08-25 10:26:53.000000000,2021-08-25 10:26:53.000000000,"[{'_account_id': 11904}, {'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-13 10:49:29.000000000', 'files': ['deliverables/ocata/openstack-chef.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e0c746ff85be0e4395a54cc252327a3c9e3598fd', 'message': ""[openstack-chef] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I50b1eb9a9b392db766f6699f01cdc89caf7b3630\n""}]",0,804518,e0c746ff85be0e4395a54cc252327a3c9e3598fd,9,4,1,17685,,,0,"[openstack-chef] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I50b1eb9a9b392db766f6699f01cdc89caf7b3630
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/804518/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/openstack-chef.yaml'],1,e0c746ff85be0e4395a54cc252327a3c9e3598fd,ocata-eol,--- launchpad: openstack-chef release-model: untagged team: openstack-chef type: other stable-branch-type: tagless releases: - version: ocata-eol projects: - repo: openstack/openstack-chef hash: 2d3b129912bc25daf83114e327d55fc7a4abaf0f - repo: openstack/openstack-chef-repo hash: 28b6c9f27f94cbe3f3318a7befcec38344b33a55 - repo: openstack/cookbook-openstack-block-storage hash: 4b4cccc8f3808738ef3e8f8a157ebd02a3f8a42b - repo: openstack/cookbook-openstack-common hash: a435990da3e3ec61dd09020e92e6f9daf1ab957b - repo: openstack/cookbook-openstack-compute hash: dd8e84070b0ef0f2ecf610efadecf7c7876ddfc8 - repo: openstack/cookbook-openstack-dashboard hash: 3a35ca5e6d6965ffcc088309fa2b27bcd34f42c6 - repo: openstack/cookbook-openstack-identity hash: a24f1d067ca616a8af6e58b9c7c47b14acbcf521 - repo: openstack/cookbook-openstack-image hash: 190e7baf43c963441bd119b3aab40ebb5cc5aef1 - repo: openstack/cookbook-openstack-integration-test hash: 16e75a802171558590c381dac4e10c0565c7889b - repo: openstack/cookbook-openstack-network hash: 4a186290a4468f615d522913eb07ebd82a38d424 - repo: openstack/cookbook-openstack-ops-database hash: 8e78b9fc51c31bc7e5a19b12766af29422e5acbd - repo: openstack/cookbook-openstack-ops-messaging hash: bc3920ffadb148a013abf71f5a7ea5afdefd88a7 - repo: openstack/cookbook-openstack-orchestration hash: 9e57bb284fe730b3092b9bc9cd8ac34df503ba1e - repo: openstack/cookbook-openstack-telemetry hash: 56730083f9a4434942230393cd93b68e007ca146 - repo: openstack/cookbook-openstackclient hash: 9b2279d37ae01a7d8ecbb3c37574c19d68314eeb repository-settings: openstack/openstack-chef: {} openstack/openstack-chef-repo: {} openstack/cookbook-openstack-block-storage: {} openstack/cookbook-openstack-common: {} openstack/cookbook-openstack-compute: {} openstack/cookbook-openstack-dashboard: {} openstack/cookbook-openstack-identity: {} openstack/cookbook-openstack-image: {} openstack/cookbook-openstack-integration-test: {} openstack/cookbook-openstack-network: {} openstack/cookbook-openstack-ops-database: {} openstack/cookbook-openstack-ops-messaging: {} openstack/cookbook-openstack-orchestration: {} openstack/cookbook-openstack-telemetry: {} openstack/cookbook-openstackclient: {} ,,55,0
openstack%2Freleases~master~Ib44378aa7c3b73ecfe00b615b8ef7860fece09b5,openstack/releases,master,Ib44378aa7c3b73ecfe00b615b8ef7860fece09b5,[kolla] Transition Ocata to End of Life,MERGED,2021-08-13 07:38:05.000000000,2021-08-25 10:26:50.000000000,2021-08-25 10:26:50.000000000,"[{'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-13 07:38:05.000000000', 'files': ['deliverables/ocata/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8e809ff99c0bce3d7b9d69de487969e81844f2f4', 'message': ""[kolla] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ib44378aa7c3b73ecfe00b615b8ef7860fece09b5\n""}]",0,804488,8e809ff99c0bce3d7b9d69de487969e81844f2f4,10,5,1,17685,,,0,"[kolla] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ib44378aa7c3b73ecfe00b615b8ef7860fece09b5
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/804488/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/kayobe.yaml'],1,8e809ff99c0bce3d7b9d69de487969e81844f2f4,ocata-eol,--- storyboard: openstack/kayobe release-model: cycle-trailing team: kolla type: other releases: - version: ocata-eol projects: - repo: openstack/kayobe hash: 8b7213aadb497dc20831cf7b446b9adc5c00bb95 - repo: openstack/kayobe-config hash: c0f66371c011951fdee7630bd5d6bbcd74cde71c repository-settings: openstack/kayobe: {} openstack/kayobe-config: flags: - no-artifact-build-job ,,17,0
openstack%2Fskyline-console~master~I80fe346cc0be4bdb8607088578fa2acb446cf084,openstack/skyline-console,master,I80fe346cc0be4bdb8607088578fa2acb446cf084,fix: Fix refresh data in detail page after finishing action,MERGED,2021-08-25 09:26:32.000000000,2021-08-25 10:25:31.000000000,2021-08-25 10:25:31.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 09:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/57b9c74c7e82d268b34c444a8b0f21d3369e61e9', 'message': 'fix: Fix refresh data in detail page after finishing action\n\n1. Fix edit metadata success hint\n2. Fix manage image metadata success hint\n3. Fix create/edit project modal top padding\n4. Fix edit user modal top padding\n5. Fix create user group modal top padding\n6. Fix refresh list page in detail after finishing action in detail page\n7. Remove useless fetch in base detail page\n\nChange-Id: I80fe346cc0be4bdb8607088578fa2acb446cf084\n'}, {'number': 2, 'created': '2021-08-25 09:50:37.000000000', 'files': ['src/containers/List/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/pages/compute/containers/BareMetalNode/Detail/BaseDetail.jsx', 'src/pages/identity/containers/User/actions/Edit.jsx', 'src/pages/network/containers/QoSPolicy/Detail/BaseDetail.jsx', 'src/pages/network/containers/Network/Detail/Detail.jsx', 'src/pages/configuration/containers/Metadata/actions/Edit.jsx', 'src/pages/storage/containers/Backup/Detail/BaseDetail.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/Detail/BaseDetail.jsx', 'src/pages/identity/containers/Project/actions/Edit.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/BaseDetail.jsx', 'src/pages/configuration/containers/Metadata/Detail/BaseDetail.jsx', 'src/pages/network/containers/Router/Port/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Flavor/Detail/BaseDetail.jsx', 'src/pages/identity/containers/Project/actions/Create.jsx', 'src/pages/storage/containers/Snapshot/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Keypair/Detail/BaseDetail.jsx', 'src/pages/network/containers/Router/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Image/actions/ManageMetadata.jsx', 'src/containers/BaseDetail/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/identity/containers/UserGroup/actions/Create.jsx', 'src/pages/identity/containers/Project/Detail/index.jsx', 'src/pages/storage/containers/Volume/Detail/BaseDetail.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/BaseDetail/index.jsx', 'src/pages/heat/containers/Stack/Detail/BaseDetail.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/BaseDetail.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/19fab7e17ffdb8b423357e075ff6cc64f3c34262', 'message': 'fix: Fix refresh data in detail page after finishing action\n\n1. Fix edit metadata success hint\n2. Fix manage image metadata success hint\n3. Fix create/edit project modal top padding\n4. Fix edit user modal top padding\n5. Fix create user group modal top padding\n6. Fix refresh list page in detail after finishing action in detail page\n7. Remove useless fetch in base detail page\n\nChange-Id: I80fe346cc0be4bdb8607088578fa2acb446cf084\n'}]",0,805977,19fab7e17ffdb8b423357e075ff6cc64f3c34262,8,2,2,30434,,,0,"fix: Fix refresh data in detail page after finishing action

1. Fix edit metadata success hint
2. Fix manage image metadata success hint
3. Fix create/edit project modal top padding
4. Fix edit user modal top padding
5. Fix create user group modal top padding
6. Fix refresh list page in detail after finishing action in detail page
7. Remove useless fetch in base detail page

Change-Id: I80fe346cc0be4bdb8607088578fa2acb446cf084
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/77/805977/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/containers/List/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/pages/compute/containers/BareMetalNode/Detail/BaseDetail.jsx', 'src/pages/identity/containers/User/actions/Edit.jsx', 'src/pages/network/containers/QoSPolicy/Detail/BaseDetail.jsx', 'src/pages/network/containers/Network/Detail/Detail.jsx', 'src/pages/configuration/containers/Metadata/actions/Edit.jsx', 'src/pages/storage/containers/Backup/Detail/BaseDetail.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/Detail/BaseDetail.jsx', 'src/pages/identity/containers/Project/actions/Edit.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/Detail/BaseDetail.jsx', 'src/pages/configuration/containers/Metadata/Detail/BaseDetail.jsx', 'src/pages/network/containers/Router/Port/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Flavor/Detail/BaseDetail.jsx', 'src/pages/identity/containers/Project/actions/Create.jsx', 'src/pages/storage/containers/Snapshot/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Keypair/Detail/BaseDetail.jsx', 'src/pages/network/containers/Router/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Image/actions/ManageMetadata.jsx', 'src/containers/BaseDetail/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/identity/containers/UserGroup/actions/Create.jsx', 'src/pages/identity/containers/Project/Detail/index.jsx', 'src/pages/storage/containers/Volume/Detail/BaseDetail.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/BaseDetail/index.jsx', 'src/pages/heat/containers/Stack/Detail/BaseDetail.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/BaseDetail.jsx']",27,57b9c74c7e82d268b34c444a8b0f21d3369e61e9,master2, get shouldFetchDetail() { return true; } ,,49,93
openstack%2Fskyline-console~master~I296dfe7bff8d0e1910fdb3104cd112c3a92458d4,openstack/skyline-console,master,I296dfe7bff8d0e1910fdb3104cd112c3a92458d4,fix: Fix backup from vpn detail,MERGED,2021-08-24 07:30:47.000000000,2021-08-25 10:22:26.000000000,2021-08-25 10:22:26.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-24 07:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9d5a7749ecae4e9e5dfcb2a9085e4b5bb4aaaa2e', 'message': 'fix: Fix backup from vpn detail\n\nFix the query of url to back to correct tab in vpn tunnel list from detail\n\nChange-Id: I296dfe7bff8d0e1910fdb3104cd112c3a92458d4\n'}, {'number': 2, 'created': '2021-08-25 09:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7f0f19b57d4c46fca779d944e457aeccd485f1ca', 'message': 'fix: Fix backup from vpn detail\n\nFix the query of url to back to correct tab in vpn tunnel list from detail\n\nChange-Id: I296dfe7bff8d0e1910fdb3104cd112c3a92458d4\n'}, {'number': 3, 'created': '2021-08-25 09:48:39.000000000', 'files': ['src/pages/network/containers/VPN/VPNTunnel/Detail/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/cf54b76936fdb9da4aefe0ada78850cb45b16ceb', 'message': 'fix: Fix backup from vpn detail\n\nFix the query of url to back to correct tab in vpn tunnel list from detail\n\nChange-Id: I296dfe7bff8d0e1910fdb3104cd112c3a92458d4\n'}]",0,805789,cf54b76936fdb9da4aefe0ada78850cb45b16ceb,12,2,3,33689,,,0,"fix: Fix backup from vpn detail

Fix the query of url to back to correct tab in vpn tunnel list from detail

Change-Id: I296dfe7bff8d0e1910fdb3104cd112c3a92458d4
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/89/805789/2 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/VPN/VPNTunnel/Detail/index.jsx'],1,9d5a7749ecae4e9e5dfcb2a9085e4b5bb4aaaa2e,open-35110, return `${this.getUrl('/network/vpn')}?tab=ipsec_connections`;, return this.getUrl('/network/vpn?tab=ipsec_connections');,1,1
openstack%2Freleases~master~Ieab529798e0e456663b8b576b654d670ecb4cf56,openstack/releases,master,Ieab529798e0e456663b8b576b654d670ecb4cf56,[freezer-tempest-plugin] Tag train-last,MERGED,2021-07-16 23:40:49.000000000,2021-08-25 10:22:21.000000000,2021-08-25 10:22:21.000000000,"[{'_account_id': 13940}, {'_account_id': 17685}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 23:40:49.000000000', 'files': ['deliverables/xena/freezer-tempest-plugin.yaml', 'deliverables/train/freezer-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e1b7be7a5d57d73ccaba3212e3c6f94a13406382', 'message': ""[freezer-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Ieab529798e0e456663b8b576b654d670ecb4cf56\n""}]",0,801158,e1b7be7a5d57d73ccaba3212e3c6f94a13406382,12,6,1,8556,,,0,"[freezer-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Ieab529798e0e456663b8b576b654d670ecb4cf56
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/801158/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/freezer-tempest-plugin.yaml', 'deliverables/train/freezer-tempest-plugin.yaml']",2,e1b7be7a5d57d73ccaba3212e3c6f94a13406382,train-last, - version: train-last projects: - repo: openstack/freezer-tempest-plugin hash: cccf158daa36cbd32c6f8817772a17596b9f4193,,9,0
openstack%2Freleases~master~I93822aa5fd9a1dde6b8226b4bc48adbc8093c28b,openstack/releases,master,I93822aa5fd9a1dde6b8226b4bc48adbc8093c28b,[storlets] Transition Newton to Ocata to End of Life,MERGED,2021-08-13 09:45:14.000000000,2021-08-25 10:20:04.000000000,2021-08-25 10:20:04.000000000,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-13 09:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/95bf9332dac15fadcae76a91b33cc52dd3960890', 'message': ""[storlets] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I93822aa5fd9a1dde6b8226b4bc48adbc8093c28b\n""}, {'number': 2, 'created': '2021-08-24 04:27:25.000000000', 'files': ['deliverables/newton/storlets.yaml', 'deliverables/ocata/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/349828f39897bea36533cf2cf2b715e4cc06d022', 'message': '[storlets] Transition Newton to Ocata to End of Life\n\nThis transition the Newton branch and the Ocata branch to End of Life.\nThe last patch of these branch will be tagged with *-eol tag. Theese\nbranchs cannot be used anymore and will be deleted if this patch\nmerges.\n\nThis is needed as these branches are not actively maintained in\nthe recent period and thus gate is broken due to job failures.\nBy removing these branches, infra resources will be freed up, too.\n\nChange-Id: I93822aa5fd9a1dde6b8226b4bc48adbc8093c28b\n'}]",0,804512,349828f39897bea36533cf2cf2b715e4cc06d022,11,4,2,17685,,,0,"[storlets] Transition Newton to Ocata to End of Life

This transition the Newton branch and the Ocata branch to End of Life.
The last patch of these branch will be tagged with *-eol tag. Theese
branchs cannot be used anymore and will be deleted if this patch
merges.

This is needed as these branches are not actively maintained in
the recent period and thus gate is broken due to job failures.
By removing these branches, infra resources will be freed up, too.

Change-Id: I93822aa5fd9a1dde6b8226b4bc48adbc8093c28b
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/804512/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/storlets.yaml'],1,95bf9332dac15fadcae76a91b33cc52dd3960890,ocata-eol,--- launchpad: storlets team: storlets type: service release-model: cycle-with-intermediary releases: - version: ocata-eol projects: - repo: openstack/storlets hash: 912428ff0cabca1f841fac3649677181b1290713 repository-settings: openstack/storlets: {} ,,12,0
openstack%2Fnova~master~Ibf5ca2969065262f4aa14b3764af74af37d88408,openstack/nova,master,Ibf5ca2969065262f4aa14b3764af74af37d88408,fup: Fix os-volume_attachments api-ref parameters,MERGED,2021-08-24 18:04:55.000000000,2021-08-25 10:18:23.000000000,2021-08-25 10:16:21.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 18:04:55.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/a057bbc40654d99e18b3b69fd93757e76bbbd1fa', 'message': 'fup: Fix os-volume_attachments api-ref parameters\n\nChange-Id: Ibf5ca2969065262f4aa14b3764af74af37d88408\n'}]",0,805876,a057bbc40654d99e18b3b69fd93757e76bbbd1fa,12,3,1,10135,,,0,"fup: Fix os-volume_attachments api-ref parameters

Change-Id: Ibf5ca2969065262f4aa14b3764af74af37d88408
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/805876/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,a057bbc40654d99e18b3b69fd93757e76bbbd1fa,bp/add-attachmentid-to-responses-of-the-os-volume-attachments-api, required: true required: true The volume ID of the attachment. required: true, required: false required: false The volumeId of the attachment. required: false,4,4
openstack%2Frequirements~master~Ic8bf060742b360d5905ec3d93a386b9f6bfc2600,openstack/requirements,master,Ic8bf060742b360d5905ec3d93a386b9f6bfc2600,update constraint for neutron-lib to new release 2.14.0,MERGED,2021-08-20 08:18:32.000000000,2021-08-25 10:17:42.000000000,2021-08-25 10:16:16.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-20 08:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/16330bb2b51579bb07d80140988f76d36818a11b', 'message': 'update constraint for neutron-lib to new release 2.14.0\n\nmeta: version: 2.14.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Előd Illés <elod.illes@est.tech>\nmeta: release:Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Change-Id: I9a6245e4b38bd329696e3c6277e33bbd33a0d26d\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ic8bf060742b360d5905ec3d93a386b9f6bfc2600\n'}, {'number': 2, 'created': '2021-08-23 13:01:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2d021d02eadb3475bde66335929f53f3c85df80f', 'message': 'update constraint for neutron-lib to new release 2.14.0\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/805627\n\nmeta: version: 2.14.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Előd Illés <elod.illes@est.tech>\nmeta: release:Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Change-Id: I9a6245e4b38bd329696e3c6277e33bbd33a0d26d\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ic8bf060742b360d5905ec3d93a386b9f6bfc2600\n'}]",1,805352,2d021d02eadb3475bde66335929f53f3c85df80f,23,3,2,11131,,,0,"update constraint for neutron-lib to new release 2.14.0

Depends-On: https://review.opendev.org/c/openstack/neutron/+/805627

meta: version: 2.14.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Előd Illés <elod.illes@est.tech>
meta: release:Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
meta: release:Change-Id: I9a6245e4b38bd329696e3c6277e33bbd33a0d26d
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ic8bf060742b360d5905ec3d93a386b9f6bfc2600
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/805352/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,16330bb2b51579bb07d80140988f76d36818a11b,new-release,neutron-lib===2.14.0,neutron-lib===2.13.0,1,1
openstack%2Fkolla-ansible~stable%2Fussuri~I65b6e322fa11a870f32099bbfd62150cbea4feb5,openstack/kolla-ansible,stable/ussuri,I65b6e322fa11a870f32099bbfd62150cbea4feb5,Remove an unused file,MERGED,2021-08-24 12:58:27.000000000,2021-08-25 10:17:17.000000000,2021-08-25 10:15:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 12:58:27.000000000', 'files': ['ansible/roles/common/tasks/inspect.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59df4974cea74cee76104c7f3667bca98576a2f7', 'message': 'Remove an unused file\n\nIt seems to have been mistakenly introduced by\nde00bf491dfbabc8e11009fce4410bce5c2110ed\n""Simplify handler conditionals""\n\nChange-Id: I65b6e322fa11a870f32099bbfd62150cbea4feb5\n(cherry picked from commit 16a4a9e5ac391e58413b7927dfcf53b377cc0754)\n'}]",0,805816,59df4974cea74cee76104c7f3667bca98576a2f7,8,2,1,30491,,,0,"Remove an unused file

It seems to have been mistakenly introduced by
de00bf491dfbabc8e11009fce4410bce5c2110ed
""Simplify handler conditionals""

Change-Id: I65b6e322fa11a870f32099bbfd62150cbea4feb5
(cherry picked from commit 16a4a9e5ac391e58413b7927dfcf53b377cc0754)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/805816/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/tasks/inspect.yml'],1,59df4974cea74cee76104c7f3667bca98576a2f7,remove-cruft-stable/wallaby-stable/victoria-stable/ussuri,,"--- - name: Inspect common services include_role: name: inspect vars: inspect_services: ""{{ common_services }}"" ",0,6
openstack%2Fkolla-ansible~stable%2Fvictoria~I65b6e322fa11a870f32099bbfd62150cbea4feb5,openstack/kolla-ansible,stable/victoria,I65b6e322fa11a870f32099bbfd62150cbea4feb5,Remove an unused file,MERGED,2021-08-24 12:58:20.000000000,2021-08-25 10:17:13.000000000,2021-08-25 10:15:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 12:58:20.000000000', 'files': ['ansible/roles/common/tasks/inspect.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f1a02dfd077c9aea17a88099128e91f4851e786', 'message': 'Remove an unused file\n\nIt seems to have been mistakenly introduced by\nde00bf491dfbabc8e11009fce4410bce5c2110ed\n""Simplify handler conditionals""\n\nChange-Id: I65b6e322fa11a870f32099bbfd62150cbea4feb5\n(cherry picked from commit 16a4a9e5ac391e58413b7927dfcf53b377cc0754)\n'}]",0,805815,6f1a02dfd077c9aea17a88099128e91f4851e786,8,2,1,30491,,,0,"Remove an unused file

It seems to have been mistakenly introduced by
de00bf491dfbabc8e11009fce4410bce5c2110ed
""Simplify handler conditionals""

Change-Id: I65b6e322fa11a870f32099bbfd62150cbea4feb5
(cherry picked from commit 16a4a9e5ac391e58413b7927dfcf53b377cc0754)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/805815/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/tasks/inspect.yml'],1,6f1a02dfd077c9aea17a88099128e91f4851e786,remove-cruft-stable/wallaby-stable/victoria,,"--- - name: Inspect common services include_role: name: inspect vars: inspect_services: ""{{ common_services }}"" ",0,6
openstack%2Fkolla-ansible~stable%2Fwallaby~I65b6e322fa11a870f32099bbfd62150cbea4feb5,openstack/kolla-ansible,stable/wallaby,I65b6e322fa11a870f32099bbfd62150cbea4feb5,Remove an unused file,MERGED,2021-08-24 12:58:10.000000000,2021-08-25 10:17:08.000000000,2021-08-25 10:15:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 12:58:10.000000000', 'files': ['ansible/roles/common/tasks/inspect.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c34511910d69ac92eaa5668511430944c75a85ae', 'message': 'Remove an unused file\n\nIt seems to have been mistakenly introduced by\nde00bf491dfbabc8e11009fce4410bce5c2110ed\n""Simplify handler conditionals""\n\nChange-Id: I65b6e322fa11a870f32099bbfd62150cbea4feb5\n(cherry picked from commit 16a4a9e5ac391e58413b7927dfcf53b377cc0754)\n'}]",0,805814,c34511910d69ac92eaa5668511430944c75a85ae,8,2,1,30491,,,0,"Remove an unused file

It seems to have been mistakenly introduced by
de00bf491dfbabc8e11009fce4410bce5c2110ed
""Simplify handler conditionals""

Change-Id: I65b6e322fa11a870f32099bbfd62150cbea4feb5
(cherry picked from commit 16a4a9e5ac391e58413b7927dfcf53b377cc0754)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/805814/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/tasks/inspect.yml'],1,c34511910d69ac92eaa5668511430944c75a85ae,remove-cruft-stable/wallaby,,"--- - name: Inspect common services include_role: name: inspect vars: inspect_services: ""{{ common_services }}"" ",0,6
openstack%2Fcinder~master~I1207fd00d7dddf4e1940d158f03f786bf605b53f,openstack/cinder,master,I1207fd00d7dddf4e1940d158f03f786bf605b53f,WIP Try regular delete for snapshot or deferred deletion,ABANDONED,2021-08-24 20:41:42.000000000,2021-08-25 09:50:37.000000000,,[{'_account_id': 20813}],"[{'number': 1, 'created': '2021-08-24 20:41:42.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c66271222848fa8558d022b0d896dbef549fc72f', 'message': 'WIP Try regular delete for snapshot or deferred deletion\n\nChange-Id: I1207fd00d7dddf4e1940d158f03f786bf605b53f\n'}]",0,805885,c66271222848fa8558d022b0d896dbef549fc72f,9,1,1,20813,,,0,"WIP Try regular delete for snapshot or deferred deletion

Change-Id: I1207fd00d7dddf4e1940d158f03f786bf605b53f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/805885/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,c66271222848fa8558d022b0d896dbef549fc72f,," LOG.debug(""deleting rbd volume %s"", volume_name) try: self.RBDProxy().remove(client.ioctx, volume_name) except self.rbd.ImageBusy: LOG.debug(""moving volume %s to trash"", volume_name) delay = self.configuration.deferred_deletion_delay self.RBDProxy().trash_move(client.ioctx, volume_name, delay) except self.rbd.ImageNotFound: LOG.info(""RBD volume %s not found, allowing delete "" ""operation to proceed."", volume_name) return"," clone_snap = None parent = None # If the volume has non-clone snapshots this delete is expected to # raise VolumeIsBusy so do so straight away. try: snaps = rbd_image.list_snaps() for snap in snaps: if snap['name'].endswith('.clone_snap'): LOG.debug(""volume has clone snapshot(s)"") # We grab one of these and use it when fetching parent # info in case the volume has been flattened. clone_snap = snap['name'] break raise exception.VolumeIsBusy(volume_name=volume_name) # Determine if this volume is itself a clone _pool, parent, parent_snap = self._get_clone_info(rbd_image, volume_name, clone_snap) finally: rbd_image.close() @utils.retry(self.rbd.ImageBusy, self.configuration.rados_connection_interval, self.configuration.rados_connection_retries) def _try_remove_volume(client, volume_name): if self.configuration.enable_deferred_deletion: LOG.debug(""moving volume %s to trash"", volume_name) delay = self.configuration.deferred_deletion_delay self.RBDProxy().trash_move(client.ioctx, volume_name, delay) else: self.RBDProxy().remove(client.ioctx, volume_name) if clone_snap is None: LOG.debug(""deleting rbd volume %s"", volume_name) try: _try_remove_volume(client, volume_name) except self.rbd.ImageBusy: msg = (_(""ImageBusy error raised while deleting rbd "" ""volume. This may have been caused by a "" ""connection from a client that has crashed and, "" ""if so, may be resolved by retrying the delete "" ""after 30 seconds has elapsed."")) LOG.warning(msg) # Now raise this so that the volume stays available and the # deletion can be retried. raise exception.VolumeIsBusy(msg, volume_name=volume_name) except self.rbd.ImageNotFound: LOG.info(""RBD volume %s not found, allowing delete "" ""operation to proceed."", volume_name) return # If it is a clone, walk back up the parent chain deleting # references. if parent: LOG.debug(""volume is a clone so cleaning references"") self._delete_clone_parent_refs(client, parent, parent_snap) else: # If the volume has copy-on-write clones we will not be able to # delete it. Instead we will keep it as a silent volume which # will be deleted when it's snapshot and clones are deleted. new_name = ""%s.deleted"" % (volume_name) self.RBDProxy().rename(client.ioctx, volume_name, new_name)",12,66
openstack%2Fskyline-console~master~Ic3453c40c54882e72b804d23f6941cb94e83975f,openstack/skyline-console,master,Ic3453c40c54882e72b804d23f6941cb94e83975f,feature: Add ZUUL JOBs,MERGED,2021-08-25 08:05:39.000000000,2021-08-25 09:47:02.000000000,2021-08-25 09:47:02.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-08-25 08:05:39.000000000', 'files': ['.gitignore', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2305aacb93161da7455e18b068f030fbb850ca59', 'message': 'feature: Add ZUUL JOBs\n\n1. Add `skyline-nodejs14-run-lint-xx` jobs to execute code static\nanalysis\n2. Add `skyline-nodejs14-run-unit-test` jobs to execute unit test\n\nChange-Id: Ic3453c40c54882e72b804d23f6941cb94e83975f\n'}]",0,805963,2305aacb93161da7455e18b068f030fbb850ca59,8,4,1,30906,,,0,"feature: Add ZUUL JOBs

1. Add `skyline-nodejs14-run-lint-xx` jobs to execute code static
analysis
2. Add `skyline-nodejs14-run-unit-test` jobs to execute unit test

Change-Id: Ic3453c40c54882e72b804d23f6941cb94e83975f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/63/805963/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.zuul.yaml']",2,2305aacb93161da7455e18b068f030fbb850ca59,,- job: name: skyline-nodejs14-run-lint-src parent: nodejs-run-lint description: | Run lint using Node 14 for skyline-console src directory. vars: node_version: 14 js_build_command: lint - job: name: skyline-nodejs14-run-lint-test parent: nodejs-run-lint description: | Run lint using Node 14 for skyline-console test directory. vars: node_version: 14 js_build_command: lint:test - job: name: skyline-nodejs14-run-unit-test parent: nodejs-run-test description: | Run unit test using Node 14 for skyline-console. vars: node_version: 14 js_build_command: test:unit - project: check: jobs: - skyline-nodejs14-run-lint-src - skyline-nodejs14-run-lint-test - skyline-nodejs14-run-unit-test gate: jobs: - skyline-nodejs14-run-lint-src - skyline-nodejs14-run-lint-test - skyline-nodejs14-run-unit-test,- project: templates: - noop-jobs,38,2
openstack%2Fopenstacksdk~master~I9e3206872afd2c1bf55cdac4e8cfa044479afd2c,openstack/openstacksdk,master,I9e3206872afd2c1bf55cdac4e8cfa044479afd2c,"Add ""update flavor description"" to openstack sdk",ABANDONED,2020-10-08 06:32:49.000000000,2021-08-25 09:28:27.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-10-08 06:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fa3fc04422edff649a1894bf58a3bbe94e42b958', 'message': 'Add ""update flavor description"" to openstack sdk\n\nChange-Id: I9e3206872afd2c1bf55cdac4e8cfa044479afd2c\n'}, {'number': 2, 'created': '2020-10-08 06:48:54.000000000', 'files': ['openstack/cloud/_compute.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4a3f7b4df923f3d5d065b062826c88641af21a87', 'message': 'Add ""update flavor description"" to openstack sdk\n\nChange-Id: I9e3206872afd2c1bf55cdac4e8cfa044479afd2c\n'}]",0,756642,4a3f7b4df923f3d5d065b062826c88641af21a87,6,3,2,31825,,,0,"Add ""update flavor description"" to openstack sdk

Change-Id: I9e3206872afd2c1bf55cdac4e8cfa044479afd2c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/42/756642/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_compute.py'],1,fa3fc04422edff649a1894bf58a3bbe94e42b958,," def update_flavor(self, name_or_id, description): """"""Get the flavor and update the description :param name_or_id: ID or name of the flavor to update. :param description: A free form description of the flavor. :returns: True if update succeeded, False otherwise. :raises: OpenStackCloudException on operation error. """""" flavor = self.get_flavor(name_or_id, get_extra=False) if flavor is None: self.log.debug( ""Flavor %s not found for updating"", name_or_id) return False flavor.description = description flavor.save() proxy._json_response( self.compute.update( '/flavors/{id}'.format(id=flavor['id'])), error_message=""Unable to update flavor {name}"".format( name=name_or_id)) return True ",,24,0
openstack%2Fskyline-apiserver~master~Ia30c2c5e783401aa4bad85139b0bf2fa9a822847,openstack/skyline-apiserver,master,Ia30c2c5e783401aa4bad85139b0bf2fa9a822847,fix: Fix make build failed,MERGED,2021-08-25 09:02:50.000000000,2021-08-25 09:27:54.000000000,2021-08-25 09:27:54.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-08-25 09:02:50.000000000', 'files': ['container/Dockerfile'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/3855a725a91243aadfe29bd6318bfb26c3f865de', 'message': 'fix: Fix make build failed\n\nSince poetry 1.1.8 version introduces a large number of bugs[1], which\nmakes the process of building container image fail, so the 1.1.8\nversion of poetry is not used.\n\n[1] https://github.com/python-poetry/poetry/issues/4429\n\nChange-Id: Ia30c2c5e783401aa4bad85139b0bf2fa9a822847\n'}]",0,805973,3855a725a91243aadfe29bd6318bfb26c3f865de,7,3,1,27809,,,0,"fix: Fix make build failed

Since poetry 1.1.8 version introduces a large number of bugs[1], which
makes the process of building container image fail, so the 1.1.8
version of poetry is not used.

[1] https://github.com/python-poetry/poetry/issues/4429

Change-Id: Ia30c2c5e783401aa4bad85139b0bf2fa9a822847
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/73/805973/1 && git format-patch -1 --stdout FETCH_HEAD,['container/Dockerfile'],1,3855a725a91243aadfe29bd6318bfb26c3f865de,, && pip install poetry!=1.1.8 \, && pip install poetry \,1,1
openstack%2Fcharm-octavia~master~I0b001122a95194e4c68f7491e3bf2da5bfdb9566,openstack/charm-octavia,master,I0b001122a95194e4c68f7491e3bf2da5bfdb9566,Switch testing to Xena testing runtime,ABANDONED,2021-05-28 08:01:00.000000000,2021-08-25 09:27:20.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 08:01:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c5d26775f3c2afd985fceaa6a51b182d8bbc6336', 'message': 'Switch testing to Xena testing runtime\n\nUpating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I0b001122a95194e4c68f7491e3bf2da5bfdb9566\n'}]",0,793549,c5d26775f3c2afd985fceaa6a51b182d8bbc6336,7,2,1,31825,,,0,"Switch testing to Xena testing runtime

Upating the tetsing template to Xena testing runtime:
https://governance.openstack.org/tc/reference/runtimes/xena.html

Change-Id: I0b001122a95194e4c68f7491e3bf2da5bfdb9566
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/49/793549/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c5d26775f3c2afd985fceaa6a51b182d8bbc6336,, - openstack-python3-xena-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fpython-glanceclient~master~I5f8ed2d6b1ca8c26d7fafd280b135554ed597e99,openstack/python-glanceclient,master,I5f8ed2d6b1ca8c26d7fafd280b135554ed597e99,setup.cfg: Replace dashes with underscores,MERGED,2021-05-05 09:04:55.000000000,2021-08-25 09:23:30.000000000,2021-08-25 09:22:04.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-05-05 09:04:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/b443996524a55ee01af67ab7f667829a82ceacce', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5f8ed2d6b1ca8c26d7fafd280b135554ed597e99\n""}]",2,789757,b443996524a55ee01af67ab7f667829a82ceacce,10,4,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5f8ed2d6b1ca8c26d7fafd280b135554ed597e99
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/57/789757/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b443996524a55ee01af67ab7f667829a82ceacce,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-glanceclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-glanceclient/latest/ python-requires = >=3.6,4,4
openstack%2Fskyline-apiserver~master~Ib7f7dcc98183aa99a00fc69b73eba53d87642502,openstack/skyline-apiserver,master,Ib7f7dcc98183aa99a00fc69b73eba53d87642502,feature: Add x-openstack-request-id into header,MERGED,2021-08-25 04:05:46.000000000,2021-08-25 09:21:58.000000000,2021-08-25 09:21:58.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-08-25 04:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/15dd92b71d81caadcc01c87d1532e9d6e80ed31a', 'message': 'feature: Add x-openstack-request-id into header\n\n1. Add x-openstack-request-id into header\nLet the skyline API continue to pass down with Request ID using for tracking chain.\nIt contributes to find the problem preliminarily.\n\nChange-Id: Ib7f7dcc98183aa99a00fc69b73eba53d87642502\n'}, {'number': 2, 'created': '2021-08-25 04:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/57e190c3b0035de3ff8593aa7917e68ff64e662d', 'message': 'feature: Add x-openstack-request-id into header\n\n1. Add x-openstack-request-id into header\nLet the skyline API continue to pass down with Request ID using for tracking chain.\nIt contributes to find the problem preliminarily.\n\nChange-Id: Ib7f7dcc98183aa99a00fc69b73eba53d87642502\n'}, {'number': 3, 'created': '2021-08-25 04:47:40.000000000', 'files': ['libs/skyline-apiserver/skyline_apiserver/client/openstack/keystone.py', 'libs/skyline-apiserver/skyline_apiserver/network/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/system.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/cinder.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/glance.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/login.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/nova.py', 'libs/skyline-apiserver/skyline_apiserver/types/constants.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/extension.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/contrib.py', 'libs/skyline-apiserver/skyline_apiserver/client/utils.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/6dfa997a795543afb9bdd0d712fdad80fa01ce21', 'message': 'feature: Add x-openstack-request-id into header\n\n1. Add x-openstack-request-id into header\nLet the skyline API continue to pass down with Request ID using for tracking chain.\nIt contributes to find the problem preliminarily.\n\nChange-Id: Ib7f7dcc98183aa99a00fc69b73eba53d87642502\n'}]",0,805936,6dfa997a795543afb9bdd0d712fdad80fa01ce21,11,4,3,33898,,,0,"feature: Add x-openstack-request-id into header

1. Add x-openstack-request-id into header
Let the skyline API continue to pass down with Request ID using for tracking chain.
It contributes to find the problem preliminarily.

Change-Id: Ib7f7dcc98183aa99a00fc69b73eba53d87642502
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/36/805936/1 && git format-patch -1 --stdout FETCH_HEAD,"['libs/skyline-apiserver/skyline_apiserver/client/openstack/keystone.py', 'libs/skyline-apiserver/skyline_apiserver/network/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/system.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/cinder.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/glance.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/login.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/nova.py', 'libs/skyline-apiserver/skyline_apiserver/types/constants.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/extension.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/contrib.py', 'libs/skyline-apiserver/skyline_apiserver/client/utils.py']",12,15dd92b71d81caadcc01c87d1532e9d6e80ed31a,," global_request_id: str = None, client = KeystoneClient( version=version, session=session, endpoint=endpoint, global_request_id=global_request_id, ) global_request_id: str = None, client = GlanceClient( version=version, session=session, endpoint=endpoint, global_request_id=global_request_id, ) global_request_id: str = None, client = NovaClient( version=version, session=session, endpoint=endpoint, global_request_id=global_request_id, ) global_request_id: str, client = CinderClient( version=version, session=session, endpoint=endpoint, global_request_id=global_request_id, ) global_request_id: str = None, client = NeutronClient( version=version, session=session, endpoint=endpoint, global_request_id=global_request_id, )"," client = KeystoneClient(version=version, session=session, endpoint=endpoint) client = GlanceClient(version=version, session=session, endpoint=endpoint) client = NovaClient(version=version, session=session, endpoint_override=endpoint) client = CinderClient(version=version, session=session, endpoint_override=endpoint)",237,41
openstack%2Fneutron~master~Id7040910953392982e051f41027cf16941a265d2,openstack/neutron,master,Id7040910953392982e051f41027cf16941a265d2,DNM This is just test of the Tobiko job,ABANDONED,2021-02-17 21:53:12.000000000,2021-08-25 09:18:08.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 21:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17da9fe5ede228b2a60982548b8fbc3c524b2cd8', 'message': 'DNM This is just test of the Tobiko job\n\nDepends-On: https://review.opendev.org/c/x/tobiko/+/776283\nChange-Id: Id7040910953392982e051f41027cf16941a265d2\n'}, {'number': 2, 'created': '2021-02-18 07:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffc16bab87967d9686b3f9b4ba18334774b655aa', 'message': 'DNM This is just test of the Tobiko job\n\nDepends-On: https://review.opendev.org/c/x/tobiko/+/776283\nChange-Id: Id7040910953392982e051f41027cf16941a265d2\n'}, {'number': 3, 'created': '2021-02-18 11:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a78458f46e95ab09f3f784f278e170d580daa0de', 'message': 'DNM This is just test of the Tobiko job\n\nDepends-On: https://review.opendev.org/c/x/tobiko/+/776283\nChange-Id: Id7040910953392982e051f41027cf16941a265d2\n'}, {'number': 4, 'created': '2021-02-19 11:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8385087762010b9c08bf996e62d71cb922fbabae', 'message': 'DNM This is just test of the Tobiko job\n\nDepends-On: https://review.opendev.org/c/x/tobiko/+/776283\nChange-Id: Id7040910953392982e051f41027cf16941a265d2\n'}, {'number': 5, 'created': '2021-02-19 14:34:39.000000000', 'files': ['zuul.d/project.yaml', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8e04444f651da56a758bc1ce80a565fbb1e1b3e', 'message': 'DNM This is just test of the Tobiko job\n\nDepends-On: https://review.opendev.org/c/x/tobiko/+/776283\nChange-Id: Id7040910953392982e051f41027cf16941a265d2\n'}]",0,776284,b8e04444f651da56a758bc1ce80a565fbb1e1b3e,37,2,5,11975,,,0,"DNM This is just test of the Tobiko job

Depends-On: https://review.opendev.org/c/x/tobiko/+/776283
Change-Id: Id7040910953392982e051f41027cf16941a265d2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/776284/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'neutron/agent/l3/ha.py']",2,17da9fe5ede228b2a60982548b8fbc3c524b2cd8,bug/1916022," LOG.debug(""SK; _update_transition_state; router_id: %s; "" ""new_state: %s"", router_id, new_state) LOG.debug(""SK; _update_transition_state; router_id: %s; "" ""transition_state: %s"", router_id, transition_state) LOG.debug(""SK; enqueue_state_change; router_id: %s; state: %s"", router_id, state) LOG.debug(""SK; _enqueue_state_change; current transition state is "" ""not the same as state: %s; Exiting"", state)",,9,64
openstack%2Ftripleo-common~stable%2Fwallaby~I946df38ada9b2197076963e6140653f85d7c2cbc,openstack/tripleo-common,stable/wallaby,I946df38ada9b2197076963e6140653f85d7c2cbc,Fix upload-artifacts and its installation,MERGED,2021-08-24 08:36:34.000000000,2021-08-25 09:15:25.000000000,2021-08-25 09:13:40.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-24 08:36:34.000000000', 'files': ['scripts/upload-artifacts', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b6a546df7f4bea2c817a898771963d62c312b965', 'message': 'Fix upload-artifacts and its installation\n\nFix the content of DeployArtifactFILEs in the generated\nenvironment file. The absolute path of the artifact is\nnow properly formatted, and the script correctly handles\nmultiple files passed in parameters.\n\nFix the installation of the script in setup.cfg.\n\nTested manually with multiple artifacts, and via\nupload-puppet-modules (single artifact).\n\nChange-Id: I946df38ada9b2197076963e6140653f85d7c2cbc\nCloses-Bug: #1933336\n(cherry picked from commit 7428219d9f6904970b9024680f1b0c331a26b36a)\n'}]",0,805760,b6a546df7f4bea2c817a898771963d62c312b965,11,4,1,20778,,,0,"Fix upload-artifacts and its installation

Fix the content of DeployArtifactFILEs in the generated
environment file. The absolute path of the artifact is
now properly formatted, and the script correctly handles
multiple files passed in parameters.

Fix the installation of the script in setup.cfg.

Tested manually with multiple artifacts, and via
upload-puppet-modules (single artifact).

Change-Id: I946df38ada9b2197076963e6140653f85d7c2cbc
Closes-Bug: #1933336
(cherry picked from commit 7428219d9f6904970b9024680f1b0c331a26b36a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/805760/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upload-artifacts', 'setup.cfg']",2,b6a546df7f4bea2c817a898771963d62c312b965,bug/1933336-stable/wallaby, scripts/upload-artifacts,,3,1
openstack%2Fneutron~master~Iede7e34e59a08aaddb6234700fba8018c23cbb59,openstack/neutron,master,Iede7e34e59a08aaddb6234700fba8018c23cbb59,DNM Test os-ken patch without tinyrpc,ABANDONED,2021-02-24 15:52:31.000000000,2021-08-25 09:12:30.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 15:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac70a43c26340941ec372b6b2b7b888815cf0e6a', 'message': 'DNM Test os-ken patch without tinyrpc\n\nDepends-On: https://review.opendev.org/c/openstack/os-ken/+/777410\nChange-Id: Iede7e34e59a08aaddb6234700fba8018c23cbb59\n'}, {'number': 2, 'created': '2021-03-01 22:33:37.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/006aff5aae0eb7bab182d02a778a8ce5b0f5ca48', 'message': 'DNM Test os-ken patch without tinyrpc\n\nDepends-On: https://review.opendev.org/c/openstack/os-ken/+/777410\nChange-Id: Iede7e34e59a08aaddb6234700fba8018c23cbb59\n'}]",0,777414,006aff5aae0eb7bab182d02a778a8ce5b0f5ca48,11,2,2,11975,,,0,"DNM Test os-ken patch without tinyrpc

Depends-On: https://review.opendev.org/c/openstack/os-ken/+/777410
Change-Id: Iede7e34e59a08aaddb6234700fba8018c23cbb59
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/777414/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ac70a43c26340941ec372b6b2b7b888815cf0e6a,story/2008648, - neutron-tempest-with-os-ken-master," templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-wallaby-jobs - openstack-python3-wallaby-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-wallaby-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-wallaby-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 - neutron-ovn-tempest-slow gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - openstack-tox-py36: # from openstack-python3-wallaby-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - neutron-ovn-tempest-slow #- neutron-ovn-rally-task #- neutron-ovn-tripleo-ci-centos-8-containers-multinode - neutron-tempest-with-os-ken-master",1,62
openstack%2Fansible-role-python_venv_build~stable%2Fvictoria~I7418d285ea052f67febee31038d92c772b72593b,openstack/ansible-role-python_venv_build,stable/victoria,I7418d285ea052f67febee31038d92c772b72593b,Improve speed of permissions changes,MERGED,2021-08-24 09:33:05.000000000,2021-08-25 09:12:02.000000000,2021-08-25 09:10:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-24 09:33:05.000000000', 'files': ['tasks/python_venv_wheel_build.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/b4bee91508bb7905233ed4d77c79281985946ec9', 'message': 'Improve speed of permissions changes\n\nThe previous patch was very slow given the number of files\nwhich required permissions changes. This targets the entire\ntemporary directory recursively.\n\nChange-Id: I7418d285ea052f67febee31038d92c772b72593b\n'}]",0,805767,b4bee91508bb7905233ed4d77c79281985946ec9,12,3,1,28619,,,0,"Improve speed of permissions changes

The previous patch was very slow given the number of files
which required permissions changes. This targets the entire
temporary directory recursively.

Change-Id: I7418d285ea052f67febee31038d92c772b72593b
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/67/805767/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/python_venv_wheel_build.yml'],1,b4bee91508bb7905233ed4d77c79281985946ec9,," path: ""/tmp/{{ venv_install_destination_path | basename }}"" state: directory recurse: yes"," path: ""{{ item['path'] }}"" with_items: ""{{ _built_wheels['files'] }}""",3,2
openstack%2Fskyline-console~master~I36d70c9421b1df26a379d692490a64f82654ea12,openstack/skyline-console,master,I36d70c9421b1df26a379d692490a64f82654ea12,fix: Fix notify with promise reject,MERGED,2021-08-25 08:40:21.000000000,2021-08-25 09:03:47.000000000,2021-08-25 09:03:47.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 08:40:21.000000000', 'files': ['src/containers/List/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/libs/axios.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8788c7a2e54d4ca59fee8a6a1188d6a2f672c2c9', 'message': 'fix: Fix notify with promise reject\n\n1. Fix notify with promise reject\n2. Fix constants module import\n\nChange-Id: I36d70c9421b1df26a379d692490a64f82654ea12\n'}]",0,805970,8788c7a2e54d4ca59fee8a6a1188d6a2f672c2c9,6,2,1,30434,,,0,"fix: Fix notify with promise reject

1. Fix notify with promise reject
2. Fix constants module import

Change-Id: I36d70c9421b1df26a379d692490a64f82654ea12
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/70/805970/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/containers/List/index.jsx', 'src/containers/TabDetail/index.jsx', 'src/libs/axios.js']",3,8788c7a2e54d4ca59fee8a6a1188d6a2f672c2c9,master2,import { getOpenstackApiVersion } from 'client/client/constants';,import { getOpenstackApiVersion } from 'utils/constants';,3,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f,openstack/tripleo-heat-templates,stable/wallaby,I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f,Nova: Remove useless authtoken hieradata from computes,MERGED,2021-07-28 06:08:35.000000000,2021-08-25 09:03:39.000000000,2021-08-25 09:03:39.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-28 06:08:35.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8a43bfce6310f9bbc6951614b18d388806da87d', 'message': 'Nova: Remove useless authtoken hieradata from computes\n\nThe change e677aeacd706674762751f8b530ad08d6d925910 added authtoken\nparameters to nova-compute because nova::metadata was added to\nthe compute class, but that inclusion was removed later by another\ncommit 287b1b6ce77fe143d781ccd1b900c3bdbe6ada87 .\n\nDepends-on: https://review.opendev.org/762415\nChange-Id: I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f\n(cherry picked from commit fcac503da3fd293542316096a5049051d8d0839f)\n'}]",0,802467,e8a43bfce6310f9bbc6951614b18d388806da87d,13,7,1,17216,,,0,"Nova: Remove useless authtoken hieradata from computes

The change e677aeacd706674762751f8b530ad08d6d925910 added authtoken
parameters to nova-compute because nova::metadata was added to
the compute class, but that inclusion was removed later by another
commit 287b1b6ce77fe143d781ccd1b900c3bdbe6ada87 .

Depends-on: https://review.opendev.org/762415
Change-Id: I73978fcf2e4261d9ab2b1ceaee8bc0dd2b1ae10f
(cherry picked from commit fcac503da3fd293542316096a5049051d8d0839f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/802467/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,e8a43bfce6310f9bbc6951614b18d388806da87d,compute-at-stable/wallaby,," NovaPassword: description: The password for the nova service and db account type: string hidden: true nova::keystone::authtoken::project_name: 'service' nova::keystone::authtoken::user_domain_name: 'Default' nova::keystone::authtoken::project_domain_name: 'Default' nova::keystone::authtoken::password: {get_param: NovaPassword} nova::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} nova::keystone::authtoken::region_name: {get_param: KeystoneRegion} nova::keystone::authtoken::interface: 'internal'",0,12
openstack%2Fglance-specs~master~Id20e473507fd1f7babd1be7dce9d465b6f422f76,openstack/glance-specs,master,Id20e473507fd1f7babd1be7dce9d465b6f422f76,Remove SQLAlchemy-Migrate,ABANDONED,2020-10-29 16:54:03.000000000,2021-08-25 09:02:34.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-29 16:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/3f508e0ee908ec7419ebd7fe9f5f87736268b017', 'message': 'Remove SQLAlchemy-Migrate\n\nChange-Id: Id20e473507fd1f7babd1be7dce9d465b6f422f76\nImplements: blueprint remove-sqlalchemy-migrate\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-11-06 17:57:22.000000000', 'files': ['specs/wallaby/approved/glance/remove-sqlalchemy-migrate.rst', 'specs/wallaby/approved/index.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/f648bf3019792fb8b90018108a45687affa00392', 'message': 'Remove SQLAlchemy-Migrate\n\nChange-Id: Id20e473507fd1f7babd1be7dce9d465b6f422f76\nImplements: blueprint remove-sqlalchemy-migrate\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,760406,f648bf3019792fb8b90018108a45687affa00392,6,2,2,15334,,,0,"Remove SQLAlchemy-Migrate

Change-Id: Id20e473507fd1f7babd1be7dce9d465b6f422f76
Implements: blueprint remove-sqlalchemy-migrate
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/06/760406/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/glance/remove-sqlalchemy-migrate.rst'],1,3f508e0ee908ec7419ebd7fe9f5f87736268b017,bp/remove-sqlalchemy-migrate,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Spec Lite: Remove sqlalchemy-migrate ==================================== .. Mandatory sections :project: glance :problem: `sqlalchemy-migrate` is dead and has been replaced since Ocata. Its removal is overdue. :solution: Remove all handling code for deployments versioned with `sqlalchemy-migrate` along with the migrations for same. :impacts: UpgradeImpact; deployers on Newton or earlier will need to upgrade to a pre-Wallaby version and run DB migrations before upgrading to Wallaby or later. :assignee: stephenfin ,,26,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I5b8c71793476dd7673015928254d8fa8b499351d,openstack/tripleo-heat-templates,stable/wallaby,I5b8c71793476dd7673015928254d8fa8b499351d,Enable debug of memcached when Debug is enabled,MERGED,2021-08-22 03:54:25.000000000,2021-08-25 08:55:15.000000000,2021-08-25 08:55:15.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-22 03:54:25.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a975b1167ddeae5ac47f631c0464ecca5c1de6b4', 'message': 'Enable debug of memcached when Debug is enabled\n\nThis restores the previous behavior changed by recent refactoring about\nthe *Debug parameters, and ensures that the global Debug parameter also\naffects memcached logging.\n\nCloses-Bug: #1940303\nChange-Id: I5b8c71793476dd7673015928254d8fa8b499351d\n(cherry picked from commit 073e581e62b961ce1e4871e74c9717dd34673c8c)\n'}]",0,805516,a975b1167ddeae5ac47f631c0464ecca5c1de6b4,7,3,1,9816,,,0,"Enable debug of memcached when Debug is enabled

This restores the previous behavior changed by recent refactoring about
the *Debug parameters, and ensures that the global Debug parameter also
affects memcached logging.

Closes-Bug: #1940303
Change-Id: I5b8c71793476dd7673015928254d8fa8b499351d
(cherry picked from commit 073e581e62b961ce1e4871e74c9717dd34673c8c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/805516/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,a975b1167ddeae5ac47f631c0464ecca5c1de6b4,bug/1940303-stable/wallaby, memcached_debug: or: - {get_param: Debug} - {get_param: MemcachedDebug} - memcached_debug, service_debug: {get_param: MemcachedDebug} - service_debug,5,2
openstack%2Fneutron~master~Ibf61e8e87085830fa8bb2c55529bb7f64fdadf90,openstack/neutron,master,Ibf61e8e87085830fa8bb2c55529bb7f64fdadf90,DNM Just test of the nftables jobs,ABANDONED,2021-04-27 20:15:38.000000000,2021-08-25 08:44:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 20:15:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/82ce9e53c7eedf5a21072612c5966bd8c16e0967', 'message': 'DNM Just test of the nftables jobs\n\nChange-Id: Ibf61e8e87085830fa8bb2c55529bb7f64fdadf90\n'}]",0,788357,82ce9e53c7eedf5a21072612c5966bd8c16e0967,3,1,1,11975,,,0,"DNM Just test of the nftables jobs

Change-Id: Ibf61e8e87085830fa8bb2c55529bb7f64fdadf90
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/788357/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,82ce9e53c7eedf5a21072612c5966bd8c16e0967,bug/1926313,," templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 - neutron-ovn-tempest-slow gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-tempest-multinode-full-py3 - neutron-grenade-multinode # TODO(slaweq): make that job gating when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed # - neutron-grenade-dvr-multinode - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - neutron-ovn-tempest-slow #- neutron-ovn-rally-task #- neutron-ovn-tripleo-ci-centos-8-containers-multinode experimental: jobs: - neutron-grenade-ovn - neutron-tempest-with-uwsgi-loki - neutron-ovn-tempest-full-multinode-ovs-master - neutron-ovn-tempest-ovs-master - neutron-tempest-with-neutron-lib-master periodic: jobs: - neutron-functional - neutron-fullstack - neutron-tempest-postgres-full - neutron-tempest-mariadb-full - neutron-tempest-with-os-ken-master - neutron-ovn-tempest-ovs-master-fedora - devstack-tobiko-faults-centos: voting: true - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - openstacksdk-functional-devstack-networking - tripleo-ci-centos-8-content-provider - neutron-centos-8-tripleo-standalone: voting: true vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-8-content-provider - neutron-ovn-tripleo-ci-centos-8-containers-multinode: vars: *consumer_vars dependencies: *consumer_deps",0,102
openstack%2Fopenstack-tempest-skiplist~master~I2a6688df8d708fbc20157cb026be37ef34edeacd,openstack/openstack-tempest-skiplist,master,I2a6688df8d708fbc20157cb026be37ef34edeacd,"DNM Revert ""Move TrafficOperationsScenarioTest to skip list""",ABANDONED,2021-05-17 09:22:20.000000000,2021-08-25 08:44:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-17 09:22:20.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/f3cbd38f54c40240bdd3f11b46539854136e55f7', 'message': 'DNM Revert ""Move TrafficOperationsScenarioTest to skip list""\n\nThis kind of reverts commit c5f857606cd0311511838c5b4cb8ffb270ec0aac\nwhich was done in the openstack/tripleo-quickstart-extra repository.\n\nReason for revert: Test if\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/790204 helps to\nsolve that issue as Brian mentioned in the card\'s comment.\n\nChange-Id: I2a6688df8d708fbc20157cb026be37ef34edeacd\n'}]",0,791699,f3cbd38f54c40240bdd3f11b46539854136e55f7,3,1,1,11975,,,0,"DNM Revert ""Move TrafficOperationsScenarioTest to skip list""

This kind of reverts commit c5f857606cd0311511838c5b4cb8ffb270ec0aac
which was done in the openstack/tripleo-quickstart-extra repository.

Reason for revert: Test if
https://review.opendev.org/c/openstack/tripleo-ansible/+/790204 helps to
solve that issue as Brian mentioned in the card's comment.

Change-Id: I2a6688df8d708fbc20157cb026be37ef34edeacd
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/99/791699/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,f3cbd38f54c40240bdd3f11b46539854136e55f7,octaviaskip,, - periodic-tripleo-ci-centos-8-scenario010-standalone-victoria - periodic-tripleo-ci-centos-8-scenario010-standalone-master,0,2
openstack%2Ftripleo-quickstart-extras~master~I982d3baae7166425d5910bc0e4b7ca03afd044ee,openstack/tripleo-quickstart-extras,master,I982d3baae7166425d5910bc0e4b7ca03afd044ee,"DNM Revert ""Move TrafficOperationsScenarioTest to skip list""",ABANDONED,2021-05-17 07:27:57.000000000,2021-08-25 08:42:08.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-05-17 07:27:57.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml', 'roles/validate-tempest/vars/tempest_skip_train.yml', 'roles/validate-tempest/vars/tempest_skip_ussuri.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1ae826391ab2a52cc1eb4a7ac5ad71d0753adce9', 'message': 'DNM Revert ""Move TrafficOperationsScenarioTest to skip list""\n\nThis reverts commit c5f857606cd0311511838c5b4cb8ffb270ec0aac.\n\nReason for revert: Test if https://review.opendev.org/c/openstack/tripleo-ansible/+/790204 helps to solve that issue as Brian mentioned in the card\'s comment.\n\nChange-Id: I982d3baae7166425d5910bc0e4b7ca03afd044ee\n'}]",0,791580,1ae826391ab2a52cc1eb4a7ac5ad71d0753adce9,10,10,1,11975,,,0,"DNM Revert ""Move TrafficOperationsScenarioTest to skip list""

This reverts commit c5f857606cd0311511838c5b4cb8ffb270ec0aac.

Reason for revert: Test if https://review.opendev.org/c/openstack/tripleo-ansible/+/790204 helps to solve that issue as Brian mentioned in the card's comment.

Change-Id: I982d3baae7166425d5910bc0e4b7ca03afd044ee
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/80/791580/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/vars/tempest_skip_master.yml', 'roles/validate-tempest/vars/tempest_skip_train.yml', 'roles/validate-tempest/vars/tempest_skip_ussuri.yml']",3,1ae826391ab2a52cc1eb4a7ac5ad71d0753adce9,octaviaskip,, - test: 'octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops.TrafficOperationsScenarioTest' reason: 'Connection to the 192.168.24.149 via SSH timed out.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1883687',0,9
openstack%2Fneutron-vpnaas~stable%2Ftrain~Ia117cf55cf07fc599c5a9251a49032b30a40c312,openstack/neutron-vpnaas,stable/train,Ia117cf55cf07fc599c5a9251a49032b30a40c312,DNM: test CI health,ABANDONED,2020-08-13 12:50:14.000000000,2021-08-25 08:40:49.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 12:50:14.000000000', 'files': ['neutron_vpnaas/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/3c1debd5e96186400692055f9e762b1c1badb2e7', 'message': 'DNM: test CI health\n\nChange-Id: Ia117cf55cf07fc599c5a9251a49032b30a40c312\n'}]",0,746127,3c1debd5e96186400692055f9e762b1c1badb2e7,8,2,1,17685,,,0,"DNM: test CI health

Change-Id: Ia117cf55cf07fc599c5a9251a49032b30a40c312
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/27/746127/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/opts.py'],1,3c1debd5e96186400692055f9e762b1c1badb2e7,do-not-merge," ('vpnagent', neutron_vpnaas.services.vpn.agent.vpn_agent_opts),"," ('vpnagent', neutron_vpnaas.services.vpn.agent.vpn_agent_opts),",2,2
openstack%2Fnova~master~I3895b61b436b9bb882477d2d1b3f4907f03b3b1c,openstack/nova,master,I3895b61b436b9bb882477d2d1b3f4907f03b3b1c,fup: Remove unused legacy block_device_info format,MERGED,2021-08-11 17:42:53.000000000,2021-08-25 08:39:25.000000000,2021-08-25 02:25:41.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23871}]","[{'number': 1, 'created': '2021-08-11 17:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18e5cc3c4e3c2ad928f9697841764d33fd6bbd27', 'message': ""WIP fup: Remove unused legacy block_device_info format\n\nWIP as this needs something on the ML for out of tree drivers before we\ncan delete it and I'm also sure I've missed something in the tests.\n\nChange-Id: I3895b61b436b9bb882477d2d1b3f4907f03b3b1c\n""}, {'number': 2, 'created': '2021-08-11 18:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1025cfdc3805e2b927242595243bb5929ce4f06e', 'message': ""WIP fup: Remove unused legacy block_device_info format\n\nWIP as this needs something on the ML for out of tree drivers before we\ncan delete it and I'm also sure I've missed something in the tests.\n\nChange-Id: I3895b61b436b9bb882477d2d1b3f4907f03b3b1c\n""}, {'number': 3, 'created': '2021-08-12 08:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74e70f5fcc5f904d02192397269222932b903dd3', 'message': 'fup: Remove unused legacy block_device_info format\n\nAs announced on the ML [1] this change removes the now unused legacy format\nfrom the codebase and updates the reference docs.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-August/024116.html\n\nChange-Id: I3895b61b436b9bb882477d2d1b3f4907f03b3b1c\n'}, {'number': 4, 'created': '2021-08-20 12:30:25.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'doc/source/reference/block-device-structs.rst', 'nova/tests/unit/test_block_device.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/virt/vmwareapi/driver.py', 'nova/block_device.py', 'nova/compute/manager.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b11e3f1d0da238543cb8a3b6c3e00c6b98e99910', 'message': 'fup: Remove unused legacy block_device_info format\n\nAs announced on the ML [1] this change removes the now unused legacy format\nfrom the codebase and updates the reference docs.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-August/024116.html\n\nChange-Id: I3895b61b436b9bb882477d2d1b3f4907f03b3b1c\n'}]",4,804286,b11e3f1d0da238543cb8a3b6c3e00c6b98e99910,57,5,4,10135,,,0,"fup: Remove unused legacy block_device_info format

As announced on the ML [1] this change removes the now unused legacy format
from the codebase and updates the reference docs.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-August/024116.html

Change-Id: I3895b61b436b9bb882477d2d1b3f4907f03b3b1c
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/804286/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/block_device.py']",11,18e5cc3c4e3c2ad928f9697841764d33fd6bbd27,,,"def legacy_block_devices(block_device_mapping): bdms = [bdm.legacy() for bdm in block_device_mapping] # Re-enumerate ephemeral devices if all(isinstance(bdm, DriverEphemeralBlockDevice) for bdm in block_device_mapping): for i, dev in enumerate(bdms): dev['virtual_name'] = dev['virtual_name'][:-1] + str(i) dev['num'] = i return bdms ",0,130
openstack%2Fheat~stable%2Fussuri~I6a2b5afa13480791971bbd8bba1f43b9f2db8294,openstack/heat,stable/ussuri,I6a2b5afa13480791971bbd8bba1f43b9f2db8294,Use Block Storage API v3 instead of API v2,ABANDONED,2021-08-25 03:51:53.000000000,2021-08-25 08:39:14.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-25 03:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e31d80cb7891e1891983fc808b33539b6af4ca42', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)\n'}, {'number': 2, 'created': '2021-08-25 04:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/551523d831713ed78bb9ab0a75933cc6062cd8e8', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)\n'}, {'number': 3, 'created': '2021-08-25 06:16:58.000000000', 'files': ['heat/tests/openstack/cinder/test_volume.py', 'heat_integrationtests/common/test.py', '.zuul.yaml', 'heat/tests/openstack/cinder/test_volume_type.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'heat_integrationtests/common/clients.py', 'heat/tests/clients/test_cinder_client.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/73fd4f950d08bbdfb313ae0a9414f3fa69097321', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)\n'}]",1,805892,73fd4f950d08bbdfb313ae0a9414f3fa69097321,8,3,3,30073,,,0,"Use Block Storage API v3 instead of API v2

Block Storage API v2 was deprecated during Pike cycle and is being
removed during Xena cycle, and current v3 API should be used instead.
Unused volume_client and network_client in integration test code are
also removed by this change.

Note:
granade tests is made non-voting temporally until the same issue is
fixed in stable/victoria.

Depends-on: https://review.opendev.org/802150/
Change-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294
(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)
(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)
",git fetch https://review.opendev.org/openstack/heat refs/changes/92/805892/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/cinder/test_volume.py', 'heat_integrationtests/common/test.py', '.zuul.yaml', 'heat/tests/openstack/cinder/test_volume_type.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'heat_integrationtests/common/clients.py', 'heat/tests/clients/test_cinder_client.py']",7,e31d80cb7891e1891983fc808b33539b6af4ca42,volumev2-removal-stable/wallaby-stable/ussuri,," def test_cinder_api_v2(self): ctx = utils.dummy_context() self.patchobject(ctx.keystone_session, 'get_endpoint', side_effect=[ks_exceptions.EndpointNotFound, None]) client = ctx.clients.client('cinder') self.assertEqual('2.0', client.version) ",21,43
openstack%2Fneutron~master~I22d8851e9a2003ffb9526b87b39f20f8f8b0aa78,openstack/neutron,master,I22d8851e9a2003ffb9526b87b39f20f8f8b0aa78,DNM It's just test of the neutron-lib patch,ABANDONED,2021-08-17 21:06:37.000000000,2021-08-25 08:39:09.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 21:06:37.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/11afbc0c4b91c432c0ca3c2d489f622441287711', 'message': ""DNM It's just test of the neutron-lib patch\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/804894\n\nRelated-bug: #1940224\nChange-Id: I22d8851e9a2003ffb9526b87b39f20f8f8b0aa78\n""}]",0,804919,11afbc0c4b91c432c0ca3c2d489f622441287711,10,2,1,11975,,,0,"DNM It's just test of the neutron-lib patch

Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/804894

Related-bug: #1940224
Change-Id: I22d8851e9a2003ffb9526b87b39f20f8f8b0aa78
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/804919/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,11afbc0c4b91c432c0ca3c2d489f622441287711,bug/1940224,- project: - openstack-tox-py36-with-neutron-lib-master,"# NOTE: In doc/source/contributor/testing/ci_scenario_jobs.rst file there is # document with summary of all tempest, neutron-tempest-plugin and grenade jobs # summary. # Please update this document always when any changes to jobs are made. - project: templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-rally-task - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovs-tempest-slow - neutron-ovn-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 - neutron-ovn-tempest-slow gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-tempest-multinode-full - neutron-ovs-grenade-multinode # TODO(slaweq): make that job gating when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed # - neutron-ovs-grenade-dvr-multinode - neutron-ovs-tempest-slow - neutron-ovn-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - neutron-ovn-tempest-slow #- neutron-ovn-rally-task #- neutron-ovn-tripleo-ci-centos-8-containers-multinode experimental: jobs: - neutron-ovn-grenade-multinode - neutron-ovn-tempest-with-uwsgi-loki - neutron-ovn-tempest-full-multinode-ovs-master - neutron-ovn-tempest-ovs-master - neutron-ovn-tempest-with-neutron-lib-master periodic: jobs: - neutron-functional - neutron-fullstack - neutron-ovn-tempest-postgres-full - neutron-ovn-tempest-mariadb-full - neutron-ovs-tempest-with-os-ken-master - neutron-ovn-tempest-ovs-master-fedora - neutron-ovn-tempest-with-neutron-lib-master - devstack-tobiko-faults-centos: voting: true - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - openstacksdk-functional-devstack-networking - tripleo-ci-centos-8-content-provider - neutron-centos-8-tripleo-standalone: voting: true vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-8-content-provider - neutron-ovn-tripleo-ci-centos-8-containers-multinode: vars: *consumer_vars dependencies: *consumer_deps - neutron-linuxbridge-tempest-plugin-scenario-nftables - neutron-ovs-tempest-plugin-scenario-iptables_hybrid-nftables",1,109
openstack%2Fopenstack-ansible-galera_server~master~Id0146f381378a1379292d1a5eca86bc3e4cd4e5c,openstack/openstack-ansible-galera_server,master,Id0146f381378a1379292d1a5eca86bc3e4cd4e5c,"Revert ""Update galera to 10.6.4""",MERGED,2021-08-24 15:10:29.000000000,2021-08-25 08:37:41.000000000,2021-08-25 08:36:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-24 15:10:29.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/4b66580dadea0a45419095c0a488399d0a3d7125', 'message': 'Revert ""Update galera to 10.6.4""\n\nThis reverts commit 88b6fd10f5ab238de8e8c3ec5e68bc8ea69f685b.\n\nReason for revert: Upgrade seems to fail on Focal\n\nChange-Id: Id0146f381378a1379292d1a5eca86bc3e4cd4e5c\n'}]",0,805822,4b66580dadea0a45419095c0a488399d0a3d7125,10,3,1,25023,,,0,"Revert ""Update galera to 10.6.4""

This reverts commit 88b6fd10f5ab238de8e8c3ec5e68bc8ea69f685b.

Reason for revert: Upgrade seems to fail on Focal

Change-Id: Id0146f381378a1379292d1a5eca86bc3e4cd4e5c
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/22/805822/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,4b66580dadea0a45419095c0a488399d0a3d7125,804370,galera_major_version: 10.5 galera_minor_version: 12,galera_major_version: 10.6 galera_minor_version: 4,2,2
openstack%2Fskyline-console~master~Ic04270e53e8a27d4d8f23b201848db4e43e9cc74,openstack/skyline-console,master,Ic04270e53e8a27d4d8f23b201848db4e43e9cc74,fix: Fix disabled user hint when login,MERGED,2021-08-25 08:18:47.000000000,2021-08-25 08:27:15.000000000,2021-08-25 08:27:15.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 08:18:47.000000000', 'files': ['src/locales/zh.json', 'src/pages/auth/containers/Login/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e915d13e4abc3965c50ee9554ef46471ae980c36', 'message': 'fix: Fix disabled user hint when login\n\n1. Fix disabled user hint when login\n2. Clear error message when login again\n\nChange-Id: Ic04270e53e8a27d4d8f23b201848db4e43e9cc74\n'}]",0,805965,e915d13e4abc3965c50ee9554ef46471ae980c36,6,2,1,30434,,,0,"fix: Fix disabled user hint when login

1. Fix disabled user hint when login
2. Clear error message when login again

Change-Id: Ic04270e53e8a27d4d8f23b201848db4e43e9cc74
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/65/805965/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/zh.json', 'src/pages/auth/containers/Login/index.jsx']",2,e915d13e4abc3965c50ee9554ef46471ae980c36,master2," message: '', error: false, detail.includes( )", detail.indexOf( ) >= 0,5,3
openstack%2Freleases~master~I13e99b6a194a4bbb6e58963caf695ef552e75cca,openstack/releases,master,I13e99b6a194a4bbb6e58963caf695ef552e75cca,Tag governance 0.10.0 for Aug 2021 elections,MERGED,2021-08-25 00:22:17.000000000,2021-08-25 08:20:07.000000000,2021-08-25 08:20:07.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-25 00:22:17.000000000', 'files': ['deliverables/_independent/openstack-governance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c6bc8375710a38ff2e2a77548c0b6333b44febc3', 'message': 'Tag governance 0.10.0 for Aug 2021 elections\n\nOpenStack Election system requires tagging on governance repos[1],\ntagging 0.10.0 for Aug 2021 elections.\n\nhash as per the Aug election email deadline is taken:\n2021-08-24\n\n[1] https://governance.openstack.org/election/#project-team-leads-election\n\nChange-Id: I13e99b6a194a4bbb6e58963caf695ef552e75cca\n'}]",0,805917,c6bc8375710a38ff2e2a77548c0b6333b44febc3,7,3,1,8556,,,0,"Tag governance 0.10.0 for Aug 2021 elections

OpenStack Election system requires tagging on governance repos[1],
tagging 0.10.0 for Aug 2021 elections.

hash as per the Aug election email deadline is taken:
2021-08-24

[1] https://governance.openstack.org/election/#project-team-leads-election

Change-Id: I13e99b6a194a4bbb6e58963caf695ef552e75cca
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/805917/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstack-governance.yaml'],1,c6bc8375710a38ff2e2a77548c0b6333b44febc3,, - version: 0.10.0 projects: - repo: openstack/governance hash: 922699aadeb7ca04a1a999a876c1e7288858f62b tarball-base: openstack-governance,,5,0
openstack%2Freleases~master~I044ea7a8cd9de0e6b467a8c1c751555cb4961569,openstack/releases,master,I044ea7a8cd9de0e6b467a8c1c751555cb4961569,Release final cliff for Xena,MERGED,2021-08-16 09:23:53.000000000,2021-08-25 08:08:43.000000000,2021-08-25 08:08:43.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:23:53.000000000', 'files': ['deliverables/xena/cliff.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b9365d394263e724b59c3e7a841fdcccf3a84789', 'message': 'Release final cliff for Xena\n\nThis proposed a release for cliff to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 3.8.0..734bc0c\n8fa916e Colourise and automatically page help output\n9b66f40 Update unit test to satisfy python3.10+\n392f3b2 Handle SIGPIPE exit gracefully\n452fff3 Add conflict_handler parameter as attribut in Command class\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I044ea7a8cd9de0e6b467a8c1c751555cb4961569\n'}]",0,804658,b9365d394263e724b59c3e7a841fdcccf3a84789,7,3,1,28522,,,0,"Release final cliff for Xena

This proposed a release for cliff to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 3.8.0..734bc0c
8fa916e Colourise and automatically page help output
9b66f40 Update unit test to satisfy python3.10+
392f3b2 Handle SIGPIPE exit gracefully
452fff3 Add conflict_handler parameter as attribut in Command class

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I044ea7a8cd9de0e6b467a8c1c751555cb4961569
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/804658/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/cliff.yaml'],1,b9365d394263e724b59c3e7a841fdcccf3a84789,xena-final-non-client-libs, - version: 3.9.0 projects: - repo: openstack/cliff hash: 734bc0c5da6915f10823a3124e08ba3ddbd4cc63,,4,0
openstack%2Fskyline-apiserver~master~I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f,openstack/skyline-apiserver,master,I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f,feature: Add ZUUL JOBs,MERGED,2021-08-24 02:59:41.000000000,2021-08-25 07:58:28.000000000,2021-08-25 07:58:28.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-08-24 02:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/e8c295f7f9e862ed7b75093c1b4a1ddca73cb475', 'message': 'feature: Add ZUUL JOBs\n\n1. functional test py38\n2. lint test\n\nChange-Id: I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f\n'}, {'number': 2, 'created': '2021-08-24 10:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/73fb3b5c3db91771e158cd9d0c274bb2a8bd6b4b', 'message': 'feature: Add ZUUL JOBs\n\n1. functional test py38\n2. lint test\n\nChange-Id: I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f\n'}, {'number': 3, 'created': '2021-08-24 10:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/df1ef7d650b0ddb33ee96bb5cad9ee8fce30eabd', 'message': 'feature: Add ZUUL JOBs\n\n1. functional test py38\n2. lint test\n\nChange-Id: I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f\n'}, {'number': 4, 'created': '2021-08-24 10:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ea128e6ba08b7b0cba50d3b7d4e40c8c59926827', 'message': 'feature: Add ZUUL JOBs\n\n1. functional test py38\n2. lint test\n\nChange-Id: I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f\n'}, {'number': 5, 'created': '2021-08-24 12:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ebe6703489c911f133601f2ae30672f072d55ef1', 'message': 'feature: Add ZUUL JOBs\n\n1. functional test py38\n2. lint test\n\nChange-Id: I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f\n'}, {'number': 6, 'created': '2021-08-25 02:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/8a2618113f6f9740fda669d611661f2f0cced47a', 'message': 'feature: Add ZUUL JOBs\n\n1. functional test py38\n2. lint test\n\nChange-Id: I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f\n'}, {'number': 7, 'created': '2021-08-25 03:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/c3e1855982a50062ae913a71eeb6b171144410c5', 'message': 'feature: Add ZUUL JOBs\n\n1. functional test py38\n2. lint test\n\nChange-Id: I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f\n'}, {'number': 8, 'created': '2021-08-25 07:01:50.000000000', 'files': ['bindep.txt', 'Makefile', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/08126209de3cfdb8b60bd074e00365717cde69e3', 'message': 'feature: Add ZUUL JOBs\n\n1. Add `skyline-tox-functional-py38` job to execute unit tests\n2. Add `skyline-tox-lint-py38` job to execute code static analysis\n\nChange-Id: I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f\n'}]",3,805775,08126209de3cfdb8b60bd074e00365717cde69e3,22,4,8,30906,,,0,"feature: Add ZUUL JOBs

1. Add `skyline-tox-functional-py38` job to execute unit tests
2. Add `skyline-tox-lint-py38` job to execute code static analysis

Change-Id: I6ee8e89e72b3769a2803f8dc2a7b7a434f16e16f
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/75/805775/8 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml', 'tox.ini']",3,e8c295f7f9e862ed7b75093c1b4a1ddca73cb475,,"[tox] minversion = 3.18.0 # python runtimes: https://governance.openstack.org/tc/reference/runtimes/ussuri.html envlist = functional-py38,lint # this allows tox to infer the base python from the environment name # and override any basepython configured in this file ignore_basepython_conflict=true [testenv] # Set default python version basepython = python3 whitelist_externals = poetry make install_command = pip install --user poetry make install [testenv:functional-py38] commands = make test [testenv:lint] commands = make lint ",,55,2
openstack%2Fskyline-console~master~I37a70414e835c8c187ce5edd858b83c2273d5ca8,openstack/skyline-console,master,I37a70414e835c8c187ce5edd858b83c2273d5ca8,fix: Update volume type hint when create volume by snapshot,MERGED,2021-08-25 07:40:28.000000000,2021-08-25 07:57:19.000000000,2021-08-25 07:57:19.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 07:40:28.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/resources/volume.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/components/FormItem/SelectTable/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d422bd59aa007ac91caf7f10dd24e2e4017ea59a', 'message': 'fix: Update volume type hint when create volume by snapshot\n\n1. Auto select correct volume type when change snapshot\n2. Show confirm modal when first change volume type used by snapshot\n\nChange-Id: I37a70414e835c8c187ce5edd858b83c2273d5ca8\n'}]",0,805956,d422bd59aa007ac91caf7f10dd24e2e4017ea59a,6,2,1,30434,,,0,"fix: Update volume type hint when create volume by snapshot

1. Auto select correct volume type when change snapshot
2. Show confirm modal when first change volume type used by snapshot

Change-Id: I37a70414e835c8c187ce5edd858b83c2273d5ca8
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/56/805956/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/resources/volume.jsx', 'src/pages/storage/containers/Volume/actions/Create/index.jsx', 'src/components/FormItem/SelectTable/index.jsx']",5,d422bd59aa007ac91caf7f10dd24e2e4017ea59a,master2," componentDidUpdate(prevProps, prevState) { if (!isEqual(prevProps.backendPageStore, this.props.backendPageStore)) { this.getData(); } const { selectedRowKeys: newKeys } = this.state; const { selectedRowKeys: oldKeys } = prevState; if (!isEqual(newKeys, oldKeys)) { this.onChange({ selectedRowKeys: newKeys }); } } getData() { this.setState({ selectedRowKeys: newKeys, selectedRows, }); this.setState({ selectedRowKeys: newKeys, selectedRows, });"," componentDidMount() { this.setState( { selectedRowKeys: newKeys, selectedRows, }, () => { this.onChange({ selectedRowKeys: newKeys }); } ); this.setState( { selectedRowKeys: newKeys, selectedRows, }, () => { this.onChange({ selectedRowKeys: newKeys }); } );",110,35
openstack%2Freleases~master~I5b43120f291a14e0c37f8fcb9199947399f6e5f5,openstack/releases,master,I5b43120f291a14e0c37f8fcb9199947399f6e5f5,Release final osc-lib for Xena,MERGED,2021-08-16 09:46:53.000000000,2021-08-25 07:37:27.000000000,2021-08-25 07:37:27.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:46:53.000000000', 'files': ['deliverables/xena/osc-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/39bed8c55d5e83b26885a776cf2aa063a06a5d29', 'message': 'Release final osc-lib for Xena\n\nThis proposed a release for osc-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.4.1..415a6c7\n4c3d3a0 Moving IRC network reference to OFTC\ne3f58c1 Correct the tox option for skipping sdist generation\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I5b43120f291a14e0c37f8fcb9199947399f6e5f5\n'}]",0,804674,39bed8c55d5e83b26885a776cf2aa063a06a5d29,7,3,1,28522,,,0,"Release final osc-lib for Xena

This proposed a release for osc-lib to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.4.1..415a6c7
4c3d3a0 Moving IRC network reference to OFTC
e3f58c1 Correct the tox option for skipping sdist generation

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I5b43120f291a14e0c37f8fcb9199947399f6e5f5
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/804674/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/osc-lib.yaml'],1,39bed8c55d5e83b26885a776cf2aa063a06a5d29,xena-final-non-client-libs, - version: 2.4.2 projects: - repo: openstack/osc-lib hash: 415a6c7b191ac665fb7763d12d1b427b7b630586,,4,0
openstack%2Freleases~master~Ie8592c03aaf4b82f9159333b222cd78c23a430c1,openstack/releases,master,Ie8592c03aaf4b82f9159333b222cd78c23a430c1,Release final mistral-lib for Xena,MERGED,2021-08-16 09:33:29.000000000,2021-08-25 07:37:25.000000000,2021-08-25 07:37:25.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:33:29.000000000', 'files': ['deliverables/xena/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/810e368f2848d3b2ecd7f13ed3cda1a8bbadb695', 'message': 'Release final mistral-lib for Xena\n\nThis proposed a release for mistral-lib to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 2.4.0..44c33f2\n44c33f2 [community goal] Update contributor documentation\n2068c9c setup.cfg: Replace dashes with underscores\nb49b6e4 Use py3 as the default runtime for tox\n83b2d7e Dropping lower constraints testing\nadb30bd Update master for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ie8592c03aaf4b82f9159333b222cd78c23a430c1\n'}]",0,804664,810e368f2848d3b2ecd7f13ed3cda1a8bbadb695,7,3,1,28522,,,0,"Release final mistral-lib for Xena

This proposed a release for mistral-lib to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 2.4.0..44c33f2
44c33f2 [community goal] Update contributor documentation
2068c9c setup.cfg: Replace dashes with underscores
b49b6e4 Use py3 as the default runtime for tox
83b2d7e Dropping lower constraints testing
adb30bd Update master for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ie8592c03aaf4b82f9159333b222cd78c23a430c1
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/804664/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/mistral-lib.yaml'],1,810e368f2848d3b2ecd7f13ed3cda1a8bbadb695,xena-final-non-client-libs,releases: - version: 2.5.0 projects: - repo: openstack/mistral-lib hash: 44c33f2ccd8b059f68db59114c71ba95dfae574d,,5,0
openstack%2Freleases~master~I0c05c2e22a360cfe8be3bfa4cd986fb36b3ed1cd,openstack/releases,master,I0c05c2e22a360cfe8be3bfa4cd986fb36b3ed1cd,Release final mistral-extra for Xena,MERGED,2021-08-16 09:32:55.000000000,2021-08-25 07:34:24.000000000,2021-08-25 07:34:24.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 09:32:55.000000000', 'files': ['deliverables/xena/mistral-extra.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a9bd42dec57a4c22dcce5bce7201d2c5b354e791', 'message': 'Release final mistral-extra for Xena\n\nThis proposed a release for mistral-extra to get any final merged changes\nout prior to the lib freeze for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, August 23.\n\n$ git log --oneline --no-merges 11.0.0..acd70be\nacd70be [community goal] Update contributor documentation\n1b36297 Fix hacking version\nf1d24ea Update master for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I0c05c2e22a360cfe8be3bfa4cd986fb36b3ed1cd\n'}]",0,804663,a9bd42dec57a4c22dcce5bce7201d2c5b354e791,7,3,1,28522,,,0,"Release final mistral-extra for Xena

This proposed a release for mistral-extra to get any final merged changes
out prior to the lib freeze for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, August 23.

$ git log --oneline --no-merges 11.0.0..acd70be
acd70be [community goal] Update contributor documentation
1b36297 Fix hacking version
f1d24ea Update master for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I0c05c2e22a360cfe8be3bfa4cd986fb36b3ed1cd
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/804663/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/mistral-extra.yaml'],1,a9bd42dec57a4c22dcce5bce7201d2c5b354e791,xena-final-non-client-libs,releases: - version: 11.1.0 projects: - repo: openstack/mistral-extra hash: acd70beba1bdf7189291a6a1a65ce45393ecac6d,,5,0
openstack%2Fmanila-ui~master~Ie186cd071b45f37988384d6486dbe9b78520614c,openstack/manila-ui,master,Ie186cd071b45f37988384d6486dbe9b78520614c,fix get share access rules failed,ABANDONED,2021-08-12 06:55:22.000000000,2021-08-25 07:23:57.000000000,,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-08-12 06:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/7f3ee6bee1d6c5ace00f2e2c9697782efaa41984', 'message': 'fix get share access rules failed\n\nin manila-ui, when we want to get share detail.\nit will try to get share access rules.\n\n/v2/shares/{share_id}/action\nList access rules (DEPRECATED)\n\nThis API is deprecated starting with microversion 2.45 and requests to\nthis API will fail with a 404 starting from microversion 2.45.Use List\nshare access rules API instead of this API from version 2.45.\n\n/v2/share-access-rules?share_id={share-id}\nList share access rules\n\nChange-Id: Ie186cd071b45f37988384d6486dbe9b78520614c\n'}, {'number': 2, 'created': '2021-08-12 06:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/2077716958fda003b9459988f862367bb8e71cbf', 'message': 'fix get share access rules failed\n\nin manila-ui, when we want to get share detail.\nit will try to get share access rules.\n\n/v2/shares/{share_id}/action\nList access rules (DEPRECATED)\n\nThis API is deprecated starting with microversion 2.45 and requests to\nthis API will fail with a 404 starting from microversion 2.45.Use List\nshare access rules API instead of this API from version 2.45.\n\n/v2/share-access-rules?share_id={share-id}\nList share access rules\n\nCloses-Bug: #1922541\nChange-Id: Ie186cd071b45f37988384d6486dbe9b78520614c\n'}, {'number': 3, 'created': '2021-08-12 08:25:54.000000000', 'files': ['manila_ui/api/manila.py', 'manila_ui/tests/api/test_manila.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b8b9cb3cdaf489b93b769fe0b10b6cc3731bbe0c', 'message': 'fix get share access rules failed\n\nin manila-ui, when we want to get share detail.\nit will try to get share access rules.\n\n/v2/shares/{share_id}/action\nList access rules (DEPRECATED)\n\nThis API is deprecated starting with microversion 2.45 and requests to\nthis API will fail with a 404 starting from microversion 2.45.Use List\nshare access rules API instead of this API from version 2.45.\n\n/v2/share-access-rules?share_id={share-id}\nList share access rules\n\nChange-Id: Ie186cd071b45f37988384d6486dbe9b78520614c\n'}]",0,804355,b8b9cb3cdaf489b93b769fe0b10b6cc3731bbe0c,9,5,3,30407,,,0,"fix get share access rules failed

in manila-ui, when we want to get share detail.
it will try to get share access rules.

/v2/shares/{share_id}/action
List access rules (DEPRECATED)

This API is deprecated starting with microversion 2.45 and requests to
this API will fail with a 404 starting from microversion 2.45.Use List
share access rules API instead of this API from version 2.45.

/v2/share-access-rules?share_id={share-id}
List share access rules

Change-Id: Ie186cd071b45f37988384d6486dbe9b78520614c
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/55/804355/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/api/manila.py'],1,7f3ee6bee1d6c5ace00f2e2c9697782efaa41984,bug/1922541, return manilaclient(request).share_access_rules.access_list(share_id), return manilaclient(request).shares.access_list(share_id),1,1
openstack%2Fzaqar~master~Ife5fd39ccfaeaf5c27176410693f8e4e59cabe17,openstack/zaqar,master,Ife5fd39ccfaeaf5c27176410693f8e4e59cabe17,requirements: Drop os-testr,MERGED,2020-10-14 02:53:59.000000000,2021-08-25 07:04:10.000000000,2021-08-25 07:02:13.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-10-14 02:53:59.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/6296321b7867265c5a46b0f70119f140e07a10ef', 'message': 'requirements: Drop os-testr\n\nDrop os-testr switched to stestr\n\nChange-Id: Ife5fd39ccfaeaf5c27176410693f8e4e59cabe17\n'}]",0,757989,6296321b7867265c5a46b0f70119f140e07a10ef,8,3,1,32238,,,0,"requirements: Drop os-testr

Drop os-testr switched to stestr

Change-Id: Ife5fd39ccfaeaf5c27176410693f8e4e59cabe17
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/89/757989/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,6296321b7867265c5a46b0f70119f140e07a10ef,,,os-testr==1.0.0,0,1
openstack%2Fskyline-console~master~Ie1e88b2749399dbe0291d739e18a25aaaf0faaac,openstack/skyline-console,master,Ie1e88b2749399dbe0291d739e18a25aaaf0faaac,fix: Fix action hint without name,MERGED,2021-08-25 05:36:39.000000000,2021-08-25 06:59:18.000000000,2021-08-25 06:59:18.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 05:36:39.000000000', 'files': ['src/pages/compute/containers/BareMetalNode/Detail/PortGroup/actions/Delete.jsx', 'src/containers/Action/ConfirmAction/index.jsx', 'src/containers/Action/ModalAction/index.jsx', 'src/pages/compute/containers/BareMetalNode/actions/Delete.jsx', 'src/pages/configuration/containers/Setting/actions/Reset.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/actions/Delete.jsx', 'src/components/Form/index.jsx', 'src/pages/compute/containers/Hypervisors/ComputeHost/actions/Enable.jsx', 'src/locales/en.json', 'src/components/StepForm/index.jsx', 'src/pages/network/containers/Router/StaticRouter/actions/Delete.jsx', 'src/pages/compute/containers/BareMetalNode/actions/PowerOn.jsx', 'src/pages/configuration/containers/SystemInfo/CinderService/actions/Enable.jsx', 'src/pages/network/containers/FloatingIp/actions/Release.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/actions/Delete.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/actions/Enable.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/FixedIPs/actions/ReleaseIP.jsx', 'src/locales/zh.json', 'src/pages/compute/containers/BareMetalNode/actions/PowerOff.jsx', 'src/pages/compute/containers/BareMetalNode/actions/ClearMaintenance.jsx', 'src/pages/compute/containers/BareMetalNode/Detail/Port/actions/Delete.jsx', 'src/pages/network/containers/FloatingIp/actions/Disassociate.js', 'src/pages/configuration/containers/SystemInfo/ComputeService/actions/Enable.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/actions/Disable.jsx', 'src/pages/storage/containers/Volume/actions/Delete.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/AllowedAddressPair/actions/Delete.jsx', 'src/pages/compute/containers/BareMetalNode/actions/Inspect.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Delete.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Detach.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f1c3df26a48a98449f225563f81440df111e9a33', 'message': 'fix: Fix action hint without name\n\nFix action hint without name\n\nChange-Id: Ie1e88b2749399dbe0291d739e18a25aaaf0faaac\n'}]",0,805943,f1c3df26a48a98449f225563f81440df111e9a33,6,2,1,30434,,,0,"fix: Fix action hint without name

Fix action hint without name

Change-Id: Ie1e88b2749399dbe0291d739e18a25aaaf0faaac
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/43/805943/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/BareMetalNode/Detail/PortGroup/actions/Delete.jsx', 'src/containers/Action/ConfirmAction/index.jsx', 'src/containers/Action/ModalAction/index.jsx', 'src/pages/compute/containers/BareMetalNode/actions/Delete.jsx', 'src/pages/configuration/containers/Setting/actions/Reset.jsx', 'src/pages/network/containers/FloatingIp/Detail/PortForwarding/actions/Delete.jsx', 'src/components/Form/index.jsx', 'src/pages/compute/containers/Hypervisors/ComputeHost/actions/Enable.jsx', 'src/locales/en.json', 'src/components/StepForm/index.jsx', 'src/pages/network/containers/Router/StaticRouter/actions/Delete.jsx', 'src/pages/compute/containers/BareMetalNode/actions/PowerOn.jsx', 'src/pages/configuration/containers/SystemInfo/CinderService/actions/Enable.jsx', 'src/pages/network/containers/FloatingIp/actions/Release.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/actions/Delete.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/actions/Enable.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/FixedIPs/actions/ReleaseIP.jsx', 'src/locales/zh.json', 'src/pages/compute/containers/BareMetalNode/actions/PowerOff.jsx', 'src/pages/compute/containers/BareMetalNode/actions/ClearMaintenance.jsx', 'src/pages/compute/containers/BareMetalNode/Detail/Port/actions/Delete.jsx', 'src/pages/network/containers/FloatingIp/actions/Disassociate.js', 'src/pages/configuration/containers/SystemInfo/ComputeService/actions/Enable.jsx', 'src/pages/configuration/containers/SystemInfo/NeutronAgent/actions/Disable.jsx', 'src/pages/storage/containers/Volume/actions/Delete.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/AllowedAddressPair/actions/Delete.jsx', 'src/pages/compute/containers/BareMetalNode/actions/Inspect.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Delete.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Detach.jsx']",29,f1c3df26a48a98449f225563f81440df111e9a33,master2,, getNameOne = (data) => data.name || data.id; ,78,49
openstack%2Ftripleo-quickstart-extras~master~Ia79a9000af2ef6b65d997af2e1224139ceb6fed7,openstack/tripleo-quickstart-extras,master,Ia79a9000af2ef6b65d997af2e1224139ceb6fed7,Fix multinode-ipa job from building-test-packages twice,MERGED,2021-08-18 09:04:20.000000000,2021-08-25 06:53:55.000000000,2021-08-20 23:54:52.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-08-18 09:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ade8f72d4b55514ee628228b764813751ff810b9', 'message': 'Fix multinode-ipa job from building-test-packages twice\n\nThis patch fixes the build-test-packages running twice\nafter patch[1] merges for the multinode ipa job.\n\nChange-Id: Ia79a9000af2ef6b65d997af2e1224139ceb6fed7\n'}, {'number': 2, 'created': '2021-08-18 09:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/18c9965d946f3b5ec88ca0fa17b02a8e59c95b6d', 'message': 'Fix multinode-ipa job from building-test-packages twice\n\nThis patch fixes the build-test-packages running twice\nafter patch[1] merges for the multinode ipa job.\n\nChange-Id: Ia79a9000af2ef6b65d997af2e1224139ceb6fed7\n'}, {'number': 3, 'created': '2021-08-19 13:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9eec567a82849a546297aadae95b81ea4a5861c9', 'message': 'Fix multinode-ipa job from building-test-packages twice\n\nThis patch fixes the build-test-packages running twice\nafter patch[1] merges for the multinode ipa job.\n\nChange-Id: Ia79a9000af2ef6b65d997af2e1224139ceb6fed7\n'}, {'number': 4, 'created': '2021-08-19 14:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f819d66cba8945fb85e5fb850cb1bae4b044ba0b', 'message': 'Fix multinode-ipa job from building-test-packages twice\n\nIn the downstream  multinode-ipa job, undercloud-setup\nget called twice and it is affacting bug[1].\nThis patch fixes the build-test-packages not to run twice\nby putting a when clause and it will close bug[1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1994848\n\nChange-Id: Ia79a9000af2ef6b65d997af2e1224139ceb6fed7\n'}, {'number': 5, 'created': '2021-08-19 14:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c43f1d0248f9f2d54e19de35c6737925f1998f98', 'message': 'Fix multinode-ipa job from building-test-packages twice\n\nIn the downstream  multinode-ipa job, undercloud-setup\nget called twice and it is affacting bug[1].\nThis patch fixes the build-test-packages not to run twice\nby putting a when clause and it will close bug[1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1994848\n\nChange-Id: Ia79a9000af2ef6b65d997af2e1224139ceb6fed7\n'}, {'number': 6, 'created': '2021-08-19 14:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/79179be4108672aef37e3b84b2f013d93c55ee14', 'message': 'Fix multinode-ipa job from building-test-packages twice\n\nIn the downstream  multinode-ipa job, undercloud-setup\nget called twice and it is affacting bug[1].\nThis patch fixes the build-test-packages not to run twice\nby putting a when clause and it will close bug[1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1994848\n\nChange-Id: Ia79a9000af2ef6b65d997af2e1224139ceb6fed7\n'}, {'number': 7, 'created': '2021-08-19 19:20:57.000000000', 'files': ['roles/undercloud-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/38e75338f68ffa5dd125913b1e0579cea4036d25', 'message': 'Fix multinode-ipa job from building-test-packages twice\n\nIn the downstream  multinode-ipa job, undercloud-setup\nget called twice and it is affacting bug[1].\nThis patch fixes the build-test-packages not to run twice\nby putting a when clause and it will close bug[1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1994848\n\nChange-Id: Ia79a9000af2ef6b65d997af2e1224139ceb6fed7\n'}]",6,804971,38e75338f68ffa5dd125913b1e0579cea4036d25,46,7,7,31075,,,0,"Fix multinode-ipa job from building-test-packages twice

In the downstream  multinode-ipa job, undercloud-setup
get called twice and it is affacting bug[1].
This patch fixes the build-test-packages not to run twice
by putting a when clause and it will close bug[1].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1994848

Change-Id: Ia79a9000af2ef6b65d997af2e1224139ceb6fed7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/71/804971/6 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-setup/tasks/main.yml'],1,ade8f72d4b55514ee628228b764813751ff810b9,fix_build-test-packages, when: freeipa_internal_ip is not defined when: freeipa_internal_ip is not defined,,2,0
openstack%2Fironic~master~I44f92d329e1bd6fdba2ed038ee94753aeb349659,openstack/ironic,master,I44f92d329e1bd6fdba2ed038ee94753aeb349659,[doc] Cross-reference the updated power sync docs from tuning,MERGED,2021-08-24 13:02:12.000000000,2021-08-25 06:49:49.000000000,2021-08-25 06:46:19.000000000,"[{'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 13:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/88f1566226652528bd2e90d50cbaeb6af7a8a444', 'message': '[doc] Cross-reference the updated power sync docs from tuning\n\nChange-Id: I44f92d329e1bd6fdba2ed038ee94753aeb349659\n'}, {'number': 2, 'created': '2021-08-24 13:26:40.000000000', 'files': ['doc/source/admin/tuning.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e52a13cca915eb48ee55e23bf8fc6d80a680400a', 'message': '[doc] Cross-reference the updated power sync docs from tuning\n\nChange-Id: I44f92d329e1bd6fdba2ed038ee94753aeb349659\n'}]",1,805847,e52a13cca915eb48ee55e23bf8fc6d80a680400a,12,3,2,11292,,,0,"[doc] Cross-reference the updated power sync docs from tuning

Change-Id: I44f92d329e1bd6fdba2ed038ee94753aeb349659
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/805847/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/tuning.rst'],1,88f1566226652528bd2e90d50cbaeb6af7a8a444,power_sync_crossref,"BMC interaction =============== In its default configuration, Ironic runs a periodic task to synchronize the power state of the managed physical nodes with the Ironic database. For the hardware type ``ipmi`` (see :doc:`ipmitool`) and depending on the number of nodes, the network connectivity, and the parallelism of these queries, this synchronization may fail and retries will be triggered. Please find more details on the power synchronization and which options to adapt in case too many power sync failures occur in the section on :doc:`/admin/power-sync`. ",,11,0
openstack%2Fswift~master~Ie6476747a7cc06f7db0848de9adb194ce21de32a,openstack/swift,master,Ie6476747a7cc06f7db0848de9adb194ce21de32a,WIP: trace: Add some extra tracing to middlewares,ABANDONED,2021-07-09 07:43:59.000000000,2021-08-25 06:44:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-09 07:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/374b849ef35310f0ee8203fa10a300d9363a78a5', 'message': 'WIP: trace: Add some extra tracing to middlewares\n\nChange-Id: Ie6476747a7cc06f7db0848de9adb194ce21de32a\n'}, {'number': 2, 'created': '2021-07-28 06:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd5030b01a60eee8b895dae7900df7549fb91816', 'message': 'WIP: trace: Add some extra tracing to middlewares\n\nChange-Id: Ie6476747a7cc06f7db0848de9adb194ce21de32a\n'}, {'number': 3, 'created': '2021-07-29 03:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/796830be74dc9c37315b7c1cb5e30aab8fc69969', 'message': 'WIP: trace: Add some extra tracing to middlewares\n\nChange-Id: Ie6476747a7cc06f7db0848de9adb194ce21de32a\n'}, {'number': 4, 'created': '2021-08-16 04:51:06.000000000', 'files': ['swift/common/middleware/tempurl.py', 'swift/common/middleware/crypto/keymaster.py', 'swift/common/middleware/copy.py', 'swift/common/middleware/versioned_writes/legacy.py', 'swift/common/middleware/crypto/crypto_utils.py', 'swift/common/middleware/crypto/kms_keymaster.py', 'swift/common/middleware/crypto/decrypter.py', 'swift/common/middleware/crypto/kmip_keymaster.py', 'swift/common/middleware/cname_lookup.py', 'swift/common/middleware/versioned_writes/object_versioning.py', 'swift/common/middleware/bulk.py', 'swift/common/middleware/slo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d81cccdf26a96b34346ebaf4196a51f28d4bbad2', 'message': 'WIP: trace: Add some extra tracing to middlewares\n\nChange-Id: Ie6476747a7cc06f7db0848de9adb194ce21de32a\n'}]",0,800164,d81cccdf26a96b34346ebaf4196a51f28d4bbad2,13,1,4,7233,,,0,"WIP: trace: Add some extra tracing to middlewares

Change-Id: Ie6476747a7cc06f7db0848de9adb194ce21de32a
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/800164/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/tempurl.py', 'swift/common/middleware/crypto/keymaster.py', 'swift/common/middleware/copy.py', 'swift/common/middleware/versioned_writes/legacy.py', 'swift/common/middleware/crypto/crypto_utils.py', 'swift/common/middleware/crypto/kms_keymaster.py', 'swift/common/middleware/crypto/decrypter.py', 'swift/common/middleware/crypto/kmip_keymaster.py', 'swift/common/middleware/cname_lookup.py', 'swift/common/middleware/versioned_writes/object_versioning.py', 'swift/common/middleware/bulk.py', 'swift/common/middleware/slo.py']",12,374b849ef35310f0ee8203fa10a300d9363a78a5,middleware_trace," with self.trace_time('parse_and_validate_input_timing'): parsed_data = parse_and_validate_input( req.body_file.read(self.max_manifest_size), wsgi_to_str(req.path))"," parsed_data = parse_and_validate_input( req.body_file.read(self.max_manifest_size), wsgi_to_str(req.path))",42,19
openstack%2Fswift~master~I862aa40542456f968614c5c6f3b8afbc67d0fd98,openstack/swift,master,I862aa40542456f968614c5c6f3b8afbc67d0fd98,WIP: trace: add basic HMAC trac_sig signature,ABANDONED,2021-06-28 03:35:24.000000000,2021-08-25 06:44:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-28 03:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d1ae60b29dea964c85a4e326f974da47b1a910e4', 'message': 'WIP: trace: add basic HMAC trac_sig signature\n\nChange-Id: I862aa40542456f968614c5c6f3b8afbc67d0fd98\n'}, {'number': 2, 'created': '2021-07-07 14:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c7a90737ad207698b9a8251cd60c09793658a44a', 'message': 'WIP: trace: add basic HMAC trac_sig signature\n\nChange-Id: I862aa40542456f968614c5c6f3b8afbc67d0fd98\n'}, {'number': 3, 'created': '2021-07-09 07:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/163712d317d4e61993d24fc0a6eedfb503c72a1c', 'message': 'WIP: trace: add basic HMAC trac_sig signature\n\nChange-Id: I862aa40542456f968614c5c6f3b8afbc67d0fd98\n'}, {'number': 4, 'created': '2021-07-28 06:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/20666266f9121641728e3d18e15446aec497e558', 'message': 'WIP: trace: add basic HMAC trac_sig signature\n\nChange-Id: I862aa40542456f968614c5c6f3b8afbc67d0fd98\n'}, {'number': 5, 'created': '2021-07-29 03:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b3f6ebc560c76df088a55acf0ae3fd322df56aa', 'message': 'WIP: trace: add basic HMAC trac_sig signature\n\nChange-Id: I862aa40542456f968614c5c6f3b8afbc67d0fd98\n'}, {'number': 6, 'created': '2021-08-16 04:51:06.000000000', 'files': ['swift/common/utils.py', 'swift/common/middleware/tempurl.py', 'swift/common/middleware/request_trace.py', 'swift/cli/trace_signature.py', 'swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/96b0cf2f4269c984451c4caead9a25dcad0bbaed', 'message': 'WIP: trace: add basic HMAC trac_sig signature\n\nChange-Id: I862aa40542456f968614c5c6f3b8afbc67d0fd98\n'}]",38,798238,96b0cf2f4269c984451c4caead9a25dcad0bbaed,19,1,6,7233,,,0,"WIP: trace: add basic HMAC trac_sig signature

Change-Id: I862aa40542456f968614c5c6f3b8afbc67d0fd98
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/798238/6 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/gatekeeper.py', 'swift/common/utils.py', 'swift/common/middleware/tempurl.py', 'etc/proxy-server.conf-sample', 'swift/cli/trace_signature.py', 'swift/common/wsgi.py']",6,d1ae60b29dea964c85a4e326f974da47b1a910e4,middleware_trace,"import binasciiimport functools import hashlibimport hmacfrom six.moves.urllib.parse import parse_qs from calendar import timegm lock_file, renamer, strict_b64decode from swift.common.middleware.tempurl import EXPIRES_ISO8601_FORMAT"," lock_file, renamerTRACE_ACTIVATED_KEY = ""swift.trace"" TRACE_DATA = ""swift.trace_data"" def dump_trace(environ, outfile, logger, lock_timeout=2, set_owner=None): if not environ.get(TRACE_ACTIVATED_KEY) or not environ.get(TRACE_DATA): return try: with lock_file(outfile, lock_timeout, unlink=False): tf = None try: with NamedTemporaryFile(dir=os.path.dirname(outfile), delete=False) as tf: trace_data = json.dumps(environ.get(TRACE_DATA), ensure_ascii=True, sort_keys=True) tf.write(trace_data.encode('ascii') + b'\n') if set_owner: os.chown(tf.name, pwd.getpwnam(set_owner).pw_uid, -1) renamer(tf.name, outfile, fsync=False) finally: if tf is not None: try: os.unlink(tf.name) except OSError as err: if err.errno != errno.ENOENT: raise except (Exception, Timeout) as err: logger.exception('Exception dumping Trace data: %s' % err) def enable_trace(): # the basic idea, which probably wont be here. Is we can provide trace_sig # which will be a HMAC from some trace key (maybe set in contraints so # swift.conf) and time. If it passes it'll set TRACE_ACTIVATED_KEY into # environ, triggering extra data to be collected. Not sure what will do # this a new middleware or gatekeeper??? and on it's way back it'll call # the dump method to dump the extra data as json somewhere, maybe same # place as the recons with the txid and date as part of the name. # This way an SRE can generate a trace_sig, give it to a user and ask them # to include it as a query param, and we should get a bunch more info. pass ",142,57
openstack%2Fglance~master~I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1,openstack/glance,master,I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1,Check policies for image import operation in API,MERGED,2021-08-15 20:08:42.000000000,2021-08-25 06:24:54.000000000,2021-08-25 06:20:44.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-15 20:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/208e1700691d5465ea8f0f325f0891bc80bcddbb', 'message': 'Check policies for image import operation in API\n\nThis patch enforces policy checks required for importing/copying image\ndata to store in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1\n'}, {'number': 2, 'created': '2021-08-19 17:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3351fdc2bb5ec9d920402da1c7e9b4b8d8e7e43d', 'message': 'Check policies for image import operation in API\n\nThis patch enforces policy checks required for importing/copying image\ndata to store in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1\n'}, {'number': 3, 'created': '2021-08-19 19:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3fc9485ca52deee95a923f4d51e466aebb3c597a', 'message': 'Check policies for image import operation in API\n\nThis patch enforces policy checks required for importing/copying image\ndata to store in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1\n'}, {'number': 4, 'created': '2021-08-20 06:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7713b88c2d962f9925a91cb97cfb87284c73a1ac', 'message': 'Check policies for image import operation in API\n\nThis patch enforces policy checks required for importing/copying image\ndata to store in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1\n'}, {'number': 5, 'created': '2021-08-23 06:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a269847761d793b9e8fb4f89c829c31ea7da7130', 'message': 'Check policies for image import operation in API\n\nThis patch enforces policy checks required for importing/copying image\ndata to store in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1\n'}, {'number': 6, 'created': '2021-08-24 06:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7df1324844c7e0bf73644be7479e606a9f9653f6', 'message': 'Check policies for image import operation in API\n\nThis patch enforces policy checks required for importing/copying image\ndata to store in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1\n'}, {'number': 7, 'created': '2021-08-24 09:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5821db41a009c6098d813bb43735d85548c7a2ae', 'message': 'Check policies for image import operation in API\n\nThis patch enforces policy checks required for importing/copying image\ndata to store in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1\n'}, {'number': 8, 'created': '2021-08-24 18:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6801fa9245cf9eff59e748ecbe87569ab228233f', 'message': 'Check policies for image import operation in API\n\nThis patch enforces policy checks required for importing/copying image\ndata to store in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1\n'}, {'number': 9, 'created': '2021-08-24 20:17:05.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py', 'glance/tests/functional/__init__.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/api/v2/policy.py', 'glance/tests/functional/v2/test_images_import_locking.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/6c87a18d4cb43aa4af6e953af19f1655f7bb3bf9', 'message': 'Check policies for image import operation in API\n\nThis patch enforces policy checks required for importing/copying image\ndata to store in API layer.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1\n'}]",17,804590,6c87a18d4cb43aa4af6e953af19f1655f7bb3bf9,55,5,9,9303,,,0,"Check policies for image import operation in API

This patch enforces policy checks required for importing/copying image
data to store in API layer.

Partially-Implements: blueprint policy-refactor

Change-Id: I18a5187d80bf76c0dc6f22dd8c96a8ffa0f46dc1
",git fetch https://review.opendev.org/openstack/glance refs/changes/90/804590/9 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py', 'glance/tests/functional/__init__.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/api/v2/policy.py', 'glance/tests/functional/v2/test_images_import_locking.py', 'glance/tests/unit/v2/test_v2_policy.py']",7,208e1700691d5465ea8f0f325f0891bc80bcddbb,policy-refactor," def test_copy_image(self): self.policy.copy_image() self.enforcer.enforce.assert_called_once_with(self.context, 'copy_image', mock.ANY) ",,169,50
openstack%2Fcinder~stable%2Ftrain~I62fcef3169dcb9f4363a5344af4b2711edfef632,openstack/cinder,stable/train,I62fcef3169dcb9f4363a5344af4b2711edfef632,NFS: Update connection info on online snap create,MERGED,2021-07-23 15:37:13.000000000,2021-08-25 06:24:03.000000000,2021-08-25 06:20:40.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-07-23 15:37:13.000000000', 'files': ['releasenotes/notes/nfs-online-snapshot-c05e6c8113bbded6.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3df6646364ce0aaee514b9cddd79b68ba47634e1', 'message': ""NFS: Update connection info on online snap create\n\nThe NFS snapshot creation for an attached volume requires interaction\nbetween Nova and Cinder, and a new qcow2 file is used after the\nattachment completes.\n\nThis means that the connection properties stored in the Attachment is no\nlonger valid, as it is pointing to the old qcow2 file, so if Nova tries\nto use that attachment it will start writing on the old qcow2 file.\n\nA flow showing this issue is:\n\n- Attach NFS volume\n- Create snapshot\n- Hard reboot\n\nAfter that the VM will start using the base image, breaking the qcow2\nchain.\n\nIf we delete the snapshot in the meantime, then the VM will fail to\nreboot.\n\nThis patch fixes this inconsistency by updating the connection info\nfield inside the remotefs driver.\n\nWe usually prefer that drivers don't to touch the DB, directly or\nindirectly (using OVOs), but in this case we are using OVOs methods\ninstead of the usual model update on the volume manager because there\nare cases in the driver where a snapshot is created (cloning via\nsnapshot) and we have to update the attachment without the manager, as\nit is unaware that a temporary snapshot is being created.\n\nBesides that main reason there are other less critical reasons to do the\nattachment update in the driver:\n\n- Smaller code change\n- Easier to backport\n- Limit change impact on other areas (better for backport)\n- The snapshot_create model update code in the manager does not support\n  updating attachments.\n- There are cases in the cinder volume manager where the model update\n  values returned by snapshot_create are not being applied.\n\nSnapshot deletion belonging to in-use volumes are not affected by this\nissue because we only do block commit when the snapshot file we are\ndeleting is not the active file.  In _delete_snapshot_online:\n\n        if utils.paths_normcase_equal(info['active_file'],\n                                      info['snapshot_file']):\n\nConflicts:\n    cinder/tests/unit/volume/drivers/test_remotefs.py\nResolved conflict introduced mainly by the encryption support fixes\n(see I896f70d204ad103e968ab242ba9045ca984827c4)\n\nCloses-Bug: #1860913\nChange-Id: I62fcef3169dcb9f4363a5344af4b2711edfef632\n(cherry picked from commit 25eb0a7d76922e3a1a289d26c36b96a91c4059db)\n(cherry picked from commit d4960fd597aad8502cad46b38cdb50c6b88f7c63)\n(cherry picked from commit e7c5e7a7f6f35b2db043cc5ed4a0ef1f77e1f830)\n(cherry picked from commit a5e44127ffceec55c3e98a46ebe3686e34b0c971)\n""}]",0,802048,3df6646364ce0aaee514b9cddd79b68ba47634e1,18,4,1,10459,,,0,"NFS: Update connection info on online snap create

The NFS snapshot creation for an attached volume requires interaction
between Nova and Cinder, and a new qcow2 file is used after the
attachment completes.

This means that the connection properties stored in the Attachment is no
longer valid, as it is pointing to the old qcow2 file, so if Nova tries
to use that attachment it will start writing on the old qcow2 file.

A flow showing this issue is:

- Attach NFS volume
- Create snapshot
- Hard reboot

After that the VM will start using the base image, breaking the qcow2
chain.

If we delete the snapshot in the meantime, then the VM will fail to
reboot.

This patch fixes this inconsistency by updating the connection info
field inside the remotefs driver.

We usually prefer that drivers don't to touch the DB, directly or
indirectly (using OVOs), but in this case we are using OVOs methods
instead of the usual model update on the volume manager because there
are cases in the driver where a snapshot is created (cloning via
snapshot) and we have to update the attachment without the manager, as
it is unaware that a temporary snapshot is being created.

Besides that main reason there are other less critical reasons to do the
attachment update in the driver:

- Smaller code change
- Easier to backport
- Limit change impact on other areas (better for backport)
- The snapshot_create model update code in the manager does not support
  updating attachments.
- There are cases in the cinder volume manager where the model update
  values returned by snapshot_create are not being applied.

Snapshot deletion belonging to in-use volumes are not affected by this
issue because we only do block commit when the snapshot file we are
deleting is not the active file.  In _delete_snapshot_online:

        if utils.paths_normcase_equal(info['active_file'],
                                      info['snapshot_file']):

Conflicts:
    cinder/tests/unit/volume/drivers/test_remotefs.py
Resolved conflict introduced mainly by the encryption support fixes
(see I896f70d204ad103e968ab242ba9045ca984827c4)

Closes-Bug: #1860913
Change-Id: I62fcef3169dcb9f4363a5344af4b2711edfef632
(cherry picked from commit 25eb0a7d76922e3a1a289d26c36b96a91c4059db)
(cherry picked from commit d4960fd597aad8502cad46b38cdb50c6b88f7c63)
(cherry picked from commit e7c5e7a7f6f35b2db043cc5ed4a0ef1f77e1f830)
(cherry picked from commit a5e44127ffceec55c3e98a46ebe3686e34b0c971)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/802048/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nfs-online-snapshot-c05e6c8113bbded6.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",3,3df6646364ce0aaee514b9cddd79b68ba47634e1,nfs-fix-online-snapshot, active = os.path.basename(new_snap_path) # Update reference in the only attachment (no multi-attach support) attachment = snapshot.volume.volume_attachment[0] attachment.connection_info['name'] = active # Let OVO know it has been updated attachment.connection_info = attachment.connection_info attachment.save() snap_info['active'] = active snap_info[snapshot.id] = active, snap_info['active'] = os.path.basename(new_snap_path) snap_info[snapshot.id] = os.path.basename(new_snap_path),32,2
openstack%2Fironic~bugfix%2F18.0~I4a169b42d516a7ae2adcee9b69d71723fdefcd95,openstack/ironic,bugfix/18.0,I4a169b42d516a7ae2adcee9b69d71723fdefcd95,Suppress policy deprecation and default change warnings,MERGED,2021-07-05 13:20:00.000000000,2021-08-25 06:00:49.000000000,2021-08-25 05:58:30.000000000,"[{'_account_id': 4690}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 13:20:00.000000000', 'files': ['ironic/tests/unit/policy_fixture.py', 'ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/714560436affa5efbe4b98cd5c8c17fd9ce79e7d', 'message': 'Suppress policy deprecation and default change warnings\n\nAs part of the policy defaults refresh work, all of the defaults for\npolicies were changed and warnings about it are being emitted\nconstantly in the logs. We can suppress these for now until we are\nenforcing new defaults [1].\n\nThis also suppresses policy deprecation warnings during tests to avoid\nfilling the console with warning messages.\n\nRelated to blueprint policy-defaults-refresh\n\n[1]https://docs.openstack.org/nova/latest/configuration/config.html#oslo_policy.enforce_new_defaults\n\nChange-Id: I4a169b42d516a7ae2adcee9b69d71723fdefcd95\n(cherry picked from commit 67ff5ff2b4ad4a12965142ffb1ff7fb11c07d337)\n'}]",0,799479,714560436affa5efbe4b98cd5c8c17fd9ce79e7d,10,4,1,23851,,,0,"Suppress policy deprecation and default change warnings

As part of the policy defaults refresh work, all of the defaults for
policies were changed and warnings about it are being emitted
constantly in the logs. We can suppress these for now until we are
enforcing new defaults [1].

This also suppresses policy deprecation warnings during tests to avoid
filling the console with warning messages.

Related to blueprint policy-defaults-refresh

[1]https://docs.openstack.org/nova/latest/configuration/config.html#oslo_policy.enforce_new_defaults

Change-Id: I4a169b42d516a7ae2adcee9b69d71723fdefcd95
(cherry picked from commit 67ff5ff2b4ad4a12965142ffb1ff7fb11c07d337)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/799479/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/policy_fixture.py', 'ironic/common/policy.py']",2,714560436affa5efbe4b98cd5c8c17fd9ce79e7d,bp/policy-defaults-refresh-bugfix/18.0," # NOTE(melwitt): Explictly disable the warnings for policies # changing their default check_str. During policy-defaults-refresh # work, all the policy defaults have been changed and warning for # each policy started filling the logs limit for various tool. # Once we move to new defaults only world then we can enable these # warning again. _ENFORCER.suppress_default_change_warnings = True",,11,0
openstack%2Fironic~master~I991d2af7eb6987830a5fa449026f43ac7a09fcff,openstack/ironic,master,I991d2af7eb6987830a5fa449026f43ac7a09fcff,Silence debug logging from oslo_policy,MERGED,2021-08-24 18:02:20.000000000,2021-08-25 06:00:48.000000000,2021-08-25 05:58:28.000000000,"[{'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 18:02:20.000000000', 'files': ['ironic/conf/opts.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7748b154b0477e42cd0937c9f52cbed33e7b7c8e', 'message': ""Silence debug logging from oslo_policy\n\nWhile it's not entirely useless, it's extremely verbose and account\nfor 2/3 of ironic-api logs even when keystone is disabled.\n\nChange-Id: I991d2af7eb6987830a5fa449026f43ac7a09fcff\n""}]",0,805875,7748b154b0477e42cd0937c9f52cbed33e7b7c8e,11,3,1,10239,,,0,"Silence debug logging from oslo_policy

While it's not entirely useless, it's extremely verbose and account
for 2/3 of ironic-api logs even when keystone is disabled.

Change-Id: I991d2af7eb6987830a5fa449026f43ac7a09fcff
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/805875/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conf/opts.py'],1,7748b154b0477e42cd0937c9f52cbed33e7b7c8e,policy-log," # Policy logging is not necessarily useless, but very verbose 'oslo_policy=WARNING',",,2,0
openstack%2Fskyline-console~master~I3ec80b38d7b4f330c7e65d4e54d6b70668bc6e0d,openstack/skyline-console,master,I3ec80b38d7b4f330c7e65d4e54d6b70668bc6e0d,fix: Fix display currectly after jumping from the error page,MERGED,2021-08-25 05:16:16.000000000,2021-08-25 05:21:32.000000000,2021-08-25 05:21:32.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 05:16:16.000000000', 'files': ['src/layouts/Base/Right.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1d4952cf60b30c44fcaf4e30df5ec152a6e961e6', 'message': 'fix: Fix display currectly after jumping from the error page\n\nFix display currectly after jumping from the error page\n\nChange-Id: I3ec80b38d7b4f330c7e65d4e54d6b70668bc6e0d\n'}]",0,805942,1d4952cf60b30c44fcaf4e30df5ec152a6e961e6,6,2,1,30434,,,0,"fix: Fix display currectly after jumping from the error page

Fix display currectly after jumping from the error page

Change-Id: I3ec80b38d7b4f330c7e65d4e54d6b70668bc6e0d
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/42/805942/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layouts/Base/Right.jsx'],1,1d4952cf60b30c44fcaf4e30df5ec152a6e961e6,master2," componentDidUpdate(prevProps) { const { location: { pathname: oldPath } = {} } = prevProps; const { location: { pathname: newPath } = {} } = this.props; if (oldPath !== newPath) { this.updateErrorState(false); } } componentDidCatch(error, errorInfo) { console.log(error, errorInfo); } updateErrorState(flag) { this.setState({ hasError: flag, }); } ",,18,0
openstack%2Fskyline-console~master~I4d736c3b30ff718a8dd00d05890cb67cdbabec94,openstack/skyline-console,master,I4d736c3b30ff718a8dd00d05890cb67cdbabec94,fix: Fix unique name when create/edit volume type,MERGED,2021-08-25 05:07:43.000000000,2021-08-25 05:12:25.000000000,2021-08-25 05:12:25.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 05:07:43.000000000', 'files': ['src/components/FormItem/NameInput/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/Create.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/Edit.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8dac045ee24525afc700b45cd10df97a61efc892', 'message': 'fix: Fix unique name when create/edit volume type\n\n1. Check unique name when create volume type\n2. Check unique name when edit volume type\n\nChange-Id: I4d736c3b30ff718a8dd00d05890cb67cdbabec94\n'}]",0,805940,8dac045ee24525afc700b45cd10df97a61efc892,6,2,1,30434,,,0,"fix: Fix unique name when create/edit volume type

1. Check unique name when create volume type
2. Check unique name when edit volume type

Change-Id: I4d736c3b30ff718a8dd00d05890cb67cdbabec94
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/40/805940/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/FormItem/NameInput/index.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/Create.jsx', 'src/pages/storage/containers/VolumeType/VolumeType/actions/Edit.jsx']",3,8dac045ee24525afc700b45cd10df97a61efc892,master2," names: this.store.list.data .filter((it) => it.id !== this.item.id) .map((it) => it.name),"," placeholder: t('Please input name'),",20,8
openstack%2Fskyline-console~master~I6e6f482f13c891313a9ef853fb76699efffa1fea,openstack/skyline-console,master,I6e6f482f13c891313a9ef853fb76699efffa1fea,fix: Fix copy volume id in backup detail page && error hint,MERGED,2021-08-25 04:26:56.000000000,2021-08-25 05:03:09.000000000,2021-08-25 05:03:09.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 04:26:56.000000000', 'files': ['src/pages/storage/containers/Backup/Detail/BaseDetail.jsx', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/components/DetailCard/index.jsx', 'src/components/Form/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9d438cdb77bc6455828464c992a54029fa08e9d0', 'message': 'fix: Fix copy volume id in backup detail page && error hint\n\n1. Fix copy volume id in backup detail page\n2. Fix error hint display\n\nChange-Id: I6e6f482f13c891313a9ef853fb76699efffa1fea\n'}]",0,805937,9d438cdb77bc6455828464c992a54029fa08e9d0,6,2,1,30434,,,0,"fix: Fix copy volume id in backup detail page && error hint

1. Fix copy volume id in backup detail page
2. Fix error hint display

Change-Id: I6e6f482f13c891313a9ef853fb76699efffa1fea
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/37/805937/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/storage/containers/Backup/Detail/BaseDetail.jsx', 'src/components/Tables/Base/ActionButton/index.jsx', 'src/components/DetailCard/index.jsx', 'src/components/Form/index.jsx']",4,9d438cdb77bc6455828464c992a54029fa08e9d0,master2," (err = {}) => { const { response: { data } = {} } = err; this.showNotice && Notify.errorWithDetail(data, this.errorText); console.log('err', err, data);"," (err) => { this.showNotice && Notify.errorWithDetail(err, this.errorText); console.log('err', err);",13,6
openstack%2Fmanila-tempest-plugin~master~I66f0944af58b5d1892be4d3b4eb9fa6d92fd1ac5,openstack/manila-tempest-plugin,master,I66f0944af58b5d1892be4d3b4eb9fa6d92fd1ac5,[WIP] Add RBAC tests for manila,ABANDONED,2021-08-25 04:49:52.000000000,2021-08-25 05:02:43.000000000,,[],"[{'number': 1, 'created': '2021-08-25 04:49:52.000000000', 'files': ['manila_tempest_tests/tests/rbac/test_shares.py', 'manila_tempest_tests/tests/rbac/base.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/75d30c52f5f8d76ef0029ffacb88159f603e2b45', 'message': '[WIP] Add RBAC tests for manila\n\nChange-Id: I66f0944af58b5d1892be4d3b4eb9fa6d92fd1ac5\n'}]",0,805939,75d30c52f5f8d76ef0029ffacb88159f603e2b45,2,0,1,19262,,,0,"[WIP] Add RBAC tests for manila

Change-Id: I66f0944af58b5d1892be4d3b4eb9fa6d92fd1ac5
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/39/805939/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/rbac/test_shares.py', 'manila_tempest_tests/tests/rbac/base.py']",2,75d30c52f5f8d76ef0029ffacb88159f603e2b45,rbac," cls.addClassResourceCleanup(users_client.delete_user, user_id)"," cls.addClassResourceCleanup(users_client.delete_user, user_id)",5,5
openstack%2Fskyline-console~master~I398610e52c4638be4b01d03fa026107cc39735bf,openstack/skyline-console,master,I398610e52c4638be4b01d03fa026107cc39735bf,fix: Fix the configured memory in detail page,MERGED,2021-08-24 02:18:52.000000000,2021-08-25 05:01:36.000000000,2021-08-25 05:01:36.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-24 02:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/197cd161793825d08f518dcab471abd310f05995', 'message': 'fix: Fix the configured memory and  remove local storage\n\n1. Change the unit  of configured memory to GB to match list info\n2. Remove useless used local storage and total local storage\n\nChange-Id: I398610e52c4638be4b01d03fa026107cc39735bf\n'}, {'number': 2, 'created': '2021-08-25 03:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8ca4c0934c3cb6aaf747398e6cf9b2bf00d5a32f', 'message': 'fix: Fix the configured memory and  remove local storage\n\n1. Change the unit  of configured memory to GB to match list info\n2. Remove useless used local storage and total local storage\n\nChange-Id: I398610e52c4638be4b01d03fa026107cc39735bf\n'}, {'number': 3, 'created': '2021-08-25 04:37:55.000000000', 'files': ['src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f0b260dd90f8548bfdf74e3c120aea34615ffd1e', 'message': 'fix: Fix the configured memory in detail page\n\nChange the unit of configured memory to GB to match list info\n\nChange-Id: I398610e52c4638be4b01d03fa026107cc39735bf\n'}]",0,805774,f0b260dd90f8548bfdf74e3c120aea34615ffd1e,11,2,3,33689,,,0,"fix: Fix the configured memory in detail page

Change the unit of configured memory to GB to match list info

Change-Id: I398610e52c4638be4b01d03fa026107cc39735bf
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/74/805774/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/stores/nova/hypervisor.js', 'src/pages/compute/containers/Hypervisors/Hypervisor/Detail/index.jsx']",4,197cd161793825d08f518dcab471abd310f05995,open-35054," `${record.memory_mb_used_gb} / ${record.memory_mb_gb}`,","import Link from 'react-router-dom/Link'; import React from 'react'; `${record.memory_mb_used} / ${record.memory_mb}`, }, { title: t('Used Local Storage (GB)'), dataIndex: 'storage_percent', render: () => ( <Link to=""/monitor-center/storage-cluster-admin""> {t('Click to see')} </Link> ),",3,14
openstack%2Fheat~master~I23475185671c52b02eb57f1aa537f206b51c384a,openstack/heat,master,I23475185671c52b02eb57f1aa537f206b51c384a,Allow arbitrary image properties,MERGED,2021-06-07 05:40:27.000000000,2021-08-25 04:06:45.000000000,2021-08-25 04:05:03.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-07 05:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ba90d044bf22726e252d810f50dd0557a6b87996', 'message': 'WIP - Add ability to specify arbitrary properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 2, 'created': '2021-06-07 05:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4fa48e922b12b2cdcd160133ac48369914545769', 'message': 'WIP - Add ability to specify arbitrary properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 3, 'created': '2021-06-07 06:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0c0d731382c4f89c1cf0337dc8e922826c8368e5', 'message': 'Add ability to specify arbitrary properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 4, 'created': '2021-06-07 06:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c1c87205568159358e52355b879faf152c0e213', 'message': 'Add ability to specify arbitrary properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 5, 'created': '2021-06-07 15:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9114990e510a6cccff19a8a8ae69273c45c91526', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 6, 'created': '2021-06-09 05:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/df61681be5cd9784b6cb96739073bbc870fd64a3', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 7, 'created': '2021-06-09 08:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8465234cf9b0b42b193b345b8c5b5cb5504fbc03', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 8, 'created': '2021-06-15 12:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7f81b4e2e8d6a043608c8a938e3ffa7193813515', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 9, 'created': '2021-06-16 01:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/462806f15f21e5d85b99e3f971cf7c2b8bd4d2b7', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 10, 'created': '2021-06-16 03:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7e589423888a3095dba4dd4769a86e4d60e5931c', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 11, 'created': '2021-06-16 05:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/571bc92fc5c4251bb8298e660eab604c44843a07', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 12, 'created': '2021-06-16 07:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/42445fc50d600cf9eb5e1685f6a43aeb511b5032', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 13, 'created': '2021-06-16 07:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e17ed3912b1f5d521ab050fca458e5dd003f2b3e', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 14, 'created': '2021-06-16 09:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d32c3a27898b6d6c4aa60861a96e4099d0510bca', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 15, 'created': '2021-06-17 10:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ea72529d105168bed135f0315eccd6fca60d6e7f', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 16, 'created': '2021-06-17 10:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ae4c945716b856ecf07f304b5dadd413b5097969', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 17, 'created': '2021-06-17 11:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/92ce3cb961d7ba530bd574f8d5e60f371af881d5', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 18, 'created': '2021-06-22 03:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f9aadeb8e422e48a1478b21dd593c8fac95b1705', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 19, 'created': '2021-06-22 04:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/298daa9527150a72ecf1c3e89a6c9be1b7912b30', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 20, 'created': '2021-07-01 03:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f353250125d451486e9fa7e2dd8b1dfafef0d838', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 21, 'created': '2021-07-01 18:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d3171ee93a91e119beb7bea9d700d3c9bc0fb53f', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 22, 'created': '2021-07-01 20:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1171f88b4f69d40900ffa46bc4a0a403c1d2be83', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 23, 'created': '2021-07-02 03:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/db5885508725d880d0edb9b361031ba46dc20b84', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 24, 'created': '2021-07-15 16:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/74443a1b4783b7dce8a8d57a3c985777e0ac6672', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 25, 'created': '2021-07-26 06:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/acb38e0b572d207a88cd737c1352c8b11aa96688', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 26, 'created': '2021-08-03 00:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6e67d972ad011867ba8cb9ac101387445aa6fe84', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 27, 'created': '2021-08-03 06:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/84dd80195ea45699df7eb10aed6d97b55ba4b8b9', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 28, 'created': '2021-08-04 03:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b4758400ff32753427c7e590960ffda22ac576e2', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 29, 'created': '2021-08-04 04:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0fbcb7c6354f4ccae52e190ce3a859c2a6b23679', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}, {'number': 30, 'created': '2021-08-04 23:46:39.000000000', 'files': ['heat/tests/openstack/glance/test_image.py', 'releasenotes/notes/add-extra-properties-to-glance-bb6e6e5d02473877.yaml', 'heat/engine/resources/openstack/glance/image.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/3eaeda68bad45d57588f1600518a1b6794b076b2', 'message': 'Allow arbitrary image properties\n\nIn some circumstances, it is necessary to have\narbitrary image properties on Glance images.\nAn example is described here:\nhttps://storyboard.openstack.org/#!/story/2008951\n\nThis patch adds the ability to specify those\nproperties using the WebImage resource.\n\nStory: 2008951\nTask: 42575\nChange-Id: I23475185671c52b02eb57f1aa537f206b51c384a\n'}]",37,795023,3eaeda68bad45d57588f1600518a1b6794b076b2,108,4,30,30073,,,0,"Allow arbitrary image properties

In some circumstances, it is necessary to have
arbitrary image properties on Glance images.
An example is described here:
https://storyboard.openstack.org/#!/story/2008951

This patch adds the ability to specify those
properties using the WebImage resource.

Story: 2008951
Task: 42575
Change-Id: I23475185671c52b02eb57f1aa537f206b51c384a
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/795023/25 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/glance/test_image.py', 'heat/engine/resources/openstack/glance/image.py']",2,ba90d044bf22726e252d810f50dd0557a6b87996,story/2008951,"from oslo_log import log as logging LOG = logging.getLogger(__name__) EXTRA_PROPERTIES, VISIBILITY, RAMDISK_ID, ACTIVE, MEMBERS 'owner', 'extra_properties', 'visibility', 'ramdisk_id', 'active', 'members' EXTRA_PROPERTIES: properties.Schema( properties.Schema.MAP, _('Arbitrary properties to associate with the image.'), update_allowed=True, default={}, ), if v is not None and k is not self.EXTRA_PROPERTIES) props = self.properties.get(self.EXTRA_PROPERTIES) or {} LOG.info(f""Adding image properties: {props}"") image_update = images.update(image.id, **props) LOG.debug(f""Result of image update: {image_update}"") images = self.client().images if self.EXTRA_PROPERTIES in prop_diff: old_properties = self.properties.get(self.EXTRA_PROPERTIES) or {} new_properties = prop_diff.pop(self.EXTRA_PROPERTIES) prop_diff.update(new_properties) remove_props = list(set(old_properties) - set(new_properties)) # Though remove_props defaults to None within the glanceclient, # setting it to a list (possibly []) every time ensures only one # calling format to images.update images.update(self.resource_id, remove_props, **prop_diff) else: images.update(self.resource_id, **prop_diff) "," VISIBILITY, RAMDISK_ID, ACTIVE, MEMBERS 'owner', 'visibility', 'ramdisk_id', 'active', 'members' if v is not None)",35,5
openstack%2Fskyline-console~master~I2227a9cb84ed87b5d1eedaea206004498ef0fab9,openstack/skyline-console,master,I2227a9cb84ed87b5d1eedaea206004498ef0fab9,feat: Support network port_security_enabled,MERGED,2021-08-25 03:15:06.000000000,2021-08-25 03:39:53.000000000,2021-08-25 03:39:53.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-25 03:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/edfdc2ee8beb1c3a52337bb9174d6068005edef8', 'message': '[Animbus]feature: Support network port_security_enabled\n\n1. Update create instance with port_security_enabled = false network\n2. Update create ironic with port_security_enabled = false network\n3. Update instance manage security group\n4. Update instance manage security group in instance detail page\n5. Update create network with port_security_enabled prop\n6. Update edit network with port_security_enabled prop\n7. Add port_security_enabled prop in network detail page\n\nChange-Id: I2227a9cb84ed87b5d1eedaea206004498ef0fab9\n'}, {'number': 2, 'created': '2021-08-25 03:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/fe958a004c2cd1058276ec32b508f938d20b6e7f', 'message': 'feat: Support network port_security_enabled\n\n1. Update create instance with port_security_enabled = false network\n2. Update create ironic with port_security_enabled = false network\n3. Update instance manage security group\n4. Update instance manage security group in instance detail page\n5. Update create network with port_security_enabled prop\n6. Update edit network with port_security_enabled prop\n7. Add port_security_enabled prop in network detail page\n\nChange-Id: I2227a9cb84ed87b5d1eedaea206004498ef0fab9\n'}, {'number': 3, 'created': '2021-08-25 03:35:13.000000000', 'files': ['src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/pages/network/containers/VirtualAdapter/actions/ManageSecurityGroup.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/index.jsx', 'src/pages/network/containers/Network/actions/Edit.jsx', 'src/pages/network/containers/Network/Detail/Detail.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/608d9ef5f4406ff634397ccbf122dccc49f9a515', 'message': 'feat: Support network port_security_enabled\n\n1. Update create instance with `port_security_enabled = false` network:\nif one of selected networks is disable port security, disable select security group\n2. Update create ironic with `port_security_enabled = false` network:\nif one of selected networks is disable port security, disable select\nsecurity group\n3. Update instance manage security group in instance detail page:\ndisable manage security group for disable security group interface\n4. Update create network with port_security_enabled prop:\ncan change port_security_enabled prop value\n5. Update edit network with port_security_enabled prop:\ncan change port_security_enabled prop value\n6. Add port_security_enabled prop in network detail page:\nshow network port_security_enabled value\n\nChange-Id: I2227a9cb84ed87b5d1eedaea206004498ef0fab9\n'}]",1,805931,608d9ef5f4406ff634397ccbf122dccc49f9a515,11,2,3,30434,,,0,"feat: Support network port_security_enabled

1. Update create instance with `port_security_enabled = false` network:
if one of selected networks is disable port security, disable select security group
2. Update create ironic with `port_security_enabled = false` network:
if one of selected networks is disable port security, disable select
security group
3. Update instance manage security group in instance detail page:
disable manage security group for disable security group interface
4. Update create network with port_security_enabled prop:
can change port_security_enabled prop value
5. Update edit network with port_security_enabled prop:
can change port_security_enabled prop value
6. Add port_security_enabled prop in network detail page:
show network port_security_enabled value

Change-Id: I2227a9cb84ed87b5d1eedaea206004498ef0fab9
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/31/805931/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/Network/actions/CreateNetwork.jsx', 'src/pages/network/containers/VirtualAdapter/actions/ManageSecurityGroup.jsx', 'src/pages/network/containers/VirtualAdapter/Detail/index.jsx', 'src/pages/network/containers/Network/actions/Edit.jsx', 'src/pages/network/containers/Network/Detail/Detail.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx']",12,edfdc2ee8beb1c3a52337bb9174d6068005edef8,master2, const { selectedRows: securityGroupSelectedRows = [] } = securityGroup || {}; const server = { security_groups: securityGroupSelectedRows.map((it) => ({, const server = { security_groups: securityGroup.selectedRows.map((it) => ({,72,44
openstack%2Fpuppet-keystone~master~Iaba4926adde192383e174fe8890a69ece089663e,openstack/puppet-keystone,master,Iaba4926adde192383e174fe8890a69ece089663e,cache: Migrate parsing of memcache_server to puppet-oslo,MERGED,2021-08-23 07:49:08.000000000,2021-08-25 03:22:53.000000000,2021-08-25 03:22:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 07:49:08.000000000', 'files': ['spec/classes/keystone_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a087173cbeebf30099f373c35e681289f49ae215', 'message': 'cache: Migrate parsing of memcache_server to puppet-oslo\n\n... to avoid duplicate handling.\n\nDepends-on: https://review.opendev.org/805588\nChange-Id: Iaba4926adde192383e174fe8890a69ece089663e\n'}]",0,805591,a087173cbeebf30099f373c35e681289f49ae215,9,3,1,9816,,,0,"cache: Migrate parsing of memcache_server to puppet-oslo

... to avoid duplicate handling.

Depends-on: https://review.opendev.org/805588
Change-Id: Iaba4926adde192383e174fe8890a69ece089663e
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/91/805591/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_cache_spec.rb', 'manifests/cache.pp']",2,a087173cbeebf30099f373c35e681289f49ae215,oslo-cache-ut," memcache_servers => $memcache_servers,"," $memcache_servers_array = $memcache_servers ? { String => split($memcache_servers, ','), default => $memcache_servers } memcache_servers => $memcache_servers_array,",2,7
openstack%2Fskyline-apiserver~master~I4833547f4bc70844daeb408606f06947d06c739b,openstack/skyline-apiserver,master,I4833547f4bc70844daeb408606f06947d06c739b,feature: Add x-openstack-request-id into header,ABANDONED,2021-08-23 09:01:23.000000000,2021-08-25 03:13:21.000000000,,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-08-23 09:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/2230c5d0e3e5c4807a909027e7dc94726a887370', 'message': 'feature: Add x-openstack-request-id into header\n\n1. Add x-openstack-request-id into header\n2. Remove some invalid functions which have not been used\n\nChange-Id: I4833547f4bc70844daeb408606f06947d06c739b\n'}, {'number': 2, 'created': '2021-08-25 03:11:20.000000000', 'files': ['libs/skyline-apiserver/skyline_apiserver/client/openstack/keystone.py', 'libs/skyline-apiserver/skyline_apiserver/network/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/system.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/cinder.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/glance.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/login.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/nova.py', 'libs/skyline-apiserver/skyline_apiserver/types/constants.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/extension.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/contrib.py', 'libs/skyline-apiserver/skyline_apiserver/client/utils.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/e2995c0a0754a0d8882ea0c6fbd953c7f1b789c6', 'message': 'feature: Add x-openstack-request-id into header\n\n1. Add x-openstack-request-id into header\n2. Remove some invalid functions which have not been used\n\nChange-Id: I4833547f4bc70844daeb408606f06947d06c739b\n'}]",4,805606,e2995c0a0754a0d8882ea0c6fbd953c7f1b789c6,6,4,2,33898,,,0,"feature: Add x-openstack-request-id into header

1. Add x-openstack-request-id into header
2. Remove some invalid functions which have not been used

Change-Id: I4833547f4bc70844daeb408606f06947d06c739b
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/06/805606/2 && git format-patch -1 --stdout FETCH_HEAD,"['libs/skyline-apiserver/skyline_apiserver/client/openstack/keystone.py', 'libs/skyline-apiserver/skyline_apiserver/network/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/system.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/cinder.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/glance.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/login.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/nova.py', 'libs/skyline-apiserver/skyline_apiserver/types/constants.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/extension.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/contrib.py', 'libs/skyline-apiserver/skyline_apiserver/client/utils.py']",12,2230c5d0e3e5c4807a909027e7dc94726a887370,," global_request_id: str = None, client = KeystoneClient( version=version, session=session, endpoint=endpoint, global_request_id=global_request_id, ) global_request_id: str = None, client = GlanceClient( version=version, session=session, endpoint=endpoint, global_request_id=global_request_id, ) global_request_id: str = None, client = NovaClient( version=version, session=session, endpoint_override=endpoint, global_request_id=global_request_id, ) global_request_id: str, client = CinderClient( version=version, session=session, endpoint_override=endpoint, global_request_id=global_request_id, ) global_request_id: str = None, client = NeutronClient( version=version, session=session, endpoint_override=endpoint, global_request_id=global_request_id, )"," client = KeystoneClient(version=version, session=session, endpoint=endpoint) client = GlanceClient(version=version, session=session, endpoint=endpoint) client = NovaClient(version=version, session=session, endpoint_override=endpoint) client = CinderClient(version=version, session=session, endpoint_override=endpoint) client = NeutronClient(version=version, session=session, endpoint_override=endpoint)",236,41
openstack%2Fskyline-console~master~I3b3cf4b2a76aad13ebe79fc1a02d036ed163b9c4,openstack/skyline-console,master,I3b3cf4b2a76aad13ebe79fc1a02d036ed163b9c4,fix: Fix the prompts in batch deletion,MERGED,2021-08-24 01:41:57.000000000,2021-08-25 03:11:53.000000000,2021-08-25 03:11:53.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-24 01:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/940af55e569cd8e9be4168afadfb6d355e5c06ab', 'message': 'fix: Fix the prompts in batch deletion\n\nWhen batch deletion error, the error message will pop up according to the queue\n\nChange-Id: I3b3cf4b2a76aad13ebe79fc1a02d036ed163b9c4\n'}, {'number': 2, 'created': '2021-08-25 03:03:34.000000000', 'files': ['src/containers/Action/ConfirmAction/index.jsx', 'src/components/Tables/Base/ActionButton/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e504f7e3c6c8f301a351b113f7728fc69f1f3580', 'message': 'fix: Fix the prompts in batch deletion\n\nWhen batch deletion error, the error message will pop up according to the queue\n\nChange-Id: I3b3cf4b2a76aad13ebe79fc1a02d036ed163b9c4\n'}]",0,805747,e504f7e3c6c8f301a351b113f7728fc69f1f3580,9,2,2,33689,,,0,"fix: Fix the prompts in batch deletion

When batch deletion error, the error message will pop up according to the queue

Change-Id: I3b3cf4b2a76aad13ebe79fc1a02d036ed163b9c4
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/47/805747/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/containers/Action/ConfirmAction/index.jsx', 'src/components/Tables/Base/ActionButton/index.jsx']",2,940af55e569cd8e9be4168afadfb6d355e5c06ab,open-35002," const results = Promise.allSettled(promises); results.then((res) => { const failedDatas = res .map((it, idx) => { if (it.status === 'rejected') { return { data: data[idx], reason: it.reason, }; } return null; }) .filter((it) => !!it); if (failedDatas.length === 0) { return resolve(); } failedDatas.forEach((it) => { this.onShowError(it.data, it.reason); }); if (failedDatas.length === data.length) { return reject(); } return resolve(); });"," const submitErrorMsgBatch = t('Unable to batch {action} {name}.', { action: actionName.toLowerCase() || title, name, }); submitErrorMsgBatch, onShowErrorBatch = (data, error) => { // this.handleModalVisible(); const { submitErrorMsgBatch } = this.props.action; const message = submitErrorMsgBatch ? submitErrorMsgBatch(data) : getDefaultMsg(this.props.action, data).submitErrorMsgBatch; Notify.errorWithDetail(error, message); this.onCallback(false, true); }; // eslint-disable-next-line no-unused-vars const results = Promise.all(promises); // TODO: add catch to do with part error results.then( () => { resolve(); }, (error) => { reject(error); } ); }).catch((error) => { if (data.length === 1) { this.onShowError(data[0], error); } else { this.onShowErrorBatch(data, error); }",23,44
openstack%2Fskyline-apiserver~master~I658d76a04f26d3bc88fccadb5d01699440021c28,openstack/skyline-apiserver,master,I658d76a04f26d3bc88fccadb5d01699440021c28,fix:Fix the use str is blank for HTTPException,ABANDONED,2021-08-23 06:16:43.000000000,2021-08-25 03:00:16.000000000,,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-08-23 06:16:43.000000000', 'files': ['libs/skyline-apiserver/skyline_apiserver/exceptions.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/keystone.py', 'libs/skyline-apiserver/skyline_apiserver/utils/roles.py', 'libs/skyline-apiserver/skyline_apiserver/core/security.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/cinder.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/policy.py', 'libs/skyline-apiserver/skyline_apiserver/api/deps.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/glance.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/login.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/nova.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/setting.py', 'libs/skyline-apiserver/skyline_apiserver/utils/httpclient.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/extension.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/contrib.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/e27979ea6924b68eee0704ee66650db7f9fec116', 'message': 'fix:Fix the use str is blank for HTTPException\n\n1. Add __str__ to SkylineHTTPException to fix the issue.\n\nChange-Id: I658d76a04f26d3bc88fccadb5d01699440021c28\n'}]",0,805579,e27979ea6924b68eee0704ee66650db7f9fec116,4,4,1,33898,,,0,"fix:Fix the use str is blank for HTTPException

1. Add __str__ to SkylineHTTPException to fix the issue.

Change-Id: I658d76a04f26d3bc88fccadb5d01699440021c28
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/79/805579/1 && git format-patch -1 --stdout FETCH_HEAD,"['libs/skyline-apiserver/skyline_apiserver/exceptions.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/keystone.py', 'libs/skyline-apiserver/skyline_apiserver/utils/roles.py', 'libs/skyline-apiserver/skyline_apiserver/core/security.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/cinder.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/policy.py', 'libs/skyline-apiserver/skyline_apiserver/api/deps.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/glance.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/login.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/nova.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/setting.py', 'libs/skyline-apiserver/skyline_apiserver/utils/httpclient.py', 'libs/skyline-apiserver/skyline_apiserver/client/openstack/neutron.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/extension.py', 'libs/skyline-apiserver/skyline_apiserver/api/v1/contrib.py']",15,e27979ea6924b68eee0704ee66650db7f9fec116,,"from fastapi import APIRouter, statusfrom skyline_apiserver.exceptions import SkylineHTTPException raise SkylineHTTPException( raise SkylineHTTPException( raise SkylineHTTPException(","from fastapi import APIRouter, HTTPException, status raise HTTPException( raise HTTPException( raise HTTPException(",83,57
openstack%2Fskyline-console~master~I54a2f6c3e1062231992d5926b34a955141963c89,openstack/skyline-console,master,I54a2f6c3e1062231992d5926b34a955141963c89,fix: Fix attach & detach iso volume permission,MERGED,2021-08-24 01:05:00.000000000,2021-08-25 02:59:25.000000000,2021-08-25 02:59:25.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-24 01:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8c40dc3b3609eebf5c41693b3bb1b5a1574fc5e0', 'message': 'fix: Fix attach & detach iso volume permission\n\n1. Instance can attach iso volume if status is shutoff and it is not ironic\n2. Instance can detach iso volume if status is shutoff\n\nChange-Id: I54a2f6c3e1062231992d5926b34a955141963c89\n'}, {'number': 2, 'created': '2021-08-24 01:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/38267f908e29ecf334ac63f33175cb26bd4fc5f3', 'message': 'fix: Fix attach & detach iso volume permission\n\n1. Instance can attach iso volume if status is shutoff and it is not ironic\n2. Instance can detach iso volume if status is shutoff\n\nChange-Id: I54a2f6c3e1062231992d5926b34a955141963c89\n'}, {'number': 3, 'created': '2021-08-25 02:57:26.000000000', 'files': ['src/pages/compute/containers/Instance/actions/AttachIsoVolume.jsx', 'src/pages/compute/containers/Instance/actions/DetachIsoVolume.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/caf0429302fbdc979136df805a90a450e1c0e5cf', 'message': 'fix: Fix attach & detach iso volume permission\n\n1. Instance can attach iso volume if status is shutoff and it is not ironic\n2. Instance can detach iso volume if status is shutoff\n\nChange-Id: I54a2f6c3e1062231992d5926b34a955141963c89\n'}]",0,805744,caf0429302fbdc979136df805a90a450e1c0e5cf,11,2,3,33689,,,0,"fix: Fix attach & detach iso volume permission

1. Instance can attach iso volume if status is shutoff and it is not ironic
2. Instance can detach iso volume if status is shutoff

Change-Id: I54a2f6c3e1062231992d5926b34a955141963c89
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/44/805744/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/AttachIsoVolume.jsx', 'src/pages/compute/containers/Instance/actions/DetachIsoVolume.jsx']",2,8c40dc3b3609eebf5c41693b3bb1b5a1574fc5e0,open-34968," isShutOff, static allowed = (item, containerProps) => { const { isAdminPage } = containerProps; !isAdminPage && isNotDeleting(item) && isShutOff(item) };"," isActive, isBuilding, static allowed = (item) => isNotDeleting(item) && !isActive(item) && !isBuilding(item)",11,10
openstack%2Fskyline-console~master~If6d24acf2140fd90b72a1123cd7aeec2ea6192a1,openstack/skyline-console,master,If6d24acf2140fd90b72a1123cd7aeec2ea6192a1,fix: Fix snapshot revert for volume,MERGED,2021-08-24 09:41:47.000000000,2021-08-25 02:41:27.000000000,2021-08-25 02:41:27.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-24 09:41:47.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/stores/cinder/volume.js', 'src/resources/instance.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/66cd6d5a45493bf44dd92936bcef43995e18cc42', 'message': 'fix: Fix snapshot revert for volume\n\n1. Change modal size to large to get better showing\n2. Prevent revert when the status is not available\n3. Add powerStatus to instanceStatus for instanceResult.server\n\nChange-Id: If6d24acf2140fd90b72a1123cd7aeec2ea6192a1\n'}]",0,805799,66cd6d5a45493bf44dd92936bcef43995e18cc42,6,2,1,33689,,,0,"fix: Fix snapshot revert for volume

1. Change modal size to large to get better showing
2. Prevent revert when the status is not available
3. Add powerStatus to instanceStatus for instanceResult.server

Change-Id: If6d24acf2140fd90b72a1123cd7aeec2ea6192a1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/99/805799/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/stores/cinder/volume.js', 'src/resources/instance.jsx']",5,66cd6d5a45493bf44dd92936bcef43995e18cc42,open-34892," ...powerStatus,",,8,7
openstack%2Fnova~master~I61fded6f513c18dbd0248ed54fc58a318dc05416,openstack/nova,master,I61fded6f513c18dbd0248ed54fc58a318dc05416,fup: Increase service_down_time beyond INITIAL_REPORTING_DELAY in test,MERGED,2021-08-23 17:19:18.000000000,2021-08-25 02:29:28.000000000,2021-08-25 02:25:51.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 17:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5319548f7213bb0ace2e645b0d5fa30d7e530c4e', 'message': 'fup: Increase service_down_time beyond INITIAL_REPORTING_DELAY in test\n\nWith service_down_time set to 5 seconds we could easily race the initial\nreport from the service that is controlled by\nnova.servicegroup.api.INITIAL_REPORTING_DELAY which also defaults to 5\nseconds.\n\nThis change simply increases service_down_time to 10 seconds to avoid\nthis race, ensuring disabled but alive computes report in and continue\nto be marked as up by the servicegroup API.\n\nCloses-Bug: #1940741\nChange-Id: I61fded6f513c18dbd0248ed54fc58a318dc05416\n'}, {'number': 2, 'created': '2021-08-23 17:37:10.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1938326.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e8267f703d040b6e8b56d5c0f3ed669170cbb2d', 'message': 'fup: Increase service_down_time beyond INITIAL_REPORTING_DELAY in test\n\nWith service_down_time set to 5 seconds we could easily race the initial\nreport from the service that is controlled by\nnova.servicegroup.api.INITIAL_REPORTING_DELAY which also defaults to 5\nseconds.\n\nThis change simply increases service_down_time to 6 seconds to avoid\nthis race, ensuring disabled but alive computes are able to initially\nreport in and continue to be marked as up by the servicegroup API.\n\nCloses-Bug: #1940741\nChange-Id: I61fded6f513c18dbd0248ed54fc58a318dc05416\n'}]",1,805667,5e8267f703d040b6e8b56d5c0f3ed669170cbb2d,15,3,2,10135,,,0,"fup: Increase service_down_time beyond INITIAL_REPORTING_DELAY in test

With service_down_time set to 5 seconds we could easily race the initial
report from the service that is controlled by
nova.servicegroup.api.INITIAL_REPORTING_DELAY which also defaults to 5
seconds.

This change simply increases service_down_time to 6 seconds to avoid
this race, ensuring disabled but alive computes are able to initially
report in and continue to be marked as up by the servicegroup API.

Closes-Bug: #1940741
Change-Id: I61fded6f513c18dbd0248ed54fc58a318dc05416
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/805667/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1938326.py'],1,5319548f7213bb0ace2e645b0d5fa30d7e530c4e,, self.flags(service_down_time=10), self.flags(service_down_time=5),1,1
openstack%2Fnova~stable%2Fstein~Ie62d3566230aa3e2786d129adbb2e3570b06e4c6,openstack/nova,stable/stein,Ie62d3566230aa3e2786d129adbb2e3570b06e4c6,Prevent archiving of pci_devices records because of 'instance_uuid',MERGED,2020-11-02 18:15:37.000000000,2021-08-25 02:27:50.000000000,2021-08-25 02:25:33.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-02 18:15:37.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/da91b19d8be3b9cad8f713a3218a08e2d50238c8', 'message': 'Prevent archiving of pci_devices records because of \'instance_uuid\'\n\nCurrently in the archive_deleted_rows code, we will attempt to clean up\n""residue"" of deleted instance records by assuming any table with a\n\'instance_uuid\' column represents data tied to an instance\'s lifecycle\nand delete such records.\n\nThis behavior poses a problem in the case where an instance has a PCI\ndevice allocated and someone deletes the instance. The \'instance_uuid\'\ncolumn in the pci_devices table is used to track the allocation\nassociation of a PCI with an instance. There is a small time window\nduring which the instance record has been deleted but the PCI device\nhas not yet been freed from a database record perspective as PCI\ndevices are freed during the _complete_deletion method in the compute\nmanager as part of the resource tracker update call.\n\nRecords in the pci_devices table are anyway not related to the\nlifecycle of instances so they should not be considered residue to\nclean up if an instance is deleted. This adds a condition to avoid\narchiving pci_devices on the basis of an instance association.\n\nCloses-Bug: #1899541\n\nConflicts:\n    nova/db/sqlalchemy/api.py\n    nova/tests/functional/db/test_archive.py\n\nNOTE(melwitt): The conflicts are because change\nI9725f752f8aef8066f7c9705e87610cad887bf8e (refactor nova-manage\narchive_deleted_rows) and change\nId16c3d91d9ce5db9ffd125b59fffbfedf4a6843d (nova-manage db\narchive_deleted_rows is not multi-cell aware) are not in Stein.\n\nChange-Id: Ie62d3566230aa3e2786d129adbb2e3570b06e4c6\n(cherry picked from commit 1c256cf774693e2395ae8fe4a7a2f416a7aeb03a)\n(cherry picked from commit 09784db62fcd01124a101c4c69cab6e71e1ac781)\n(cherry picked from commit 79df36fecf8c8be5ae9d59397882ac844852043e)\n(cherry picked from commit e3bb6119cf2d0a503768979312aea4d10cf85cda)\n'}]",0,760984,da91b19d8be3b9cad8f713a3218a08e2d50238c8,19,6,1,4690,,,0,"Prevent archiving of pci_devices records because of 'instance_uuid'

Currently in the archive_deleted_rows code, we will attempt to clean up
""residue"" of deleted instance records by assuming any table with a
'instance_uuid' column represents data tied to an instance's lifecycle
and delete such records.

This behavior poses a problem in the case where an instance has a PCI
device allocated and someone deletes the instance. The 'instance_uuid'
column in the pci_devices table is used to track the allocation
association of a PCI with an instance. There is a small time window
during which the instance record has been deleted but the PCI device
has not yet been freed from a database record perspective as PCI
devices are freed during the _complete_deletion method in the compute
manager as part of the resource tracker update call.

Records in the pci_devices table are anyway not related to the
lifecycle of instances so they should not be considered residue to
clean up if an instance is deleted. This adds a condition to avoid
archiving pci_devices on the basis of an instance association.

Closes-Bug: #1899541

Conflicts:
    nova/db/sqlalchemy/api.py
    nova/tests/functional/db/test_archive.py

NOTE(melwitt): The conflicts are because change
I9725f752f8aef8066f7c9705e87610cad887bf8e (refactor nova-manage
archive_deleted_rows) and change
Id16c3d91d9ce5db9ffd125b59fffbfedf4a6843d (nova-manage db
archive_deleted_rows is not multi-cell aware) are not in Stein.

Change-Id: Ie62d3566230aa3e2786d129adbb2e3570b06e4c6
(cherry picked from commit 1c256cf774693e2395ae8fe4a7a2f416a7aeb03a)
(cherry picked from commit 09784db62fcd01124a101c4c69cab6e71e1ac781)
(cherry picked from commit 79df36fecf8c8be5ae9d59397882ac844852043e)
(cherry picked from commit e3bb6119cf2d0a503768979312aea4d10cf85cda)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/760984/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_archive.py', 'nova/db/sqlalchemy/api.py']",2,da91b19d8be3b9cad8f713a3218a08e2d50238c8,bug/1899541, if ((max_rows is None or rows_archived < max_rows) and # NOTE(melwitt): The pci_devices table uses the 'instance_uuid' # column to track the allocated association of a PCI device and its # records are not tied to the lifecycles of instance records. (tablename != 'pci_devices' and 'instance_uuid' in columns)):, if ((max_rows is None or rows_archived < max_rows) and 'instance_uuid' in columns):,21,2
openstack%2Fneutron-tempest-plugin~master~I624f53e39c4bcdd988900aca375ee5e4ddd445fe,openstack/neutron-tempest-plugin,master,I624f53e39c4bcdd988900aca375ee5e4ddd445fe,Check if advanced image flavor already exists,MERGED,2021-08-24 14:42:47.000000000,2021-08-25 02:25:37.000000000,2021-08-25 02:25:37.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 14:42:47.000000000', 'files': ['devstack/functions.sh'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d30297b7d4ae050e5f027ca083d7a98598ea25a6', 'message': 'Check if advanced image flavor already exists\n\nFlavor added in 79c679683dd93c1df412f81533af6bf72e2395d0 fails in\nat least stable/wallaby neutron-ovn-tempest-slow job, as the flavor\nalready exists.\n\nThis checks if a flavor with this name already exists before trying to\ncreate it\n\nChange-Id: I624f53e39c4bcdd988900aca375ee5e4ddd445fe\nRelated-Bug: #1940243\n'}]",0,805864,d30297b7d4ae050e5f027ca083d7a98598ea25a6,12,5,1,21798,,,0,"Check if advanced image flavor already exists

Flavor added in 79c679683dd93c1df412f81533af6bf72e2395d0 fails in
at least stable/wallaby neutron-ovn-tempest-slow job, as the flavor
already exists.

This checks if a flavor with this name already exists before trying to
create it

Change-Id: I624f53e39c4bcdd988900aca375ee5e4ddd445fe
Related-Bug: #1940243
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/64/805864/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/functions.sh'],1,d30297b7d4ae050e5f027ca083d7a98598ea25a6,, if [[ -z $(openstack flavor list | grep $name) ]]; then openstack flavor create --ram $ram --disk $disk --vcpus $vcpus $name fi, openstack flavor create --ram $ram --disk $disk --vcpus $vcpus $name,3,1
openstack%2Fpuppet-gnocchi~master~I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8,openstack/puppet-gnocchi,master,I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8,Use oslo::coordination to manage coordination backend packages,MERGED,2021-05-22 05:05:28.000000000,2021-08-25 02:23:01.000000000,2021-08-25 02:23:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-22 05:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/1c8fc741bb49525f288c418f2529fa675c1aa063', 'message': 'Use oslo::coordination to manage coordination backend packages\n\nThis change replaces current implementation to manage packages for\ncoordination backend by oslo::coordination resource type, so that we\ncan gather all logics related to coordination in a single place.\n\nBecause Gnocchi is not using a common parameter name, configuration\nis still managed by gnocchi class.\n\nDepends-on: https://review.opendev.org/792535\nChange-Id: I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8\n'}, {'number': 2, 'created': '2021-05-23 07:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/ba63c523f9fa99acf528aaf94e63178108ed06b8', 'message': 'Use oslo::coordination to manage coordination backend packages\n\nThis change replaces current implementation to manage packages for\ncoordination backend by oslo::coordination resource type, so that we\ncan gather all logics related to coordination in a single place.\n\nBecause Gnocchi is not using a common parameter name, configuration\nis still managed by gnocchi class.\n\nDepends-on: https://review.opendev.org/792535\nChange-Id: I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8\n'}, {'number': 3, 'created': '2021-05-24 16:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/2a9e620d800302ced733d2ba9cf89f85bce000bb', 'message': 'Use oslo::coordination to manage coordination backend packages\n\nThis change replaces current implementation to manage packages for\ncoordination backend by oslo::coordination resource type, so that we\ncan gather all logics related to coordination in a single place.\n\nBecause Gnocchi is not using a common parameter name, configuration\nis still managed by gnocchi class.\n\nDepends-on: https://review.opendev.org/792535\nChange-Id: I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8\n'}, {'number': 4, 'created': '2021-05-28 00:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/5590f507d9f39687ba53a03fe0e32279a74a3c19', 'message': 'Use oslo::coordination to manage coordination backend packages\n\nThis change replaces current implementation to manage packages for\ncoordination backend by oslo::coordination resource type, so that we\ncan gather all logics related to coordination in a single place.\n\nBecause Gnocchi is not using a common parameter name, configuration\nis still managed by gnocchi class.\n\nDepends-on: https://review.opendev.org/792535\nChange-Id: I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8\n'}, {'number': 5, 'created': '2021-06-05 02:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/131c60314fa15192beedee22d14a9d563d3c8e14', 'message': 'Use oslo::coordination to manage coordination backend packages\n\nThis change replaces current implementation to manage packages for\ncoordination backend by oslo::coordination resource type, so that we\ncan gather all logics related to coordination in a single place.\n\nBecause Gnocchi is not using a common parameter name, configuration\nis still managed by gnocchi class.\n\nDepends-on: https://review.opendev.org/792535\nChange-Id: I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8\n'}, {'number': 6, 'created': '2021-08-20 15:14:13.000000000', 'files': ['spec/classes/gnocchi_storage_spec.rb', 'spec/classes/gnocchi_init_spec.rb', 'manifests/init.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/f0371cecf205f011781c14780f6d029e0e217ae6', 'message': 'Use oslo::coordination to manage coordination backend packages\n\nThis change replaces current implementation to manage packages for\ncoordination backend by oslo::coordination resource type, so that we\ncan gather all logics related to coordination in a single place.\n\nBecause Gnocchi is not using a common parameter name, configuration\nis still managed by gnocchi class.\n\nDepends-on: https://review.opendev.org/792535\nChange-Id: I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8\n'}]",0,792716,f0371cecf205f011781c14780f6d029e0e217ae6,24,3,6,9816,,,0,"Use oslo::coordination to manage coordination backend packages

This change replaces current implementation to manage packages for
coordination backend by oslo::coordination resource type, so that we
can gather all logics related to coordination in a single place.

Because Gnocchi is not using a common parameter name, configuration
is still managed by gnocchi class.

Depends-on: https://review.opendev.org/792535
Change-Id: I9998d1351ec656fd2e4c0eee8de16f4c65d1aeb8
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/16/792716/6 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/gnocchi_storage_spec.rb', 'spec/classes/gnocchi_init_spec.rb', 'manifests/init.pp']",3,1c8fc741bb49525f288c418f2529fa675c1aa063,coordination, oslo::coordination{ 'gnocchi_config': backend_url => $coordination_url; manage_config => false; }," if ($coordination_url =~ /^redis/ ) { ensure_packages('python-redis', { ensure => $package_ensure, name => $::gnocchi::params::redis_package_name, tag => 'openstack', }) }",13,40
openstack%2Fnova~stable%2Fstein~Id3e4452883f6a3cf44ff58b39ded82e882e28c23,openstack/nova,stable/stein,Id3e4452883f6a3cf44ff58b39ded82e882e28c23,"Move 'check-cherry-picks' test to gate, n-v check",MERGED,2021-08-16 08:47:12.000000000,2021-08-25 01:50:49.000000000,2021-08-25 01:46:41.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 08:47:12.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/1960b50f0d9646e12a8e8849579fab8c047885a8', 'message': ""Move 'check-cherry-picks' test to gate, n-v check\n\nThis currently runs in the 'check' pipeline, as part of the pep8 job,\nwhich causes otherwise perfectly valid backports to report as failing\nCI. There's no reason a stable core shouldn't be encouraged to review\nthese patches: we simply want to prevent them *merging* before their\nparent(s). Resolve this conflict by moving the check to separate voting\njob in the 'gate' pipeline as well as a non-voting job in the 'check'\npipeline to catch more obvious issues.\n\nConflicts:\n    .zuul.yaml\n\nNOTE(elod.illes): conflict is due to train related zuul job updates,\nlike Ia1289f038b92c36dbdd79bcdf12d7cb95a3e5aa9 that is not present in\nstein.\n\nChange-Id: Id3e4452883f6a3cf44ff58b39ded82e882e28c23\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 98b01c9a59df4912f5a162c2c52d1f00c84d24c2)\n(cherry picked from commit fef0305abefbf165fecb883f03bce97f525a790a)\n(cherry picked from commit b7677ae08ae151858ecb0e67039e54bb3df89700)\n(cherry picked from commit 91314f7fbba312d4438fa446804f692d316512a8)\n(cherry picked from commit de94f429474713a68d5efc53677bc468f02dc112)\n""}]",0,804615,1960b50f0d9646e12a8e8849579fab8c047885a8,8,3,1,17685,,,0,"Move 'check-cherry-picks' test to gate, n-v check

This currently runs in the 'check' pipeline, as part of the pep8 job,
which causes otherwise perfectly valid backports to report as failing
CI. There's no reason a stable core shouldn't be encouraged to review
these patches: we simply want to prevent them *merging* before their
parent(s). Resolve this conflict by moving the check to separate voting
job in the 'gate' pipeline as well as a non-voting job in the 'check'
pipeline to catch more obvious issues.

Conflicts:
    .zuul.yaml

NOTE(elod.illes): conflict is due to train related zuul job updates,
like Ia1289f038b92c36dbdd79bcdf12d7cb95a3e5aa9 that is not present in
stein.

Change-Id: Id3e4452883f6a3cf44ff58b39ded82e882e28c23
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 98b01c9a59df4912f5a162c2c52d1f00c84d24c2)
(cherry picked from commit fef0305abefbf165fecb883f03bce97f525a790a)
(cherry picked from commit b7677ae08ae151858ecb0e67039e54bb3df89700)
(cherry picked from commit 91314f7fbba312d4438fa446804f692d316512a8)
(cherry picked from commit de94f429474713a68d5efc53677bc468f02dc112)
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/804615/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,1960b50f0d9646e12a8e8849579fab8c047885a8,cherry-pick-in-gate-queue,[testenv:validate-backport] description = Determine whether a backport is ready to be merged by checking whether it has already been merged to master or more recent stable branches. deps = skipsdist = true commands = bash tools/check-cherry-picks.sh , bash tools/check-cherry-picks.sh,23,1
openstack%2Fkeystone~master~I9d4c08fa234989cb0ab9fb4fe7a0533485c899b0,openstack/keystone,master,I9d4c08fa234989cb0ab9fb4fe7a0533485c899b0,Add a missing parameter auth,ABANDONED,2021-08-21 12:09:35.000000000,2021-08-25 01:49:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-21 12:09:35.000000000', 'files': ['api-ref/source/v3/application-credentials.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e1b1c381363c6a4e2d273b37ec6522beccb8a606', 'message': 'Add a missing parameter auth\n\nChange-Id: I9d4c08fa234989cb0ab9fb4fe7a0533485c899b0\n'}]",0,805480,e1b1c381363c6a4e2d273b37ec6522beccb8a606,3,1,1,33899,,,0,"Add a missing parameter auth

Change-Id: I9d4c08fa234989cb0ab9fb4fe7a0533485c899b0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/80/805480/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/application-credentials.inc'],1,e1b1c381363c6a4e2d273b37ec6522beccb8a606,, - auth: request_auth_body_required,,1,0
openstack%2Ftripleo-heat-templates~master~I0adfcdbbba971a1991caecfcdc3087e2a679e69a,openstack/tripleo-heat-templates,master,I0adfcdbbba971a1991caecfcdc3087e2a679e69a,Adjust HAProxy script to allow for ID change,ABANDONED,2021-08-25 01:16:32.000000000,2021-08-25 01:17:15.000000000,,[],"[{'number': 1, 'created': '2021-08-25 01:16:32.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39d360c4d360953c6c2161dfaeda22d3ef1d0bf9', 'message': ""Adjust HAProxy script to allow for ID change\n\nIt is possible that the UID of the container\nchanges between our first parse and the script\nwe execute to copy the TLS Cert. We can re-check\nthe container ID in the script to be safe.\n\nAlso, we need to fail appropriately if we can't\nfind the container, or can't restart it.\n\nRelated rhbz#1973674\nCloses-Bug: #1940729\nChange-Id: Ifafb2e71da1a921eeba8d8c6197cfb74d1ee045e\n\nChange-Id: I0adfcdbbba971a1991caecfcdc3087e2a679e69a\n""}]",0,805920,39d360c4d360953c6c2161dfaeda22d3ef1d0bf9,2,0,1,30073,,,0,"Adjust HAProxy script to allow for ID change

It is possible that the UID of the container
changes between our first parse and the script
we execute to copy the TLS Cert. We can re-check
the container ID in the script to be safe.

Also, we need to fail appropriately if we can't
find the container, or can't restart it.

Related rhbz#1973674
Closes-Bug: #1940729
Change-Id: Ifafb2e71da1a921eeba8d8c6197cfb74d1ee045e

Change-Id: I0adfcdbbba971a1991caecfcdc3087e2a679e69a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/805920/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,39d360c4d360953c6c2161dfaeda22d3ef1d0bf9,bug/1940729," container_id=$({{ container_cli }} ps --filter name=haproxy-bundle -q) if [[ ""x$container_id"" ! = ""x"" ]]; then tar -c {{ cert_path }} | {{ container_cli }} exec -i $container_id tar -C / -xv {{ container_cli }} exec --user root $container_id chgrp haproxy {{ cert_path }} {{ container_cli }} kill --signal=HUP $container_id - (""no such container"" in container_kill_result.stderr) - (""container state improper"" in container_kill_result.stderr)"," if {{ container_cli }} ps -f ""id={{ item }}"" --format ""{{ '{{' }}.Names{{ '}}' }}"" | grep -q ""^haproxy-bundle""; then tar -c {{ cert_path }} | {{container_cli}} exec -i {{ item }} tar -C / -xv {{ container_cli }} exec --user root {{ item }} chgrp haproxy {{ cert_path }} {{ container_cli }} kill --signal=HUP {{ item }} - (""no such container"" not in container_kill_result.stderr) - (""container state improper"" not in container_kill_result.stderr)",7,6
openstack%2Fpython-tripleoclient~master~Iba653b7990d26041bde2f725b99a68c96c803ff1,openstack/python-tripleoclient,master,Iba653b7990d26041bde2f725b99a68c96c803ff1,Restore kernel and ramdisk arguments to node configure,MERGED,2021-08-12 06:19:04.000000000,2021-08-25 01:07:46.000000000,2021-08-25 01:06:25.000000000,"[{'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-12 06:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2094f70d90c3c67eeb8af74c34a28a74acddc3f2', 'message': 'fix openstack overcloud node configure removes kernel and ramdisk\n\nChange-Id: Iba653b7990d26041bde2f725b99a68c96c803ff1\n'}, {'number': 2, 'created': '2021-08-12 06:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/60cc055ccc3fb341eeab94d7619791aa88c715b6', 'message': 'fix openstack overcloud node configure removes kernel and ramdisk\n\nChange-Id: Iba653b7990d26041bde2f725b99a68c96c803ff1\nCloses-Bug: #1939624\n'}, {'number': 3, 'created': '2021-08-12 06:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1a227ebbcc11647df84125f2bb3dca2c99c8a5f8', 'message': 'fix openstack overcloud node configure removes kernel and ramdisk\n\nChange-Id: Iba653b7990d26041bde2f725b99a68c96c803ff1\nCloses-Bug: #1939624\n'}, {'number': 4, 'created': '2021-08-15 07:20:22.000000000', 'files': ['tripleoclient/workflows/baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a3c726c2267c505e1d8f7e69b9f08c906cc9cdf6', 'message': 'Restore kernel and ramdisk arguments to node configure\n\nthis change fixing a bug with ""openstack overcloud node configure"" cli. running the mentioned\ncommand with or without ""--deploy-kernel"" ""--deploy-ramdisk"" will result with baremetals which does\nnot have any kernel and ramdisk setted\n\nChange-Id: Iba653b7990d26041bde2f725b99a68c96c803ff1\nCloses-Bug: #1939624\n'}]",6,804331,a3c726c2267c505e1d8f7e69b9f08c906cc9cdf6,31,5,4,16690,,,0,"Restore kernel and ramdisk arguments to node configure

this change fixing a bug with ""openstack overcloud node configure"" cli. running the mentioned
command with or without ""--deploy-kernel"" ""--deploy-ramdisk"" will result with baremetals which does
not have any kernel and ramdisk setted

Change-Id: Iba653b7990d26041bde2f725b99a68c96c803ff1
Closes-Bug: #1939624
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/31/804331/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,2094f70d90c3c67eeb8af74c34a28a74acddc3f2,bug/1939624,,,0,0
openstack%2Fopenstack-ansible~master~Ia487529a3bed7646ae04a376a5133121fa01fe93,openstack/openstack-ansible,master,Ia487529a3bed7646ae04a376a5133121fa01fe93,Set bullseye jobs to voting,MERGED,2021-08-19 09:33:52.000000000,2021-08-25 00:59:26.000000000,2021-08-25 00:55:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-19 09:33:52.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/afebcb984818a0179da7aba2466290318b800c8a', 'message': 'Set bullseye jobs to voting\n\nDebian Bullseye has been released and we were able to bump MariaDB\nversion for it, which was original reason for setting it as NV.\n\nChange-Id: Ia487529a3bed7646ae04a376a5133121fa01fe93\n'}]",0,805172,afebcb984818a0179da7aba2466290318b800c8a,12,3,1,28619,,,0,"Set bullseye jobs to voting

Debian Bullseye has been released and we were able to bump MariaDB
version for it, which was original reason for setting it as NV.

Change-Id: Ia487529a3bed7646ae04a376a5133121fa01fe93
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/805172/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,afebcb984818a0179da7aba2466290318b800c8a,,, voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false,7,9
openstack%2Fpuppet-aodh~stable%2Fwallaby~I887c7605eca21cb7269d4c0188378aabaeb03721,openstack/puppet-aodh,stable/wallaby,I887c7605eca21cb7269d4c0188378aabaeb03721,Fix ignored parameters of aodh::auth,MERGED,2021-08-24 13:37:21.000000000,2021-08-25 00:41:41.000000000,2021-08-25 00:41:41.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 13:37:21.000000000', 'files': ['manifests/service_credentials.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/4551518ae1c7a7cac94016f46c9ba05605570ddc', 'message': 'Fix ignored parameters of aodh::auth\n\nThe aodh::auth class has been deprecated in favor of the new\naodh::service_credentials class but some of its parameters are ignored\nbecause of the wrong parameter name.\nThis change fixes it and ensure all parameters are used even when\nthe deprecated class is used.\n\nChange-Id: I887c7605eca21cb7269d4c0188378aabaeb03721\n(cherry picked from commit 8c2a3a43222b5fbd016f11c7c00c514b86b7ead0)\n'}]",0,805817,4551518ae1c7a7cac94016f46c9ba05605570ddc,13,3,1,9816,,,0,"Fix ignored parameters of aodh::auth

The aodh::auth class has been deprecated in favor of the new
aodh::service_credentials class but some of its parameters are ignored
because of the wrong parameter name.
This change fixes it and ensure all parameters are used even when
the deprecated class is used.

Change-Id: I887c7605eca21cb7269d4c0188378aabaeb03721
(cherry picked from commit 8c2a3a43222b5fbd016f11c7c00c514b86b7ead0)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/17/805817/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/service_credentials.pp'],1,4551518ae1c7a7cac94016f46c9ba05605570ddc,auth-wrong-param," $region_name_real = pick($::aodh::auth::auth_region, $region_name) $username_real = pick($::aodh::auth::auth_user, $username)"," $region_name_real = pick($::aodh::auth_region, $region_name) $username_real = pick($::aodh::auth_user, $username)",2,2
openstack%2Freleases~master~Ic7893c314bb5b90a991e047206c505a62c383ede,openstack/releases,master,Ic7893c314bb5b90a991e047206c505a62c383ede,Tag governance 0.9.0 for march 2021 elections,MERGED,2021-08-20 16:32:15.000000000,2021-08-25 00:19:59.000000000,2021-08-23 08:08:51.000000000,"[{'_account_id': 308}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-20 16:32:15.000000000', 'files': ['deliverables/_independent/openstack-governance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4fa99e53daa2d8a4e6bd7ab6a2ff8e10fd09fb20', 'message': 'Tag governance 0.9.0 for march 2021 elections\n\nthis tag is missing for old electrion march 2021.\n\nhash as per the march election email deadline is taken:\n2021-03-08\n\nChange-Id: Ic7893c314bb5b90a991e047206c505a62c383ede\n'}]",0,805437,4fa99e53daa2d8a4e6bd7ab6a2ff8e10fd09fb20,12,6,1,8556,,,0,"Tag governance 0.9.0 for march 2021 elections

this tag is missing for old electrion march 2021.

hash as per the march election email deadline is taken:
2021-03-08

Change-Id: Ic7893c314bb5b90a991e047206c505a62c383ede
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/805437/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstack-governance.yaml'],1,4fa99e53daa2d8a4e6bd7ab6a2ff8e10fd09fb20,, - version: 0.9.0 projects: - repo: openstack/governance hash: 60268b8504a6b49e5ccc81fb9ceaa3bbd2f5562c tarball-base: openstack-governance,,5,0
openstack%2Felection~master~I01e41728375f2b6c9a241ec6b27ecb8429a6cd00,openstack/election,master,I01e41728375f2b6c9a241ec6b27ecb8429a6cd00,Tim Burke candidacy for Swift PTL (Yoga),MERGED,2021-08-24 22:57:57.000000000,2021-08-25 00:01:46.000000000,2021-08-24 23:59:17.000000000,"[{'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 22:57:57.000000000', 'files': ['candidates/yoga/Swift/tburke@nvidia.com'], 'web_link': 'https://opendev.org/openstack/election/commit/9043c6c9ec3280194b71fd697b54a9e18391634e', 'message': 'Tim Burke candidacy for Swift PTL (Yoga)\n\nChange-Id: I01e41728375f2b6c9a241ec6b27ecb8429a6cd00\n'}]",0,805915,9043c6c9ec3280194b71fd697b54a9e18391634e,8,2,1,15343,,,0,"Tim Burke candidacy for Swift PTL (Yoga)

Change-Id: I01e41728375f2b6c9a241ec6b27ecb8429a6cd00
",git fetch https://review.opendev.org/openstack/election refs/changes/15/805915/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Swift/tburke@nvidia.com'],1,9043c6c9ec3280194b71fd697b54a9e18391634e,,"It would be my pleasure to continue serving as Swift PTL for the Yoga cycle. This past cycle, we have continued our commitment to operational excellence. We've improved several features vital to large clusters, such as container sharding, partition power increases, and storage-policy reconciliation. We've improved the durability of erasure-coded data immediately after a write. We've made our logs, metrics, and errors more useful. We focus on operators for several reasons. Operators are at the junction of the software we write, the hardware we use, and the clients we serve. They have perhaps the best perspective to see the value-to-effort ratio of prospective improvements. They run the experiments that establish and optimize deployment patterns. They manage the drives and networking that allow us to serve hundreds of petabytes at terabits per second, and their projections tell us that storage must become bigger and faster. Thinking like an operator, there are several areas where Swift should improve. Replication and reconstruction continue to be a delicate balancing act between moving data for the sake of expansion vs. ensuring durability. We need a better handle on which data gets accessed, how frequently, and with what sort of performance -- ideally indexed by tenant and even user. As more clusters are stood up in more regions, we need to improve monitoring and recovery such that clusters can run with minimal human intervention. I look forward to working with the community to bring Swift into a future of ever-larger and ever-more-numerous clusters. ",,26,0
openstack%2Felection~master~I206a8a2549e75476b52e42135c26634f00c33201,openstack/election,master,I206a8a2549e75476b52e42135c26634f00c33201,Adding Feilong Wang candidacy for Magnum,MERGED,2021-08-24 22:43:23.000000000,2021-08-25 00:00:39.000000000,2021-08-24 23:59:16.000000000,"[{'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 22:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/4e92722b5950a61f836acb11c831dfef88eaa5a9', 'message': 'Adding Feilong Wang candidacy for Magnum\n\nChange-Id: I206a8a2549e75476b52e42135c26634f00c33201\n'}, {'number': 2, 'created': '2021-08-24 22:46:29.000000000', 'files': ['candidates/yoga/Magnum/flwang@catalyst.net.nz'], 'web_link': 'https://opendev.org/openstack/election/commit/a479b300d5c38e444df611b3eef3c79e9d27f1a1', 'message': 'Adding Feilong Wang candidacy for Magnum\n\nChange-Id: I206a8a2549e75476b52e42135c26634f00c33201\n'}]",0,805914,a479b300d5c38e444df611b3eef3c79e9d27f1a1,9,2,2,6484,,,0,"Adding Feilong Wang candidacy for Magnum

Change-Id: I206a8a2549e75476b52e42135c26634f00c33201
",git fetch https://review.opendev.org/openstack/election refs/changes/14/805914/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Magnum/flwang@catalyst.net.nz'],1,4e92722b5950a61f836acb11c831dfef88eaa5a9,flwang-magnum-yoga,"Greetings, In case if you don't know me, I've been working on and contributing to Magnum since Queens release as a core developer. And I have done a lot of work for Magnum to help it getting production-ready. Meanwhile, I'm the Head of R&D at Catalyst Cloud is a cloud provider based in New Zealand. That said, I really understand this lovely project from both upstream and downstream, and the real-world requirements from both public cloud and private cloud users, which make me a good candidate for the PTL position. In X cycle we have done quite a lot of fantastic works, but there are still some areas we can/should improve. For V release (including the rest of U cycle), things I'd like to do: 1. Keep improving the rolling upgrade feature Kubernetes community is still running fast and we need to make sure Magnum's user can continually upgrade their existing k8s cluster to a newer version without downtime. 2. Containerize Kubernetes master so as to resize it This could be one of the most interesting features for Magnum and it's definitely hard work. Running Kubernetes master nodes in a seed/root Kubernetes could bring us a lot of benefits. 3. Get rid of the discovery service Now Magnum still depends on the external discovery service to bootstrap multi masters which introduces some issues when the cloud is in a private environment cannot reach external Internet. It has been a fantastic experience working with this amazing team and I know without the dedication and hard work of everyone who has contributed to Magnum we can't get those good work done. So the PTL of this cool team is most like a facilitator, coordinator, and mentor. I would be pleased to serve as PTL for Magnum for the Y cycle and I'd appreciate your vote. Thanks for your consideration! ",,42,0
openstack%2Foctavia-tempest-plugin~master~I6eb81eafce5c3bdd95b23c41497a8622d8432735,openstack/octavia-tempest-plugin,master,I6eb81eafce5c3bdd95b23c41497a8622d8432735,DNM - Testing devstack debug,ABANDONED,2021-04-14 16:01:10.000000000,2021-08-24 22:22:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-14 16:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6a6b4167d5ea03a0d0abe10f3e123e6ad6d220d2', 'message': 'DNM - Testing devstack debug\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/786250\nChange-Id: I6eb81eafce5c3bdd95b23c41497a8622d8432735\n'}, {'number': 2, 'created': '2021-04-14 20:46:47.000000000', 'files': ['octavia_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4c296863ab35fb4b5fb2f021cd6ec27df6026da4', 'message': 'DNM - Testing devstack debug\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/786250\nChange-Id: I6eb81eafce5c3bdd95b23c41497a8622d8432735\n'}]",1,786275,4c296863ab35fb4b5fb2f021cd6ec27df6026da4,16,1,2,11628,,,0,"DNM - Testing devstack debug

Depends-On: https://review.opendev.org/c/openstack/devstack/+/786250
Change-Id: I6eb81eafce5c3bdd95b23c41497a8622d8432735
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/75/786275/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/config.py'],1,6a6b4167d5ea03a0d0abe10f3e123e6ad6d220d2,," help=""TestWhether or not the load-balancer service is expected """," help=""Whether or not the load-balancer service is expected """,1,1
openstack%2Fnova~master~I89d742ae01d65ab4e16fd8bd86b761f4c5d54d54,openstack/nova,master,I89d742ae01d65ab4e16fd8bd86b761f4c5d54d54,Follow up from bp/pci-socket-affinity series,MERGED,2021-03-09 18:39:28.000000000,2021-08-24 22:10:04.000000000,2021-08-24 22:08:29.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-09 18:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0810b357e260531e763ab013a7d1ac95d2ee402e', 'message': 'Follow up from bp/pci-socket-affinity series\n\nThis patch addresses outstanding nits from the bp/pci-socket-affinity\nseries. The most important is how the libvirt driver handles reporting\nthe new COMPUTE_SOCKET_PCI_NUMA_AFFINITY trait. Previously, this was\ndone by directly adding the trait in static_traits(). This patch\nswitches it to use driver capabilities.\n\nChange-Id: I89d742ae01d65ab4e16fd8bd86b761f4c5d54d54\n'}, {'number': 2, 'created': '2021-03-29 14:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a9c409a7a094a18a26d3a45dc3f9666a6b210fb', 'message': 'Follow up from bp/pci-socket-affinity series\n\nThis patch addresses outstanding nits from the bp/pci-socket-affinity\nseries. The most important is how the libvirt driver handles reporting\nthe new COMPUTE_SOCKET_PCI_NUMA_AFFINITY trait. Previously, this was\ndone by directly adding the trait in static_traits(). This patch\nswitches it to use driver capabilities.\n\nChange-Id: I89d742ae01d65ab4e16fd8bd86b761f4c5d54d54\n'}, {'number': 3, 'created': '2021-03-29 14:51:37.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/pci/test_manager.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e19f6fda58dc8f76dc5fe79165e5d18292af2842', 'message': 'Follow up from bp/pci-socket-affinity series\n\nThis patch addresses outstanding nits from the bp/pci-socket-affinity\nseries. The most important is how the libvirt driver handles reporting\nthe new COMPUTE_SOCKET_PCI_NUMA_AFFINITY trait. Previously, this was\ndone by directly adding the trait in static_traits(). This patch\nswitches it to use driver capabilities.\n\nChange-Id: I89d742ae01d65ab4e16fd8bd86b761f4c5d54d54\n'}]",3,779556,e19f6fda58dc8f76dc5fe79165e5d18292af2842,33,7,3,8864,,,0,"Follow up from bp/pci-socket-affinity series

This patch addresses outstanding nits from the bp/pci-socket-affinity
series. The most important is how the libvirt driver handles reporting
the new COMPUTE_SOCKET_PCI_NUMA_AFFINITY trait. Previously, this was
done by directly adding the trait in static_traits(). This patch
switches it to use driver capabilities.

Change-Id: I89d742ae01d65ab4e16fd8bd86b761f4c5d54d54
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/779556/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/pci/test_manager.py', 'nova/virt/driver.py']",4,0810b357e260531e763ab013a7d1ac95d2ee402e,bp/pci-socket-affinity," # Added in os-traits 2.5.0. ""supports_socket_pci_numa_affinity"": \ os_traits.COMPUTE_SOCKET_PCI_NUMA_AFFINITY, ""supports_socket_pci_numa_affinity"": False,",,9,3
openstack%2Fnova~master~I977c3fd9bbb1e1d42e6979222137e7366d2815e8,openstack/nova,master,I977c3fd9bbb1e1d42e6979222137e7366d2815e8,api: Introduce microversion 2.89 adjusting os-volume_attachments,MERGED,2021-08-11 16:17:57.000000000,2021-08-24 21:40:45.000000000,2021-08-24 21:38:48.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 16:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/620c11bbfea9cd9cd631383f432456496fc8b01b', 'message': 'api: 2.89 adding attachment_id to os-volume_attachments responses\n\nThis microversion simply adds attachment_id as stored in the underlying\nbdm record to the responses of ``GET\n/servers/{server_id}/os-volume_attachments`` and ``GET\n/servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}, {'number': 2, 'created': '2021-08-11 19:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/825f4e7f4d922615eda3aaec065cb0efb90ed06d', 'message': 'api: Introduce microversion 2.89 adding attachment_id to responses\n\nThis microversion simply adds attachment_id as stored in the underlying\nbdm record to the responses of ``GET\n/servers/{server_id}/os-volume_attachments`` and ``GET\n/servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}, {'number': 3, 'created': '2021-08-11 20:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f626af71418d3d6faff649497b59f83176924d56', 'message': 'api: Introduce microversion 2.89 adding attachment_id to responses\n\nThis microversion simply adds attachment_id as stored in the underlying\nbdm record to the responses of ``GET\n/servers/{server_id}/os-volume_attachments`` and ``GET\n/servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}, {'number': 4, 'created': '2021-08-12 10:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf2c236247ea56e0f446e19f62e98cdd2c4935ff', 'message': 'api: Introduce microversion 2.89 adding attachment_id to responses\n\nThis microversion simply adds attachment_id as stored in the underlying\nbdm record to the responses of ``GET\n/servers/{server_id}/os-volume_attachments`` and ``GET\n/servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nBlueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}, {'number': 5, 'created': '2021-08-17 13:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bf112e4bafbd0fca3b53c91d1acae7bfffb8729', 'message': 'api: Introduce microversion 2.89 adding attachment_id to responses\n\nThis microversion simply adds attachment_id as stored in the underlying\nbdm record to the responses of ``GET\n/servers/{server_id}/os-volume_attachments`` and ``GET\n/servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nBlueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}, {'number': 6, 'created': '2021-08-19 16:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2878e171958022cdd96299593ac803f6f7eeba8', 'message': 'api: Introduce microversion 2.89 adjusting os-volume_attachments\n\nThis microversion adds attachment_id and bdm_uuid as stored in the\nunderlying bdm record while also removing the duplicate id field from\nthe responses of ``GET /servers/{server_id}/os-volume_attachments`` and\n``GET /servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nTo accomidate this within the _translate_attachment_summary_view helper\nis folded into _translate_attachment_detail_view with the remaining\ncaller in the now deprecated os-volumes API now replaced with a static\ndictionary.\n\nBlueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}, {'number': 7, 'created': '2021-08-23 12:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f19dccc17c638b850ab2e432064bf8209ce6981f', 'message': 'api: Introduce microversion 2.89 adjusting os-volume_attachments\n\nThis microversion adds attachment_id and bdm_uuid as stored in the\nunderlying bdm record while also removing the duplicate id field from\nthe responses of ``GET /servers/{server_id}/os-volume_attachments`` and\n``GET /servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nTo accomidate this within the _translate_attachment_summary_view helper\nis folded into _translate_attachment_detail_view with the remaining\ncaller in the now deprecated os-volumes API now replaced with a static\ndictionary.\n\nBlueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}, {'number': 8, 'created': '2021-08-24 08:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12c7517c0818cabf852421cc8965ababf6e2714b', 'message': 'api: Introduce microversion 2.89 adjusting os-volume_attachments\n\nThis microversion adds attachment_id and bdm_uuid as stored in the\nunderlying bdm record while also removing the duplicate id field from\nthe responses of ``GET /servers/{server_id}/os-volume_attachments`` and\n``GET /servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nTo accomidate this within the _translate_attachment_summary_view helper\nis folded into _translate_attachment_detail_view with the remaining\ncaller in the now deprecated os-volumes API now replaced with a static\ndictionary.\n\nBlueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}, {'number': 9, 'created': '2021-08-24 10:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f06c0158c80552dbec50de76349f332bb43e39', 'message': 'api: Introduce microversion 2.89 adjusting os-volume_attachments\n\nThis microversion adds attachment_id and bdm_uuid as stored in the\nunderlying bdm record while also removing the duplicate id field from\nthe responses of ``GET /servers/{server_id}/os-volume_attachments`` and\n``GET /servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nTo accomidate this within the _translate_attachment_summary_view helper\nis folded into _translate_attachment_detail_view with the remaining\ncaller in the now deprecated os-volumes API now replaced with a static\ndictionary.\n\nBlueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}, {'number': 10, 'created': '2021-08-24 11:09:06.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'doc/api_samples/os-volumes/v2.89/list-volume-attachments-resp.json', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/api_samples/os-volumes/v2.89/volume-attachment-detail-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/update-volume-req.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/volume-attachment-detail-resp.json.tpl', 'doc/api_samples/os-volumes/v2.89/update-volume-attachment-delete-flag-req.json', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/update-volume-attachment-delete-flag-req.json.tpl', 'nova/api/openstack/compute/volumes.py', 'api-ref/source/os-volume-attachments.inc', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/attach-volume-to-server-req.json.tpl', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/functional/api_sample_tests/test_volumes.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'doc/api_samples/os-volumes/v2.89/attach-volume-to-server-req.json', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/attach-volume-to-server-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/list-volume-attachments-resp.json.tpl', 'doc/api_samples/os-volumes/v2.89/attach-volume-to-server-resp.json', 'releasenotes/notes/add-attachment-id-to-os-volume-attachments-a23818d5b11f15a1.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac21c6674c8444edc5afd25b7d63936182fe3580', 'message': 'api: Introduce microversion 2.89 adjusting os-volume_attachments\n\nThis microversion adds attachment_id and bdm_uuid as stored in the\nunderlying bdm record while also removing the duplicate id field from\nthe responses of ``GET /servers/{server_id}/os-volume_attachments`` and\n``GET /servers/{server_id}/os-volume_attachments/{volume_id}``.\n\nTo accomidate this within the _translate_attachment_summary_view helper\nis folded into _translate_attachment_detail_view with the remaining\ncaller in the now deprecated os-volumes API now replaced with a static\ndictionary.\n\nBlueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api\nChange-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8\n'}]",41,804275,ac21c6674c8444edc5afd25b7d63936182fe3580,86,5,10,10135,,,0,"api: Introduce microversion 2.89 adjusting os-volume_attachments

This microversion adds attachment_id and bdm_uuid as stored in the
underlying bdm record while also removing the duplicate id field from
the responses of ``GET /servers/{server_id}/os-volume_attachments`` and
``GET /servers/{server_id}/os-volume_attachments/{volume_id}``.

To accomidate this within the _translate_attachment_summary_view helper
is folded into _translate_attachment_detail_view with the remaining
caller in the now deprecated os-volumes API now replaced with a static
dictionary.

Blueprint: add-attachmentid-to-responses-of-the-os-volume-attachments-api
Change-Id: I977c3fd9bbb1e1d42e6979222137e7366d2815e8
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/804275/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_volumes.py', 'doc/api_samples/os-volumes/v2.89/list-volume-attachments-resp.json', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/api_samples/os-volumes/v2.89/volume-attachment-detail-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/update-volume-req.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/volume-attachment-detail-resp.json.tpl', 'doc/api_samples/os-volumes/v2.89/update-volume-attachment-delete-flag-req.json', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/update-volume-attachment-delete-flag-req.json.tpl', 'nova/api/openstack/compute/volumes.py', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/attach-volume-to-server-req.json.tpl', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/functional/api_sample_tests/test_volumes.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'doc/api_samples/os-volumes/v2.89/attach-volume-to-server-req.json', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/attach-volume-to-server-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-volumes/v2.89/list-volume-attachments-resp.json.tpl', 'nova/tests/unit/fake_block_device.py', 'doc/api_samples/os-volumes/v2.89/attach-volume-to-server-resp.json', 'releasenotes/notes/add-attachment-id-to-os-volume-attachments-a23818d5b11f15a1.yaml']",20,620c11bbfea9cd9cd631383f432456496fc8b01b,bp/add-attachmentid-to-responses-of-the-os-volume-attachments-api,--- features: - | Microversion 2.89 has been introduced and will include the ``attachment_id`` of a volume attachment in the responses for ``GET /servers/{server_id}/os-volume_attachments`` and ``GET /servers/{server_id}/os-volume_attachments/{volume_id}``. ,,266,22
openstack%2Fcinder~master~I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea,openstack/cinder,master,I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea,[SVF]:Retype in-use hyperswap volume,MERGED,2021-03-23 10:01:10.000000000,2021-08-24 21:05:47.000000000,2021-08-24 21:03:56.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 14806}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32036}, {'_account_id': 32075}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-03-23 10:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/457b33e9181f5d5bbe0dd7059a61e116e9dd11e9', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group inforamation to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}, {'number': 2, 'created': '2021-03-23 11:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/767eaabf6ace4774a9bad558b018275218b42c4c', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group inforamation to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}, {'number': 3, 'created': '2021-03-23 12:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ee60de86aaf13075ace696aacb1be1a9d7d213c', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group inforamation to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}, {'number': 4, 'created': '2021-04-07 07:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b39730909ffa20ccb1866d7aa0261a898aff75c4', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group inforamation to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}, {'number': 5, 'created': '2021-04-12 07:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33bf5354f36eece96961d526784ab7135ec6c4ab', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group inforamation to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}, {'number': 6, 'created': '2021-04-16 08:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/098d0e007c7d91e0aa0ef914010c69d5656564fb', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group inforamation to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}, {'number': 7, 'created': '2021-06-01 12:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2efd3268d58ef47adeedce32b52d9c4268b268b5', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group inforamation to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}, {'number': 8, 'created': '2021-08-10 02:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66c65682fcd2c16a719346290f1a861cbff13d21', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group inforamation to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}, {'number': 9, 'created': '2021-08-18 10:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65f6b4ec64885c5701590bd7525fc57ef282ebe6', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group inforamation to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}, {'number': 10, 'created': '2021-08-19 17:28:24.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1920890-ibm-svf-Retype-in-use-hyperswap-volume-95a6c033e493ee59.yaml', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/91c7f040ada08be2eaf0bc59dced6d48b7cb6fe6', 'message': '[SVF]:Retype in-use hyperswap volume\n\n[Spectrum Virtualize Family] During HyperSwap volume retype,\nadding site and io group information to host if not already\nadded to host.\n\nCloses-Bug: #1920890\nChange-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea\n'}]",21,782390,91c7f040ada08be2eaf0bc59dced6d48b7cb6fe6,265,10,10,32171,,,0,"[SVF]:Retype in-use hyperswap volume

[Spectrum Virtualize Family] During HyperSwap volume retype,
adding site and io group information to host if not already
added to host.

Closes-Bug: #1920890
Change-Id: I2f52cc8e42c487c04ddb54cd2d7afe4b35d20eea
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/782390/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_fc.py']",2,457b33e9181f5d5bbe0dd7059a61e116e9dd11e9,bug/1920890," is_hyper_volume = self.is_volume_hyperswap(volume) if is_hyper_volume: host_site = self._get_volume_host_site_from_conf(volume, connector)"," host_site = self._get_volume_host_site_from_conf(volume, connector)",33,9
openstack%2Fnova~stable%2Fwallaby~Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55,openstack/nova,stable/wallaby,Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55,Fix 1vcpu error with multiqueue and vif_type=tap,MERGED,2021-08-19 20:57:39.000000000,2021-08-24 20:54:38.000000000,2021-08-24 20:52:34.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 20:57:39.000000000', 'files': ['nova/virt/libvirt/vif.py', 'releasenotes/notes/bug-1939604-547c729b7741831b.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa5b8d12bcacc01e5f9be45cc1eef24ac9efd2fc', 'message': 'Fix 1vcpu error with multiqueue and vif_type=tap\n\nFix for bug #1893263 introduced a regression where\n1 vcpu instances would fail to build when paired with\nmultiqueue-enabled images, in the scenario vif_type=tap.\n\nSolution is to not pass multiqueue parameter when\ninstances.get_flavor().vcpus = 1.\n\nConflicts:\n    nova/tests/unit/virt/libvirt/test_vif.py\n\nNOTE: Conflicts are because commit\n9d037f7d199443da0f2c6c1755704e589d52e730\nis not in the tree for this branch.\n\nCloses-bug: #1939604\nChange-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55\n(cherry picked from commit 7fc6fe6fae891eae42b36ccb9d69cd0f6d6db21d)\n'}]",0,805304,aa5b8d12bcacc01e5f9be45cc1eef24ac9efd2fc,18,3,1,14567,,,0,"Fix 1vcpu error with multiqueue and vif_type=tap

Fix for bug #1893263 introduced a regression where
1 vcpu instances would fail to build when paired with
multiqueue-enabled images, in the scenario vif_type=tap.

Solution is to not pass multiqueue parameter when
instances.get_flavor().vcpus = 1.

Conflicts:
    nova/tests/unit/virt/libvirt/test_vif.py

NOTE: Conflicts are because commit
9d037f7d199443da0f2c6c1755704e589d52e730
is not in the tree for this branch.

Closes-bug: #1939604
Change-Id: Iaccf2eeeb6e8bb80c658f51ce9ab4e8eb4093a55
(cherry picked from commit 7fc6fe6fae891eae42b36ccb9d69cd0f6d6db21d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/805304/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'releasenotes/notes/bug-1939604-547c729b7741831b.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py']",3,aa5b8d12bcacc01e5f9be45cc1eef24ac9efd2fc,bug/1893263," flavor_1vcpu = objects.Flavor(vcpus=1, memory=512, root_gb=1) flavor_2vcpu = objects.Flavor(vcpus=2, memory=512, root_gb=1) def test_plug_tap_kvm_virtio( self, mock_create_tap_dev, mock_set_mtu, mock_device_exists): flavor=self.flavor_2vcpu, mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=False) flavor=self.flavor_2vcpu, mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=True) @mock.patch('nova.privsep.linux_net.device_exists', return_value=True) @mock.patch('nova.privsep.linux_net.set_device_mtu') @mock.patch('nova.privsep.linux_net.create_tap_dev') def test_plug_tap_mq_ignored_1vcpu( self, mock_create_tap_dev, mock_set_mtu, mock_device_exists): d1 = vif.LibvirtGenericVIFDriver() mq_ins = objects.Instance( id=1, uuid='f0000000-0000-0000-0000-000000000001', image_ref=uuids.image_ref, flavor=self.flavor_1vcpu, project_id=723, system_metadata={ 'image_hw_vif_multiqueue_enabled': 'True', } ) d1.plug(mq_ins, self.vif_tap) mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=False) flavor=self.flavor_2vcpu, mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=False) flavor=self.flavor_2vcpu, mock_create_tap_dev.assert_called_once_with( 'tap-xxx-yyy-zzz', None, multiqueue=False)"," def test_plug_tap_kvm_virtio(self, mock_create_tap_dev, mock_set_mtu, mock_device_exists): mock_create_tap_dev.assert_called_once_with('tap-xxx-yyy-zzz', None, multiqueue=False) mock_create_tap_dev.assert_called_once_with('tap-xxx-yyy-zzz', None, multiqueue=True) mock_create_tap_dev.assert_called_once_with('tap-xxx-yyy-zzz', None, multiqueue=False) mock_create_tap_dev.assert_called_once_with('tap-xxx-yyy-zzz', None, multiqueue=False)",43,13
openstack%2Fnova~master~Ief2914201cb28060ed85f7cb6d6f202ad96db991,openstack/nova,master,Ief2914201cb28060ed85f7cb6d6f202ad96db991,Fix documentation about cpu topologies,MERGED,2021-08-24 11:55:17.000000000,2021-08-24 20:40:30.000000000,2021-08-24 20:38:37.000000000,"[{'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 11:55:17.000000000', 'files': ['doc/source/admin/cpu-topologies.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d62485472573b8634f23df93c7b28f1c74bf9a5', 'message': 'Fix documentation about cpu topologies\n\nThere was a copy paste error about requesting host without SMT enabled.\n\nChange-Id: Ief2914201cb28060ed85f7cb6d6f202ad96db991\nCloses-Bug: #1940535\n'}]",0,805833,1d62485472573b8634f23df93c7b28f1c74bf9a5,12,4,1,9708,,,0,"Fix documentation about cpu topologies

There was a copy paste error about requesting host without SMT enabled.

Change-Id: Ief2914201cb28060ed85f7cb6d6f202ad96db991
Closes-Bug: #1940535
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/805833/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/cpu-topologies.rst'],1,1d62485472573b8634f23df93c7b28f1c74bf9a5,bug/1940535,"This will ensure the instance gets scheduled to a host without SMT by requesting hosts that **do not** report the ``HW_CPU_HYPERTHREADING`` trait. It is also possible to request this trait explicitly. To configure this, run:","This will ensure the instance gets scheduled to a host with SMT by requesting hosts that **do not** report the ``HW_CPU_HYPERTHREADING`` trait. It is also possible to request this trait explicitly. To configure this, run:",3,3
openstack%2Fneutron~stable%2Fstein~I99a50725a514b324d3f886db9fd2d3dd37efd031,openstack/neutron,stable/stein,I99a50725a514b324d3f886db9fd2d3dd37efd031,Fix notify listener syntax for SEGMENT_HOST_MAPPING,MERGED,2021-08-06 12:08:40.000000000,2021-08-24 20:40:14.000000000,2021-08-24 20:38:24.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 12:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e811827c6eb833a04c42fa8e9e8c5a1c879aee9b', 'message': 'Fix notify listener syntax for SEGMENT_HOST_MAPPING\n\nChange auto_schedule_new_network_segments call to use old notification listener syntax in old stable branches of Neutron that still use notify instead of publish.\n\nCloses-Bug: #1939125\nChange-Id: I99a50725a514b324d3f886db9fd2d3dd37efd031\n'}, {'number': 2, 'created': '2021-08-16 13:24:26.000000000', 'files': ['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/66bc64155a2a2aeb923b4174c39fb9388ef8a4b1', 'message': 'Fix notify listener syntax for SEGMENT_HOST_MAPPING\n\nChange auto_schedule_new_network_segments call to use old notification\nlistener syntax in old stable branches of Neutron that still use\nnotify instead of publish.\nFix only needed for stable/stein, stable/rocky, stable/queens\n\nCloses-Bug: #1939125\nChange-Id: I99a50725a514b324d3f886db9fd2d3dd37efd031\n'}]",0,803738,66bc64155a2a2aeb923b4174c39fb9388ef8a4b1,25,5,2,12825,,,0,"Fix notify listener syntax for SEGMENT_HOST_MAPPING

Change auto_schedule_new_network_segments call to use old notification
listener syntax in old stable branches of Neutron that still use
notify instead of publish.
Fix only needed for stable/stein, stable/rocky, stable/queens

Closes-Bug: #1939125
Change-Id: I99a50725a514b324d3f886db9fd2d3dd37efd031
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/803738/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py']",2,e811827c6eb833a04c42fa8e9e8c5a1c879aee9b,bug/1939125," notify_kwargs = { 'context': ctx, 'host': 'HOST A', 'current_segment_ids': set(['segment-1'])} resources.SEGMENT_HOST_MAPPING, events.AFTER_CREATE, None, **notify_kwargs)"," payload = events.DBEventPayload( ctx, metadata={'host': 'HOST A', 'current_segment_ids': set(['segment-1'])}) resources.SEGMENT_HOST_MAPPING, events.AFTER_CREATE, ctx, payload)",11,11
openstack%2Fdevstack~master~Ifd0a5ef0bc5f3647f43b169df1f7176393971853,openstack/devstack,master,Ifd0a5ef0bc5f3647f43b169df1f7176393971853,swift: Fix the empty gid option in rsyncd.conf,MERGED,2021-08-21 12:56:22.000000000,2021-08-24 20:40:11.000000000,2021-08-24 20:38:27.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-21 12:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b995e80708b8d96efb7c32a4a97421d64356a750', 'message': 'swift: Fix an empty gid option in rsync.conf\n\nThis change fixes an empoty value set to the gid option in rsync.conf,\nwhich was caused by reference to the invalid USER_GROUP variable, and\nensure the option is set to the group which STACK_USER belongs to.\n\nThis also fixes duplicate declaration of the local user_group variable.\n\nCloses-Bug: #1940742\nChange-Id: Ifd0a5ef0bc5f3647f43b169df1f7176393971853\n'}, {'number': 2, 'created': '2021-08-21 12:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2767103e3e906b9a6d50f896657feb8ee68f91d6', 'message': 'swift: Fix the empty gid option in rsync.conf\n\nThis change fixes the empoty value set to the gid option in rsync.conf,\nwhich was caused by reference to the invalid USER_GROUP variable, and\nensures the option is set to the group which STACK_USER belongs to.\n\nThis also fixes duplicate declaration of the local user_group variable.\n\nCloses-Bug: #1940742\nChange-Id: Ifd0a5ef0bc5f3647f43b169df1f7176393971853\n'}, {'number': 3, 'created': '2021-08-21 12:58:25.000000000', 'files': ['lib/swift'], 'web_link': 'https://opendev.org/openstack/devstack/commit/25f84277eab5291aa0fa8c12ac39a69594611e08', 'message': 'swift: Fix the empty gid option in rsyncd.conf\n\nThis change fixes the empty value set to the gid option in rsyncd.conf,\nwhich was caused by reference to the invalid USER_GROUP variable, and\nensures the option is set to the group which STACK_USER belongs to.\n\nThis also fixes duplicate declaration of the local user_group variable.\n\nCloses-Bug: #1940742\nChange-Id: Ifd0a5ef0bc5f3647f43b169df1f7176393971853\n'}]",0,805484,25f84277eab5291aa0fa8c12ac39a69594611e08,10,3,3,9816,,,0,"swift: Fix the empty gid option in rsyncd.conf

This change fixes the empty value set to the gid option in rsyncd.conf,
which was caused by reference to the invalid USER_GROUP variable, and
ensures the option is set to the group which STACK_USER belongs to.

This also fixes duplicate declaration of the local user_group variable.

Closes-Bug: #1940742
Change-Id: Ifd0a5ef0bc5f3647f43b169df1f7176393971853
",git fetch https://review.opendev.org/openstack/devstack refs/changes/84/805484/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/swift'],1,b995e80708b8d96efb7c32a4a97421d64356a750,bug/1940742, s/%GROUP%/$(id -g -n ${STACK_USER})/;, local user_group s/%GROUP%/${USER_GROUP}/;,1,2
openstack%2Frequirements~master~I9826c22e82e1f5f0957c2bc4e5baf4bf224a7739,openstack/requirements,master,I9826c22e82e1f5f0957c2bc4e5baf4bf224a7739,Updated from generate-constraints,MERGED,2021-08-22 06:36:37.000000000,2021-08-24 20:39:53.000000000,2021-08-24 20:38:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 06:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/55d710d3658b1a4566d2f8da65f9c8650c171ec5', 'message': 'Updated from generate-constraints\n\nChange-Id: I9826c22e82e1f5f0957c2bc4e5baf4bf224a7739\n'}, {'number': 2, 'created': '2021-08-24 06:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5869163bc693304dd8c799c0faefaa6a15b23ee7', 'message': 'Updated from generate-constraints\n\nChange-Id: I9826c22e82e1f5f0957c2bc4e5baf4bf224a7739\n'}, {'number': 3, 'created': '2021-08-24 16:09:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/26d7e48ee0e585eab06043894d8c202123ace701', 'message': 'Updated from generate-constraints\n\nChange-Id: I9826c22e82e1f5f0957c2bc4e5baf4bf224a7739\n'}]",0,805501,26d7e48ee0e585eab06043894d8c202123ace701,15,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I9826c22e82e1f5f0957c2bc4e5baf4bf224a7739
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/805501/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,55d710d3658b1a4566d2f8da65f9c8650c171ec5,openstack/requirements/constraints/noclob,neutron-lib===2.14.0moto===2.2.4XStatic-Angular===1.8.2.1pkg_resources===0.0.0ruamel.yaml===0.17.13fasteners===0.16.3,neutron-lib===2.13.0moto===2.2.3XStatic-Angular===1.5.8.0ruamel.yaml===0.17.11fasteners===0.14.1setuptools===57.4.0,6,6
openstack%2Fcinder~master~I0d65ebd01f415be2eb3bbfa627323959812a8158,openstack/cinder,master,I0d65ebd01f415be2eb3bbfa627323959812a8158,Sizing encrypted volumes,ABANDONED,2021-03-07 21:46:37.000000000,2021-08-24 20:33:07.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-07 21:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfc015ee1fe4cd73596c59b74389a539e6e5c2bf', 'message': ""Sizing encrypted volumes\n\nThe manager.py will create a destination volume bigger\n<source-volume-size+1> GB size if the flag\n'allow-resize==on_demand' and the destination volume-type is\nencrypted.\n\nDriver-specific method '_copy_volume_data' for copy volume\ndata when using block devices. This method will be called after\n_before_volume_copy during volume migration.\n\nRPC minor version for a new param 3.x - Add allow_resize to retype\nmethod and increase_size to migrate method.\n\nAdd a new optional field, 'allow_resize', to the os-retype action.\nPossible values will be 'on-demand' or 'never' (which are the same\nas the current 'migration_policy' field). If not specified, the\ndefault is 'never'.\n\nAdd a new optional field, 'increase_size', to the os-migrate action.\nThe operator specifies how many GB to grow the volume (so the final\nsize is current size + increase_size).\n\nDepends-On:\nhttps: //review.opendev.org/c/openstack/python-cinderclient/+/779110\nPartial-Bug: #1687880\nImplements: blueprint sizing-encrypted-volumes\nChange-Id: I0d65ebd01f415be2eb3bbfa627323959812a8158\n""}, {'number': 2, 'created': '2021-03-12 16:46:15.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/volume/driver.py', 'cinder/scheduler/manager.py', 'cinder/volume/rpcapi.py', 'cinder/api/schemas/volume_actions.py', 'cinder/tests/unit/volume/test_rpcapi.py', 'cinder/api/contrib/volume_actions.py', 'cinder/volume/api.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c59d1e2727a649e30f69b841c3b60bdf5dda1fd', 'message': ""Sizing encrypted volumes\n\nThe manager.py will create a destination volume bigger\n<source-volume-size+1> GB size if the flag 'allow-resize==on_demand'\nand the destination volume-type is encrypted.\n\nDriver-specific method '_copy_volume_data' for copy volume data when\nusing block devices. This method will be called after\n_before_volume_copy during volume migration.\n\nRPC minor version for a new param 3.x - Add allow_resize to retype\nmethod and increase_size to migrate method.\n\nAdd a new optional field, 'allow_resize', to the os-retype action.\nPossible values will be 'on-demand' or 'never' (which are the same\nas the current 'migration_policy' field). If not specified, the\ndefault is 'never'.\n\nAdd a new optional field, 'increase_size', to the os-migrate action.\nThe operator specifies how many GB to grow the volume (so the final\nsize is current size + increase_size).\n\nDepends-On:\nhttps: //review.opendev.org/c/openstack/python-cinderclient/+/779110\nPartial-Bug: #1687880\nImplements: blueprint sizing-encrypted-volumes\nChange-Id: I0d65ebd01f415be2eb3bbfa627323959812a8158\n""}]",13,779114,5c59d1e2727a649e30f69b841c3b60bdf5dda1fd,41,2,2,20813,,,0,"Sizing encrypted volumes

The manager.py will create a destination volume bigger
<source-volume-size+1> GB size if the flag 'allow-resize==on_demand'
and the destination volume-type is encrypted.

Driver-specific method '_copy_volume_data' for copy volume data when
using block devices. This method will be called after
_before_volume_copy during volume migration.

RPC minor version for a new param 3.x - Add allow_resize to retype
method and increase_size to migrate method.

Add a new optional field, 'allow_resize', to the os-retype action.
Possible values will be 'on-demand' or 'never' (which are the same
as the current 'migration_policy' field). If not specified, the
default is 'never'.

Add a new optional field, 'increase_size', to the os-migrate action.
The operator specifies how many GB to grow the volume (so the final
size is current size + increase_size).

Depends-On:
https: //review.opendev.org/c/openstack/python-cinderclient/+/779110
Partial-Bug: #1687880
Implements: blueprint sizing-encrypted-volumes
Change-Id: I0d65ebd01f415be2eb3bbfa627323959812a8158
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/779114/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/volume/manager.py', 'cinder/volume/driver.py', 'cinder/scheduler/manager.py', 'cinder/volume/rpcapi.py', 'cinder/api/schemas/volume_actions.py', 'cinder/api/contrib/volume_actions.py', 'cinder/volume/api.py', 'cinder/volume/drivers/lvm.py']",9,bfc015ee1fe4cd73596c59b74389a539e6e5c2bf,bp/sizing-encrypted-volumes," def _copy_volume_data(self, volume, src_vref): self.create_cloned_volume(volume, src_vref)",,125,8
openstack%2Felection~master~I5eb64c66fdecb5a21845573e7401272a7f2a9a70,openstack/election,master,I5eb64c66fdecb5a21845573e7401272a7f2a9a70,Adding Alex Kavanagh candidacy for OpenStack_Charms,MERGED,2021-08-24 19:26:31.000000000,2021-08-24 20:18:25.000000000,2021-08-24 20:17:04.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 19:26:31.000000000', 'files': ['candidates/yoga/OpenStack_Charms/alex.kavanagh@canonical.com'], 'web_link': 'https://opendev.org/openstack/election/commit/dbbf96a0ef2f0d87623acc7971aca2a09223bef9', 'message': 'Adding Alex Kavanagh candidacy for OpenStack_Charms\n\nChange-Id: I5eb64c66fdecb5a21845573e7401272a7f2a9a70\n'}]",0,805881,dbbf96a0ef2f0d87623acc7971aca2a09223bef9,8,3,1,20870,,,0,"Adding Alex Kavanagh candidacy for OpenStack_Charms

Change-Id: I5eb64c66fdecb5a21845573e7401272a7f2a9a70
",git fetch https://review.opendev.org/openstack/election refs/changes/81/805881/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/OpenStack_Charms/alex.kavanagh@canonical.com'],1,dbbf96a0ef2f0d87623acc7971aca2a09223bef9,,"Hello all, I would like to announce my candidacy for PTL of the OpenStack Charms project[1] for the Yoga cycle. I've been a core team member of the OpenStack Charms project since 2016, and have contributed to all most all of the charms both in terms of new features and bug fixes and general development. The OpenStack Charms team has made excellent progress during the last few cycles in improving deployment, upgrading, and management of OpenStack systems, as well as exposing new and interesting features of the OpenStack family of projects. For the Yoga cycle we're going to continue our drive in lifecycle management to ensure trouble-free OpenStack deployment, upgrades and distribution upgrades, improve existing features, as well as implement new charm features and new charms where needed. We're also looking forward to the new features across the OpenStack family of projects and how we can support them, and I'd like to be able to support the project for the next 6 months. Cheers, Alex Kavanagh ",,24,0
openstack%2Fpython-manilaclient~master~Iadce9d910370246f83f56f27039d9f5585642fbc,openstack/python-manilaclient,master,Iadce9d910370246f83f56f27039d9f5585642fbc,Fix incorrect dict member lookup,MERGED,2021-08-24 05:32:48.000000000,2021-08-24 19:26:06.000000000,2021-08-24 19:24:44.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 31213}]","[{'number': 1, 'created': '2021-08-24 05:32:48.000000000', 'files': ['manilaclient/tests/functional/test_shares_listing.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2fc21c3e0c751622182c4832f375066640a4cc9a', 'message': ""Fix incorrect dict member lookup\n\nLookup by 'id' was missing quotes\ncausing sporadic functional test\nfailures - sporadic because the test\ngets into this code section only when\nit runs in parallel to some migration\ntests.\n\nChange-Id: Iadce9d910370246f83f56f27039d9f5585642fbc\nRelated-Bug: #1821945\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,805779,2fc21c3e0c751622182c4832f375066640a4cc9a,8,4,1,16643,,,0,"Fix incorrect dict member lookup

Lookup by 'id' was missing quotes
causing sporadic functional test
failures - sporadic because the test
gets into this code section only when
it runs in parallel to some migration
tests.

Change-Id: Iadce9d910370246f83f56f27039d9f5585642fbc
Related-Bug: #1821945
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/79/805779/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/test_shares_listing.py'],1,2fc21c3e0c751622182c4832f375066640a4cc9a,bug/1821945," self.assertNotIn(share_get['id'],"," self.assertNotIn(share_get[id],",1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4310b5fd0229f413f5b102ce73c537b41b6857b4,openstack/tripleo-heat-templates,stable/ussuri,I4310b5fd0229f413f5b102ce73c537b41b6857b4,DNM - Testing multinode-ipa stability,ABANDONED,2020-09-17 16:08:17.000000000,2021-08-24 19:07:43.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-17 16:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e91d8a74fed6e9441c838e452e14530ccc0ad20', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 2, 'created': '2020-09-18 16:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8f33bcc4458c760734ec6b16677d764e84cd8e6', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 3, 'created': '2020-09-23 21:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1e43a26dbe3c41f116d97ae7b855917440ef4d7', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 4, 'created': '2020-09-23 21:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a1e60f0cd5a763936f9668668a3354ece83e289', 'message': 'DNM - Testing multinode-ipa stability\n\nDepends-On: https://review.opendev.org/#/c/753856\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 5, 'created': '2020-09-29 12:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1cf7a1b438d08a02b48ccb8a9446f27befc2b11', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 6, 'created': '2020-09-29 12:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47471d0b30a6650dff0452d5bfc7b70d92088c27', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}, {'number': 7, 'created': '2020-09-30 14:28:30.000000000', 'files': ['ci/environments/standalone-ipa.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc80377a9e16f64836cd1de5eaaddcb6020ee7bc', 'message': 'DNM - Testing multinode-ipa stability\n\nChange-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4\n'}]",0,752496,bc80377a9e16f64836cd1de5eaaddcb6020ee7bc,27,3,7,9976,,,0,"DNM - Testing multinode-ipa stability

Change-Id: I4310b5fd0229f413f5b102ce73c537b41b6857b4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/752496/4 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/standalone-ipa.yaml', 'zuul.d/layout.yaml']",2,5e91d8a74fed6e9441c838e452e14530ccc0ad20,test-ipa-voting-stable/ussuri,, - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - check-requirements - release-notes-jobs-python3 - tripleo-standalone-scenarios-full - openstack-python3-ussuri-jobs - tripleo-ci-centos-7-undercloud-containers: dependencies: *deps_unit_lint - tripleo-ci-centos-8-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-standalone-upgrade-stein: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint - tripleo-ci-centos-8-scenario001-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-8-scenario002-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-8-scenario003-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-8-scenario004-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-8-scenario012-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-containerized-undercloud-upgrades: dependencies: *deps_unit_lint - tripleo-ci-centos-8-containers-undercloud-minion: dependencies: *deps_unit_lint,1,28
openstack%2Felection~master~Iaec8da1a046326eb725eda3b5eecd2eeacda9849,openstack/election,master,Iaec8da1a046326eb725eda3b5eecd2eeacda9849,Adding Rafael Weingartner candidacy for CloudKitty PTL,MERGED,2021-08-24 16:29:51.000000000,2021-08-24 19:00:48.000000000,2021-08-24 18:59:16.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 16:29:51.000000000', 'files': ['candidates/yoga/Cloudkitty/rafael@apache.org'], 'web_link': 'https://opendev.org/openstack/election/commit/180c24ffa8da2306faaf8a5611d4b4cbb60f050d', 'message': 'Adding Rafael Weingartner candidacy for CloudKitty PTL\n\nChange-Id: Iaec8da1a046326eb725eda3b5eecd2eeacda9849\n'}]",0,805870,180c24ffa8da2306faaf8a5611d4b4cbb60f050d,8,3,1,28356,,,0,"Adding Rafael Weingartner candidacy for CloudKitty PTL

Change-Id: Iaec8da1a046326eb725eda3b5eecd2eeacda9849
",git fetch https://review.opendev.org/openstack/election refs/changes/70/805870/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Cloudkitty/rafael@apache.org'],1,180c24ffa8da2306faaf8a5611d4b4cbb60f050d,,"Hello all, I'd like to announce my candidacy to continue the PTL role for CloudKitty project in the Yoga cycle. I've been working with OpenStack since 2018 and contributing to Cloudkitty since May 2019. I hope that we can continue to achieve goals together, making CloudKitty better and more robust. We should also aim to grow our contributor base and continue to spread the word about CloudKitty (blog posts, social media, etc). Features that I think we should aim for during the next cycle: the reprocessing API (https://review.opendev.org/c/openstack/cloudkitty/+/799207), and Storage state status (https://review.opendev.org/c/openstack/cloudkitty/+/777442), both of which are already proposed and in the review process. Thank you for your consideration. Thank you, Rafael Weingärtner ",,13,0
openstack%2Felection~master~I7eeac788f390de8ced205ee5ba327aaaec060b5b,openstack/election,master,I7eeac788f390de8ced205ee5ba327aaaec060b5b,Adding Elod Illes candidacy for Release Management PTL for Yoga,MERGED,2021-08-24 15:54:59.000000000,2021-08-24 18:59:01.000000000,2021-08-24 18:57:32.000000000,"[{'_account_id': 11904}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 15:54:59.000000000', 'files': ['candidates/yoga/Release_Management/elod.illes@est.tech'], 'web_link': 'https://opendev.org/openstack/election/commit/b41a6dffb46fd4887191fe561c1eaa4f1bf04e00', 'message': 'Adding Elod Illes candidacy for Release Management PTL for Yoga\n\nChange-Id: I7eeac788f390de8ced205ee5ba327aaaec060b5b\n'}]",0,805868,b41a6dffb46fd4887191fe561c1eaa4f1bf04e00,9,4,1,17685,,,0,"Adding Elod Illes candidacy for Release Management PTL for Yoga

Change-Id: I7eeac788f390de8ced205ee5ba327aaaec060b5b
",git fetch https://review.opendev.org/openstack/election refs/changes/68/805868/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Release_Management/elod.illes@est.tech'],1,b41a6dffb46fd4887191fe561c1eaa4f1bf04e00,yoga,"Hello OpenStack Community, I would like to announce my candidacy for PTL of the Release Management team for the Yoga cycle. I became core member in the Release Management team during Wallaby cycle to help the work of the team with release patch reviews, but I was involved in the release process for some time already as my focus has been Stable Maintenance (especially around the introduction of the Extended Maintenance process) as being member of the stable-maint-core group. Thanks to the great work of the former PTLs and team members of the Release Management team, now the process is fairly automated and should be straightforward to follow. During the Yoga cycle I'm planning to get familiar with all the aspects of the release management (with the help of the more experienced team members) and continue the work that my predecessors started and keep things maintained. Thanks for your consideration, Elod Illes (elodilles) ",,21,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8acd10b2d5624066af3a9426081f9a0679890b3e,openstack/tripleo-heat-templates,stable/ussuri,I8acd10b2d5624066af3a9426081f9a0679890b3e,Removing duplicate mount point in metrics_qdr,ABANDONED,2021-04-16 18:24:28.000000000,2021-08-24 18:57:34.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-16 18:24:28.000000000', 'files': ['deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0abf2287855015cef8a8a091585a4f47a048bff', 'message': 'Removing duplicate mount point in metrics_qdr\n\nThe metrics_qdr container fails to start when tls-everywhere is enabled\ndue to a duplicate mount point for /etc/ipa/ca.crt already configured in\ncontainers-common[1]\n\n[1] https://review.opendev.org/plugins/gitiles/openstack/tripleo-heat-templates/+/refs/heads/master/deployment/containers-common.yaml#146\n\nChange-Id: I8acd10b2d5624066af3a9426081f9a0679890b3e\nResolves: rhbz#1947116\n'}]",0,786699,f0abf2287855015cef8a8a091585a4f47a048bff,9,3,1,30893,,,0,"Removing duplicate mount point in metrics_qdr

The metrics_qdr container fails to start when tls-everywhere is enabled
due to a duplicate mount point for /etc/ipa/ca.crt already configured in
containers-common[1]

[1] https://review.opendev.org/plugins/gitiles/openstack/tripleo-heat-templates/+/refs/heads/master/deployment/containers-common.yaml#146

Change-Id: I8acd10b2d5624066af3a9426081f9a0679890b3e
Resolves: rhbz#1947116
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/786699/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/qdr-container-puppet.yaml'],1,f0abf2287855015cef8a8a091585a4f47a048bff,,, - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro',0,5
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I8acd10b2d5624066af3a9426081f9a0679890b3e,openstack/tripleo-heat-templates,stable/victoria,I8acd10b2d5624066af3a9426081f9a0679890b3e,Removing duplicate mount point in metrics_qdr,ABANDONED,2021-04-16 18:23:25.000000000,2021-08-24 18:57:30.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-16 18:23:25.000000000', 'files': ['deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30e5ab437743a33bacf4c7bb7cdba71b35fe3dd1', 'message': 'Removing duplicate mount point in metrics_qdr\n\nThe metrics_qdr container fails to start when tls-everywhere is enabled\ndue to a duplicate mount point for /etc/ipa/ca.crt already configured in\ncontainers-common[1]\n\n[1] https://review.opendev.org/plugins/gitiles/openstack/tripleo-heat-templates/+/refs/heads/master/deployment/containers-common.yaml#146\n\nChange-Id: I8acd10b2d5624066af3a9426081f9a0679890b3e\nResolves: rhbz#1947116\n'}]",0,786697,30e5ab437743a33bacf4c7bb7cdba71b35fe3dd1,13,4,1,30893,,,0,"Removing duplicate mount point in metrics_qdr

The metrics_qdr container fails to start when tls-everywhere is enabled
due to a duplicate mount point for /etc/ipa/ca.crt already configured in
containers-common[1]

[1] https://review.opendev.org/plugins/gitiles/openstack/tripleo-heat-templates/+/refs/heads/master/deployment/containers-common.yaml#146

Change-Id: I8acd10b2d5624066af3a9426081f9a0679890b3e
Resolves: rhbz#1947116
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/786697/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/qdr-container-puppet.yaml'],1,30e5ab437743a33bacf4c7bb7cdba71b35fe3dd1,,, - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro',0,5
openstack%2Felection~master~Ifb86d6550de6a4ff2894cb1a31c81103d482871c,openstack/election,master,Ifb86d6550de6a4ff2894cb1a31c81103d482871c,Adding Brian Rosmaita candidacy for Cinder PTL,MERGED,2021-08-24 15:21:22.000000000,2021-08-24 18:56:59.000000000,2021-08-24 18:55:43.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 15:21:22.000000000', 'files': ['candidates/yoga/Cinder/rosmaita.fossdev@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/fb2e14ca3d2ab8832907c712bef78c967c41f048', 'message': 'Adding Brian Rosmaita candidacy for Cinder PTL\n\nChange-Id: Ifb86d6550de6a4ff2894cb1a31c81103d482871c\n'}]",0,805867,fb2e14ca3d2ab8832907c712bef78c967c41f048,8,3,1,5314,,,0,"Adding Brian Rosmaita candidacy for Cinder PTL

Change-Id: Ifb86d6550de6a4ff2894cb1a31c81103d482871c
",git fetch https://review.opendev.org/openstack/election refs/changes/67/805867/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Cinder/rosmaita.fossdev@gmail.com'],1,fb2e14ca3d2ab8832907c712bef78c967c41f048,cinder-rosmaita-y,"Hello everyone, I'd like to announce my candidacy for Cinder PTL for the Yoga cycle. The primary challenge we face in the Cinder community continues to be that our reviewing bandwidth has declined at the same time third-party driver contributions have not decreased. As I see it, the problem is that many vendors who maintain third-party drivers do not appear to be clear on the concept of community participation. (For what it's worth, I think this is more a manager problem than a developer problem, but the effect on Cinder is the same, namely, lots of request for reviews and not much doing of reviews. The Cinder documentation has information about how to review, how you don't need to be a core to do valuable reviews, etc., but it's not clear that many people have actually read them.) The Cinder community has tried to address this participation deficit in Xena by providing more upstream activities for contributors (for example, the monthly Festival of XS reviews [0] and the weekly Bug Squad meetings [1]), and these have had decent participation. In Yoga, I'd like to explore having some kind of Review Squad meeting to give people a chance to get ""live"" feedback on features under development. Some people do use the weekly Cinder meeting for this, but not everyone takes advantage of that, plus weekly meeting time is limited. I hate to propose yet another team meeting, but on the other hand, the bug squad and festival of reviews meetings are extremely productive, so I don't mind proposing another *productive* meeting. (We'll simply cancel it if it turns out that people don't take advantage. Also, I'm open to other ideas ... the key issue is providing faster feedback and more visibility for people developing cinder features, and allowing cinder cores to use their review time productively. So two key issues.) On the positive side, we did add a new cinder core during Xena and there's another person right on the verge of being proposed as a core. So that will help address review bandwidth, though I want to stress that non-core reviews are extremely important to the project as well. Our core reviewers also develop features and fix bugs--they are not full-time code reviewers. And the way to become a cinder core is to review widely in the project and demonstrate a good breadth of knowledge of the software. (As always, anyone currently working on cinder project who's interested becoming a cinder core, please contact me (or any of the current cores) to discuss what the expectations are.) Also on the good side is that we've done quite a bit of work on the Cinder CI this cycle. (I'm not going to tempt fate by saying anything more about that.) With respect to the details of Cinder development in Yoga, I expect those to emerge from our virtual PTG discussions in October. You can help set the agenda here: https://etherpad.opendev.org/p/yoga-ptg-cinder-planning To summarize, I would like to continue working on improving the review throughput of the Cinder team and find additional ways to get people more thoroughly involved in the project. Thanks for reading this far, and thank you for your consideration. Brian Rosmaita (rosmaita) [0] http://eavesdrop.openstack.org/#Cinder_Festival_of_XS_Reviews [1] http://eavesdrop.openstack.org/#Cinder_Bug_Squad_Meeting ",,64,0
openstack%2Fpython-tripleoclient~master~Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4,openstack/python-tripleoclient,master,Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4,"Introduce ""openstack overcloud ceph deploy""",MERGED,2021-07-11 20:42:13.000000000,2021-08-24 18:52:56.000000000,2021-08-24 18:51:25.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-11 20:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/63dc0c543b899ab6081f8e3e685dc5bf02631957', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 2, 'created': '2021-07-12 15:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/57663bf02d046c16e6a5470483894f072914df95', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 3, 'created': '2021-07-13 21:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d9a63458b0984c03764d8e0f4a76138b35e81b7', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 4, 'created': '2021-07-13 23:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2d8348a5b4ff7a43ae0f9636be20c101a35a797f', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 5, 'created': '2021-07-13 23:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19eaa54d834122c05647c7891c50599e5fa1091f', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 6, 'created': '2021-07-14 12:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/76dd230c50407338302ac906d6638805316701d1', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 7, 'created': '2021-07-14 13:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8327e6d212341247ee210368e0ff9b0a8bcbd297', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 8, 'created': '2021-07-14 21:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd7b540afbc87769661867206b09f31a39c82d17', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 9, 'created': '2021-07-15 21:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1eea2ec3c3fcf8ca74172d6566022ba26f0d3ca2', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 10, 'created': '2021-07-16 19:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1d0d8070ee5e6d846a17a73421e7e100ffa018f6', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 11, 'created': '2021-07-27 22:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c1f67ec5081ff1b9951722f8b047a675edddd431', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 12, 'created': '2021-07-27 22:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f54923a4103a30e5e0c6ebcea8a230db893e3133', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 13, 'created': '2021-08-03 17:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6c45421e151f8851a2b35e94190016dcf147ef4e', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 14, 'created': '2021-08-04 19:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/147eb21b71354955534e28d51c0866d2331607f0', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 15, 'created': '2021-08-14 19:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b281b2e75418e8a216b89da600234074cbc475b1', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 16, 'created': '2021-08-14 19:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fb84608248fffa8c75c50bedf5250f35be6d6b76', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 17, 'created': '2021-08-15 23:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cafb5634ca5f88fc9f53ed6b01adfbfe09f52bdb', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: I5467a5faa36aa1359ff9b8135a512566dff12a79\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 18, 'created': '2021-08-16 13:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f42cb738688f15aac241ed968aee78b583b40056', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: I5467a5faa36aa1359ff9b8135a512566dff12a79\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 19, 'created': '2021-08-18 14:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cf06e5175760415646943ab07a0e21d1d97251c8', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: I5467a5faa36aa1359ff9b8135a512566dff12a79\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 20, 'created': '2021-08-20 13:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/221764b785e00700ac5a6a8f188eb1a8f1493d32', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nDepends-On: I5467a5faa36aa1359ff9b8135a512566dff12a79\nDepends-On: Id32f1135c857eb4ccc4a6c7356957ff0f5182839\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 21, 'created': '2021-08-20 13:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/087a8826214e9eeba2041abe0437267b978d046c', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 22, 'created': '2021-08-20 13:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2d5ac58d28b435bc234249421234ec86bb48a09d', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 23, 'created': '2021-08-23 11:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6171c44e191f02cf0e8b229b65c68fa9fef17b7f', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}, {'number': 24, 'created': '2021-08-24 11:46:52.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v2/overcloud_ceph/__init__.py', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'setup.cfg', 'releasenotes/notes/overcloud_ceph_deploy-485f59b64eb93c70.yaml', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/61e4f4c7889b44979cd56fe5b5a24b0965151bfa', 'message': 'Introduce ""openstack overcloud ceph deploy""\n\nThe new ""openstack overcloud ceph deploy"" is used to deploy\nCeph after the hardware has been provisioned with networking\nand before the overcloud is deployed. The command takes the\noutput of ""openstack overcloud node provision"" as input and\nreturns a Heat enviornment file, e.g. deployed_ceph.yaml,\nas output. The deployed_ceph.yaml file may then be passed\nto the ""openstack overcloud deploy"" command as input.\n\nChange-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4\n'}]",23,800341,61e4f4c7889b44979cd56fe5b5a24b0965151bfa,74,7,24,18002,,,0,"Introduce ""openstack overcloud ceph deploy""

The new ""openstack overcloud ceph deploy"" is used to deploy
Ceph after the hardware has been provisioned with networking
and before the overcloud is deployed. The command takes the
output of ""openstack overcloud node provision"" as input and
returns a Heat enviornment file, e.g. deployed_ceph.yaml,
as output. The deployed_ceph.yaml file may then be passed
to the ""openstack overcloud deploy"" command as input.

Change-Id: Ie0032190f0c07fd47a36a1915c02f0ba1a9ae2a4
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/800341/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/overcloud_ceph/__init__.py', 'tripleoclient/v2/overcloud_ceph.py', 'setup.cfg', 'releasenotes/notes/overcloud_ceph_deploy-485f59b64eb93c70.yaml', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",5,63dc0c543b899ab6081f8e3e685dc5bf02631957,deployed_ceph,"# Copyright 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import mock from osc_lib import exceptions as osc_lib_exc from tripleoclient.tests import fakes from tripleoclient.v2 import overcloud_ceph class TestOvercloudCephDeploy(fakes.FakePlaybookExecution): def setUp(self): super(TestOvercloudCephDeploy, self).setUp() # Get the command object to test app_args = mock.Mock() app_args.verbose_level = 1 self.app.options = fakes.FakeOptions() self.cmd = overcloud_ceph.OvercloudCephDeploy(self.app, app_args) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_overcloud_deploy_ceph(self, mock_playbook, mock_abspath, mock_tempdirs): mock_abspath.return_value = '/test/test' arglist = ['--stack', 'overcloud', '--output', 'test', '--yes'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-overcloud-deployed-ceph.yaml', inventory=mock.ANY, playbook_dir=mock.ANY, verbosity=3, extra_vars={ ""stack_name"": 'overcloud', ""output"": '/test/test', ""overwrite"": True } ) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) def test_overcloud_deploy_ceph_no_overwrite(self, mock_abspath, mock_path_exists): mock_abspath.return_value = '/test/test' mock_path_exists.return_value = True arglist = ['--stack', 'overcloud', '--output', 'test'] parsed_args = self.check_parser(self.cmd, arglist, []) self.assertRaises(osc_lib_exc.CommandError, self.cmd.take_action, parsed_args) ",,204,0
openstack%2Fnova~master~I2339cc62698fe39ddb6be48d021b9211223dbf41,openstack/nova,master,I2339cc62698fe39ddb6be48d021b9211223dbf41,conf: Remove deprecated aliases,MERGED,2021-02-02 11:28:48.000000000,2021-08-24 18:52:55.000000000,2021-08-24 18:31:49.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec8be9c7652ef5d98721ff457f3bd53825098979', 'message': ""conf: Remove deprecated aliases\n\nThese have been around since the beginning of time. Let's clean them up.\n\nChange-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad9029bc82b41f19deeafaedea1f1948915de1de', 'message': ""conf: Remove deprecated aliases\n\nThese have been around since the beginning of time. Let's clean them up.\n\nChange-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-26 16:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c993d7883d1900b64f0c6d35e6090a2d5450829', 'message': ""conf: Remove deprecated aliases\n\nThese have been around since the beginning of time. Let's clean them up.\n\nChange-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-01 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7da7e3d5c3c1e7e27c30776a75fba29aeda6929', 'message': ""conf: Remove deprecated aliases\n\nThese have been around since the beginning of time. Let's clean them up.\n\nChange-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-06-22 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7494ec8afddb51244c94836f0d96d86588916590', 'message': ""conf: Remove deprecated aliases\n\nThese have been around since the beginning of time. Let's clean them up.\n\nChange-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-06-29 15:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e747b8fa0cde65fd6b5f2968d0d7ad8bb6e2673a', 'message': ""conf: Remove deprecated aliases\n\nThese have been around since the beginning of time. Let's clean them up.\n\nChange-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-08-23 11:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fba258e6c87976601211979d9c52c2e653e6b093', 'message': ""conf: Remove deprecated aliases\n\nThese have been around since the beginning of time. Let's clean them up.\n\nChange-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-08-23 15:52:40.000000000', 'files': ['releasenotes/notes/remove-deprecated-scheduler-opts-37afb63a94e8b47e.yaml', 'nova/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/50a7a3050a2fb746a35330f0544320382373bded', 'message': ""conf: Remove deprecated aliases\n\nThese have been around since the beginning of time. Let's clean them up.\n\nChange-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,773647,50a7a3050a2fb746a35330f0544320382373bded,76,3,8,15334,,,0,"conf: Remove deprecated aliases

These have been around since the beginning of time. Let's clean them up.

Change-Id: I2339cc62698fe39ddb6be48d021b9211223dbf41
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/773647/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-scheduler-opts-37afb63a94e8b47e.yaml', 'nova/conf/scheduler.py']",2,ec8be9c7652ef5d98721ff457f3bd53825098979,remove-custom-schedulers,," deprecated_name=""scheduler_max_attempts"", deprecated_group=""DEFAULT"", deprecated_name=""scheduler_host_subset_size"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_name=""scheduler_tracks_instance_changes"", deprecated_group=""DEFAULT"", deprecated_name=""scheduler_available_filters"", deprecated_group=""DEFAULT"", deprecated_name=""scheduler_default_filters"", deprecated_group=""DEFAULT"", deprecated_name=""scheduler_weight_classes"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"", deprecated_group=""DEFAULT"",",17,22
openstack%2Fmanila~master~Id62bbfe23319f6941f37ce5eb72b511ee1bf4ebf,openstack/manila,master,Id62bbfe23319f6941f37ce5eb72b511ee1bf4ebf,[Pure Storage] Honour the share_name_template parameter,MERGED,2021-08-12 14:34:16.000000000,2021-08-24 18:42:47.000000000,2021-08-24 18:11:04.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-08-12 14:34:16.000000000', 'files': ['manila/share/drivers/purestorage/flashblade.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e6e4ac26b7a40db543b16cf73d67f50eb08fc018', 'message': '[Pure Storage] Honour the share_name_template parameter\n\nNo release notes required as this driver has not yet been included\nin a release and all we are doing here is honouring the standard\nshare naming template that is documented elsewhere.\n\nChange-Id: Id62bbfe23319f6941f37ce5eb72b511ee1bf4ebf\n'}]",0,804393,e6e4ac26b7a40db543b16cf73d67f50eb08fc018,29,3,1,13425,,,0,"[Pure Storage] Honour the share_name_template parameter

No release notes required as this driver has not yet been included
in a release and all we are doing here is honouring the standard
share naming template that is documented elsewhere.

Change-Id: Id62bbfe23319f6941f37ce5eb72b511ee1bf4ebf
",git fetch https://review.opendev.org/openstack/manila refs/changes/93/804393/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/purestorage/flashblade.py'],1,e6e4ac26b7a40db543b16cf73d67f50eb08fc018,honor_template_name," base_name = CONF.share_name_template + ""-manila"" return base_name % snapshot[""share_id""] base_name = CONF.share_name_template + ""-manila"" return base_name % manila_share[""id""]"," return ""share-%s-manila"" % snapshot[""share_id""] return ""share-%s-manila"" % manila_share[""id""]",4,2
openstack%2Fglance~master~Icff756606429ecfd9183bdceba33aaff347bb0b7,openstack/glance,master,Icff756606429ecfd9183bdceba33aaff347bb0b7,Move metadef resource type association policy checks in the API,MERGED,2021-07-06 10:51:18.000000000,2021-08-24 18:33:59.000000000,2021-08-24 18:31:55.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/18c672d8305d24667ffabc794d9fa4a6da0e660e', 'message': 'POC: Move metadef resource type association policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 2, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c99dd9494fe4d30f52d1d61ca38f827ba20aaee6', 'message': 'POC: Move metadef resource type association policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 3, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ba8fb9a2cebd728493533ed10f26e411cdfe1ac5', 'message': 'POC: Move metadef resource type association policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 4, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f0e63f383e1c91e2507d96e1d1c0b4b95ed20915', 'message': 'POC: Move metadef resource type association policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 5, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d4d98da2ecda3c2a3c0f82e89f35a71b7c30ccfe', 'message': 'POC: Move metadef resource type association policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 6, 'created': '2021-07-19 18:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/44a4bf11bec9d4c06f91f60ad7d33484635b5131', 'message': 'POC: Move metadef resource type association policy checks in the API\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nPartially implements: blueprint policy-refactor\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 7, 'created': '2021-07-22 09:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dbeda70307b0b26d51e14a9e9110106528131b2f', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 8, 'created': '2021-07-22 18:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2dd82553617a1375926d624205d722623bd23d92', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 9, 'created': '2021-07-23 05:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a6e6d53bd397badd3ef6742ec694411df85ee8eb', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 10, 'created': '2021-07-24 10:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/af75e376380d5184797c532e2bbc94a49c755e07', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 11, 'created': '2021-08-02 08:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3d3bcd9e24f589eb831785dd08c728c9b0f9eebd', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\n'}, {'number': 12, 'created': '2021-08-03 17:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7d5933c3a6dd1833ceb793d76d47e5a937c428c4', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 13, 'created': '2021-08-04 15:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a32f56499217da84b14d317bfda3de5fb2a3eaf1', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 14, 'created': '2021-08-05 11:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/53108717275bc4c7e7962572d39788730609b39c', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 15, 'created': '2021-08-05 19:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d284925cbc1fc95342f79876350ac67286d33e2d', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 16, 'created': '2021-08-11 06:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cba89e6ddc61bf0b065188dd318b398e25e19e45', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 17, 'created': '2021-08-11 16:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d76dbb38684e12753146389e63a1bcdb66465ffa', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 18, 'created': '2021-08-11 19:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a70a03a30db2b73acfc3189fbd733258015393f0', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 19, 'created': '2021-08-13 18:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8da6d929cf61164b61648bf9c848d866161128b4', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 20, 'created': '2021-08-19 16:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/09e27ca487ad9f7d179606a95f7fdf76c01759a2', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}, {'number': 21, 'created': '2021-08-20 05:19:08.000000000', 'files': ['glance/tests/unit/v2/test_metadef_resources.py', 'glance/tests/functional/v2/test_metadef_resourcetype_api_policy.py', 'glance/api/v2/metadef_resource_types.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e92c664df1cf0845ea04101c1085149fad324360', 'message': 'Move metadef resource type association policy checks in the API\n\nMoved policy checks for metadef resource typpe associations in\nthe API layer. Added additional functional tests for coverage.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/803317\n'}]",20,799637,e92c664df1cf0845ea04101c1085149fad324360,82,6,21,9303,,,0,"Move metadef resource type association policy checks in the API

Moved policy checks for metadef resource typpe associations in
the API layer. Added additional functional tests for coverage.

Partially implements: blueprint policy-refactor

Change-Id: Icff756606429ecfd9183bdceba33aaff347bb0b7
Depends-On: https://review.opendev.org/c/openstack/grenade/+/803317
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/799637/7 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/v2/test_metadef_resources.py', 'glance/api/v2/metadef_resource_types.py', 'glance/api/v2/policy.py']",3,18c672d8305d24667ffabc794d9fa4a6da0e660e,policy-refactor, def list_metadef_resource_types(self): self._enforce('list_metadef_resource_types') def get_metadef_resource_type(self): self._enforce('get_metadef_resource_type') def add_metadef_resource_type_association(self): self._enforce('add_metadef_resource_type_association') def remove_metadef_resource_type_association(self): self._enforce('remove_metadef_resource_type_association'),,57,5
openstack%2Fnova~master~I609df5b707e05ea70c8a738701423ca751682575,openstack/nova,master,I609df5b707e05ea70c8a738701423ca751682575,scheduler: Merge driver into manager,MERGED,2021-02-02 11:28:48.000000000,2021-08-24 18:33:55.000000000,2021-08-24 18:31:27.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6af1a6029fa201425285a4b9e0ba85a42ae832cc', 'message': ""scheduler: Merge driver into manager\n\nThere's only one driver now, which means there isn't really a driver at\nall. Move the code into the manager altogether and avoid a useless layer\nof abstraction.\n\nChange-Id: I609df5b707e05ea70c8a738701423ca751682575\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/260a44ebc443340137a2da4902388d6e71284bb6', 'message': ""scheduler: Merge driver into manager\n\nThere's only one driver now, which means there isn't really a driver at\nall. Move the code into the manager altogether and avoid a useless layer\nof abstraction.\n\nChange-Id: I609df5b707e05ea70c8a738701423ca751682575\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-26 16:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/474ebdf6554d55b6bf5032b6d214239000216ab7', 'message': ""scheduler: Merge driver into manager\n\nThere's only one driver now, which means there isn't really a driver at\nall. Move the code into the manager altogether and avoid a useless layer\nof abstraction.\n\nChange-Id: I609df5b707e05ea70c8a738701423ca751682575\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-01 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13fe2880789a3274d2bc1b77575f25705d86b46b', 'message': ""scheduler: Merge driver into manager\n\nThere's only one driver now, which means there isn't really a driver at\nall. Move the code into the manager altogether and avoid a useless layer\nof abstraction.\n\nChange-Id: I609df5b707e05ea70c8a738701423ca751682575\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-06-22 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f8b6cc99a681a3eefd4208b7318a73f2df1ea0d', 'message': ""scheduler: Merge driver into manager\n\nThere's only one driver now, which means there isn't really a driver at\nall. Move the code into the manager altogether and avoid a useless layer\nof abstraction.\n\nChange-Id: I609df5b707e05ea70c8a738701423ca751682575\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-06-29 15:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf989e0a7198dade3fdcf9efd2a6a6e1d05c5b17', 'message': ""scheduler: Merge driver into manager\n\nThere's only one driver now, which means there isn't really a driver at\nall. Move the code into the manager altogether and avoid a useless layer\nof abstraction.\n\nChange-Id: I609df5b707e05ea70c8a738701423ca751682575\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-08-23 11:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9d23cad342bf11db970cd82a372146ae1dd3b11', 'message': ""scheduler: Merge driver into manager\n\nThere's only one driver now, which means there isn't really a driver at\nall. Move the code into the manager altogether and avoid a useless layer\nof abstraction.\n\nChange-Id: I609df5b707e05ea70c8a738701423ca751682575\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-08-23 15:52:40.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_manager.py', 'doc/source/contributor/testing/eventlet-profiling.rst', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/scheduler/test_driver.py', 'nova/scheduler/driver.py', 'nova/tests/functional/regressions/test_bug_1781710.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/665299949494d78d88ff8c22caa2a4f3978c054b', 'message': ""scheduler: Merge driver into manager\n\nThere's only one driver now, which means there isn't really a driver at\nall. Move the code into the manager altogether and avoid a useless layer\nof abstraction.\n\nChange-Id: I609df5b707e05ea70c8a738701423ca751682575\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,773644,665299949494d78d88ff8c22caa2a4f3978c054b,67,3,8,15334,,,0,"scheduler: Merge driver into manager

There's only one driver now, which means there isn't really a driver at
all. Move the code into the manager altogether and avoid a useless layer
of abstraction.

Change-Id: I609df5b707e05ea70c8a738701423ca751682575
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/773644/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_manager.py', 'doc/source/contributor/testing/eventlet-profiling.rst', 'nova/tests/unit/scheduler/test_driver.py', 'nova/scheduler/driver.py', 'nova/tests/functional/regressions/test_bug_1781710.py', 'nova/tests/functional/test_servers.py']",7,6af1a6029fa201425285a4b9e0ba85a42ae832cc,remove-custom-schedulers, mock.patch('nova.scheduler.manager.SchedulerManager', mock.patch('nova.scheduler.driver.SchedulerDriver',1657,1733
openstack%2Fnova~master~Ia15dd168a911135732f87dbf94b40046e5578cb0,openstack/nova,master,Ia15dd168a911135732f87dbf94b40046e5578cb0,"tests: Merge 'test_utils', 'test_scheduler_utils'",MERGED,2021-02-02 11:28:48.000000000,2021-08-24 18:31:38.000000000,2021-08-24 18:31:38.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c03db62496c705fc4a6e1c2583a55ca2e81fc685', 'message': ""tests: Merge 'test_utils', 'test_scheduler_utils'\n\nNo need for these to live in separate places.\n\nChange-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3550593e9659b1fa141dfbc40a7c7c2152fa7568', 'message': ""tests: Merge 'test_utils', 'test_scheduler_utils'\n\nNo need for these to live in separate places.\n\nChange-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-26 16:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b11b72c966523610a7937c0f0721be4dc14e2132', 'message': ""tests: Merge 'test_utils', 'test_scheduler_utils'\n\nNo need for these to live in separate places.\n\nChange-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-06-01 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48de825abc86c704b9eddd32447969e2b74b6fae', 'message': ""tests: Merge 'test_utils', 'test_scheduler_utils'\n\nNo need for these to live in separate places.\n\nChange-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-06-22 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b04db3c4df5999adb155b043c1581add8616a40b', 'message': ""tests: Merge 'test_utils', 'test_scheduler_utils'\n\nNo need for these to live in separate places.\n\nChange-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-06-29 15:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a27b7d45a3e36bc2a10f2376e40ba50973a49e62', 'message': ""tests: Merge 'test_utils', 'test_scheduler_utils'\n\nNo need for these to live in separate places.\n\nChange-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-08-23 11:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3282608893dcb7d72f379eb67a6f77e1e824a46', 'message': ""tests: Merge 'test_utils', 'test_scheduler_utils'\n\nNo need for these to live in separate places.\n\nChange-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-08-23 15:52:40.000000000', 'files': ['nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62e112461f63d19572c7b8e60a48c6b9fcaf4204', 'message': ""tests: Merge 'test_utils', 'test_scheduler_utils'\n\nNo need for these to live in separate places.\n\nChange-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,773646,62e112461f63d19572c7b8e60a48c6b9fcaf4204,48,3,8,15334,,,0,"tests: Merge 'test_utils', 'test_scheduler_utils'

No need for these to live in separate places.

Change-Id: Ia15dd168a911135732f87dbf94b40046e5578cb0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/773646/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py']",2,c03db62496c705fc4a6e1c2583a55ca2e81fc685,remove-custom-schedulers,,"# Copyright (c) 2013 Rackspace Hosting # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Tests For Scheduler Utils """""" import mock from oslo_utils.fixture import uuidsentinel as uuids from nova.compute import flavors from nova.compute import utils as compute_utils from nova import context as nova_context from nova import exception from nova import objects from nova.scheduler import utils as scheduler_utils from nova import test from nova.tests.unit import fake_instance from nova.tests.unit.objects import test_flavor class SchedulerUtilsTestCase(test.NoDBTestCase): """"""Test case for scheduler utils methods."""""" def setUp(self): super(SchedulerUtilsTestCase, self).setUp() self.context = nova_context.get_context() def test_build_request_spec_without_image(self): instance = {'uuid': uuids.instance} instance_type = objects.Flavor(**test_flavor.fake_flavor) with mock.patch.object(flavors, 'extract_flavor') as mock_extract: mock_extract.return_value = instance_type request_spec = scheduler_utils.build_request_spec(None, [instance]) mock_extract.assert_called_once_with({'uuid': uuids.instance}) self.assertEqual({}, request_spec['image']) def test_build_request_spec_with_object(self): instance_type = objects.Flavor() instance = fake_instance.fake_instance_obj(self.context) with mock.patch.object(instance, 'get_flavor') as mock_get: mock_get.return_value = instance_type request_spec = scheduler_utils.build_request_spec(None, [instance]) mock_get.assert_called_once_with() self.assertIsInstance(request_spec['instance_properties'], dict) @mock.patch('nova.compute.utils.notify_about_compute_task_error') @mock.patch('nova.rpc.LegacyValidatingNotifier') @mock.patch.object(compute_utils, 'add_instance_fault_from_exc') @mock.patch.object(objects.Instance, 'save') def _test_set_vm_state_and_notify(self, mock_save, mock_add, mock_notifier, mock_notify_task, request_spec, payload_request_spec): expected_uuid = uuids.instance updates = dict(vm_state='fake-vm-state') service = 'fake-service' method = 'fake-method' exc_info = 'exc_info' payload = dict(request_spec=payload_request_spec, instance_properties=payload_request_spec.get( 'instance_properties', {}), instance_id=expected_uuid, state='fake-vm-state', method=method, reason=exc_info) event_type = '%s.%s' % (service, method) scheduler_utils.set_vm_state_and_notify(self.context, expected_uuid, service, method, updates, exc_info, request_spec) mock_save.assert_called_once_with() mock_add.assert_called_once_with(self.context, mock.ANY, exc_info, mock.ANY) self.assertIsInstance(mock_add.call_args[0][1], objects.Instance) self.assertIsInstance(mock_add.call_args[0][3], tuple) mock_notifier.return_value.error.assert_called_once_with(self.context, event_type, payload) mock_notify_task.assert_called_once_with( self.context, method, expected_uuid, payload_request_spec, updates['vm_state'], exc_info) def test_set_vm_state_and_notify_request_spec_dict(self): """"""Tests passing a legacy dict format request spec to set_vm_state_and_notify. """""" request_spec = dict(instance_properties=dict(uuid=uuids.instance)) # The request_spec in the notification payload should be unchanged. self._test_set_vm_state_and_notify( request_spec=request_spec, payload_request_spec=request_spec) def test_set_vm_state_and_notify_request_spec_object(self): """"""Tests passing a RequestSpec object to set_vm_state_and_notify."""""" request_spec = objects.RequestSpec.from_primitives( self.context, dict(instance_properties=dict(uuid=uuids.instance)), filter_properties=dict()) # The request_spec in the notification payload should be converted # to the legacy format. self._test_set_vm_state_and_notify( request_spec=request_spec, payload_request_spec=request_spec.to_legacy_request_spec_dict()) def test_set_vm_state_and_notify_request_spec_none(self): """"""Tests passing None for the request_spec to set_vm_state_and_notify. """""" # The request_spec in the notification payload should be changed to # just an empty dict. self._test_set_vm_state_and_notify( request_spec=None, payload_request_spec={}) def test_build_filter_properties(self): sched_hints = {'hint': ['over-there']} forced_host = 'forced-host1' forced_node = 'forced-node1' instance_type = objects.Flavor() filt_props = scheduler_utils.build_filter_properties(sched_hints, forced_host, forced_node, instance_type) self.assertEqual(sched_hints, filt_props['scheduler_hints']) self.assertEqual([forced_host], filt_props['force_hosts']) self.assertEqual([forced_node], filt_props['force_nodes']) self.assertEqual(instance_type, filt_props['instance_type']) def test_build_filter_properties_no_forced_host_no_force_node(self): sched_hints = {'hint': ['over-there']} forced_host = None forced_node = None instance_type = objects.Flavor() filt_props = scheduler_utils.build_filter_properties(sched_hints, forced_host, forced_node, instance_type) self.assertEqual(sched_hints, filt_props['scheduler_hints']) self.assertEqual(instance_type, filt_props['instance_type']) self.assertNotIn('forced_host', filt_props) self.assertNotIn('forced_node', filt_props) def _test_populate_filter_props(self, with_retry=True, force_hosts=None, force_nodes=None, no_limits=None): if force_hosts is None: force_hosts = [] if force_nodes is None: force_nodes = [] if with_retry: if ((len(force_hosts) == 1 and len(force_nodes) <= 1) or (len(force_nodes) == 1 and len(force_hosts) <= 1)): filter_properties = dict(force_hosts=force_hosts, force_nodes=force_nodes) elif len(force_hosts) > 1 or len(force_nodes) > 1: filter_properties = dict(retry=dict(hosts=[]), force_hosts=force_hosts, force_nodes=force_nodes) else: filter_properties = dict(retry=dict(hosts=[])) else: filter_properties = dict() if no_limits: fake_limits = None else: fake_limits = objects.SchedulerLimits(vcpu=1, disk_gb=2, memory_mb=3, numa_topology=None) selection = objects.Selection(service_host=""fake-host"", nodename=""fake-node"", limits=fake_limits) scheduler_utils.populate_filter_properties(filter_properties, selection) enable_retry_force_hosts = not force_hosts or len(force_hosts) > 1 enable_retry_force_nodes = not force_nodes or len(force_nodes) > 1 if with_retry or enable_retry_force_hosts or enable_retry_force_nodes: # So we can check for 2 hosts scheduler_utils.populate_filter_properties(filter_properties, selection) if force_hosts: expected_limits = None elif no_limits: expected_limits = {} elif isinstance(fake_limits, objects.SchedulerLimits): expected_limits = fake_limits.to_dict() else: expected_limits = fake_limits self.assertEqual(expected_limits, filter_properties.get('limits')) if (with_retry and enable_retry_force_hosts and enable_retry_force_nodes): self.assertEqual([['fake-host', 'fake-node'], ['fake-host', 'fake-node']], filter_properties['retry']['hosts']) else: self.assertNotIn('retry', filter_properties) def test_populate_filter_props(self): self._test_populate_filter_props() def test_populate_filter_props_no_retry(self): self._test_populate_filter_props(with_retry=False) def test_populate_filter_props_force_hosts_no_retry(self): self._test_populate_filter_props(force_hosts=['force-host']) def test_populate_filter_props_force_nodes_no_retry(self): self._test_populate_filter_props(force_nodes=['force-node']) def test_populate_filter_props_multi_force_hosts_with_retry(self): self._test_populate_filter_props(force_hosts=['force-host1', 'force-host2']) def test_populate_filter_props_multi_force_nodes_with_retry(self): self._test_populate_filter_props(force_nodes=['force-node1', 'force-node2']) def test_populate_filter_props_no_limits(self): self._test_populate_filter_props(no_limits=True) def test_populate_retry_exception_at_max_attempts(self): self.flags(max_attempts=2, group='scheduler') msg = 'The exception text was preserved!' filter_properties = dict(retry=dict(num_attempts=2, hosts=[], exc_reason=[msg])) nvh = self.assertRaises(exception.MaxRetriesExceeded, scheduler_utils.populate_retry, filter_properties, uuids.instance) # make sure 'msg' is a substring of the complete exception text self.assertIn(msg, str(nvh)) def _check_parse_options(self, opts, sep, converter, expected): good = scheduler_utils.parse_options(opts, sep=sep, converter=converter) for item in expected: self.assertIn(item, good) def test_parse_options(self): # check normal self._check_parse_options(['foo=1', 'bar=-2.1'], '=', float, [('foo', 1.0), ('bar', -2.1)]) # check convert error self._check_parse_options(['foo=a1', 'bar=-2.1'], '=', float, [('bar', -2.1)]) # check separator missing self._check_parse_options(['foo', 'bar=-2.1'], '=', float, [('bar', -2.1)]) # check key missing self._check_parse_options(['=5', 'bar=-2.1'], '=', float, [('bar', -2.1)]) def test_validate_filters_configured(self): self.flags(enabled_filters='FakeFilter1,FakeFilter2', group='filter_scheduler') self.assertTrue(scheduler_utils.validate_filter('FakeFilter1')) self.assertTrue(scheduler_utils.validate_filter('FakeFilter2')) self.assertFalse(scheduler_utils.validate_filter('FakeFilter3')) def test_validate_weighers_configured(self): self.flags(weight_classes=[ 'ServerGroupSoftAntiAffinityWeigher', 'FakeFilter1'], group='filter_scheduler') self.assertTrue(scheduler_utils.validate_weigher( 'ServerGroupSoftAntiAffinityWeigher')) self.assertTrue(scheduler_utils.validate_weigher('FakeFilter1')) self.assertFalse(scheduler_utils.validate_weigher( 'ServerGroupSoftAffinityWeigher')) def test_validate_weighers_configured_all_weighers(self): self.assertTrue(scheduler_utils.validate_weigher( 'ServerGroupSoftAffinityWeigher')) self.assertTrue(scheduler_utils.validate_weigher( 'ServerGroupSoftAntiAffinityWeigher')) def _create_server_group(self, policy='anti-affinity'): instance = fake_instance.fake_instance_obj(self.context, params={'host': 'hostA'}) group = objects.InstanceGroup() group.name = 'pele' group.uuid = uuids.fake group.members = [instance.uuid] group.policy = policy return group def _get_group_details(self, group, policy=None): group_hosts = ['hostB'] with test.nested( mock.patch.object(objects.InstanceGroup, 'get_by_instance_uuid', return_value=group), mock.patch.object(objects.InstanceGroup, 'get_hosts', return_value=['hostA']), ) as (get_group, get_hosts): scheduler_utils._SUPPORTS_ANTI_AFFINITY = None scheduler_utils._SUPPORTS_AFFINITY = None group_info = scheduler_utils._get_group_details( self.context, 'fake_uuid', group_hosts) self.assertEqual( (set(['hostA', 'hostB']), policy, group.members), group_info) def test_get_group_details(self): for policy in ['affinity', 'anti-affinity', 'soft-affinity', 'soft-anti-affinity']: group = self._create_server_group(policy) self._get_group_details(group, policy=policy) def test_get_group_details_with_no_instance_uuid(self): group_info = scheduler_utils._get_group_details(self.context, None) self.assertIsNone(group_info) def _get_group_details_with_filter_not_configured(self, policy): self.flags(enabled_filters=['fake'], group='filter_scheduler') self.flags(weight_classes=['fake'], group='filter_scheduler') instance = fake_instance.fake_instance_obj(self.context, params={'host': 'hostA'}) group = objects.InstanceGroup() group.uuid = uuids.fake group.members = [instance.uuid] group.policy = policy with test.nested( mock.patch.object(objects.InstanceGroup, 'get_by_instance_uuid', return_value=group), ) as (get_group,): scheduler_utils._SUPPORTS_ANTI_AFFINITY = None scheduler_utils._SUPPORTS_AFFINITY = None scheduler_utils._SUPPORTS_SOFT_AFFINITY = None scheduler_utils._SUPPORTS_SOFT_ANTI_AFFINITY = None self.assertRaises(exception.UnsupportedPolicyException, scheduler_utils._get_group_details, self.context, uuids.instance) def test_get_group_details_with_filter_not_configured(self): policies = ['anti-affinity', 'affinity', 'soft-affinity', 'soft-anti-affinity'] for policy in policies: self._get_group_details_with_filter_not_configured(policy) @mock.patch.object(scheduler_utils, '_get_group_details') def test_setup_instance_group_in_request_spec(self, mock_ggd): mock_ggd.return_value = scheduler_utils.GroupDetails( hosts=set(['hostA', 'hostB']), policy='policy', members=['instance1']) spec = objects.RequestSpec(instance_uuid=uuids.instance) spec.instance_group = objects.InstanceGroup(hosts=['hostC']) scheduler_utils.setup_instance_group(self.context, spec) mock_ggd.assert_called_once_with(self.context, uuids.instance, ['hostC']) # Given it returns a list from a set, make sure it's sorted. self.assertEqual(['hostA', 'hostB'], sorted(spec.instance_group.hosts)) self.assertEqual('policy', spec.instance_group.policy) self.assertEqual(['instance1'], spec.instance_group.members) @mock.patch.object(scheduler_utils, '_get_group_details') def test_setup_instance_group_with_no_group(self, mock_ggd): mock_ggd.return_value = None spec = objects.RequestSpec(instance_uuid=uuids.instance) spec.instance_group = objects.InstanceGroup(hosts=['hostC']) scheduler_utils.setup_instance_group(self.context, spec) mock_ggd.assert_called_once_with(self.context, uuids.instance, ['hostC']) # Make sure the field isn't touched by the caller. self.assertFalse(spec.instance_group.obj_attr_is_set('policies')) self.assertEqual(['hostC'], spec.instance_group.hosts) @mock.patch.object(scheduler_utils, '_get_group_details') def test_setup_instance_group_with_filter_not_configured(self, mock_ggd): mock_ggd.side_effect = exception.NoValidHost(reason='whatever') spec = {'instance_properties': {'uuid': uuids.instance}} spec = objects.RequestSpec(instance_uuid=uuids.instance) spec.instance_group = objects.InstanceGroup(hosts=['hostC']) self.assertRaises(exception.NoValidHost, scheduler_utils.setup_instance_group, self.context, spec) ",364,411
openstack%2Fcinder~stable%2Ftrain~Icd7a929e7cbce0c74f6b340f4e09f74a8098d752,openstack/cinder,stable/train,Icd7a929e7cbce0c74f6b340f4e09f74a8098d752,NetApp ONTAP: Fix QoS lost after moving volume,MERGED,2021-07-09 13:17:08.000000000,2021-08-24 17:29:49.000000000,2021-08-24 17:27:54.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 30555}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-07-09 13:17:08.000000000', 'files': ['releasenotes/notes/netapp-migrated-qos-c0c8aae50d010c75.yaml', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfa754c0700a5100ca0fecbfead21692c0aed710', 'message': 'NetApp ONTAP: Fix QoS lost after moving volume\n\nWhen a Cinder volume is created with a volume-type associated to a QoS\nentity, the driver creates a QoS policy group at the ONTAP back end, and\nassociates it to the entity representing the Cinder volume (either a LUN\nor a file within an NFS share).\n\nOn NetApp NFS, when a migrate operation is issued and it completes, the\nresulting volume ends up without a QoS.  That happens because the file\nis being renamed while the QoS refers to the now non-existent file.\n\nThis patch makes it so that the file is not renamed when finishing a\nmigration and the driver code uses the ``name_id`` attribute instead of\nthe ``id`` one to refer to the right UUID.\n\nConflicts:\n    cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py\n    cinder/volume/drivers/netapp/dataontap/nfs_base.py\nBoth conflicts are caused by the new code added by\nI507083c3e34e5a5cf1db9a3d1f6bef47bd51a9f8\n\nCloses-Bug: #1906291\nChange-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752\n(cherry picked from commit da100e1fca610cefb7e77079ab3170b068e328a2)\n(cherry picked from commit ee49b67414ef990dd4963f3a4a18d8d3784d8626)\n(cherry picked from commit 7eff1a4d7fae410c9c7840519b23e3f724b2d026)\n(cherry picked from commit 652ab0aff96a6e6e0aa83c49b20fcce2d1c1cde7)\n'}]",0,800231,bfa754c0700a5100ca0fecbfead21692c0aed710,16,5,1,10459,,,0,"NetApp ONTAP: Fix QoS lost after moving volume

When a Cinder volume is created with a volume-type associated to a QoS
entity, the driver creates a QoS policy group at the ONTAP back end, and
associates it to the entity representing the Cinder volume (either a LUN
or a file within an NFS share).

On NetApp NFS, when a migrate operation is issued and it completes, the
resulting volume ends up without a QoS.  That happens because the file
is being renamed while the QoS refers to the now non-existent file.

This patch makes it so that the file is not renamed when finishing a
migration and the driver code uses the ``name_id`` attribute instead of
the ``id`` one to refer to the right UUID.

Conflicts:
    cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py
    cinder/volume/drivers/netapp/dataontap/nfs_base.py
Both conflicts are caused by the new code added by
I507083c3e34e5a5cf1db9a3d1f6bef47bd51a9f8

Closes-Bug: #1906291
Change-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752
(cherry picked from commit da100e1fca610cefb7e77079ab3170b068e328a2)
(cherry picked from commit ee49b67414ef990dd4963f3a4a18d8d3784d8626)
(cherry picked from commit 7eff1a4d7fae410c9c7840519b23e3f724b2d026)
(cherry picked from commit 652ab0aff96a6e6e0aa83c49b20fcce2d1c1cde7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/800231/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/netapp-migrated-qos-c0c8aae50d010c75.yaml', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py']",6,bfa754c0700a5100ca0fecbfead21692c0aed710,netapp-qos," delattr(fake.VOLUME, '_obj_id') try: result = na_utils.get_qos_policy_group_name(fake.VOLUME) finally: fake.VOLUME._obj_id = fake.VOLUME_ID def test_get_qos_policy_group_name_migrated_volume(self): fake.VOLUME._name_id = 'asdf' try: expected = 'openstack-' + fake.VOLUME.name_id result = na_utils.get_qos_policy_group_name(fake.VOLUME) finally: fake.VOLUME._name_id = None self.assertEqual(expected, result) ", volume = copy.deepcopy(fake.VOLUME) del(volume['id']) result = na_utils.get_qos_policy_group_name(volume),44,13
openstack%2Fkolla~stable%2Fwallaby~I01356184b8e0ef2b5341ec74a2c434b09a50766d,openstack/kolla,stable/wallaby,I01356184b8e0ef2b5341ec74a2c434b09a50766d,Allow build debian/ubuntu-binary cloudkitty images,MERGED,2021-08-24 09:00:15.000000000,2021-08-24 17:28:16.000000000,2021-08-24 17:25:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-24 09:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/51b8d40a400d438a648a461470e7e31e32a7cd54', 'message': 'Allow build debian/ubuntu-binary cloudkitty images\n\nChange-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d\n(cherry picked from commit 11b445126093cc323e90cade9435f0467737b85d)\n'}, {'number': 2, 'created': '2021-08-24 09:00:43.000000000', 'files': ['kolla/image/build.py', 'docker/cloudkitty/cloudkitty-base/Dockerfile.j2', 'releasenotes/notes/cloudkitty-debuntu-binary-09b182fc672b7d77.yaml', 'docker/cloudkitty/cloudkitty-processor/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-api/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/333f02a0725adfeb000e2fe99b2c07749c9186ad', 'message': 'Allow build debian/ubuntu-binary cloudkitty images\n\nChange-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d\n(cherry picked from commit 11b445126093cc323e90cade9435f0467737b85d)\n'}]",0,805762,333f02a0725adfeb000e2fe99b2c07749c9186ad,16,4,2,14826,,,0,"Allow build debian/ubuntu-binary cloudkitty images

Change-Id: I01356184b8e0ef2b5341ec74a2c434b09a50766d
(cherry picked from commit 11b445126093cc323e90cade9435f0467737b85d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/805762/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/cloudkitty/cloudkitty-base/Dockerfile.j2', 'releasenotes/notes/cloudkitty-debuntu-binary-09b182fc672b7d77.yaml', 'docker/cloudkitty/cloudkitty-processor/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-api/Dockerfile.j2']",5,51b8d40a400d438a648a461470e7e31e32a7cd54,debuntu-binary-cloudkitty-stable/wallaby, {% set cloudkitty_api_packages = [ 'cloudkitty-api' ] %},RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \ && /bin/false,16,7
openstack%2Fkolla~stable%2Fwallaby~I61623748d1149adb1b096adf2fffb5a902df3181,openstack/kolla,stable/wallaby,I61623748d1149adb1b096adf2fffb5a902df3181,ironic-neutron-agent: enable for Debuntu binary,MERGED,2021-08-24 08:57:57.000000000,2021-08-24 17:27:04.000000000,2021-08-24 17:25:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-24 08:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b101f2ba9aaaf98ba56bd32cbb7841a59719c938', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n(cherry picked from commit 928c4648a4c2cf08c616d74f340c675418ba3385)\n'}, {'number': 2, 'created': '2021-08-24 08:58:33.000000000', 'files': ['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'docker/networking-baremetal/ironic-neutron-agent/Dockerfile.j2', 'docker/neutron/neutron-server/Dockerfile.j2', 'releasenotes/notes/debuntu-ironic-neutron-agent-6534d616b37643a8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3567cffb2ed0b3079570c058c764fc8c9f58ec21', 'message': 'ironic-neutron-agent: enable for Debuntu binary\n\nPackages are available for focal and bullseye.\n\nChange-Id: I61623748d1149adb1b096adf2fffb5a902df3181\n(cherry picked from commit 928c4648a4c2cf08c616d74f340c675418ba3385)\n'}]",0,805761,3567cffb2ed0b3079570c058c764fc8c9f58ec21,16,3,2,14826,,,0,"ironic-neutron-agent: enable for Debuntu binary

Packages are available for focal and bullseye.

Change-Id: I61623748d1149adb1b096adf2fffb5a902df3181
(cherry picked from commit 928c4648a4c2cf08c616d74f340c675418ba3385)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/805761/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'docker/networking-baremetal/ironic-neutron-agent/Dockerfile.j2', 'docker/neutron/neutron-server/Dockerfile.j2', 'releasenotes/notes/debuntu-ironic-neutron-agent-6534d616b37643a8.yaml']",6,b101f2ba9aaaf98ba56bd32cbb7841a59719c938,debuntu-ironic-neutron-agent-stable/wallaby,--- features: - | Adds support for the ``ironic-neutron-agent`` image in Debian and Ubuntu binary images. Also adds support for the ``baremetal`` ML2 driver in the ``neutron-server`` image in Debian and Ubuntu binary images. ,,13,7
openstack%2Fcinder~stable%2Fwallaby~I0c0cb5308246a3dce736eade67b40be063aa78bb,openstack/cinder,stable/wallaby,I0c0cb5308246a3dce736eade67b40be063aa78bb,LVM: Retry lvextend commands on code 139,MERGED,2021-08-19 12:24:15.000000000,2021-08-24 17:03:04.000000000,2021-08-24 17:01:18.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-19 12:24:15.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2425f3ef590524c357622748df79d87edebd17f3', 'message': 'LVM: Retry lvextend commands on code 139\n\nRetry lvextend commands upon segfault, similar to other\nLVM calls.  This affects the volume extend path.\n\nChange-Id: I0c0cb5308246a3dce736eade67b40be063aa78bb\nRelated-Bug: #1901783\nRelated-Bug: #1932188\nCloses-Bug: #1940436\n(cherry picked from commit c4b8956763c2759bd2b9fe511efac5b3edfb226d)\n'}]",0,805144,2425f3ef590524c357622748df79d87edebd17f3,22,5,1,4523,,,0,"LVM: Retry lvextend commands on code 139

Retry lvextend commands upon segfault, similar to other
LVM calls.  This affects the volume extend path.

Change-Id: I0c0cb5308246a3dce736eade67b40be063aa78bb
Related-Bug: #1901783
Related-Bug: #1932188
Closes-Bug: #1940436
(cherry picked from commit c4b8956763c2759bd2b9fe511efac5b3edfb226d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/805144/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py']",2,2425f3ef590524c357622748df79d87edebd17f3,," with mock.patch.object(self.vg, '_execute', return_value=('', '')):"," with mock.patch.object(self.vg, '_execute'):",2,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I4c16d988f898f7a85513fbd06d162d04f65c2c36,openstack/tripleo-ansible,stable/wallaby,I4c16d988f898f7a85513fbd06d162d04f65c2c36,Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode,MERGED,2021-08-24 10:47:13.000000000,2021-08-24 16:54:16.000000000,2021-08-24 16:53:00.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-24 10:47:13.000000000', 'files': ['tripleo_ansible/tests/modules/test_tripleo_composable_network.py', 'tripleo_ansible/tests/modules/test_network_data_v2.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a654e9a5f26df4a3114e11076907ba0b51df365', 'message': ""Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode\n\nNeutron does not accept None values for these attributes.\n\n[1] https://github.com/openstack/neutron-lib/blob/master/neutron_lib/api/definitions/subnet.py#L125\n\nCloses-Bug: #1939595\nChange-Id: I4c16d988f898f7a85513fbd06d162d04f65c2c36\n(cherry picked from commit 72590b9da0eb2f9745c4c269ab8fe60ea6f90593)\n""}]",0,805811,1a654e9a5f26df4a3114e11076907ba0b51df365,8,3,1,24245,,,0,"Don't pass None to neutron for ipv6_address_mode/ipv6_ra_mode

Neutron does not accept None values for these attributes.

[1] https://github.com/openstack/neutron-lib/blob/master/neutron_lib/api/definitions/subnet.py#L125

Closes-Bug: #1939595
Change-Id: I4c16d988f898f7a85513fbd06d162d04f65c2c36
(cherry picked from commit 72590b9da0eb2f9745c4c269ab8fe60ea6f90593)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/805811/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/modules/test_network_data_v2.py', 'tripleo_ansible/tests/modules/test_tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py']",4,1a654e9a5f26df4a3114e11076907ba0b51df365,, - slaac - slaac - slaac - slaac, - null - null - null - null,16,19
openstack%2Faodh~master~I4cfcb3e12012075eb56c6f69200825f0b597803f,openstack/aodh,master,I4cfcb3e12012075eb56c6f69200825f0b597803f,Adding FIPS job,MERGED,2021-08-11 18:47:47.000000000,2021-08-24 16:51:59.000000000,2021-08-24 16:47:46.000000000,"[{'_account_id': 4264}, {'_account_id': 7294}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 18:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/e60f5f7931894aad248171b93cf96a3175acf0d1', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: I4cfcb3e12012075eb56c6f69200825f0b597803f\n'}, {'number': 2, 'created': '2021-08-11 18:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/13534573dbc21d89c82182eddf09d03322e9a335', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: I4cfcb3e12012075eb56c6f69200825f0b597803f\nDepends-On: Ie5dc0932ba5e413d909bd235058222ff52e30147\n'}, {'number': 3, 'created': '2021-08-11 19:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/03c597b63910e94fc3036e9839c84c0b390d6272', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: I4cfcb3e12012075eb56c6f69200825f0b597803f\nDepends-On: Ie5dc0932ba5e413d909bd235058222ff52e30147\nDepends-On: Ic158561b3f4d8ddcc092f4e8da1b3215f976fc98\n'}, {'number': 4, 'created': '2021-08-12 15:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/7d90275a1884565f84492dce32fb753d4c204420', 'message': 'WIP/DNM - Adding FIPS job\n\nChange-Id: I4cfcb3e12012075eb56c6f69200825f0b597803f\nDepends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26\n'}, {'number': 5, 'created': '2021-08-18 04:31:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/a236b07d3d75292ebbaabe905acfcb213a2705ab', 'message': 'Adding FIPS job\n\nChange-Id: I4cfcb3e12012075eb56c6f69200825f0b597803f\nDepends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26\n'}]",0,804291,a236b07d3d75292ebbaabe905acfcb213a2705ab,27,3,5,30893,,,0,"Adding FIPS job

Change-Id: I4cfcb3e12012075eb56c6f69200825f0b597803f
Depends-On: I05713ed77b79e583ad1073ff80ccd7a031e34c26
",git fetch https://review.opendev.org/openstack/aodh refs/changes/91/804291/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', '.zuul.yaml']",2,e60f5f7931894aad248171b93cf96a3175acf0d1,add_fips_job, - telemetry-dsvm-integration-centos-8s: irrelevant-files: *aodh-irrelevant-files - telemetry-dsvm-integration-centos-8s-fips: irrelevant-files: *aodh-irrelevant-files - telemetry-dsvm-integration-centos-8s: irrelevant-files: *aodh-irrelevant-files - telemetry-dsvm-integration-centos-8s-fips: irrelevant-files: *aodh-irrelevant-files - job: name: telemetry-dsvm-integration-centos-8s nodeset: devstack-single-node-centos-8-stream parent: telemetry-dsvm-integration description: | Functional testing for a Centos 8 stream system - job: name: telemetry-dsvm-integration-centos-8s-fips parent: telemetry-dsvm-integration-centos-8s description: | Functional testing for a FIPS enabled Centos 8 stream system pre-run: playbooks/enable-fips.yaml,,26,0
openstack%2Fswift~master~I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d,openstack/swift,master,I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d,Band-aid and test the crash of the account server,MERGED,2020-07-29 16:26:55.000000000,2021-08-24 16:50:35.000000000,2021-08-24 16:47:22.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 16:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b3132cc3ba42a8399c05bba21f0c4106c03bd3ca', 'message': 'WIP: Band-aid and test the crash of the account server\n\nWe have a better fix in the works, see the change\nIc53068867feb0c18c88ddbe029af83a970336545. But it is\ntaking too long to coalesce and users are unhappy right now.\n\nChange-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d\n'}, {'number': 2, 'created': '2020-07-30 00:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fb9b2b1998494f15c28b924864c411f130209070', 'message': 'Band-aid and test the crash of the account server\n\nWe have a better fix in the works, see the change\nIc53068867feb0c18c88ddbe029af83a970336545. But it is\ntaking too long to coalesce and users are unhappy right now.\n\nChange-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d\n'}, {'number': 3, 'created': '2020-09-07 22:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cc5edb8f18cc4fe4bf436185616dffc68a3d5c05', 'message': 'Band-aid and test the crash of the account server\n\nWe have a better fix in the works, see the change\nIc53068867feb0c18c88ddbe029af83a970336545. But it is\ntaking too long to coalesce and users are unhappy right now.\n\nChange-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d\n'}, {'number': 4, 'created': '2020-09-08 15:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d53c666fa9cc73042e27cb9b168a64acb8b2a78b', 'message': 'Band-aid and test the crash of the account server\n\nWe have a better fix in the works, see the change\nIc53068867feb0c18c88ddbe029af83a970336545. But it is\ntaking too long to coalesce and users are unhappy right now.\n\nChange-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d\n'}, {'number': 5, 'created': '2021-05-27 18:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b4307156caaf7bac7bddff578a1aea51a6229034', 'message': 'Band-aid and test the crash of the account server\n\nWe have a better fix in the works, see the change\nIc53068867feb0c18c88ddbe029af83a970336545. But it is\ntaking too long to coalesce and users are unhappy right now.\n\nRelated: rhbz#1838242, rhbz#1965348\nChange-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d\n'}, {'number': 6, 'created': '2021-06-02 03:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba8fff88038845dcde38cd68550af7dd53952e43', 'message': 'Band-aid and test the crash of the account server\n\nWe have a better fix in the works, see the change\nIc53068867feb0c18c88ddbe029af83a970336545. But it is\ntaking too long to coalesce and users are unhappy right now.\n\nRelated: rhbz#1838242, rhbz#1965348\nChange-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d\n'}, {'number': 7, 'created': '2021-06-08 23:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/57ecab98ac7d27053e5679e5e2ad413bb0686c37', 'message': 'Band-aid and test the crash of the account server\n\nWe have a better fix in the works, see the change\nIc53068867feb0c18c88ddbe029af83a970336545. But it is\ntaking too long to coalesce and users are unhappy right now.\n\nRelated: rhbz#1838242, rhbz#1965348\nChange-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d\n'}, {'number': 8, 'created': '2021-08-12 21:30:15.000000000', 'files': ['test/probe/common.py', 'test/probe/test_container_failures.py', 'test/probe/test_orphan_container.py', 'swift/container/updater.py', 'swift/account/server.py', 'test/probe/test_object_failures.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bcff1282b579f48efdc9bfcdde5b666b9ab23d3a', 'message': 'Band-aid and test the crash of the account server\n\nWe have a better fix in the works, see the change\nIc53068867feb0c18c88ddbe029af83a970336545. But it is\ntaking too long to coalesce and users are unhappy right now.\n\nRelated: rhbz#1838242, rhbz#1965348\nChange-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d\n'}]",21,743797,bcff1282b579f48efdc9bfcdde5b666b9ab23d3a,35,3,8,597,,,0,"Band-aid and test the crash of the account server

We have a better fix in the works, see the change
Ic53068867feb0c18c88ddbe029af83a970336545. But it is
taking too long to coalesce and users are unhappy right now.

Related: rhbz#1838242, rhbz#1965348
Change-Id: I3f7bfc2877355b7cb433af77c4e2dfdfa94ff14d
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/743797/8 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'test/probe/test_container_failures.py', 'swift/container/updater.py', 'test/probe/test_orphan_container.py', 'test/probe/test_object_failures.py']",5,b3132cc3ba42a8399c05bba21f0c4106c03bd3ca,probez, node_id = (onode['port'] - 6000) // 10, node_id = (onode['port'] - 6000) / 10,176,31
openstack%2Fopenstack-helm-infra~master~Id1be29773224ea496a3550642d7ba194fd1e83c2,openstack/openstack-helm-infra,master,Id1be29773224ea496a3550642d7ba194fd1e83c2,Fix an attribute error,MERGED,2021-08-23 14:42:57.000000000,2021-08-24 16:50:25.000000000,2021-08-24 16:46:35.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-08-23 14:42:57.000000000', 'files': ['roles/build-images/tasks/kubeadm-aio.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e81a86d57407062610b6f969616f8565dd3564ae', 'message': 'Fix an attribute error\n\nThe corresponding attribute in roles/build-images/defaults/main.yml\nis helm_repo instead of google_helm_repo.\n\nChange-Id: Id1be29773224ea496a3550642d7ba194fd1e83c2\n'}]",0,805653,e81a86d57407062610b6f969616f8565dd3564ae,8,3,1,30696,,,0,"Fix an attribute error

The corresponding attribute in roles/build-images/defaults/main.yml
is helm_repo instead of google_helm_repo.

Change-Id: Id1be29773224ea496a3550642d7ba194fd1e83c2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/53/805653/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-images/tasks/kubeadm-aio.yaml'],1,e81a86d57407062610b6f969616f8565dd3564ae,attribute_error," --build-arg GOOGLE_HELM_REPO_URL=""{{ url.helm_repo }}"" \ --build-arg GOOGLE_HELM_REPO_URL=""{{ url.helm_repo }}"" \"," --build-arg GOOGLE_HELM_REPO_URL=""{{ url.google_helm_repo }}"" \ --build-arg GOOGLE_HELM_REPO_URL=""{{ url.google_helm_repo }}"" \",2,2
openstack%2Fnova~master~Ib2308653e1894e1ab9462eec01b19f1a038552f0,openstack/nova,master,Ib2308653e1894e1ab9462eec01b19f1a038552f0,api: Log actual number of UUIDs queried,MERGED,2021-08-24 06:57:26.000000000,2021-08-24 16:42:17.000000000,2021-08-24 13:37:03.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 06:57:26.000000000', 'files': ['nova/api/openstack/compute/server_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6ab1cb467c7fb45f49e44323047eb27023452c1', 'message': 'api: Log actual number of UUIDs queried\n\nWhen retrieving a server group, we log in debug log how many instances\nwe query each cell for. This used the wrong variable, always showing the\nsame number for all cells - the number of members in the server group -\ninstead of showing the number of UUIDs we query the cell for.\n\nChange-Id: Ib2308653e1894e1ab9462eec01b19f1a038552f0\n'}]",0,805786,b6ab1cb467c7fb45f49e44323047eb27023452c1,14,3,1,26250,,,0,"api: Log actual number of UUIDs queried

When retrieving a server group, we log in debug log how many instances
we query each cell for. This used the wrong variable, always showing the
same number for all cells - the number of members in the server group -
instead of showing the number of UUIDs we query the cell for.

Change-Id: Ib2308653e1894e1ab9462eec01b19f1a038552f0
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/805786/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/server_groups.py'],1,b6ab1cb467c7fb45f49e44323047eb27023452c1,server-groups-use-right-log-variable," {'cell': cell_mapping.identity, 'num': len(inst_uuids)})"," {'cell': cell_mapping.identity, 'num': len(uuids)})",1,1
openstack%2Fopenstack-ansible~master~I81b55961bce3bb664f4450ef14327c1634a9e8e1,openstack/openstack-ansible,master,I81b55961bce3bb664f4450ef14327c1634a9e8e1,Add heat service when scenario includes sahara,MERGED,2021-07-27 15:11:52.000000000,2021-08-24 16:38:33.000000000,2021-08-24 16:31:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-27 15:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/219ec65527a112c1c210448bf005d267eb919983', 'message': 'Add heat service when scenario includes sahara\n\nChange-Id: I81b55961bce3bb664f4450ef14327c1634a9e8e1\n'}, {'number': 2, 'created': '2021-07-27 16:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d979886b52270cf548a849d56dd28cd4121a632', 'message': 'Add heat service when scenario includes sahara\n\nChange-Id: I81b55961bce3bb664f4450ef14327c1634a9e8e1\n'}, {'number': 3, 'created': '2021-08-20 08:59:45.000000000', 'files': ['tests/roles/bootstrap-host/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2dc1611f1b9f1b55e9bfc5251468e6dd7c6b3294', 'message': 'Add heat service when scenario includes sahara\n\nChange-Id: I81b55961bce3bb664f4450ef14327c1634a9e8e1\n'}]",1,802535,2dc1611f1b9f1b55e9bfc5251468e6dd7c6b3294,13,3,3,25023,,,0,"Add heat service when scenario includes sahara

Change-Id: I81b55961bce3bb664f4450ef14327c1634a9e8e1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/802535/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/vars/main.yml'],1,219ec65527a112c1c210448bf005d267eb919983,, {% if ('magnum' in bootstrap_host_scenarios) or ('sahara' in bootstrap_host_scenarios) %}, {% if 'magnum' in bootstrap_host_scenarios %},1,1
openstack%2Fopenstack-ansible~master~I6f434c73176dc2d5e6852ab3232a0b63522f0210,openstack/openstack-ansible,master,I6f434c73176dc2d5e6852ab3232a0b63522f0210,Move galera tasks to pre_tasks,MERGED,2021-08-19 12:04:41.000000000,2021-08-24 16:35:48.000000000,2021-08-24 16:31:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-19 12:04:41.000000000', 'files': ['playbooks/galera-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5451778f466e10cd4dbebd1bfe737434bb7334bd', 'message': ""Move galera tasks to pre_tasks\n\nThere's no reason to launch tasks independently since this can be done\nwith pre_tasks.\n\nChange-Id: I6f434c73176dc2d5e6852ab3232a0b63522f0210\n""}]",0,805193,5451778f466e10cd4dbebd1bfe737434bb7334bd,8,3,1,28619,,,0,"Move galera tasks to pre_tasks

There's no reason to launch tasks independently since this can be done
with pre_tasks.

Change-Id: I6f434c73176dc2d5e6852ab3232a0b63522f0210
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/805193/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/galera-install.yml'],1,5451778f466e10cd4dbebd1bfe737434bb7334bd,,- name: Install galera server pre_tasks:,"- name: Galera container config tasks: environment: ""{{ deployment_environment_variables | default({}) }}"" tags: - galera - name: Install galera server hosts: galera_all gather_facts: false serial: 1 user: root",2,11
openstack%2Fopenstack-helm-infra~master~I3f2c6ffe3168ba738181115b175e971e67fba2e8,openstack/openstack-helm-infra,master,I3f2c6ffe3168ba738181115b175e971e67fba2e8,Set initial pg_num to pg_num_min with autoscaler,ABANDONED,2021-08-24 14:18:27.000000000,2021-08-24 16:11:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-24 14:18:27.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c18b003ee4edab1f98a01659a06ca1559575dff0', 'message': 'Set initial pg_num to pg_num_min with autoscaler\n\nThis PS to to ensure a new pool will be created with pg_num set to\npg_num_min when the autoscaler is enabled. manage_pool will call\ncreate_pool with pg_num set to 0 when the autoscaler is enabled.\n\nChange-Id: I3f2c6ffe3168ba738181115b175e971e67fba2e8\n'}]",0,805862,c18b003ee4edab1f98a01659a06ca1559575dff0,4,1,1,32190,,,0,"Set initial pg_num to pg_num_min with autoscaler

This PS to to ensure a new pool will be created with pg_num set to
pg_num_min when the autoscaler is enabled. manage_pool will call
create_pool with pg_num set to 0 when the autoscaler is enabled.

Change-Id: I3f2c6ffe3168ba738181115b175e971e67fba2e8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/805862/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,c18b003ee4edab1f98a01659a06ca1559575dff0,autoscaler," if [[ ${POOL_PLACEMENT_GROUPS} -eq 0 ]]; then else ceph --cluster ""${CLUSTER}"" osd pool create ""${POOL_NAME}"" ${POOL_PLACEMENT_GROUPS}"," if [[ ${POOL_PLACEMENT_GROUPS} -gt 0 ]]; then ceph --cluster ""${CLUSTER}"" osd pool create ""${POOL_NAME}"" ${POOL_PLACEMENT_GROUPS} else",3,3
openstack%2Fneutron-vpnaas~stable%2Fvictoria~I47f6d39379b68c4d71fc4d85ebb06d97cb5a6ce2,openstack/neutron-vpnaas,stable/victoria,I47f6d39379b68c4d71fc4d85ebb06d97cb5a6ce2,Fix inconsistency in requirements,MERGED,2021-08-04 09:56:46.000000000,2021-08-24 16:08:05.000000000,2021-08-24 16:03:43.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 09:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/54cfe3630f1551466a9020975d12e42b6d283b6e', 'message': ""Fix inconsistency in requirements\n\nThe latest pip resolver started to check requirements strictly\nand it detects many inconsistencies in neutron-vpnaas requirements.\nAlso applies the practices discussed in the mailing list [1][2].\n\n* Drop pyflakes from requirements.txt as it is not used.\n* Move document dependencies to doc/requirements.txt [1]\n  and drop them from lower-constriants.txt.\n* Bump MarkupSafe lower-constraint to 1.1.1\n  to make it work with newer setuptools.\n* Bump the minimum neutron requirement to 17.0.0 (victoria release)\n  as the previous min version 13.0.0.0b2 is too old.\n  Wallaby and Victoria neutron are not different much, so I think\n  it is no problem to use the latest released version here.\n* Dependenicy related to neutron min version bump are updated\n  in requirements and lower-constraints.\n  Note that eventlet 0.22.0 is used as lower-constraints as 0.21.0\n  (the min requirement in neutron 17.0.0) is blocked in several libs.\n* Move linter dependencies to tox.ini and drop them from\n  lower-constraints.txt (pylint, pyflakes, astroid, isort)\n* Drop psutil from neutron_vpnaas/tests/functional/requirements.txt\n  as the specified version of psutil is too old and psutil is a dependency\n  of neutron so we don't need to install it explicitly here.\n\nIn addition, hacking version is updated as hacking 0.12.0 is not compatible\nwith python 3.8. W504 and I202 are ignored as we do in the neutron repo.\nOther new flake8 violations are fixed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019362.html\n\nChange-Id: I47f6d39379b68c4d71fc4d85ebb06d97cb5a6ce2\n(cherry picked from commit 7c8262cf50daabc9afd3f45137c101a3b1c805c4)\n""}, {'number': 2, 'created': '2021-08-04 18:59:47.000000000', 'files': ['neutron_vpnaas/db/migration/alembic_migrations/versions/victoria/expand/5f884db48ba9_add_aggressive_negotiation_modes.py', 'requirements.txt', 'test-requirements.txt', 'rally-jobs/plugins/vpn_utils.py', '.zuul.yaml', 'neutron_vpnaas/services/vpn/common/netns_wrapper.py', 'lower-constraints.txt', 'neutron_vpnaas/extensions/vpnaas.py', 'doc/requirements.txt', 'tox.ini', 'neutron_vpnaas/tests/functional/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/0922764db697760a2c8a5d7016ff82200fd1d0d0', 'message': ""Fix inconsistency in requirements\n\nThe latest pip resolver started to check requirements strictly\nand it detects many inconsistencies in neutron-vpnaas requirements.\nAlso applies the practices discussed in the mailing list [1][2].\n\n* Drop pyflakes from requirements.txt as it is not used.\n* Move document dependencies to doc/requirements.txt [1]\n  and drop them from lower-constriants.txt.\n* Bump MarkupSafe lower-constraint to 1.1.1\n  to make it work with newer setuptools.\n* Bump the minimum neutron requirement to 17.0.0 (victoria release)\n  as the previous min version 13.0.0.0b2 is too old.\n  Wallaby and Victoria neutron are not different much, so I think\n  it is no problem to use the latest released version here.\n* Dependenicy related to neutron min version bump are updated\n  in requirements and lower-constraints.\n  Note that eventlet 0.22.0 is used as lower-constraints as 0.21.0\n  (the min requirement in neutron 17.0.0) is blocked in several libs.\n* Move linter dependencies to tox.ini and drop them from\n  lower-constraints.txt (pylint, pyflakes, astroid, isort)\n* Drop psutil from neutron_vpnaas/tests/functional/requirements.txt\n  as the specified version of psutil is too old and psutil is a dependency\n  of neutron so we don't need to install it explicitly here.\n\nIn addition, hacking version is updated as hacking 0.12.0 is not compatible\nwith python 3.8. W504 and I202 are ignored as we do in the neutron repo.\nOther new flake8 violations are fixed.\n\n[stable/victoria only] To fully fix gates, this also drops\nlower-constraints testing from this stable branch, as decided in Neutron\nCI meeting [3].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019362.html\n[3] http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: I47f6d39379b68c4d71fc4d85ebb06d97cb5a6ce2\n(cherry picked from commit 7c8262cf50daabc9afd3f45137c101a3b1c805c4)\n""}]",0,803455,0922764db697760a2c8a5d7016ff82200fd1d0d0,12,4,2,21798,,,0,"Fix inconsistency in requirements

The latest pip resolver started to check requirements strictly
and it detects many inconsistencies in neutron-vpnaas requirements.
Also applies the practices discussed in the mailing list [1][2].

* Drop pyflakes from requirements.txt as it is not used.
* Move document dependencies to doc/requirements.txt [1]
  and drop them from lower-constriants.txt.
* Bump MarkupSafe lower-constraint to 1.1.1
  to make it work with newer setuptools.
* Bump the minimum neutron requirement to 17.0.0 (victoria release)
  as the previous min version 13.0.0.0b2 is too old.
  Wallaby and Victoria neutron are not different much, so I think
  it is no problem to use the latest released version here.
* Dependenicy related to neutron min version bump are updated
  in requirements and lower-constraints.
  Note that eventlet 0.22.0 is used as lower-constraints as 0.21.0
  (the min requirement in neutron 17.0.0) is blocked in several libs.
* Move linter dependencies to tox.ini and drop them from
  lower-constraints.txt (pylint, pyflakes, astroid, isort)
* Drop psutil from neutron_vpnaas/tests/functional/requirements.txt
  as the specified version of psutil is too old and psutil is a dependency
  of neutron so we don't need to install it explicitly here.

In addition, hacking version is updated as hacking 0.12.0 is not compatible
with python 3.8. W504 and I202 are ignored as we do in the neutron repo.
Other new flake8 violations are fixed.

[stable/victoria only] To fully fix gates, this also drops
lower-constraints testing from this stable branch, as decided in Neutron
CI meeting [3].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019362.html
[3] http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: I47f6d39379b68c4d71fc4d85ebb06d97cb5a6ce2
(cherry picked from commit 7c8262cf50daabc9afd3f45137c101a3b1c805c4)
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/55/803455/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/db/migration/alembic_migrations/versions/victoria/expand/5f884db48ba9_add_aggressive_negotiation_modes.py', 'requirements.txt', 'test-requirements.txt', 'rally-jobs/plugins/vpn_utils.py', 'neutron_vpnaas/services/vpn/common/netns_wrapper.py', 'lower-constraints.txt', 'doc/requirements.txt', 'neutron_vpnaas/extensions/vpnaas.py', 'tox.ini', 'neutron_vpnaas/tests/functional/requirements.txt']",10,54cfe3630f1551466a9020975d12e42b6d283b6e,,,"psutil>=1.1.1,<2.0.0",73,83
openstack%2Fneutron-vpnaas~stable%2Fussuri~Ia117cf55cf07fc599c5a9251a49032b30a40c312,openstack/neutron-vpnaas,stable/ussuri,Ia117cf55cf07fc599c5a9251a49032b30a40c312,[stable/ussuri] Fix gates,MERGED,2020-08-13 08:41:28.000000000,2021-08-24 16:07:37.000000000,2021-08-24 16:01:04.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 08:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/0f22db770d42df1e3bed1b24b36d8c633ed69cd5', 'message': 'DNM: test CI health\n\nChange-Id: Ia117cf55cf07fc599c5a9251a49032b30a40c312\n'}, {'number': 2, 'created': '2021-08-05 14:45:55.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini', 'neutron_vpnaas/tests/functional/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6ef2444dc2535a7e7b31a8945a6ac14d15983be2', 'message': ""[stable/ussuri] Fix gates\n\nDrop psutil from neutron_vpnaas/tests/functional/requirements.txt as the\nspecified version of psutil is too old and psutil is a dependency of\nneutron so we don't need to install it explicitly here.\n\nTo fully fix gates, this also drops lower-constraints testing from this\nstable branch, as decided in Neutron CI meeting [0].\n\n[0] http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Ia117cf55cf07fc599c5a9251a49032b30a40c312\n""}]",0,746024,6ef2444dc2535a7e7b31a8945a6ac14d15983be2,15,5,2,17685,,,0,"[stable/ussuri] Fix gates

Drop psutil from neutron_vpnaas/tests/functional/requirements.txt as the
specified version of psutil is too old and psutil is a dependency of
neutron so we don't need to install it explicitly here.

To fully fix gates, this also drops lower-constraints testing from this
stable branch, as decided in Neutron CI meeting [0].

[0] http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: Ia117cf55cf07fc599c5a9251a49032b30a40c312
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/24/746024/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/opts.py'],1,0f22db770d42df1e3bed1b24b36d8c633ed69cd5,gates_ussuri," ('vpnagent', neutron_vpnaas.services.vpn.agent.vpn_agent_opts),"," ('vpnagent', neutron_vpnaas.services.vpn.agent.vpn_agent_opts),",2,2
openstack%2Frequirements~master~I820f80b0c423a952f6625375c7ded50296476b49,openstack/requirements,master,I820f80b0c423a952f6625375c7ded50296476b49,update constraint for oslo.messaging to new release 12.9.0,MERGED,2021-08-23 21:10:53.000000000,2021-08-24 15:50:14.000000000,2021-08-24 15:48:34.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 21:10:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d66f48d27fda931958693c42780d070c44f4ff5b', 'message': 'update constraint for oslo.messaging to new release 12.9.0\n\nmeta: version: 12.9.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: If894ff6d4cddcc7aec3ef9254113469e2c92b099\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I820f80b0c423a952f6625375c7ded50296476b49\n'}]",0,805710,d66f48d27fda931958693c42780d070c44f4ff5b,12,3,1,11131,,,0,"update constraint for oslo.messaging to new release 12.9.0

meta: version: 12.9.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: If894ff6d4cddcc7aec3ef9254113469e2c92b099
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I820f80b0c423a952f6625375c7ded50296476b49
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/805710/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d66f48d27fda931958693c42780d070c44f4ff5b,new-release,oslo.messaging===12.9.0,oslo.messaging===12.8.0,1,1
openstack%2Foslo.metrics~master~I2382b22dd287c39e32b5c35399faa965e921255f,openstack/oslo.metrics,master,I2382b22dd287c39e32b5c35399faa965e921255f,Move flake8 as a pre-commit local target.,NEW,2021-03-23 12:01:50.000000000,2021-08-24 15:44:08.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-23 12:01:50.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/f1fcbaef30d312fdb9b560810c922e7033348294', 'message': ""Move flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nChange-Id: I2382b22dd287c39e32b5c35399faa965e921255f\n""}]",1,782448,f1fcbaef30d312fdb9b560810c922e7033348294,5,3,1,31245,,,0,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: I2382b22dd287c39e32b5c35399faa965e921255f
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/48/782448/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,f1fcbaef30d312fdb9b560810c922e7033348294,move_flake8_local,"# We from the Oslo project decided to pin repos based on the # commit hash instead of the version tag to prevend arbitrary # code from running in developer's machines. To update to a # newer version, run `pre-commit autoupdate` and then replace # the newer versions with their commit hash. default_language_version: python: python3 repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: 9136088a246768144165fcc3ecc3d31bb686920a # v3.3.0 hooks: - id: trailing-whitespace # Replaces or checks mixed line ending - id: mixed-line-ending args: ['--fix', 'lf'] exclude: '.*\.(svg)$' # Forbid files which have a UTF-8 byte-order marker - id: check-byte-order-marker # Checks that non-binary executables have a proper shebang - id: check-executables-have-shebangs # Check for files that contain merge conflict strings. - id: check-merge-conflict # Check for debugger imports and py37+ breakpoint() # calls in python source - id: debug-statements - id: check-yaml files: .*\.(yaml|yml)$ - repo: local hooks: - id: flake8 name: flake8 additional_dependencies: - hacking>=3.0.1,<3.1.0 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$' ",,39,0
openstack%2Frequirements~master~I8b043520d129024cace1a666c34a0f4d5ee566d9,openstack/requirements,master,I8b043520d129024cace1a666c34a0f4d5ee566d9,update constraint for os-brick to new release 5.0.0,MERGED,2021-08-23 21:00:02.000000000,2021-08-24 15:39:53.000000000,2021-08-24 15:38:30.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 21:00:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a3d614764d714a988dc738291fca9916b388c637', 'message': 'update constraint for os-brick to new release 5.0.0\n\nmeta: version: 5.0.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ib225dd8ed32fbd609152cf01a1260060fda1e5b2\nmeta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I8b043520d129024cace1a666c34a0f4d5ee566d9\n'}]",0,805709,a3d614764d714a988dc738291fca9916b388c637,12,3,1,11131,,,0,"update constraint for os-brick to new release 5.0.0

meta: version: 5.0.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib225dd8ed32fbd609152cf01a1260060fda1e5b2
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I8b043520d129024cace1a666c34a0f4d5ee566d9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/805709/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a3d614764d714a988dc738291fca9916b388c637,new-release,os-brick===5.0.0,os-brick===4.4.0,1,1
openstack%2Fpuppet-horizon~stable%2Fussuri~Ie1442d34b6837ced5f44018d038d4d716d568655,openstack/puppet-horizon,stable/ussuri,Ie1442d34b6837ced5f44018d038d4d716d568655,Add support for independent manila-dashboard configurations,MERGED,2021-07-25 23:47:41.000000000,2021-08-24 15:36:54.000000000,2021-08-24 15:35:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-25 23:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/0081382f252318a6cb1a99cdc09bcc8051277c4c', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n(cherry picked from commit fd8db39d8dd66b4895a181a1d187a7c555fbfe83)\n(cherry picked from commit c99e9fdb46531d2e0d8ffc57ca72fe65703932fb)\n'}, {'number': 2, 'created': '2021-08-05 09:59:04.000000000', 'files': ['releasenotes/notes/manila-dashboard-aaf28389e0bcfa9b.yaml', 'templates/_90_manila_shares.py.erb', 'manifests/params.pp', 'manifests/dashboards/manila.pp', 'spec/classes/horizon_dashboards_manila_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c7fd4ad4bbcdc6c169716b25aeabde5d9659ac34', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nBackport note to Ussuri:\n- The log_handlers option is not available in Ussuri so it is replaced\n  by the old log_handler option.\n- This change includes what was fixed by follow-up commit[1] in\n  Victoria.\n  [1] 23ebe3bf02f903abbba885f17dc56590fcf6a51e\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n(cherry picked from commit fd8db39d8dd66b4895a181a1d187a7c555fbfe83)\n(cherry picked from commit c99e9fdb46531d2e0d8ffc57ca72fe65703932fb)\n'}]",0,802204,c7fd4ad4bbcdc6c169716b25aeabde5d9659ac34,14,3,2,9816,,,0,"Add support for independent manila-dashboard configurations

This change introduces the new horizon::dashboards::manila class,
which allows users to manage the independent configuration file for
manila dashboard (_90_manila_shares.py).

Conflicts:
        manifests/params.pp

Backport note to Ussuri:
- The log_handlers option is not available in Ussuri so it is replaced
  by the old log_handler option.
- This change includes what was fixed by follow-up commit[1] in
  Victoria.
  [1] 23ebe3bf02f903abbba885f17dc56590fcf6a51e

Change-Id: Ie1442d34b6837ced5f44018d038d4d716d568655
(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)
(cherry picked from commit fd8db39d8dd66b4895a181a1d187a7c555fbfe83)
(cherry picked from commit c99e9fdb46531d2e0d8ffc57ca72fe65703932fb)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/04/802204/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/manila-dashboard-aaf28389e0bcfa9b.yaml', 'templates/_90_manila_shares.py.erb', 'manifests/params.pp', 'manifests/dashboards/manila.pp', 'spec/classes/horizon_dashboards_manila_spec.rb']",5,0081382f252318a6cb1a99cdc09bcc8051277c4c,puppet-horizon-dashboards-stable/victoria-stable/ussuri,"require 'spec_helper' describe 'horizon::dashboards::manila' do let :params do {} end shared_examples_for 'horizon::dashboards::manila' do context 'with default parameters' do let(:pre_condition) do <<-eos class { 'horizon': secret_key => 'elj1IWiLoWHgcyYxFVLj7cM5rGOOxWl0', } eos end it 'installs manila-dashboard package' do is_expected.to contain_package('manila-dashboard').with( :ensure => 'present', :name => platform_params[:manila_dashboard_package_name], :tag => ['openstack', 'horizon-package'] ) end it 'generates _90_manila_shares.py' do verify_concat_fragment_contents(catalogue, '_90_manila_shares.py', [ ""settings.POLICY_FILES.update({"", "" 'share': 'manila_policy.yaml',"", ""})"" ]) verify_concat_fragment_contents(catalogue, '_90_manila_shares.py', [ "" 'enable_share_groups': True,"", "" 'enable_replication': True,"", "" 'enable_migration': True,"", "" 'enable_public_share_type_creation': True,"", "" 'enable_public_share_group_type_creation': True,"", "" 'enable_public_shares': True,"", "" 'enabled_share_protocols': ['NFS', 'CIFS', 'GlusterFS', 'HDFS', 'CephFS', 'MapRFS'],"", ]) end end context 'without the horizon class defined' do it { should raise_error(Puppet::Error) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end let(:platform_params) do case facts[:osfamily] when 'Debian' { :manila_dashboard_package_name => 'python3-manila-dashboard' } when 'RedHat' { :manila_dashboard_package_name => 'openstack-manila-ui' } end end it_behaves_like 'horizon::dashboards::manila' end end end ",,226,0
openstack%2Fpuppet-horizon~stable%2Fussuri~I54f7fb778bc2487bf977e23e193773d627d91dd9,openstack/puppet-horizon,stable/ussuri,I54f7fb778bc2487bf977e23e193773d627d91dd9,Add support for independent octavia-dashboard configurations,MERGED,2021-07-25 23:47:26.000000000,2021-08-24 15:35:44.000000000,2021-08-24 15:34:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-25 23:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/ea9c04ca1040aabd384aa13083c8ada9f7f1f46d', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n(cherry picked from commit d61cf671ee738ecaece14eaa3377c38274b366c7)\n(cherry picked from commit 1d55da706899bf37baa38ef04e3296d6a26714c9)\n'}, {'number': 2, 'created': '2021-08-05 09:59:04.000000000', 'files': ['templates/_1499_load_balancer_settings.py.erb', 'manifests/params.pp', 'manifests/dashboards/octavia.pp', 'spec/classes/horizon_dashboards_octavia_spec.rb', 'releasenotes/notes/octavia-dashboard-0eb5300606586e80.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/7f3cf8d500a3ae7d65f0fbbb7856744bc1712871', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nBackport note to Ussuri:\n- The log_handlers option is not available in Ussuri so it is replaced\n  by the old log_handler option.\n- This change includes what was fixed by follow-up commit[1] in\n  Victoria.\n  [1] 23ebe3bf02f903abbba885f17dc56590fcf6a51e\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n(cherry picked from commit d61cf671ee738ecaece14eaa3377c38274b366c7)\n(cherry picked from commit 1d55da706899bf37baa38ef04e3296d6a26714c9)\n'}]",0,802203,7f3cf8d500a3ae7d65f0fbbb7856744bc1712871,14,3,2,9816,,,0,"Add support for independent octavia-dashboard configurations

This change introduces the new horizon::dashboards::octavia class,
which allows users to manage the independent configuration file for
octavia dashboard (_1499_load_balancer_settings.py).

Conflicts:
	manifests/params.pp

Backport note to Ussuri:
- The log_handlers option is not available in Ussuri so it is replaced
  by the old log_handler option.
- This change includes what was fixed by follow-up commit[1] in
  Victoria.
  [1] 23ebe3bf02f903abbba885f17dc56590fcf6a51e

Change-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9
(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)
(cherry picked from commit d61cf671ee738ecaece14eaa3377c38274b366c7)
(cherry picked from commit 1d55da706899bf37baa38ef04e3296d6a26714c9)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/03/802203/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/_1499_load_balancer_settings.py.erb', 'manifests/params.pp', 'manifests/dashboards/octavia.pp', 'spec/classes/horizon_dashboards_octavia_spec.rb', 'releasenotes/notes/octavia-dashboard-0eb5300606586e80.yaml']",5,ea9c04ca1040aabd384aa13083c8ada9f7f1f46d,puppet-horizon-dashboards-stable/victoria-stable/ussuri,--- features: - | The new ``horizon::dashboards::octavia`` class has been added. This class can be used to manage parameters for octavia-dashboard. ,,211,33
openstack%2Fglance~master~I5e2d15e861f751031208d2cc36167bacdf91f5a0,openstack/glance,master,I5e2d15e861f751031208d2cc36167bacdf91f5a0,Add missing forbidden to not found case for GET namespace API,MERGED,2021-08-12 08:21:22.000000000,2021-08-24 15:33:46.000000000,2021-08-24 15:29:15.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-08-12 08:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/297a925998f863386e64706ebe4e3c6309f8fd59', 'message': 'Add missing forbidden to not found case for GET namespace API\n\nCovered missing forbidden to not found conversion scenario for\nGET namespace API.\n\nRelated: blueprint policy-refactor\nChange-Id: I5e2d15e861f751031208d2cc36167bacdf91f5a0\n'}, {'number': 2, 'created': '2021-08-19 17:25:26.000000000', 'files': ['glance/tests/functional/v2/test_metadef_namespace_api_policy.py', 'glance/tests/unit/v2/test_metadef_resources.py', 'glance/api/v2/metadef_namespaces.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f33504c39b5e829c7dccae133ea63017dd942999', 'message': 'Add missing forbidden to not found case for GET namespace API\n\nCovered missing forbidden to not found conversion scenario for\nGET namespace API.\n\nRelated: blueprint policy-refactor\nChange-Id: I5e2d15e861f751031208d2cc36167bacdf91f5a0\n'}]",2,804358,f33504c39b5e829c7dccae133ea63017dd942999,13,5,2,9303,,,0,"Add missing forbidden to not found case for GET namespace API

Covered missing forbidden to not found conversion scenario for
GET namespace API.

Related: blueprint policy-refactor
Change-Id: I5e2d15e861f751031208d2cc36167bacdf91f5a0
",git fetch https://review.opendev.org/openstack/glance refs/changes/58/804358/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_metadef_namespace_api_policy.py', 'glance/tests/unit/v2/test_metadef_resources.py', 'glance/api/v2/metadef_namespaces.py']",3,297a925998f863386e64706ebe4e3c6309f8fd59,policy-refactor," except (exception.Forbidden, webob.exc.HTTPForbidden):", except webob.exc.HTTPForbidden:,6,2
openstack%2Fdevstack~master~I95c67ad69e6eae6a72d25a851a71b7de85e56fd2,openstack/devstack,master,I95c67ad69e6eae6a72d25a851a71b7de85e56fd2,Make Ironic job as voting,MERGED,2021-08-11 17:43:48.000000000,2021-08-24 15:33:35.000000000,2021-08-24 15:29:13.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-11 17:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/95fdb48c5c7b9b2fa07530064e0c626137fb52cf', 'message': 'Make Ironic job as voting\n\nironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa\njob is voting on Ironic and neutron gate which mean it is\nstable enough and make sense to make it voting on devstack gate too.\n\nironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa is alias\njob of ironic-tempest-bios-ipmi-direct-tinyipa so using the original\njob instead of alias\n- https://opendev.org/openstack/ironic/src/branch/master/zuul.d/ironic-jobs.yaml#L784\n\nChange-Id: I95c67ad69e6eae6a72d25a851a71b7de85e56fd2\n'}, {'number': 2, 'created': '2021-08-17 13:49:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/31f0418bad5a9542a38e8200131adf4ace08e01a', 'message': 'Make Ironic job as voting\n\nironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa\njob is voting on Ironic and neutron gate which mean it is\nstable enough and make sense to make it voting on devstack gate too.\n\nironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa is alias\njob of ironic-tempest-bios-ipmi-direct-tinyipa so using the original\njob instead of alias\n- https://opendev.org/openstack/ironic/src/branch/master/zuul.d/ironic-jobs.yaml#L784\n\nChange-Id: I95c67ad69e6eae6a72d25a851a71b7de85e56fd2\n'}]",0,804287,31f0418bad5a9542a38e8200131adf4ace08e01a,22,4,2,8556,,,0,"Make Ironic job as voting

ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa
job is voting on Ironic and neutron gate which mean it is
stable enough and make sense to make it voting on devstack gate too.

ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa is alias
job of ironic-tempest-bios-ipmi-direct-tinyipa so using the original
job instead of alias
- https://opendev.org/openstack/ironic/src/branch/master/zuul.d/ironic-jobs.yaml#L784

Change-Id: I95c67ad69e6eae6a72d25a851a71b7de85e56fd2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/804287/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,95fdb48c5c7b9b2fa07530064e0c626137fb52cf,devstack-gate, - ironic-tempest-bios-ipmi-direct-tinyipa: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ironic-tempest-bios-ipmi-direct-tinyipa: irrelevant-files: - ^.*\.rst$ - ^doc/.*$, - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false,8,2
openstack%2Fdevstack~master~I58847f74306194eaad132680815101a134fb4022,openstack/devstack,master,I58847f74306194eaad132680815101a134fb4022,make swift-dsvm-functional job as voting,MERGED,2021-08-11 17:29:12.000000000,2021-08-24 15:28:25.000000000,2021-08-24 15:23:40.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-11 17:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/998073f1a2ebaf2aa95e29c161546cef5eb6f4aa', 'message': ""make swift-dsvm-functional job as voting\n\nswift-dsvm-functional job test swift under python3 and\nvoting on swift gate whihc means this is a stable job now,\nlet's make this voting to devstack gate too.\n\nRemoving swift-dsvm-functional-py3 job as it does not exist anymore\nafter- https://review.opendev.org/c/openstack/swift/+/731318\n\nswift-dsvm-functional itself is py3 job now.\n\nChange-Id: I58847f74306194eaad132680815101a134fb4022\n""}, {'number': 2, 'created': '2021-08-17 13:45:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ed323805f26e51438fd08d6d51882d758551924c', 'message': ""make swift-dsvm-functional job as voting\n\nswift-dsvm-functional job test swift under python3 and\nvoting on swift gate whihc means this is a stable job now,\nlet's make this voting to devstack gate too.\n\nRemoving swift-dsvm-functional-py3 job as it does not exist anymore\nafter- https://review.opendev.org/c/openstack/swift/+/731318\n\nswift-dsvm-functional itself is py3 job now.\n\nChange-Id: I58847f74306194eaad132680815101a134fb4022\n""}]",0,804282,ed323805f26e51438fd08d6d51882d758551924c,17,3,2,8556,,,0,"make swift-dsvm-functional job as voting

swift-dsvm-functional job test swift under python3 and
voting on swift gate whihc means this is a stable job now,
let's make this voting to devstack gate too.

Removing swift-dsvm-functional-py3 job as it does not exist anymore
after- https://review.opendev.org/c/openstack/swift/+/731318

swift-dsvm-functional itself is py3 job now.

Change-Id: I58847f74306194eaad132680815101a134fb4022
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/804282/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,998073f1a2ebaf2aa95e29c161546cef5eb6f4aa,devstack-gate-jobs, - swift-dsvm-functional: irrelevant-files: - ^.*\.rst$ - ^doc/.*$, voting: false - swift-dsvm-functional-py3: voting: false irrelevant-files: *dsvm-irrelevant-files,4,4
openstack%2Fpuppet-openstack-integration~master~Ic245b30b2c18d3d12fd38af703e24875201b76c3,openstack/puppet-openstack-integration,master,Ic245b30b2c18d3d12fd38af703e24875201b76c3,Updated from Puppet OpenStack modules constraints,MERGED,2021-08-21 06:13:13.000000000,2021-08-24 15:21:57.000000000,2021-08-24 15:21:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 06:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8a85e24048c6c143536ffb4b1a9b1dde230139ed', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ic245b30b2c18d3d12fd38af703e24875201b76c3\n'}, {'number': 2, 'created': '2021-08-24 06:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/233ece95d1c4aaed919706560ced17eb6dd8c527', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ic245b30b2c18d3d12fd38af703e24875201b76c3\n'}, {'number': 3, 'created': '2021-08-24 06:54:12.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b9cd9ff301a359fa03fc0af7004f757e172d1a80', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ic245b30b2c18d3d12fd38af703e24875201b76c3\n'}]",0,805473,b9cd9ff301a359fa03fc0af7004f757e172d1a80,13,3,3,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ic245b30b2c18d3d12fd38af703e24875201b76c3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/805473/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,8a85e24048c6c143536ffb4b1a9b1dde230139ed,openstack/puppet/constraints,"mod 'monasca', :git => 'https://opendev.org/openstack/puppet-monasca', :ref => 'master' ",,4,0
openstack%2Fmanila-tempest-plugin~master~Ib39cb2bda862758f575262647e068dd9deaf1459,openstack/manila-tempest-plugin,master,Ib39cb2bda862758f575262647e068dd9deaf1459,[CI] Temporarily disable IPv6 scenario tests,MERGED,2021-08-20 00:01:32.000000000,2021-08-24 15:17:17.000000000,2021-08-24 15:17:17.000000000,"[{'_account_id': 6413}, {'_account_id': 13425}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-08-20 00:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/16cdd3d3339543a42e940d55c8b5f70738a440d7', 'message': ""[CI] Temporarily disable IPv6 scenario tests\n\nWe're experiencing failures to SSH into test\nVMs over IPv6 IP addresses from private tenant\nnetworks in the LVM driver job when testing\nmain branch code. It's possible this is a regression\nin nova, neutron, neutron dynamic routing or bgp. We'll\ndrop this test exclusion when the bug has been\nidentified and fixed.\n\nChange-Id: Ib39cb2bda862758f575262647e068dd9deaf1459\nPartial-Bug: #1940324\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-08-20 00:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b736a44dc53e581d945545aec0c247211e8ebd6c', 'message': ""[CI] Temporarily disable IPv6 scenario tests\n\nWe're experiencing failures to SSH into test\nVMs over IPv6 IP addresses from private tenant\nnetworks in the LVM driver job when testing\nmain branch code. It's possible this is a regression\nin nova, neutron, neutron dynamic routing or bgp. We'll\ndrop this test exclusion when the bug has been\nidentified and fixed.\n\nChange-Id: Ib39cb2bda862758f575262647e068dd9deaf1459\nPartial-Bug: #1940324\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 3, 'created': '2021-08-20 05:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/82108dc15d2c7d2b144102fe4627dc87dbf8ca9c', 'message': ""[CI] Temporarily disable IPv6 scenario tests\n\nWe're experiencing failures to SSH into test\nVMs over IPv6 IP addresses from private tenant\nnetworks in the LVM driver job when testing\nmain branch code. It's possible this is a regression\nin nova, neutron, neutron dynamic routing or bgp. We'll\ndrop this test exclusion when the bug has been\nidentified and fixed.\n\nChange-Id: Ib39cb2bda862758f575262647e068dd9deaf1459\nPartial-Bug: #1940324\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 4, 'created': '2021-08-20 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/52c9ce73776ddb5b6ced7d2ca400636196f82581', 'message': ""[CI] Temporarily disable IPv6 scenario tests\n\nWe're experiencing failures to SSH into test\nVMs over IPv6 IP addresses from private tenant\nnetworks in the LVM driver job when testing\nmain branch code. It's possible this is a regression\nin nova, neutron, neutron dynamic routing or bgp. We'll\ndrop this test exclusion when the bug has been\nidentified and fixed.\n\nChange-Id: Ib39cb2bda862758f575262647e068dd9deaf1459\nPartial-Bug: #1940324\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 5, 'created': '2021-08-20 17:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/dc60ee4d17ec45a865ef14a4338713fb6c047a60', 'message': ""[CI] Temporarily disable IPv6 scenario tests\n\nWe're experiencing failures to SSH into test\nVMs over IPv6 IP addresses from private tenant\nnetworks in the LVM driver job when testing\nmain branch code. It's possible this is a regression\nin nova, neutron, neutron dynamic routing or bgp. We'll\ndrop this test exclusion when the bug has been\nidentified and fixed.\n\nChange-Id: Ib39cb2bda862758f575262647e068dd9deaf1459\nPartial-Bug: #1940324\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 6, 'created': '2021-08-23 19:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/256189770730d2995a4be4daf76174ed0e8fb3f5', 'message': ""[CI] Temporarily disable IPv6 scenario tests\n\nWe're experiencing failures to SSH into test\nVMs over IPv6 IP addresses from private tenant\nnetworks in the LVM driver job when testing\nmain branch code. It's possible this is a regression\nin nova, neutron, neutron dynamic routing or bgp. We'll\ndrop this test exclusion when the bug has been\nidentified and fixed.\n\nChange-Id: Ib39cb2bda862758f575262647e068dd9deaf1459\nPartial-Bug: #1940324\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 7, 'created': '2021-08-23 21:17:59.000000000', 'files': ['zuul.d/manila-tempest-stable-jobs.yaml', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8ccbbebe6d424265ff717197b9a323917518e8c5', 'message': ""[CI] Temporarily disable IPv6 scenario tests\n\nWe're experiencing failures to SSH into test\nVMs over IPv6 IP addresses from private tenant\nnetworks in the LVM driver job when testing\nmain branch code. It's possible this is a regression\nin nova, neutron, neutron dynamic routing or bgp. We'll\ndrop this test exclusion when the bug has been\nidentified and fixed.\n\nChange-Id: Ib39cb2bda862758f575262647e068dd9deaf1459\nPartial-Bug: #1940324\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",4,805319,8ccbbebe6d424265ff717197b9a323917518e8c5,26,6,7,16643,,,0,"[CI] Temporarily disable IPv6 scenario tests

We're experiencing failures to SSH into test
VMs over IPv6 IP addresses from private tenant
networks in the LVM driver job when testing
main branch code. It's possible this is a regression
in nova, neutron, neutron dynamic routing or bgp. We'll
drop this test exclusion when the bug has been
identified and fixed.

Change-Id: Ib39cb2bda862758f575262647e068dd9deaf1459
Partial-Bug: #1940324
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/19/805319/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/manila-tempest-stable-jobs.yaml', 'zuul.d/manila-tempest-jobs.yaml']",2,16cdd3d3339543a42e940d55c8b5f70738a440d7,bug/1940324, vars: << *manila-tempest-base-vars tempest_test_exclude_list: '^manila_tempest_tests.tests.scenario.*IPv6$', vars: *manila-tempest-base-vars,9,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Fwallaby~Ifdb773f9f539469e21d37075f6b88259eb1ffa3e,openstack/openstack-ansible-os_neutron,stable/wallaby,Ifdb773f9f539469e21d37075f6b88259eb1ffa3e,Add support of OVN for CentOS-8-Stream,MERGED,2021-08-16 11:36:03.000000000,2021-08-24 15:11:20.000000000,2021-08-24 15:09:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-08-16 11:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/267778c12e3000c5b801b486bdab61605e2620b5', 'message': 'Add support of OVN for CentOS-8-Stream\n\nThis patch will adjust some variable for C8-Stream job to fix\nOVN deployment for CentOS-8-Stream. Renamed ovn-central with\novn-northd for more generic name.\n\nChange-Id: Ifdb773f9f539469e21d37075f6b88259eb1ffa3e\n(cherry picked from commit 97d409a911b5aaaa1bcc2c069da2d3c277236b47)\n'}, {'number': 2, 'created': '2021-08-16 11:36:47.000000000', 'files': ['templates/ovn-northd-opts.j2', 'vars/redhat.yml', 'vars/debian.yml', 'handlers/main.yml', 'tasks/providers/ovn_cluster_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/40e99aea192b50192ea888ad2640f33ad98da00f', 'message': 'Add support of OVN for CentOS-8-Stream\n\nThis patch will adjust some variable for C8-Stream job to fix\nOVN deployment for CentOS-8-Stream. Renamed ovn-central with\novn-northd for more generic name.\n\nChange-Id: Ifdb773f9f539469e21d37075f6b88259eb1ffa3e\n(cherry picked from commit 97d409a911b5aaaa1bcc2c069da2d3c277236b47)\n'}]",0,804717,40e99aea192b50192ea888ad2640f33ad98da00f,24,4,2,28619,,,0,"Add support of OVN for CentOS-8-Stream

This patch will adjust some variable for C8-Stream job to fix
OVN deployment for CentOS-8-Stream. Renamed ovn-central with
ovn-northd for more generic name.

Change-Id: Ifdb773f9f539469e21d37075f6b88259eb1ffa3e
(cherry picked from commit 97d409a911b5aaaa1bcc2c069da2d3c277236b47)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/17/804717/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ovn-northd-opts.j2', 'vars/redhat.yml', 'vars/debian.yml', 'handlers/main.yml', 'tasks/providers/ovn_cluster_setup.yml']",5,267778c12e3000c5b801b486bdab61605e2620b5,osa/neutron-ovn-stable/wallaby," name: ""{{ neutron_ovn_northd_service_name }}"" src: ovn-northd-opts.j2 dest: ""{{ neutron_ovn_northd_opts_file }}"" - start ovn service - restart ovn service src: ovn-northd-opts.j2 dest: ""{{ neutron_ovn_northd_opts_file }}"" - start ovn service - restart ovn service"," name: ""{{ item }}"" with_items: - ovn-northd - ovn-central src: ovn-central.j2 dest: ""/etc/default/ovn-central"" - start ovn-central service - restart ovn-central service src: ovn-central.j2 dest: ""/etc/default/ovn-central"" - start ovn-central service - restart ovn-central service",22,17
openstack%2Fopenstack-ansible-galera_server~master~I0e293583a8b4952740398177f5fb1ee5bb5197b4,openstack/openstack-ansible-galera_server,master,I0e293583a8b4952740398177f5fb1ee5bb5197b4,Update galera to 10.6.4,MERGED,2021-08-12 09:45:03.000000000,2021-08-24 15:10:29.000000000,2021-08-19 12:58:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-12 09:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/debc89a21737d9c2f9cac083b63d886c74988390', 'message': 'Update galera to 10.6.4\n\nChange-Id: I0e293583a8b4952740398177f5fb1ee5bb5197b4\n'}, {'number': 2, 'created': '2021-08-12 12:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/083b571b7c884f29ecf2aa34ccf56583fae83dfc', 'message': 'Update galera to 10.6.4\n\nAlso delete vars/debian-11.yml so that debian bullseye installs from the official repo\nrather than using the distro packages.\n\nChange-Id: I0e293583a8b4952740398177f5fb1ee5bb5197b4\n'}, {'number': 3, 'created': '2021-08-16 10:24:42.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/88b6fd10f5ab238de8e8c3ec5e68bc8ea69f685b', 'message': 'Update galera to 10.6.4\n\nAlso delete vars/debian-11.yml so that debian bullseye installs from the official repo\nrather than using the distro packages.\n\nChange-Id: I0e293583a8b4952740398177f5fb1ee5bb5197b4\n'}]",0,804370,88b6fd10f5ab238de8e8c3ec5e68bc8ea69f685b,25,3,3,25023,,,0,"Update galera to 10.6.4

Also delete vars/debian-11.yml so that debian bullseye installs from the official repo
rather than using the distro packages.

Change-Id: I0e293583a8b4952740398177f5fb1ee5bb5197b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/70/804370/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,debc89a21737d9c2f9cac083b63d886c74988390,804370,galera_major_version: 10.6 galera_minor_version: 4,galera_major_version: 10.5 galera_minor_version: 9,2,2
openstack%2Fopenstack-helm-infra~master~I300907c87e601a5c64e7766a6e51b87fa8d3cbed,openstack/openstack-helm-infra,master,I300907c87e601a5c64e7766a6e51b87fa8d3cbed,[WIP] Remove locked aliases,ABANDONED,2021-07-29 15:23:25.000000000,2021-08-24 14:08:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-29 15:23:25.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_init-ceph-volume-helper-bluestore.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90f348e52916bc722a7e24888c0f39455a431133', 'message': '[WIP] Remove locked aliases\n\nChange-Id: I300907c87e601a5c64e7766a6e51b87fa8d3cbed\n'}]",0,802906,90f348e52916bc722a7e24888c0f39455a431133,3,1,1,32190,,,0,"[WIP] Remove locked aliases

Change-Id: I300907c87e601a5c64e7766a6e51b87fa8d3cbed
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/06/802906/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_init-ceph-volume-helper-bluestore.sh.tpl']",3,90f348e52916bc722a7e24888c0f39455a431133,nolock,#alias prep_device='locked prep_device',alias prep_device='locked prep_device',35,35
openstack%2Fopenstack-helm-infra~master~I71cd052a253f2dd85b657b6048e5a46012ac0f45,openstack/openstack-helm-infra,master,I71cd052a253f2dd85b657b6048e5a46012ac0f45,[WIP][DNM] Test osd times,ABANDONED,2021-08-03 18:09:25.000000000,2021-08-24 14:08:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-03 18:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a29e5a16c694f63efeb7594dac8ebe2db8ba1ee', 'message': '[WIP][DNM] Test osd times\n\nChange-Id: I71cd052a253f2dd85b657b6048e5a46012ac0f45\n'}, {'number': 2, 'created': '2021-08-03 18:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a50250861543f9277cc55fcfb9b8386ed3fdc22', 'message': '[WIP][DNM] Test osd times\n\nChange-Id: I71cd052a253f2dd85b657b6048e5a46012ac0f45\n'}, {'number': 3, 'created': '2021-08-03 18:28:09.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/794c343e76433bdcb2642ab73d9cda09b59efce3', 'message': '[WIP][DNM] Test osd times\n\nChange-Id: I71cd052a253f2dd85b657b6048e5a46012ac0f45\n'}]",0,803389,794c343e76433bdcb2642ab73d9cda09b59efce3,5,1,3,32190,,,0,"[WIP][DNM] Test osd times

Change-Id: I71cd052a253f2dd85b657b6048e5a46012ac0f45
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/803389/3 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl'],1,8a29e5a16c694f63efeb7594dac8ebe2db8ba1ee,osd-time,"echo ""FRITCHIE OSD START $HOSTNAME"" echo ""FRITCHIE OSD END $HOSTNAME""",,4,0
openstack%2Fansible-role-python_venv_build~stable%2Fwallaby~I7418d285ea052f67febee31038d92c772b72593b,openstack/ansible-role-python_venv_build,stable/wallaby,I7418d285ea052f67febee31038d92c772b72593b,Improve speed of permissions changes,MERGED,2021-08-24 09:32:26.000000000,2021-08-24 14:06:39.000000000,2021-08-24 14:04:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-24 09:32:26.000000000', 'files': ['tasks/python_venv_wheel_build.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/a54e13cb4b846459e434f15ea09fe5c93887883e', 'message': 'Improve speed of permissions changes\n\nThe previous patch was very slow given the number of files\nwhich required permissions changes. This targets the entire\ntemporary directory recursively.\n\nChange-Id: I7418d285ea052f67febee31038d92c772b72593b\n'}]",0,805766,a54e13cb4b846459e434f15ea09fe5c93887883e,8,3,1,28619,,,0,"Improve speed of permissions changes

The previous patch was very slow given the number of files
which required permissions changes. This targets the entire
temporary directory recursively.

Change-Id: I7418d285ea052f67febee31038d92c772b72593b
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/66/805766/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/python_venv_wheel_build.yml'],1,a54e13cb4b846459e434f15ea09fe5c93887883e,," path: ""/tmp/{{ venv_install_destination_path | basename }}"" state: directory recurse: yes"," path: ""{{ item['path'] }}"" with_items: ""{{ _built_wheels['files'] }}""",3,2
openstack%2Fpython-ironicclient~master~I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3,openstack/python-ironicclient,master,I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3,Add support for changing 'boot_mode' and 'secure_boot' states,MERGED,2021-08-09 17:36:12.000000000,2021-08-24 13:50:09.000000000,2021-08-24 13:48:24.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-09 17:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ec09cc60d3f36c3089c5fe6569a381fc256abc48', 'message': ""[WIP] Add support for changing 'boot_mode' and 'secure_boot' states\n\nStory: 2008567\nTask: 41709\nChange-Id: I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3\n""}, {'number': 2, 'created': '2021-08-09 19:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/264014fbecedca90206b7a297d20c2b4892a6bde', 'message': ""Add support for changing 'boot_mode' and 'secure_boot' states\n\nStory: 2008567\nTask: 41709\nChange-Id: I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3\n""}, {'number': 3, 'created': '2021-08-09 19:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/50f12b8da6a80ef050dde5544b9cedde476e037d', 'message': ""Add support for changing 'boot_mode' and 'secure_boot' states\n\nStory: 2008567\nTask: 41709\nChange-Id: I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3\n""}, {'number': 4, 'created': '2021-08-09 19:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/64240f5595339e73d1f3c46a4b3be169aad33622', 'message': ""Add support for changing 'boot_mode' and 'secure_boot' states\n\nStory: 2008567\nTask: 41709\nChange-Id: I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3\n""}, {'number': 5, 'created': '2021-08-13 16:26:05.000000000', 'files': ['ironicclient/v1/node.py', 'ironicclient/common/http.py', 'ironicclient/tests/unit/v1/test_node.py', 'releasenotes/notes/add-node-boot-mode-set-9746b45aa3f80fe8.yaml', 'setup.cfg', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py', 'ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/00808631c1ffa3a9ec2cecafd5ea9f7447f440a8', 'message': ""Add support for changing 'boot_mode' and 'secure_boot' states\n\nStory: 2008567\nTask: 41709\ndepends-on: https://review.opendev.org/c/openstack/ironic/+/800084\nChange-Id: I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3\n""}]",7,803970,00808631c1ffa3a9ec2cecafd5ea9f7447f440a8,21,4,5,33344,,,0,"Add support for changing 'boot_mode' and 'secure_boot' states

Story: 2008567
Task: 41709
depends-on: https://review.opendev.org/c/openstack/ironic/+/800084
Change-Id: I2937ea924ccc4ca6e9ab5599aa02e3c078c166b3
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/70/803970/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/v1/node.py', 'ironicclient/common/http.py', 'ironicclient/tests/unit/v1/test_node.py', 'ironicclient/osc/v1/baremetal_node.py']",4,ec09cc60d3f36c3089c5fe6569a381fc256abc48,ironic_boot_mode_status,"class BootmodeSetBaremetalNode(command.Command): """"""Set boot mode for baremetal node"""""" log = logging.getLogger(__name__ + "".BootmodeSetBaremetalNode"") def get_parser(self, prog_name): parser = super(BootmodeSetBaremetalNode, self).get_parser(prog_name) parser.add_argument( 'node', metavar='<node>', help=_(""Name or UUID of the node."") ) parser.add_argument( ""boot-mode"", metavar='<boot-mode>', choices=['uefi', 'bios'], help=_('The boot mode to set for node (uefi/bios)') ) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"", parsed_args) baremetal_client = self.app.client_manager.baremetal baremetal_client.node.set_boot_mode( parsed_args.node, parsed_args.boot_mode) class SecurebootOnBaremetalNode(command.Command): """"""Turn secure boot on"""""" log = logging.getLogger(__name__ + "".SecurebootOnBaremetalNode"") def get_parser(self, prog_name): parser = super(SecurebootOnBaremetalNode, self).get_parser(prog_name) parser.add_argument( 'node', metavar='<node>', help=_(""Name or UUID of the node"") ) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"", parsed_args) baremetal_client = self.app.client_manager.baremetal baremetal_client.node.set_secure_boot(parsed_args.node, 'on') class SecurebootOffBaremetalNode(command.Command): """"""Turn secure boot off"""""" log = logging.getLogger(__name__ + "".SecurebootOffBaremetalNode"") def get_parser(self, prog_name): parser = super(SecurebootOffBaremetalNode, self).get_parser(prog_name) parser.add_argument( 'node', metavar='<node>', help=_(""Name or UUID of the node"") ) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"", parsed_args) baremetal_client = self.app.client_manager.baremetal baremetal_client.node.set_secure_boot(parsed_args.node, 'off') ",,193,1
openstack%2Fnova~master~I135bce7bd557cd5067897486e91c97c1dc61aa2b,openstack/nova,master,I135bce7bd557cd5067897486e91c97c1dc61aa2b,Add missing [oslo_reports] options,MERGED,2021-08-14 14:23:01.000000000,2021-08-24 13:44:41.000000000,2021-08-24 13:41:16.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-14 14:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/165b2cc4aa8af0c60aef8263e6eaeb191d47507d', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nChange-Id: I135bce7bd557cd5067897486e91c97c1dc61aa2b\n'}, {'number': 2, 'created': '2021-08-21 08:21:00.000000000', 'files': ['etc/nova/nova-config-generator.conf'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bae5f2ca5f5780beb09130ece9ea77da1f6ab83', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nCloses-Bug: #1940733\nChange-Id: I135bce7bd557cd5067897486e91c97c1dc61aa2b\n'}]",0,804568,9bae5f2ca5f5780beb09130ece9ea77da1f6ab83,23,4,2,9816,,,0,"Add missing [oslo_reports] options

The oslo.reports library provides some options under the [oslo_reports]
section. This change ensures these parameters are rendered by
the oslo-config-generator command.

Closes-Bug: #1940733
Change-Id: I135bce7bd557cd5067897486e91c97c1dc61aa2b
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/804568/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/nova/nova-config-generator.conf'],1,165b2cc4aa8af0c60aef8263e6eaeb191d47507d,bug/1940733,namespace = oslo.reports,,1,0
openstack%2Fdevstack~master~Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,openstack/devstack,master,Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b,nova: Enable apic removal workaround for bug #1939108 when using QEMU,MERGED,2021-08-19 13:27:38.000000000,2021-08-24 13:43:17.000000000,2021-08-21 02:51:24.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-19 13:27:38.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50', 'message': 'nova: Enable apic removal workaround for bug #1939108 when using QEMU\n\nThis change enables [workarounds]libvirt_disable_apic when devstack is\ndeployed using the libvirt virt driver and qemu virt type in an effort\nto avoid issues outlined in bug #1939108 caused by the older kernel\ncurrently used in Cirros 0.5.2.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/766043\nCloses-Bug: #1939108\nChange-Id: Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b\n'}]",0,805219,1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50,17,4,1,10135,,,0,"nova: Enable apic removal workaround for bug #1939108 when using QEMU

This change enables [workarounds]libvirt_disable_apic when devstack is
deployed using the libvirt virt driver and qemu virt type in an effort
to avoid issues outlined in bug #1939108 caused by the older kernel
currently used in Cirros 0.5.2.

Depends-On: https://review.opendev.org/c/openstack/nova/+/766043
Closes-Bug: #1939108
Change-Id: Ibb6c34133bb1c95ef11cc59d9b12a0f65502c61b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/805219/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,1e86a25cc28e34d7f73a4c6ccbbc3fc667598d50,workaround-disable-apic," # Workaround bug #1939108 if [[ ""$VIRT_DRIVER"" == ""libvirt"" && ""$LIBVIRT_TYPE"" == ""qemu"" ]]; then iniset $NOVA_CPU_CONF workarounds libvirt_disable_apic True fi ",,5,0
openstack%2Fnova~master~Id6e2be2b407eb08e269c35e0f89d235c67a1ab99,openstack/nova,master,Id6e2be2b407eb08e269c35e0f89d235c67a1ab99,Retry on vmware create_vm when it fails,MERGED,2020-11-29 10:28:59.000000000,2021-08-24 13:43:15.000000000,2021-08-24 13:40:43.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 31706}]","[{'number': 1, 'created': '2020-11-29 10:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/931d6b43e2e49286e7311e506ee7e491cc447986', 'message': 'Retry on vmware create_vm when it fails\n\nIn some cases the logical switch is not ready when the VM is booted,\nso retry can help avoid the error.\n\nChange-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99\n'}, {'number': 2, 'created': '2020-11-29 11:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/719ef2fb91333c750fb0aec76836f3fe3a1febcd', 'message': 'Retry on vmware create_vm when it fails\n\nIn some cases the logical switch is not ready when the VM is booted,\nso retry can help avoid the error.\n\nChange-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99\n'}, {'number': 3, 'created': '2020-12-01 06:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a2c52c859f99d3c8b239231c1220835d3b590f9', 'message': 'Retry on vmware create_vm when it fails\n\nIn some cases the logical switch is not ready when the VM is booted,\nso retry can help avoid the error.\n\nChange-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99\n'}, {'number': 4, 'created': '2020-12-05 08:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3ad94bdaf8bf2a934551fcedb09ce1896e54352', 'message': 'Retry on vmware create_vm when it fails\n\nIn some cases the logical switch is not ready when the VM is booted,\nso retry can help avoid the error.\n\nChange-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99\n'}, {'number': 5, 'created': '2020-12-05 08:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea87944cd82ab60841a0fed0619344f912d8a921', 'message': 'Retry on vmware create_vm when it fails\n\nIn some cases the logical switch is not ready when the VM is booted,\nso retry can help avoid the error.\n\nChange-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99\n'}, {'number': 6, 'created': '2020-12-06 09:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44f02c1d60f4f726eee9bc793c06bd835d3ff9f2', 'message': 'Retry on vmware create_vm when it fails\n\nIn some cases the logical switch is not ready when the VM is booted,\nso retry can help avoid the error.\n\nChange-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99\n'}, {'number': 7, 'created': '2020-12-16 13:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7540a448db15f6dd2451b40d8ba67232b8f65473', 'message': 'Retry on vmware create_vm when it fails\n\nIn some cases the logical switch is not ready when the VM is booted,\nso retry can help avoid the error.\n\nCloses-Bug: #1908408\nChange-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99\n'}, {'number': 8, 'created': '2021-01-18 07:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d995bb4d7998cb88426dac98a4d9d22060eccce6', 'message': 'Retry on vmware create_vm when it fails\n\nIn some cases the logical switch is not ready when the VM is booted,\nso retry can help avoid the error.\n\nCloses-Bug: #1908408\nChange-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99\n'}, {'number': 9, 'created': '2021-03-10 08:47:44.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9f260f1e6e636c991ac6252f40ff580d66b3081e', 'message': 'Retry on vmware create_vm when it fails\n\nIn some cases the logical switch is not ready when the VM is booted,\nso retry can help avoid the error.\n\nCloses-Bug: #1908408\nChange-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99\n'}]",2,764586,9f260f1e6e636c991ac6252f40ff580d66b3081e,68,6,9,20363,,,0,"Retry on vmware create_vm when it fails

In some cases the logical switch is not ready when the VM is booted,
so retry can help avoid the error.

Closes-Bug: #1908408
Change-Id: Id6e2be2b407eb08e269c35e0f89d235c67a1ab99
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/764586/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/vm_util.py'],1,931d6b43e2e49286e7311e506ee7e491cc447986,vmware_retry,"from oslo_service import loopingcall@loopingcall.RetryDecorator( max_retry_count=5, inc_sleep_time=2, max_sleep_time=10, exceptions=(vexc.VimFaultException,))",,5,0
openstack%2Fopenstack-ansible~master~Icb058900103e072fee63d5ea4a315a2d97e8cb3e,openstack/openstack-ansible,master,Icb058900103e072fee63d5ea4a315a2d97e8cb3e,Update pip version,MERGED,2021-08-23 07:15:07.000000000,2021-08-24 13:40:17.000000000,2021-08-24 13:38:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-23 07:15:07.000000000', 'files': ['global-requirement-pins.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e50398f084b9a112944a0773bfcedd65ecd6772', 'message': 'Update pip version\n\nChange-Id: Icb058900103e072fee63d5ea4a315a2d97e8cb3e\n'}]",0,805583,6e50398f084b9a112944a0773bfcedd65ecd6772,10,3,1,28619,,,0,"Update pip version

Change-Id: Icb058900103e072fee63d5ea4a315a2d97e8cb3e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/83/805583/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirement-pins.txt'],1,6e50398f084b9a112944a0773bfcedd65ecd6772,,pip==21.2.4 wheel==0.37.0,pip==21.0.1 wheel==0.36.2,2,2
openstack%2Felection~master~Ia681c559773e217acaeac3e72150df76dc24cb55,openstack/election,master,Ia681c559773e217acaeac3e72150df76dc24cb55,Adding James Slagle candidacy for TripleO PTL for Yoga,MERGED,2021-08-24 12:10:24.000000000,2021-08-24 13:25:09.000000000,2021-08-24 13:11:45.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-08-24 12:10:24.000000000', 'files': ['candidates/yoga/Tripleo/jslagle@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/18080143b3ccd7ef34609fad84eb54722b334311', 'message': 'Adding James Slagle candidacy for TripleO PTL for Yoga\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Ia681c559773e217acaeac3e72150df76dc24cb55\n'}]",0,805840,18080143b3ccd7ef34609fad84eb54722b334311,18,13,1,7144,,,0,"Adding James Slagle candidacy for TripleO PTL for Yoga

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Ia681c559773e217acaeac3e72150df76dc24cb55
",git fetch https://review.opendev.org/openstack/election refs/changes/40/805840/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Tripleo/jslagle@redhat.com'],1,18080143b3ccd7ef34609fad84eb54722b334311,,"I'm submitting my candidacy for TripleO PTL. I look forward to the opportunity to help the community as we tackle some of our upcoming challenges — the transition to CentOS/RHEL 9, increasing complexity around container management, and revisiting our commitments to our adopted tooling. I'd suggest that to assist with these efforts, we focus on our review prioritization and in progress work streams. I would like to see folks representing review priorities during the TripleO meeting and on an etherpad. I'd also like to see less parallel streams of work, with the opportunity for more folks to collaborate on common priorities. If elected as PTL, I would plan to organize the efforts around such an approach. Thank you for the consideration. ",,17,0
openstack%2Felection~master~I322d444db686603545bed6bc2a2036924dc9ce2c,openstack/election,master,I322d444db686603545bed6bc2a2036924dc9ce2c,Adding Takashi Kajinami candidacy for Storlets PTL,MERGED,2021-08-24 05:07:33.000000000,2021-08-24 13:18:45.000000000,2021-08-24 13:17:07.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 05:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/96a39eb0b62b39388886f5beb140575d2899e7ec', 'message': 'Adding Takashi Kajinami candidacy for Storlets PTL\n\nChange-Id: I322d444db686603545bed6bc2a2036924dc9ce2c\n'}, {'number': 2, 'created': '2021-08-24 05:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/bab99bd61a71b4369708e09a2e5e320ce409c5eb', 'message': 'Adding Takashi Kajinami candidacy for Storlets PTL\n\nChange-Id: I322d444db686603545bed6bc2a2036924dc9ce2c\n'}, {'number': 3, 'created': '2021-08-24 05:11:21.000000000', 'files': ['candidates/yoga/Storlets/tkajinam@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/fb21f8182ab019a8b69e9086913050e85338e4ee', 'message': 'Adding Takashi Kajinami candidacy for Storlets PTL\n\nChange-Id: I322d444db686603545bed6bc2a2036924dc9ce2c\n'}]",0,805778,fb21f8182ab019a8b69e9086913050e85338e4ee,10,3,3,9816,,,0,"Adding Takashi Kajinami candidacy for Storlets PTL

Change-Id: I322d444db686603545bed6bc2a2036924dc9ce2c
",git fetch https://review.opendev.org/openstack/election refs/changes/78/805778/3 && git format-patch -1 --stdout FETCH_HEAD,['candidates/yoga/Storlets/tkajinam@redhat.com'],1,96a39eb0b62b39388886f5beb140575d2899e7ec,,"Hi All, I'd like to announce my cnadiday to continute the PTL role for Storlets project in the Yoga cycle. After inactive recent cycles, we fortunately get some interests around the project again. So I'll propse the items below as our focus during the next cycle. - Keep compatibility with Swift. This is always top-priority - Merge some patches still open to achieve easiler operation and improve resource efficiency Thank you for your consideration. Thank you, Takashi ",,17,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iac6c0acb49582aeddead718834a8fe9d84babb15,openstack/tripleo-ansible,stable/wallaby,Iac6c0acb49582aeddead718834a8fe9d84babb15,frr: Add entry points to be able to customize the config,MERGED,2021-08-24 05:20:05.000000000,2021-08-24 13:18:07.000000000,2021-08-24 13:18:07.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-24 05:20:05.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/14ad90bb1b2d372e01afd83bc761842223977bcf', 'message': 'frr: Add entry points to be able to customize the config\n\nFor example, this can be useful to inject some custom lines\nat different points. Tested with increasing debug level for frr:\n  ControllerExtraGroupVars:\n    tripleo_frr_conf_custom_globals: |\n      debug bfd peer\n      debug bfd network\n      debug bfd zebra\n      debug bgp graceful-restart\n      debug bgp neighbor-events\n      debug bgp updates\n      debug bgp update-groups\n\nAnd correctly got the lines in frr.conf:\n[root@ctrl-1-0 frr]# grep -B2 ^debug /var/lib/config-data/ansible-generated/frr/etc/frr/frr.conf |head -n5\nservice integrated-vtysh-config\nline vty\ndebug bfd peer\ndebug bfd network\ndebug bfd zebra\n\nChange-Id: Iac6c0acb49582aeddead718834a8fe9d84babb15\n(cherry picked from commit 43ad812e60b303456af6ee2bb604402cc70ca0a5)\n'}]",0,805755,14ad90bb1b2d372e01afd83bc761842223977bcf,8,4,1,20172,,,0,"frr: Add entry points to be able to customize the config

For example, this can be useful to inject some custom lines
at different points. Tested with increasing debug level for frr:
  ControllerExtraGroupVars:
    tripleo_frr_conf_custom_globals: |
      debug bfd peer
      debug bfd network
      debug bfd zebra
      debug bgp graceful-restart
      debug bgp neighbor-events
      debug bgp updates
      debug bgp update-groups

And correctly got the lines in frr.conf:
[root@ctrl-1-0 frr]# grep -B2 ^debug /var/lib/config-data/ansible-generated/frr/etc/frr/frr.conf |head -n5
service integrated-vtysh-config
line vty
debug bfd peer
debug bfd network
debug bfd zebra

Change-Id: Iac6c0acb49582aeddead718834a8fe9d84babb15
(cherry picked from commit 43ad812e60b303456af6ee2bb604402cc70ca0a5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/805755/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,14ad90bb1b2d372e01afd83bc761842223977bcf,frr-custom-entries-stable/wallaby,{{ tripleo_frr_conf_custom_globals }} {{ tripleo_frr_conf_custom_router_bgp }}{{ tripleo_frr_conf_custom_ipv4 }}{{ tripleo_frr_conf_custom_ipv6 }},,8,0
openstack%2Felection~master~I672280d62831455e2a1ed30fe7c3e16a8ce135d3,openstack/election,master,I672280d62831455e2a1ed30fe7c3e16a8ce135d3,Add Goutham Pacha Ravi candidacy for Manila PTL,MERGED,2021-08-24 06:43:11.000000000,2021-08-24 13:14:51.000000000,2021-08-24 13:11:49.000000000,"[{'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-24 06:43:11.000000000', 'files': ['candidates/yoga/Manila/.placeholder', 'candidates/yoga/Manila/gouthampravi@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/5c4605b8ac47d4a4bd1980f7c15a63dd1b339866', 'message': 'Add Goutham Pacha Ravi candidacy for Manila PTL\n\nChange-Id: I672280d62831455e2a1ed30fe7c3e16a8ce135d3\n'}]",0,805784,5c4605b8ac47d4a4bd1980f7c15a63dd1b339866,8,3,1,16643,,,0,"Add Goutham Pacha Ravi candidacy for Manila PTL

Change-Id: I672280d62831455e2a1ed30fe7c3e16a8ce135d3
",git fetch https://review.opendev.org/openstack/election refs/changes/84/805784/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/yoga/Manila/.placeholder', 'candidates/yoga/Manila/gouthampravi@gmail.com']",2,5c4605b8ac47d4a4bd1980f7c15a63dd1b339866,yoga,"Hello fellow zorillas and other interested stackers, I'm expressing interest to continue serving as PTL for the OpenStack Manila team through the Yoga cycle. I've used my great privilege in this role to affect the community in many small and significant ways over the past four cycles. It has been a smooth ride because of stellar contributors who're beyond motivated and enthusiastic to develop and maintain impactful software while having fun. The enthusiasm is bolstered by grit to be a team with a difference. We jump at the opportunity to help a user or mentor and welcome new contributors or back each other up and help get stuff done, regardless of the ""barriers"" of affiliation. I enjoy being the occasional enabler to this camaraderie. During the Xena cycle, we mentored two Outreachy interns and on-boarded several new contributors. We added sub team core maintainers in the manila-tempest-plugin project and a new core maintainer across the manila repos. We drove down bug backlogs through bug squash weeks, swarmed to work on the OpenStackClient with a hack-a-thon and crushed the goal to drive down tech debt. We kept the momentum on several multi-cycle efforts such as OpenStackSDK integration, Secure RBAC, Active/Active HA. The Yoga cycle will be critical in our efforts to drive some of these multi-cycle efforts to closure. So, if you will have me, I wish to serve you through the Yoga cycle and get things done. I would tell you it's going to be the best release ever; but I would hold out the distinction for the Zorilla cycle - yes that's what we'll name it, what other cool name will we have anyway :) Thank you for your support, Goutham Pacha Ravi <gouthampravi@gmail.com> IRC: gouthamr [1] http://lists.openstack.org/pipermail/openstack-discuss/2021-August/024346.html",,32,0
openstack%2Fopenstack-helm-infra~master~I9b93c86e3747f2e768956898a27dd6d63469a8ee,openstack/openstack-helm-infra,master,I9b93c86e3747f2e768956898a27dd6d63469a8ee,"Revert ""chore(tiller): removes tiller chart""",MERGED,2021-08-20 15:00:01.000000000,2021-08-24 13:13:48.000000000,2021-08-24 13:12:00.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30696}]","[{'number': 1, 'created': '2021-08-20 15:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/296161bfd6ecec3d55b6bb8ca4854fefc6480011', 'message': 'Revert ""chore(tiller): removes tiller chart""\n\nThis reverts commit b2adfeadd8adbf5d99187106cf5d2956f0afeeab.\n\nReason for revert: This breaks the kubeadm jobs, lets add this\nback until a proper fix is implemented.\n\nChange-Id: I9b93c86e3747f2e768956898a27dd6d63469a8ee\n'}, {'number': 2, 'created': '2021-08-20 15:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e2196eb16c7a8b5e8e6a8b0e05889a5de5d1f317', 'message': 'Revert ""chore(tiller): removes tiller chart""\n\nThis reverts commit b2adfeadd8adbf5d99187106cf5d2956f0afeeab.\n\nReason for revert: This breaks the kubeadm jobs, lets add this\nback until a proper fix is implemented.\n\nChange-Id: I9b93c86e3747f2e768956898a27dd6d63469a8ee\n'}, {'number': 3, 'created': '2021-08-20 15:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd129f0cbb3d51c0539f11308c1e11c464f65c6e', 'message': 'Revert ""chore(tiller): removes tiller chart""\n\nThis reverts commit b2adfeadd8adbf5d99187106cf5d2956f0afeeab.\n\nReason for revert: This breaks the kubeadm jobs, lets add this\nback until a proper fix is implemented.\n\nChange-Id: I9b93c86e3747f2e768956898a27dd6d63469a8ee\n'}, {'number': 4, 'created': '2021-08-20 16:08:46.000000000', 'files': ['releasenotes/config.yaml', 'tiller/templates/configmap-bin.yaml', 'releasenotes/notes/tiller.yaml', 'tiller/templates/deployment-tiller.yaml', 'tiller/values.yaml', 'tiller/requirements.yaml', 'tiller/Chart.yaml', 'tiller/templates/job-image-repo-sync.yaml', 'tiller/templates/service-tiller-deploy.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1062d68eed011a4822b481a5bf97b886ba4585b0', 'message': 'Revert ""chore(tiller): removes tiller chart""\n\nThis reverts commit b2adfeadd8adbf5d99187106cf5d2956f0afeeab.\n\nReason for revert: This breaks the kubeadm jobs, lets add this\nback until a proper fix is implemented.\n\nChange-Id: I9b93c86e3747f2e768956898a27dd6d63469a8ee\n'}]",0,805279,1062d68eed011a4822b481a5bf97b886ba4585b0,14,5,4,21420,,,0,"Revert ""chore(tiller): removes tiller chart""

This reverts commit b2adfeadd8adbf5d99187106cf5d2956f0afeeab.

Reason for revert: This breaks the kubeadm jobs, lets add this
back until a proper fix is implemented.

Change-Id: I9b93c86e3747f2e768956898a27dd6d63469a8ee
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/79/805279/4 && git format-patch -1 --stdout FETCH_HEAD,"['tiller/templates/configmap-bin.yaml', 'tiller/templates/deployment-tiller.yaml', 'tiller/values.yaml', 'tiller/requirements.yaml', 'tiller/Chart.yaml', 'tiller/templates/job-image-repo-sync.yaml', 'tiller/templates/service-tiller-deploy.yaml']",7,296161bfd6ecec3d55b6bb8ca4854fefc6480011,rm/tiller,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.service_tiller_deploy }} {{- $envAll := . }} {{- $prometheus_annotations := $envAll.Values.monitoring.prometheus.tiller }} --- apiVersion: v1 kind: Service metadata: labels: app: helm name: tiller name: tiller-deploy annotations: {{- if .Values.monitoring.prometheus.enabled }} {{ tuple $prometheus_annotations | include ""helm-toolkit.snippets.prometheus_service_annotations"" | indent 4 }} {{- end }} spec: ports: - name: tiller port: 44134 protocol: TCP targetPort: tiller - name: metrics port: 44135 protocol: TCP targetPort: metrics selector: app: helm name: tiller sessionAffinity: None type: ClusterIP {{- end }} ",,345,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I8ff745be02b476bcfeac1bfd162902d6fffdd6cb,openstack/tripleo-ansible,stable/wallaby,I8ff745be02b476bcfeac1bfd162902d6fffdd6cb,Allow BFD timeouts to be customized,MERGED,2021-08-24 05:20:34.000000000,2021-08-24 13:07:30.000000000,2021-08-24 13:07:30.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-24 05:20:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d9d586bb47a299eeab98b730237de718301ce63', 'message': ""Allow BFD timeouts to be customized\n\nEspecially in virtual environments the default rfc-specified BFD timeouts are quite\naggressive. A small overload on the control plane has the chances of\nmaking us miss heartbeat and declaring a link down.\n\nLet's add some parameters (set to the RFC-defined defaults) in order to\nbe able to customize them.\n\nTested with:\n  ControllerRack1ExtraGroupVars:\n    tripleo_frr_bfd_detect_multiplier: 10\n    tripleo_frr_bfd_transmit_interval: 500\n    tripleo_frr_bfd_receive_interval: 500\n\nObtained the following in the config:\nrouter bgp 64999\n  bgp router-id 172.30.1.1\n  bgp log-neighbor-changes\n  bgp graceful-shutdown\n...\n  neighbor uplink peer-group\n  neighbor uplink bfd\n  neighbor uplink bfd profile tripleo\n...\nbfd\n  profile tripleo\n    detect-multiplier 10\n    transmit-interval 500\n    receive-interval 500\n\nvtysh confirms that the config is applied correctly:\n[root@ctrl-1-0 ~]# podman exec -it frr vtysh -c 'show running-config' |grep -A4 bfd\nrouter bgp 64999\n bgp router-id 172.30.1.1\n bgp log-neighbor-changes\n--\n   neighbor uplink bfd\n neighbor uplink bfd profile tripleo\n neighbor uplink ttl-security hops 1\n neighbor enp2s0 interface peer-group uplink\n neighbor enp3s0 interface peer-group uplink\n !\n--\n  bfd\n profile tripleo\n  detect-multiplier 10\n  transmit-interval 500\n  receive-interval 500\n\nChange-Id: I8ff745be02b476bcfeac1bfd162902d6fffdd6cb\n(cherry picked from commit 25ca766fabd479cb7898c49f8d504929ae0e21d7)\n""}]",0,805756,1d9d586bb47a299eeab98b730237de718301ce63,8,4,1,20172,,,0,"Allow BFD timeouts to be customized

Especially in virtual environments the default rfc-specified BFD timeouts are quite
aggressive. A small overload on the control plane has the chances of
making us miss heartbeat and declaring a link down.

Let's add some parameters (set to the RFC-defined defaults) in order to
be able to customize them.

Tested with:
  ControllerRack1ExtraGroupVars:
    tripleo_frr_bfd_detect_multiplier: 10
    tripleo_frr_bfd_transmit_interval: 500
    tripleo_frr_bfd_receive_interval: 500

Obtained the following in the config:
router bgp 64999
  bgp router-id 172.30.1.1
  bgp log-neighbor-changes
  bgp graceful-shutdown
...
  neighbor uplink peer-group
  neighbor uplink bfd
  neighbor uplink bfd profile tripleo
...
bfd
  profile tripleo
    detect-multiplier 10
    transmit-interval 500
    receive-interval 500

vtysh confirms that the config is applied correctly:
[root@ctrl-1-0 ~]# podman exec -it frr vtysh -c 'show running-config' |grep -A4 bfd
router bgp 64999
 bgp router-id 172.30.1.1
 bgp log-neighbor-changes
--
   neighbor uplink bfd
 neighbor uplink bfd profile tripleo
 neighbor uplink ttl-security hops 1
 neighbor enp2s0 interface peer-group uplink
 neighbor enp3s0 interface peer-group uplink
 !
--
  bfd
 profile tripleo
  detect-multiplier 10
  transmit-interval 500
  receive-interval 500

Change-Id: I8ff745be02b476bcfeac1bfd162902d6fffdd6cb
(cherry picked from commit 25ca766fabd479cb7898c49f8d504929ae0e21d7)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/805756/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,1d9d586bb47a299eeab98b730237de718301ce63,bfd-customize-stable/wallaby, neighbor uplink bfd profile tripleo {% if tripleo_frr_bfd %} bfd profile tripleo detect-multiplier {{ tripleo_frr_bfd_detect_multiplier }} transmit-interval {{ tripleo_frr_bfd_transmit_interval }} receive-interval {{ tripleo_frr_bfd_receive_interval }} {% endif %},,19,0
openstack%2Fpython-manilaclient~master~Id3e163de48bdd918ae55438d812187ba4d5461c9,openstack/python-manilaclient,master,Id3e163de48bdd918ae55438d812187ba4d5461c9,Add --wait flag to the create share group operation,MERGED,2021-07-08 09:25:17.000000000,2021-08-24 13:06:12.000000000,2021-08-24 13:04:31.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 31213}]","[{'number': 1, 'created': '2021-07-08 09:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/20745ea2ef9594a57cbe35fb26384af6e180b567', 'message': 'Add --wait flag to the create share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_group_create to be test_share_group_create_wait\nand included the waiter flag\n\nChange-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9\n'}, {'number': 2, 'created': '2021-07-14 01:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/24ec32b697d21a66844454ff0e86a8ca7e469840', 'message': 'Add --wait flag to the create share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_group_create to be test_share_group_create_wait\nand included the waiter flag\n\nPartial-Bug: #1898318\nChange-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9\n'}, {'number': 3, 'created': '2021-07-14 15:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/03743193bf894c3032c6b1c1d0140925c90fe9a5', 'message': 'Add --wait flag to the create share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_group_create to be test_share_group_create_wait\nand included the waiter flag\n\nPartial-Bug: #1898318\nChange-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9\n'}, {'number': 4, 'created': '2021-07-16 11:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8f7fce397dcd74c7678f921a3bccf9db168aedca', 'message': 'Add --wait flag to the create share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_group_create to be test_share_group_create_wait\nand included the waiter flag\n\nPartial-Bug: #1898318\nChange-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9\n'}, {'number': 5, 'created': '2021-08-03 10:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/72b464c74c9bc180c5c05eecac367f2b262b4e42', 'message': 'Add --wait flag to the create share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_group_create to be test_share_group_create_wait\nand included the waiter flag\n\nPartial-Bug: #1898318\nChange-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9\n'}, {'number': 6, 'created': '2021-08-10 17:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c33552152370ed59669843b99650939ce2f65163', 'message': 'Add --wait flag to the create share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_group_create to be test_share_group_create_wait\nand included the waiter flag\n\nPartial-Bug: #1898318\nChange-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9\n'}, {'number': 7, 'created': '2021-08-17 08:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8ddce67a7701bd4be23c51a9a781dac57acb4d0b', 'message': 'Add --wait flag to the create share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_group_create to be test_share_group_create_wait\nand included the waiter flag\n\nPartial-Bug: #1898318\nChange-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9\n'}, {'number': 8, 'created': '2021-08-17 11:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/926c9d4ed90d7436269b84790f32dd906bd12e03', 'message': 'Add --wait flag to the create share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_group_create to be test_share_group_create_wait\nand included the waiter flag\n\nPartial-Bug: #1898318\nChange-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9\n'}, {'number': 9, 'created': '2021-08-23 11:56:41.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898318-add-wait-flag-to-create-sharee-group-operation-cd8310b241d377b0.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/376429ec1d848dcb1e49c63370ab07be89dec2b4', 'message': 'Add --wait flag to the create share group operation\n\nThis patch set adds the --wait flag to the share group\noperation. This will make the CLI to wait for the\noperation to be completed before returning to the prompt.\n\nUpdated test_share_group_create to be test_share_group_create_wait\nand included the waiter flag\n\nPartial-Bug: #1898318\nChange-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9\n'}]",28,799997,376429ec1d848dcb1e49c63370ab07be89dec2b4,36,4,9,33380,,,0,"Add --wait flag to the create share group operation

This patch set adds the --wait flag to the share group
operation. This will make the CLI to wait for the
operation to be completed before returning to the prompt.

Updated test_share_group_create to be test_share_group_create_wait
and included the waiter flag

Partial-Bug: #1898318
Change-Id: Id3e163de48bdd918ae55438d812187ba4d5461c9
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/97/799997/9 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py']",2,20745ea2ef9594a57cbe35fb26384af6e180b567,bug/1898318,"@cliutils.arg( '--wait', action='store_true', help='Wait for share group to create') if args.wait: for share_group in share_types: try: _wait_for_resource_status( cs, share_group, resource_type='share_group', expected_status='created') except exceptions.CommandError as e: print(e, file=sys.stderr)"," _print_share_group(cs, share_group)",37,23
openstack%2Fironic~master~I2d72389edf546b99c536c6b130ca85ababf80591,openstack/ironic,master,I2d72389edf546b99c536c6b130ca85ababf80591,Add api endpoints for changing boot_mode and secure_boot state,MERGED,2021-07-08 16:57:58.000000000,2021-08-24 12:57:26.000000000,2021-08-24 09:49:56.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-08 16:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8147eea81e293a939bd745f58462742b1d0a405e', 'message': '[WIP] Add endpoint for setting node boot_mode on demand\n\n    Story: 2008567\n    Task: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 2, 'created': '2021-07-08 18:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e11ddcd957000374b30b0bd5595ffa9b1e312f5d', 'message': '[WIP] Add endpoint for setting node boot_mode on demand\n\n    Story: 2008567\n    Task: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 3, 'created': '2021-07-09 14:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/51b58d63b7144707489cc04f906769f0736e9c02', 'message': '[WIP] Add endpoint for setting node boot_mode on demand\n\n    Story: 2008567\n    Task: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 4, 'created': '2021-07-09 17:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0e666220f35dc725f2ca5f3281956c28149d504', 'message': '[WIP] Add api endpoint for setting boot_mode on live node\n\n    Story: 2008567\n    Task: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 5, 'created': '2021-07-19 15:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/63a368314d4da393b050f0cd06520d536a55d3c6', 'message': '[WIP] Add api endpoint for setting boot_mode on managed node\n\n    Story: 2008567\n    Task: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 6, 'created': '2021-07-19 21:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/167d6dd97d53ddcbfa1cc1cc07588f08466460ac', 'message': '[WIP] Add api endpoint for setting boot_mode on managed node\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 7, 'created': '2021-07-20 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/861700f2d4b0fb97e35c97229ce317bac1f14461', 'message': '[WIP] Add api endpoint for setting boot_mode on managed node\n\nTodo:\n  - Tests\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 8, 'created': '2021-07-20 17:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f3d61223dc56ef79fea69cf256ae9cdb403f62c', 'message': '[WIP] Add api endpoint for setting boot_mode on managed node\n\nTodo:\n  - Tests\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 9, 'created': '2021-07-20 20:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1cc43e650b5a4d8a1d9179b42f2b68fba74ee76a', 'message': '[WIP] Add api endpoint for setting boot_mode on managed node\n\nDone:\n  - Node API endpoint expose\n  - RPC method\n  - Conductor Manager method\n  - Conductor utils update\n  - Node API tests\n  - RBAC new policy\n  - RBAC test\n\nTodo:\n  - Tests\n  - Decide on conductor side unsupported boot mode rejection flow.\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 10, 'created': '2021-07-21 17:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/05d0def922d9cbf3503bbf6345ad59e2e41eb344', 'message': '[WIP] Add api endpoint for setting boot_mode on managed node\n\nDone:\n  - Node API endpoint expose\n  - RPC method\n  - Conductor Manager method\n  - Conductor utils update\n  - Node API tests\n  - RBAC new policy\n  - RBAC test\n\nTodo:\n  - Tests\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 11, 'created': '2021-07-22 12:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a228b3b86bcac4b6a6a858311d41e5e603104a1', 'message': 'Add api endpoint for setting boot_mode on managed node\n\nDone:\n  - Node API endpoint expose\n  - RPC method\n  - Conductor Manager method\n  - Conductor utils update\n  - Node API tests\n  - RBAC new policy\n  - RBAC test\n  - Manager Tests\n\nTodo:\n  - More Tests (?)\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 12, 'created': '2021-07-27 14:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3ebb98767b3429fcd956f487a95d44853fcfda4', 'message': 'Add api endpoint for setting boot_mode on managed node\n\nDone:\n  - Node API endpoint expose\n  - RPC method\n  - Conductor Manager method\n  - Conductor utils update\n  - Node API tests\n  - RBAC new policy\n  - RBAC test\n  - Manager Tests\n\nTodo:\n  - More Tests (?)\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 13, 'created': '2021-07-27 15:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/13f18bd22091ef038dadb2e30b315484d0b97dc9', 'message': 'Add api endpoint for setting boot_mode on managed node\n\nDone:\n  - Node API endpoint expose\n  - RPC method\n  - Conductor Manager method\n  - Conductor utils update\n  - Node API tests\n  - RBAC new policy\n  - RBAC test\n  - Manager Tests\n\nTodo:\n  - More Tests (?)\n  - Secure boot (repeat above)\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 14, 'created': '2021-07-30 10:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/36e09ee1c762aadc06849526b7d5bcbcbe28d4d7', 'message': 'Add api endpoint for setting boot_mode and secure_boot state\n\nDone:\n  - Node API endpoint expose\n  - RPC method\n  - Conductor Manager method\n  - Conductor utils update\n  - Node API tests\n  - RBAC new policy\n  - RBAC test\n  - Manager Tests\n  - Secure_boot methods\n\nTodo:\n  - More Tests (?)\n  - Secure boot (tests)\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 15, 'created': '2021-07-30 16:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c612185c05aa7cafef3fef1ce16dc18279aafebe', 'message': 'Add api endpoint for setting boot_mode and secure_boot state\n\nDone:\n  - Node API endpoint expose\n  - RPC method\n  - Conductor Manager method\n  - Conductor utils update\n  - Node API tests\n  - RBAC new policy\n  - RBAC test\n  - Manager Tests\n  - Secure_boot methods\n  - Secure_boot node tests\n\nTodo:\n  - More Tests (?)\n  - Secure boot (tests)\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 16, 'created': '2021-08-02 10:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a246d6e45efc9b4836b3fbf278824391f1a6adbe', 'message': 'Add api endpoint for setting boot_mode and secure_boot state\n\nDone:\n  - Node API endpoint expose\n  - RPC method\n  - Conductor Manager method\n  - Conductor utils update\n  - Node API tests\n  - RBAC new policy\n  - RBAC test\n  - Manager Tests\n  - Secure_boot methods\n  - Secure_boot node tests\n  - Secure boot rpcapi and manager tests.\n\nTodo:\n  - More Tests (?)\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 17, 'created': '2021-08-04 04:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5a07c79a5e320a939f1e2d7850849b883b7df09', 'message': 'Add api endpoints for changing boot_mode and secure_boot state\n\nDone:\n  - Node API endpoints expose\n  - RPC methods\n  - Conductor Manager methods\n  - Conductor utils new methods\n  - RBAC new policies\n  - Node API tests\n  - Manager Tests (+ some testing for utils methods)\n  - RBAC tests\n  - Docs (api-ref)\n  - REST API version history\n  - Releasenotes\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 18, 'created': '2021-08-04 11:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/72cfc5c0e62becd5423e9a732d2f4298ea1944c8', 'message': 'Add api endpoints for changing boot_mode and secure_boot state\n\nDone:\n  - Node API endpoints expose\n  - RPC methods\n  - Conductor Manager methods\n  - Conductor utils new methods\n  - RBAC new policies\n  - Node API tests\n  - Manager Tests (+ some testing for utils methods)\n  - RBAC tests\n  - Docs (api-ref)\n  - REST API version history\n  - Releasenotes\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 19, 'created': '2021-08-05 07:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6a3a9fc224eed1df747e0c825ee8db161c048e2', 'message': 'Add api endpoints for changing boot_mode and secure_boot state\n\nDone:\n  - Node API endpoints expose\n  - RPC methods\n  - Conductor Manager methods\n  - Conductor utils new methods\n  - RBAC new policies\n  - Node API tests\n  - Manager Tests (+ some testing for utils methods)\n  - RBAC tests\n  - Docs (api-ref)\n  - REST API version history\n  - Releasenotes\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 20, 'created': '2021-08-13 11:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdf422dd1905e48013146a43bb5709dc45ea667c', 'message': 'Add api endpoints for changing boot_mode and secure_boot state\n\nDone:\n  - Node API endpoints expose\n  - RPC methods\n  - Conductor Manager methods\n  - Conductor utils new methods\n  - RBAC new policies\n  - Node API tests\n  - Manager Tests (+ some testing for utils methods)\n  - RBAC tests\n  - Docs (api-ref)\n  - REST API version history\n  - Releasenotes\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 21, 'created': '2021-08-23 14:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34cd5491dcb381e9da07042a1990be42c83a02a6', 'message': 'Add api endpoints for changing boot_mode and secure_boot state\n\nDone:\n  - Node API endpoints expose\n  - RPC methods\n  - Conductor Manager methods\n  - Conductor utils new methods\n  - RBAC new policies\n  - Node API tests\n  - Manager Tests (+ some testing for utils methods)\n  - RBAC tests\n  - Docs (api-ref)\n  - REST API version history\n  - Releasenotes\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}, {'number': 22, 'created': '2021-08-23 17:39:15.000000000', 'files': ['api-ref/source/parameters.yaml', 'ironic/tests/unit/conductor/test_rpcapi.py', 'api-ref/source/samples/node-set-secure-boot-on.json', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/node-boot-mode-0662effa2a2644dc.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'releasenotes/notes/node-boot-mode-change-api-c5e392e3cd6ea54b.yaml', 'api-ref/source/samples/node-set-boot-mode-bios.json', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'api-ref/source/samples/node-set-boot-mode-uefi.json', 'doc/source/contributor/webapi-version-history.rst', 'ironic/conductor/rpcapi.py', 'ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/conductor/manager.py', 'ironic/api/controllers/v1/versions.py', 'api-ref/source/baremetal-api-v1-node-management.inc', 'ironic/conductor/utils.py', 'api-ref/source/samples/node-set-secure-boot-off.json', 'ironic/common/policy.py', 'ironic/common/release_mappings.py', 'ironic/api/controllers/v1/node.py', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc95c92f7c122b1217459a1d7a125fae47749e6e', 'message': 'Add api endpoints for changing boot_mode and secure_boot state\n\nDone:\n  - Node API endpoints expose\n  - RPC methods\n  - Conductor Manager methods\n  - Conductor utils new methods\n  - RBAC new policies\n  - Node API tests\n  - Manager Tests (+ some testing for utils methods)\n  - RBAC tests\n  - Docs (api-ref)\n  - REST API version history\n  - Releasenotes\n\nStory: 2008567\nTask: 41709\n\nChange-Id: I2d72389edf546b99c536c6b130ca85ababf80591\n'}]",90,800084,bc95c92f7c122b1217459a1d7a125fae47749e6e,131,5,22,33344,,,0,"Add api endpoints for changing boot_mode and secure_boot state

Done:
  - Node API endpoints expose
  - RPC methods
  - Conductor Manager methods
  - Conductor utils new methods
  - RBAC new policies
  - Node API tests
  - Manager Tests (+ some testing for utils methods)
  - RBAC tests
  - Docs (api-ref)
  - REST API version history
  - Releasenotes

Story: 2008567
Task: 41709

Change-Id: I2d72389edf546b99c536c6b130ca85ababf80591
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/800084/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/api/controllers/v1/node.py', 'ironic/conductor/rpcapi.py']",3,8147eea81e293a939bd745f58462742b1d0a405e,ironic_boot_mode_status," | 1.55 - Added change_node_boot_mode def change_node_boot_mode(self, context, node_id, new_state, topic=None, timeout=None): """"""Change a node's power state. Synchronously, acquire lock and start the conductor background task to change boot mode of a node. :param context: request context. :param node_id: node id or uuid. :param new_state: one of ironic.common.boot_modes values ('bios' / 'uefi') :param topic: RPC topic. Defaults to self.topic. :raises: NoFreeConductorWorker when there is no free worker to start async task. """""" cctxt = self.client.prepare(topic=topic or self.topic, version='1.55') return cctxt.call(context, 'change_node_boot_mode', node_id=node_id, new_state=new_state, timeout=timeout) ",,86,0
openstack%2Fneutron-lib~master~I4fa575f726fc0a7b7066f749e3b3f90ecc520087,openstack/neutron-lib,master,I4fa575f726fc0a7b7066f749e3b3f90ecc520087,Add network_ip_availability pagging and sorting support,MERGED,2021-07-30 15:14:34.000000000,2021-08-24 12:41:41.000000000,2021-08-24 12:39:13.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-30 15:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8a644357a4a68cf9926cbe5c416f59b9aae1bc5a', 'message': '[WIP] Add network_ip_availability pagging support\n\nChange-Id: I4fa575f726fc0a7b7066f749e3b3f90ecc520087\n'}, {'number': 2, 'created': '2021-07-30 15:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/123b0f31796d9088e01ed52c6bfc26911ade187d', 'message': '[WIP] Add network_ip_availability pagging support\n\nChange-Id: I4fa575f726fc0a7b7066f749e3b3f90ecc520087\n'}, {'number': 3, 'created': '2021-08-19 10:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c14f8c10798c90f7ac0ae30b791a4b582945b0d3', 'message': 'Add network_ip_availability pagging support\n\nAdd ""network_ip_availability"" pagging support, defining ""network_id"" as\nprimary key. This primary key is unique per register retrieved and is\nneeded by ``neutron.api.v2.base.Controller`` to create the pagination\nhelper.\n\nPartial-Bug: #1940518\n\nChange-Id: I4fa575f726fc0a7b7066f749e3b3f90ecc520087\n'}, {'number': 4, 'created': '2021-08-19 13:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/64afefa898e5ed3c0e2cc808f1446fb896cd8d09', 'message': 'Add network_ip_availability pagging support\n\nAdd ""network_ip_availability"" pagging support, defining ""network_id"" as\nprimary key. This primary key is unique per register retrieved and is\nneeded by ``neutron.api.v2.base.Controller`` to create the pagination\nhelper.\n\nThis patch modifies an existing API extension instead of creating a new\none. However:\n- This modification does not affect the Neutron behaviour without a code\n  change in the ""network_ip_availability"" extension enabling the pagging\n  support. The Neutron code change implies a bump in the neutron-lib\n  version.\n- Adding a new extension to modify the current one is overengineering.\n\nPartial-Bug: #1940518\n\nChange-Id: I4fa575f726fc0a7b7066f749e3b3f90ecc520087\n'}, {'number': 5, 'created': '2021-08-20 14:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/32081b72fd3647eaa7540b46b3df2de20a7a4cb3', 'message': 'Add network_ip_availability pagging and sorting support\n\nAdd ""network_ip_availability"" pagging and sorting support, defining\n""network_id"" as primary key. This primary key is unique per register\nretrieved and is needed by ``neutron.api.v2.base.Controller`` to\ncreate the pagination helper.\n\nThis patch modifies an existing API extension instead of creating a new\none. However:\n- This modification does not affect the Neutron behaviour without a code\n  change in the ""network_ip_availability"" extension enabling the pagging\n  support. The Neutron code change implies a bump in the neutron-lib\n  version.\n- Adding a new extension to modify the current one is overengineering.\n\nPartial-Bug: #1940518\n\nChange-Id: I4fa575f726fc0a7b7066f749e3b3f90ecc520087\n'}, {'number': 6, 'created': '2021-08-23 13:13:59.000000000', 'files': ['neutron_lib/api/definitions/network_ip_availability.py', 'releasenotes/notes/network-ip-availability-pagging-support-cc01592cd477fd02.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4c9bfc15b7c8ae3bf7091223f97fe8c714da3311', 'message': 'Add network_ip_availability pagging and sorting support\n\nAdd ""network_ip_availability"" pagging and sorting support, defining\n""network_id"" as primary key. This primary key is unique per register\nretrieved and is needed by ``neutron.api.v2.base.Controller`` to\ncreate the pagination helper.\n\nThis patch modifies an existing API extension instead of creating a new\none. However:\n- This modification does not affect the Neutron behaviour without a code\n  change in the ""network_ip_availability"" extension enabling the pagging\n  support. The Neutron code change implies a bump in the neutron-lib\n  version.\n- Adding a new extension to modify the current one is overengineering.\n\nPartial-Bug: #1940518\n\nChange-Id: I4fa575f726fc0a7b7066f749e3b3f90ecc520087\n'}]",2,803050,4c9bfc15b7c8ae3bf7091223f97fe8c714da3311,19,4,6,16688,,,0,"Add network_ip_availability pagging and sorting support

Add ""network_ip_availability"" pagging and sorting support, defining
""network_id"" as primary key. This primary key is unique per register
retrieved and is needed by ``neutron.api.v2.base.Controller`` to
create the pagination helper.

This patch modifies an existing API extension instead of creating a new
one. However:
- This modification does not affect the Neutron behaviour without a code
  change in the ""network_ip_availability"" extension enabling the pagging
  support. The Neutron code change implies a bump in the neutron-lib
  version.
- Adding a new extension to modify the current one is overengineering.

Partial-Bug: #1940518

Change-Id: I4fa575f726fc0a7b7066f749e3b3f90ecc520087
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/50/803050/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/network_ip_availability_pagging_support.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/tests/unit/api/definitions/test_network_ip_availability_pagging_support.py']",3,8a644357a4a68cf9926cbe5c416f59b9aae1bc5a,bug/1940518,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import network_ip_availability_pagging_support from neutron_lib.tests.unit.api.definitions import base class NetworkIPAvailabilityPaggingSupportDefinitionTestCase( base.DefinitionBaseTestCase): extension_module = network_ip_availability_pagging_support extension_resources = ( network_ip_availability_pagging_support.RESOURCE_PLURAL,) extension_attributes = () ",,65,0
openstack%2Fnova~master~Ia72d39b4774d93793b381359b554c717dc9a6994,openstack/nova,master,Ia72d39b4774d93793b381359b554c717dc9a6994,docs: Drop references to non-filter scheduler drivers,MERGED,2021-02-02 11:28:48.000000000,2021-08-24 11:50:14.000000000,2021-08-24 11:48:09.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f8bcc6be7b8c5ae47f97308bd90d1e9d62456b5', 'message': 'docs: Drop references to non-filter scheduler drivers\n\nTake the opportunity to clean up the docs quite a bit, ultimately\ncombining two disparate guides on the scheduler into one.\n\nChange-Id: Ia72d39b4774d93793b381359b554c717dc9a6994\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/478a721042d0684424665de5e69a96c63b1c3671', 'message': 'docs: Drop references to non-filter scheduler drivers\n\nTake the opportunity to clean up the docs quite a bit, ultimately\ncombining two disparate guides on the scheduler into one.\n\nChange-Id: Ia72d39b4774d93793b381359b554c717dc9a6994\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-05-26 16:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8862822440813ed232df76d962abe4d6f12e82c', 'message': 'docs: Drop references to non-filter scheduler drivers\n\nTake the opportunity to clean up the docs quite a bit, ultimately\ncombining two disparate guides on the scheduler into one.\n\nChange-Id: Ia72d39b4774d93793b381359b554c717dc9a6994\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-06-01 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93f4259445a710c013f29955f95ecab9cabd931e', 'message': 'docs: Drop references to non-filter scheduler drivers\n\nTake the opportunity to clean up the docs quite a bit, ultimately\ncombining two disparate guides on the scheduler into one.\n\nChange-Id: Ia72d39b4774d93793b381359b554c717dc9a6994\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-06-22 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b9944697035823f9e24f5714d64cfdacd3d0d20', 'message': 'docs: Drop references to non-filter scheduler drivers\n\nTake the opportunity to clean up the docs quite a bit, ultimately\ncombining two disparate guides on the scheduler into one.\n\nChange-Id: Ia72d39b4774d93793b381359b554c717dc9a6994\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2021-06-29 15:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4c0c9ccdc53f85c59721e2e2cfff3dc523a2479', 'message': 'docs: Drop references to non-filter scheduler drivers\n\nTake the opportunity to clean up the docs quite a bit, ultimately\ncombining two disparate guides on the scheduler into one.\n\nChange-Id: Ia72d39b4774d93793b381359b554c717dc9a6994\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2021-08-23 11:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd4b88d9661d5fd830df1d5b2a182cc204452726', 'message': 'docs: Drop references to non-filter scheduler drivers\n\nTake the opportunity to clean up the docs quite a bit, ultimately\ncombining two disparate guides on the scheduler into one.\n\nChange-Id: Ia72d39b4774d93793b381359b554c717dc9a6994\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 8, 'created': '2021-08-23 15:52:40.000000000', 'files': ['api-ref/source/parameters.yaml', 'doc/source/reference/scheduler-hints-vs-flavor-extra-specs.rst', 'doc/source/admin/index.rst', 'doc/source/contributor/testing/eventlet-profiling.rst', 'doc/source/user/index.rst', 'doc/source/admin/configuration/index.rst', 'doc/source/admin/scheduling.rst', 'doc/test/redirect-tests.txt', 'doc/source/reference/scheduling.rst', 'doc/source/index.rst', 'doc/source/configuration/extra-specs.rst', 'doc/source/user/filter-scheduler.rst', 'doc/source/admin/configuration/schedulers.rst', 'doc/source/user/flavors.rst', 'doc/source/admin/virtual-gpu.rst', 'doc/source/_extra/.htaccess', 'doc/source/admin/cpu-topologies.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/289438b4c28267c8556fe7c69cf52ad9281fd9d0', 'message': 'docs: Drop references to non-filter scheduler drivers\n\nTake the opportunity to clean up the docs quite a bit, ultimately\ncombining two disparate guides on the scheduler into one.\n\nChange-Id: Ia72d39b4774d93793b381359b554c717dc9a6994\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",12,773645,289438b4c28267c8556fe7c69cf52ad9281fd9d0,40,3,8,15334,,,0,"docs: Drop references to non-filter scheduler drivers

Take the opportunity to clean up the docs quite a bit, ultimately
combining two disparate guides on the scheduler into one.

Change-Id: Ia72d39b4774d93793b381359b554c717dc9a6994
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/773645/8 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'doc/source/reference/scheduler-hints-vs-flavor-extra-specs.rst', 'doc/source/admin/index.rst', 'doc/source/user/index.rst', 'doc/source/admin/configuration/index.rst', 'doc/source/admin/scheduling.rst', 'doc/test/redirect-tests.txt', 'doc/source/reference/scheduling.rst', 'doc/source/index.rst', 'doc/source/configuration/extra-specs.rst', 'doc/source/user/filter-scheduler.rst', 'doc/source/admin/configuration/schedulers.rst', 'doc/source/user/flavors.rst', 'doc/source/_extra/.htaccess', 'doc/source/admin/cpu-topologies.rst']",15,9f8bcc6be7b8c5ae47f97308bd90d1e9d62456b5,remove-custom-schedulers,:doc:`/admin/scheduling`.,:doc:`/admin/configuration/schedulers`.,1432,1724
openstack%2Fcinder~stable%2Fussuri~I62fcef3169dcb9f4363a5344af4b2711edfef632,openstack/cinder,stable/ussuri,I62fcef3169dcb9f4363a5344af4b2711edfef632,NFS: Update connection info on online snap create,MERGED,2021-07-23 15:36:20.000000000,2021-08-24 11:50:08.000000000,2021-08-24 11:48:03.000000000,"[{'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-07-23 15:36:20.000000000', 'files': ['releasenotes/notes/nfs-online-snapshot-c05e6c8113bbded6.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5e44127ffceec55c3e98a46ebe3686e34b0c971', 'message': ""NFS: Update connection info on online snap create\n\nThe NFS snapshot creation for an attached volume requires interaction\nbetween Nova and Cinder, and a new qcow2 file is used after the\nattachment completes.\n\nThis means that the connection properties stored in the Attachment is no\nlonger valid, as it is pointing to the old qcow2 file, so if Nova tries\nto use that attachment it will start writing on the old qcow2 file.\n\nA flow showing this issue is:\n\n- Attach NFS volume\n- Create snapshot\n- Hard reboot\n\nAfter that the VM will start using the base image, breaking the qcow2\nchain.\n\nIf we delete the snapshot in the meantime, then the VM will fail to\nreboot.\n\nThis patch fixes this inconsistency by updating the connection info\nfield inside the remotefs driver.\n\nWe usually prefer that drivers don't to touch the DB, directly or\nindirectly (using OVOs), but in this case we are using OVOs methods\ninstead of the usual model update on the volume manager because there\nare cases in the driver where a snapshot is created (cloning via\nsnapshot) and we have to update the attachment without the manager, as\nit is unaware that a temporary snapshot is being created.\n\nBesides that main reason there are other less critical reasons to do the\nattachment update in the driver:\n\n- Smaller code change\n- Easier to backport\n- Limit change impact on other areas (better for backport)\n- The snapshot_create model update code in the manager does not support\n  updating attachments.\n- There are cases in the cinder volume manager where the model update\n  values returned by snapshot_create are not being applied.\n\nSnapshot deletion belonging to in-use volumes are not affected by this\nissue because we only do block commit when the snapshot file we are\ndeleting is not the active file.  In _delete_snapshot_online:\n\n        if utils.paths_normcase_equal(info['active_file'],\n                                      info['snapshot_file']):\n\nConflicts:\n    cinder/tests/unit/volume/drivers/test_remotefs.py\nResolved conflict introduced mainly by the encryption support fixes\n(see I896f70d204ad103e968ab242ba9045ca984827c4)\n\nCloses-Bug: #1860913\nChange-Id: I62fcef3169dcb9f4363a5344af4b2711edfef632\n(cherry picked from commit 25eb0a7d76922e3a1a289d26c36b96a91c4059db)\n(cherry picked from commit d4960fd597aad8502cad46b38cdb50c6b88f7c63)\n(cherry picked from commit e7c5e7a7f6f35b2db043cc5ed4a0ef1f77e1f830)\n""}]",0,802045,a5e44127ffceec55c3e98a46ebe3686e34b0c971,19,3,1,10459,,,0,"NFS: Update connection info on online snap create

The NFS snapshot creation for an attached volume requires interaction
between Nova and Cinder, and a new qcow2 file is used after the
attachment completes.

This means that the connection properties stored in the Attachment is no
longer valid, as it is pointing to the old qcow2 file, so if Nova tries
to use that attachment it will start writing on the old qcow2 file.

A flow showing this issue is:

- Attach NFS volume
- Create snapshot
- Hard reboot

After that the VM will start using the base image, breaking the qcow2
chain.

If we delete the snapshot in the meantime, then the VM will fail to
reboot.

This patch fixes this inconsistency by updating the connection info
field inside the remotefs driver.

We usually prefer that drivers don't to touch the DB, directly or
indirectly (using OVOs), but in this case we are using OVOs methods
instead of the usual model update on the volume manager because there
are cases in the driver where a snapshot is created (cloning via
snapshot) and we have to update the attachment without the manager, as
it is unaware that a temporary snapshot is being created.

Besides that main reason there are other less critical reasons to do the
attachment update in the driver:

- Smaller code change
- Easier to backport
- Limit change impact on other areas (better for backport)
- The snapshot_create model update code in the manager does not support
  updating attachments.
- There are cases in the cinder volume manager where the model update
  values returned by snapshot_create are not being applied.

Snapshot deletion belonging to in-use volumes are not affected by this
issue because we only do block commit when the snapshot file we are
deleting is not the active file.  In _delete_snapshot_online:

        if utils.paths_normcase_equal(info['active_file'],
                                      info['snapshot_file']):

Conflicts:
    cinder/tests/unit/volume/drivers/test_remotefs.py
Resolved conflict introduced mainly by the encryption support fixes
(see I896f70d204ad103e968ab242ba9045ca984827c4)

Closes-Bug: #1860913
Change-Id: I62fcef3169dcb9f4363a5344af4b2711edfef632
(cherry picked from commit 25eb0a7d76922e3a1a289d26c36b96a91c4059db)
(cherry picked from commit d4960fd597aad8502cad46b38cdb50c6b88f7c63)
(cherry picked from commit e7c5e7a7f6f35b2db043cc5ed4a0ef1f77e1f830)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/802045/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nfs-online-snapshot-c05e6c8113bbded6.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",3,a5e44127ffceec55c3e98a46ebe3686e34b0c971,nfs-fix-online-snapshot, active = os.path.basename(new_snap_path) # Update reference in the only attachment (no multi-attach support) attachment = snapshot.volume.volume_attachment[0] attachment.connection_info['name'] = active # Let OVO know it has been updated attachment.connection_info = attachment.connection_info attachment.save() snap_info['active'] = active snap_info[snapshot.id] = active, snap_info['active'] = os.path.basename(new_snap_path) snap_info[snapshot.id] = os.path.basename(new_snap_path),32,2
openstack%2Fsenlin-tempest-plugin~master~Id518fe93f5b17b5809db5f385f270da0e2722372,openstack/senlin-tempest-plugin,master,Id518fe93f5b17b5809db5f385f270da0e2722372,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:39:33.000000000,2021-08-24 11:20:27.000000000,2021-08-24 11:20:27.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 26285}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-07-08 00:39:33.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/f71166b2c6619746ac24614ed151e4befdb1f495', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Id518fe93f5b17b5809db5f385f270da0e2722372\n'}]",0,799934,f71166b2c6619746ac24614ed151e4befdb1f495,8,4,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Id518fe93f5b17b5809db5f385f270da0e2722372
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/34/799934/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,f71166b2c6619746ac24614ed151e4befdb1f495,oftc,The team is using the #senlin channel on oftc.net.,The team is using the #senlin channel on freenode.net.,1,1
openstack%2Fansible-role-python_venv_build~master~I7418d285ea052f67febee31038d92c772b72593b,openstack/ansible-role-python_venv_build,master,I7418d285ea052f67febee31038d92c772b72593b,Improve speed of permissions changes,MERGED,2021-08-20 14:56:50.000000000,2021-08-24 11:14:45.000000000,2021-08-24 11:12:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-20 14:56:50.000000000', 'files': ['tasks/python_venv_wheel_build.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/b59fd648c2953f37df8b5c4a04733e9314f406f1', 'message': 'Improve speed of permissions changes\n\nThe previous patch was very slow given the number of files\nwhich required permissions changes. This targets the entire\ntemporary directory recursively.\n\nChange-Id: I7418d285ea052f67febee31038d92c772b72593b\n'}]",0,805402,b59fd648c2953f37df8b5c4a04733e9314f406f1,10,4,1,31542,,,0,"Improve speed of permissions changes

The previous patch was very slow given the number of files
which required permissions changes. This targets the entire
temporary directory recursively.

Change-Id: I7418d285ea052f67febee31038d92c772b72593b
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/02/805402/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/python_venv_wheel_build.yml'],1,b59fd648c2953f37df8b5c4a04733e9314f406f1,," path: ""/tmp/{{ venv_install_destination_path | basename }}"" state: directory recurse: yes"," path: ""{{ item['path'] }}"" with_items: ""{{ _built_wheels['files'] }}""",3,2
openstack%2Fcinder~stable%2Fvictoria~I98f1c60810d675a51ce1cae8bcce51c6d88e6cd2,openstack/cinder,stable/victoria,I98f1c60810d675a51ce1cae8bcce51c6d88e6cd2,[SVF]:Storwize hyperswap volume is not deleting.,MERGED,2021-06-28 05:13:36.000000000,2021-08-24 10:35:03.000000000,2021-08-24 10:33:15.000000000,"[{'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32171}]","[{'number': 1, 'created': '2021-06-28 05:13:36.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1912564-strowize-hyperswap-volume-is-not-deleting-a94291248f8f59cd.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/983d8b28eea863ecc72070323294d4699d3efeb1', 'message': '[SVF]:Storwize hyperswap volume is not deleting.\n\n[Spectrum Virtualize Family] During hyperswap volume delete operation\ncheck_vdisk_fc_mappings is trying to delete the remote copy controlled\nfcmaps which are created for hyperswap volumes.\n\nThis patch fixes the issue by ignoring the remote copy controlled fcmaps.\n\nCloses-Bug: #1912564\nChange-Id: I98f1c60810d675a51ce1cae8bcce51c6d88e6cd2\n(cherry picked from commit fd77dfa223a9da7428003b8e1c95f45c932f6e02)\n'}]",3,798104,983d8b28eea863ecc72070323294d4699d3efeb1,27,6,1,32036,,,0,"[SVF]:Storwize hyperswap volume is not deleting.

[Spectrum Virtualize Family] During hyperswap volume delete operation
check_vdisk_fc_mappings is trying to delete the remote copy controlled
fcmaps which are created for hyperswap volumes.

This patch fixes the issue by ignoring the remote copy controlled fcmaps.

Closes-Bug: #1912564
Change-Id: I98f1c60810d675a51ce1cae8bcce51c6d88e6cd2
(cherry picked from commit fd77dfa223a9da7428003b8e1c95f45c932f6e02)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/798104/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1912564-strowize-hyperswap-volume-is-not-deleting-a94291248f8f59cd.yaml']",3,983d8b28eea863ecc72070323294d4699d3efeb1,bug/1912564-stable/victoria,--- fixes: - | IBM Spectrum Virtualize Family driver `Bug #1912564 <https://bugs.launchpad.net/cinder/+bug/1912564>`_: Fixed HyperSwap volume deletion issue. ,,84,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4,openstack/kolla-ansible,stable/wallaby,I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4,Fix haproxy precheck when kolla_externally_managed_cert is used,MERGED,2021-08-23 08:32:35.000000000,2021-08-24 10:34:12.000000000,2021-08-24 10:32:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32842}]","[{'number': 1, 'created': '2021-08-23 08:32:35.000000000', 'files': ['releasenotes/notes/fix-haproxy-precheck-with-externally-managed-cert-1c5faa980aaf8949.yaml', 'ansible/roles/haproxy/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30117a04ad449addf9ee20eb5a0e00ca1d7126e2', 'message': ""Fix haproxy precheck when kolla_externally_managed_cert is used\n\nSigned-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>\nCloses-Bug: #1940286\nChange-Id: I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4\n(cherry picked from commit 0858d5487e0cb2928278ee2fac66e8ad661b3f32)\n""}]",0,805560,30117a04ad449addf9ee20eb5a0e00ca1d7126e2,9,4,1,14826,,,0,"Fix haproxy precheck when kolla_externally_managed_cert is used

Signed-off-by: Marc 'risson' Schmitt <marc.schmitt@risson.space>
Closes-Bug: #1940286
Change-Id: I647f8615e9fd0cc0db7c737ce4afbd1bdd0d40d4
(cherry picked from commit 0858d5487e0cb2928278ee2fac66e8ad661b3f32)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/805560/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-haproxy-precheck-with-externally-managed-cert-1c5faa980aaf8949.yaml', 'ansible/roles/haproxy/tasks/precheck.yml']",2,30117a04ad449addf9ee20eb5a0e00ca1d7126e2,haproxy-precheck-fix-externally-manager-cert-stable/wallaby, - kolla_enable_tls_external | bool - not kolla_externally_managed_cert | bool - kolla_enable_tls_internal | bool - not kolla_externally_managed_cert | bool, - kolla_enable_tls_external | bool - not kolla_externally_managed_cert | bool - kolla_enable_tls_internal | bool - not kolla_externally_managed_cert | bool,8,4
openstack%2Ftempest~master~I37b9397834fbb7f4ebf540dc5f8aece356ddf749,openstack/tempest,master,I37b9397834fbb7f4ebf540dc5f8aece356ddf749,Add loggable resource client,MERGED,2021-07-07 12:50:55.000000000,2021-08-24 10:30:58.000000000,2021-08-24 10:29:23.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-07-07 12:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f75c8dcd92369f10c59253a9a72785f2ae45c388', 'message': 'Add loggable resource client\n\nThis patch creates the network v2.0 loggable-resource client.\n\nhttps://docs.openstack.org/api-ref/network/v2/index.html#list-loggable-resources\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I37b9397834fbb7f4ebf540dc5f8aece356ddf749\n'}, {'number': 2, 'created': '2021-07-08 12:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d4ffe6646d15aae2768b8562b981dbf73cd3ed1', 'message': 'Add loggable resource client\n\nThis patch creates the network v2.0 loggable-resource client.\n\nhttps://docs.openstack.org/api-ref/network/v2/index.html#list-loggable-resources\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I37b9397834fbb7f4ebf540dc5f8aece356ddf749\n'}, {'number': 3, 'created': '2021-07-09 07:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/71a1cd02d85e6b0a947639aa9819e907fbc3c8f6', 'message': 'Add loggable resource client\n\nThis patch creates the network v2.0 loggable-resource client.\n\nhttps://docs.openstack.org/api-ref/network/v2/index.html#list-loggable-resources\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I37b9397834fbb7f4ebf540dc5f8aece356ddf749\n'}, {'number': 4, 'created': '2021-08-16 12:44:48.000000000', 'files': ['tempest/lib/services/network/loggable_resource_client.py', 'tempest/lib/services/network/__init__.py', 'tempest/clients.py', 'releasenotes/notes/loggable-resource-client-5977d46a7ea52199.yaml', 'tempest/api/network/base.py', 'tempest/tests/lib/services/network/test_loggable_resource_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5a3de3e4984336ada58b231cbb752d40e7966364', 'message': 'Add loggable resource client\n\nThis patch creates the network v2.0 loggable-resource client.\n\nhttps://docs.openstack.org/api-ref/network/v2/index.html#list-loggable-resources\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I37b9397834fbb7f4ebf540dc5f8aece356ddf749\n'}]",3,799815,5a3de3e4984336ada58b231cbb752d40e7966364,21,3,4,30742,,,0,"Add loggable resource client

This patch creates the network v2.0 loggable-resource client.

https://docs.openstack.org/api-ref/network/v2/index.html#list-loggable-resources
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I37b9397834fbb7f4ebf540dc5f8aece356ddf749
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/799815/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/network/loggable_resource_client.py', 'tempest/lib/services/network/__init__.py', 'tempest/clients.py', 'releasenotes/notes/loggable-resource-client-5977d46a7ea52199.yaml', 'tempest/api/network/base.py', 'tempest/tests/lib/services/network/test_loggable_resource_client.py']",6,f75c8dcd92369f10c59253a9a72785f2ae45c388,loggable_resource,"# Copyright 2021 Red Hat, Inc. # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib.services.network import loggable_resource_client from tempest.tests.lib import fake_auth_provider from tempest.tests.lib.services import base class TestLoggableResourceClient(base.BaseServiceTest): FAKE_LOGS = { ""loggable_resources"": [ { ""type"": ""security_group"" }, { ""type"": ""none"" } ] } def setUp(self): super(TestLoggableResourceClient, self).setUp() fake_auth = fake_auth_provider.FakeAuthProvider() self.loggable_resource_client = \ loggable_resource_client.LoggableResourceClient( fake_auth, ""network"", ""regionOne"") def _test_list_loggable_resources(self, bytes_body=False): self.check_service_client_function( self.loggable_resource_client.list_loggable_resources, ""tempest.lib.common.rest_client.RestClient.get"", self.FAKE_LOGS, bytes_body, 200) ",,83,0
openstack%2Fneutron~stable%2Fvictoria~If947581b90ced42981c4611c32de8f428a052c69,openstack/neutron,stable/victoria,If947581b90ced42981c4611c32de8f428a052c69,Add wait for the post-fork event to nb/sb objects,ABANDONED,2021-08-24 10:18:08.000000000,2021-08-24 10:22:13.000000000,,[{'_account_id': 5756}],"[{'number': 1, 'created': '2021-08-24 10:18:08.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bebce90d9fbf9e06751aa927f5e72bb7490aa276', 'message': 'Add wait for the post-fork event to nb/sb objects\n\nIt is possible for events from the nb/sb to fire before the opposite\ndb connection is made. These events can call back into driver code\nwhich tries to access the other db before it is connected.\n\nCloses-Bug: #1929197\nCloses-Bug: #1928794\nCloses-Bug: #1929633\nChange-Id: If947581b90ced42981c4611c32de8f428a052c69\n(cherry picked from commit 90980f496cfa3cc5df1c93cf834a44f33d3f1f6f)\n'}]",0,805769,bebce90d9fbf9e06751aa927f5e72bb7490aa276,2,1,1,14826,,,0,"Add wait for the post-fork event to nb/sb objects

It is possible for events from the nb/sb to fire before the opposite
db connection is made. These events can call back into driver code
which tries to access the other db before it is connected.

Closes-Bug: #1929197
Closes-Bug: #1928794
Closes-Bug: #1929633
Change-Id: If947581b90ced42981c4611c32de8f428a052c69
(cherry picked from commit 90980f496cfa3cc5df1c93cf834a44f33d3f1f6f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/805769/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",14,bebce90d9fbf9e06751aa927f5e72bb7490aa276,," self._ovn_client_inst = ovn_client.OVNClient(self.nb_ovn, self.sb_ovn) self._post_fork_event.wait() @nb_ovn.setter def nb_ovn(self, val): self._nb_ovn = val self._post_fork_event.wait()<<<<<<< HEAD (f97e74 Merge ""Add extra logs to the network update callback in L3 a) ======= @sb_ovn.setter def sb_ovn(self, val): self._sb_ovn = val def check_vlan_transparency(self, context): """"""OVN driver vlan transparency support."""""" vlan_transparency_network_types = [ const.TYPE_LOCAL, const.TYPE_GENEVE, const.TYPE_VXLAN, const.TYPE_VLAN ] return (context.current.get(provider_net.NETWORK_TYPE) in vlan_transparency_network_types) >>>>>>> CHANGE (7c29a7 Add wait for the post-fork event to nb/sb objects)<<<<<<< HEAD (f97e74 Merge ""Add extra logs to the network update callback in L3 a)======= n_agent.AgentCache(self) # Initialize singleton agent cache self.nb_ovn, self.sb_ovn = impl_idl_ovn.get_ovn_idls(self, trigger) >>>>>>> CHANGE (7c29a7 Add wait for the post-fork event to nb/sb objects) self.nb_ovn, self.sb_ovn, self.sb_ovn,<<<<<<< HEAD (f97e74 Merge ""Add extra logs to the network update callback in L3 a) ======= def _get_max_tunid(self): try: return int(self.nb_ovn.nb_global.options.get('max_tunid')) except (ValueError, TypeError): # max_tunid may be absent in older OVN versions, return None pass >>>>>>> CHANGE (7c29a7 Add wait for the post-fork event to nb/sb objects) if not self.sb_ovn.chassis_exists(host): self.sb_ovn.get_chassis_data_for_ml2_bind_port(context.host)) if not self.nb_ovn: self.nb_ovn = self._ovn_client._nb_idl nat = self.nb_ovn.db_find('NAT', ('logical_port', '=', port_id), ('type', '=', 'dnat_and_snat')).execute() self.nb_ovn.db_set('NAT', nat['_uuid'], ('external_ids', {ovn_const.OVN_FIP_EXT_MAC_KEY: nat['external_mac']})).execute() self.nb_ovn.db_set( self.nb_ovn.db_clear( mac_binds = self.sb_ovn.db_find_rows( self.sb_ovn.db_destroy('MAC_Binding', entry.uuid).execute() host_phynets_map = self.sb_ovn.get_chassis_hostname_and_physnets() last_ping = self.nb_ovn.nb_global.external_ids.get( with self.nb_ovn.create_transaction(check_error=True, bump_nb_cfg=True) as txn: txn.add(self.nb_ovn.check_liveness()) for ch in self.sb_ovn.chassis_list().execute(check_error=True): _driver.sb_ovn.set_chassis_neutron_description(<<<<<<< HEAD (f97e74 Merge ""Add extra logs to the network update callback in L3 a)======= # raise AgentNotFound if this isn't an ml2/ovn-related agent agent = get_agent(self, None, id, _driver=_driver) # NOTE(twilson) According to the API docs, an agent must be disabled # before deletion. Otherwise, behavior seems to be undefined. We could # check that alive=False before allowing deletion, but depending on the # agent_down_time setting, that could take quite a while. # If ovn-controller is up, the Chassis will be recreated and so the agent # will still show as up. The recreated Chassis will cause all kinds of # events to fire. But again, undefined behavior. chassis_name = agent['configurations']['chassis_name'] _driver.sb_ovn.chassis_del(chassis_name, if_exists=True).execute( check_error=True) # Send a specific event that all API workers can get to delete the agent # from their caches. Ideally we could send a single transaction that both # created and deleted the key, but alas python-ovs is too ""smart"" _driver.sb_ovn.db_set( 'SB_Global', '.', ('external_ids', {'delete_agent': str(id)})).execute( check_error=True) _driver.sb_ovn.db_remove( 'SB_Global', '.', 'external_ids', delete_agent=str(id), if_exists=True).execute(check_error=True) >>>>>>> CHANGE (7c29a7 Add wait for the post-fork event to nb/sb objects)"," if not(self._nb_ovn and self._sb_ovn): # Wait until the post_fork_initialize method has finished and # IDLs have been correctly setup. self._post_fork_event.wait() self._ovn_client_inst = ovn_client.OVNClient(self._nb_ovn, self._sb_ovn) # NOTE (twilson): This and sb_ovn can be moved to instance variables # once all references to the private versions are changed self._nb_ovn, self._sb_ovn, self._sb_ovn, if not self._sb_ovn.chassis_exists(host): self._sb_ovn.get_chassis_data_for_ml2_bind_port(context.host)) if not self._nb_ovn: self._nb_ovn = self._ovn_client._nb_idl nat = self._nb_ovn.db_find('NAT', ('logical_port', '=', port_id), ('type', '=', 'dnat_and_snat')).execute() self._nb_ovn.db_set('NAT', nat['_uuid'], ('external_ids', {ovn_const.OVN_FIP_EXT_MAC_KEY: nat['external_mac']})).execute() self._nb_ovn.db_set( self._nb_ovn.db_clear( mac_binds = self._sb_ovn.db_find_rows( self._sb_ovn.db_destroy('MAC_Binding', entry.uuid).execute() host_phynets_map = self._sb_ovn.get_chassis_hostname_and_physnets() last_ping = self._nb_ovn.nb_global.external_ids.get( with self._nb_ovn.create_transaction(check_error=True, bump_nb_cfg=True) as txn: txn.add(self._nb_ovn.check_liveness()) for ch in self._sb_ovn.chassis_list().execute(check_error=True): _driver._sb_ovn.set_chassis_neutron_description(",352,207
openstack%2Fkolla-ansible~master~I65b6e322fa11a870f32099bbfd62150cbea4feb5,openstack/kolla-ansible,master,I65b6e322fa11a870f32099bbfd62150cbea4feb5,Remove an unused file,MERGED,2021-08-19 13:25:19.000000000,2021-08-24 10:19:13.000000000,2021-08-24 10:17:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2021-08-19 13:25:19.000000000', 'files': ['ansible/roles/common/tasks/inspect.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16a4a9e5ac391e58413b7927dfcf53b377cc0754', 'message': 'Remove an unused file\n\nIt seems to have been mistakenly introduced by\nde00bf491dfbabc8e11009fce4410bce5c2110ed\n""Simplify handler conditionals""\n\nChange-Id: I65b6e322fa11a870f32099bbfd62150cbea4feb5\n'}]",0,805218,16a4a9e5ac391e58413b7927dfcf53b377cc0754,10,3,1,30491,,,0,"Remove an unused file

It seems to have been mistakenly introduced by
de00bf491dfbabc8e11009fce4410bce5c2110ed
""Simplify handler conditionals""

Change-Id: I65b6e322fa11a870f32099bbfd62150cbea4feb5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/805218/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/tasks/inspect.yml'],1,16a4a9e5ac391e58413b7927dfcf53b377cc0754,remove-cruft,,"--- - name: Inspect common services include_role: name: inspect vars: inspect_services: ""{{ common_services }}"" ",0,6
openstack%2Fopenstack-ansible-os_horizon~master~I7099a5b11390d3296c7b4bb74d69670c7fe64f58,openstack/openstack-ansible-os_horizon,master,I7099a5b11390d3296c7b4bb74d69670c7fe64f58,Add option to override horizon policies,MERGED,2020-08-26 15:47:00.000000000,2021-08-24 10:13:47.000000000,2021-08-24 10:11:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-26 15:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/273817e6dd654b5cc7f5038477aacb2d68f1dec6', 'message': ""Add option to override horizon policies\n\nIn case policies are overriden for services,\nhorizon maintain and ship it's own set of policies that should be\nseparatelly overriden.\n\nChange-Id: I7099a5b11390d3296c7b4bb74d69670c7fe64f58\n""}, {'number': 2, 'created': '2020-09-25 16:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/0c62ebe0cd064eccc824e2a97f35cff2451683c9', 'message': ""Add option to override horizon policies\n\nIn case policies are overriden for services,\nhorizon maintain and ship it's own set of policies that should be\nseparatelly overriden.\n\nDepends-On: https://review.opendev.org/754382\nChange-Id: I7099a5b11390d3296c7b4bb74d69670c7fe64f58\n""}, {'number': 3, 'created': '2021-08-20 11:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/daff112d21b184aee42f68e54137281fef45079d', 'message': ""Add option to override horizon policies\n\nIn case policies are overriden for services,\nhorizon maintain and ship it's own set of policies that should be\nseparatelly overriden.\n\nDepends-On: https://review.opendev.org/754382\nChange-Id: I7099a5b11390d3296c7b4bb74d69670c7fe64f58\n""}, {'number': 4, 'created': '2021-08-20 11:16:07.000000000', 'files': ['releasenotes/notes/horizon_policy_overrides-ca84702ef993ea92.yaml', 'defaults/main.yml', 'tasks/horizon_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/2447deec622a716abfa4495108e71f9c75c3c2fe', 'message': ""Add option to override horizon policies\n\nIn case policies are overriden for services,\nhorizon maintain and ship it's own set of policies that should be\nseparatelly overriden.\n\nDepends-On: https://review.opendev.org/754382\nChange-Id: I7099a5b11390d3296c7b4bb74d69670c7fe64f58\n""}]",2,748264,2447deec622a716abfa4495108e71f9c75c3c2fe,29,4,4,28619,,,0,"Add option to override horizon policies

In case policies are overriden for services,
horizon maintain and ship it's own set of policies that should be
separatelly overriden.

Depends-On: https://review.opendev.org/754382
Change-Id: I7099a5b11390d3296c7b4bb74d69670c7fe64f58
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/64/748264/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/horizon_policy_overrides-ca84702ef993ea92.yaml', 'defaults/main.yml', 'tasks/horizon_post_install.yml']",3,273817e6dd654b5cc7f5038477aacb2d68f1dec6,horizon_policies,"- name: Retrieve horizon policy files slurp: src: ""{{ horizon_lib_dir }}/openstack_dashboard/conf/{{ item }}_policy.json"" with_items: ""{{ horizon_policy_overrides.keys() | list }}"" register: _horizon_policy - name: Place policy overrides config_template: content: ""{{ item.content | b64decode }}"" dest: ""{{ item.source }}"" mode: ""0644"" config_type: json config_overrides: ""{{ horizon_policy_overrides[item.item] }}"" with_items: ""{{ _horizon_policy.results }}"" ",,31,0
